<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>1e48557f-aa06-4f5e-a82f-8decafeb5f40</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h3 id="introduction">Introduction</h3>
    <p>
      The <code>localStorage</code> and <code>sessionStorage</code> objects,
      part of the web storage API, are two great tools for saving key/value
      pairs locally. Using <code>localStorage</code> and
      <code>sessionStorage</code> for storage is an alternative to using cookies
      and there are some advantages:
    </p>
    <ul>
      <li>
        The data is saved locally only and can’t be read by the server, which
        eliminates the security issue that cookies present.
      </li>
      <li>
        It allows for much more data to be saved (10mb for most browsers).
      </li>
      <li>The syntax is straightforward.</li>
    </ul>
    <p>
      It’s also supported in all modern browsers, so you can use it today
      without an issue. Cookies are still useful, especially when it comes to
      authentication, but there are times when using
      <code>localStorage</code> or <code>sessionStorage</code> may be a better
      alternative.
    </p>
    <h2 id="prerequisites">Prerequisites</h2>
    <p>To complete this tutorial, you will need the following:</p>
    <ul>
      <li>
        The latest version of Node installed on your machine. To install Node,
        follow the steps outlined in this
        <a
          href="https://www.digitalocean.com/community/tutorial_collections/how-to-install-node-js"
          >How To Install Node.js</a
        >
        tutorial.
      </li>
      <li>
        A basic understanding of coding in JavaScript, which you can find in
        this
        <a
          href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"
          >How to Code in JavaScript</a
        >
        series.
      </li>
    </ul>
    <h2 id="step-1-understanding-localstorage-vs-sessionstorage">
      Step 1 — Understanding <code>localStorage</code> vs
      <code>sessionStorage</code>
    </h2>
    <p>
      <code>localStorage</code> and <code>sessionStorage</code> are almost
      identical and have the same API. The difference is that with
      <code>sessionStorage</code>, the data is persisted only until the window
      or tab is closed. With <code>localStorage</code>, the data is persisted
      until the user manually clears the browser cache or until your web app
      clears the data. This tutorial features <code>localStorage</code>, but the
      syntax for <code>sessionStorage</code> is the same.
    </p>
    <p>
      With this knowledge, you can now create, read, and update key/value pairs
      in <code>localStorage</code>.
    </p>
    <h2 id="step-2-creating-reading-and-updating-entries">
      Step 2 — Creating, Reading, and Updating Entries
    </h2>
    <p>
      You can create entries for the <code>localStorage</code> object by using
      the <code>setItem()</code> method. The <code>setItem()</code> method takes
      two arguments, the <code>key</code> and corresponding value:
    </p>
    <p>
      To read entries, use the <code>getItem()</code> method. The
      <code>getItem()</code> method takes one argument which must be the key.
      This function will return the corresponding value as a string:
    </p>
    <p>
      This code sets <code>myItem</code> equal to <code>'Value'</code>, which is
      the corresponding value for <code>key</code>.
    </p>
    <p>
      Updating an entry is done with the <code>setItem()</code> method. Again,
      it takes two arguments. The key argument will be an existing key while the
      value argument will be a new value:
    </p>
    <p>
      Now, the <code>localStorage</code> value for <code>key</code> is
      <code>'New Value'</code> instead of <code>'Value'</code>.
    </p>
    <p>
      You can create, read, and update entries in the
      <code>localStorage</code> object. You can also delete individual entries
      and clear all entries in <code>localStorage</code>.
    </p>
    <h2 id="step-3-deleting-and-clearing-entries">
      Step 3 — Deleting and Clearing Entries
    </h2>
    <p>
      You can delete an entry with the <code>removeItem()</code> method. The
      <code>removeItem()</code> method takes one argument which will be a key of
      the <code>localStorage</code> object:
    </p>
    <p>
      You can also clear all items in <code>localStorage</code>. This can be
      done with the <code>clear()</code> method:
    </p>
    <p>
      Here’s how to clear everything that’s stored in <code>localStorage</code>:
    </p>
    <p>
      These methods give you more the ability to remove and clear items from
      <code>localStorage</code> quickly. There are some limits to
      <code>localStorage</code>, though. Both <code>localStorage</code> and
      <code>sessionStorage</code> can only store strings. To work around this,
      you will have to use JSON methods.
    </p>
    <h2 id="step-4-storing-non-string-values-with-json">
      Step 4 — Storing Non-String values with JSON
    </h2>
    <p>
      <code>localStorage</code> can only store string values. If you want to
      store objects or arrays as values in <code>localStorage</code>, you can
      use <code>JSON.stringify()</code> to convert them into strings. When
      creating or updating key/value pairs in <code>localStorage</code>, use
      <code>JSON.stringify()</code> with the object or array as the argument:
    </p>
    <p>
      Although <code>myObj</code> is an object,
      <code>JSON.stringify(myObj)</code> converts it into a string. So
      <code>myObj</code> is now a valid <code>localStorage</code> value.
    </p>
    <p>
      To read and return stringified values, use the
      <code>JSON.parse()</code> method. The <code>JSON.parse()</code> method
      takes JSON strings and converts them into JavaScript objects.
      <code>JSON.parse()</code> takes <code>.getItem()</code> as it’s argument:
    </p>
    <p>
      Now <code>item</code> is set equal to the value of <code>key</code>. In
      the previous code snippet, the value of <code>key</code> was set to the
      stringified version of <code>myObj</code>. Using
      <code>JSON.parse</code> converts <code>myObj</code> back into an object.
      So <code>item</code> is set equal to <code>myObj</code> as an object, not
      a string.
    </p>
    <p>
      Being able to convert arrays and objects into strings using
      <code>JSON.stringify</code> and convert them back using
      <code>JSON.parse</code> is very useful. You will also need to know how to
      check if <code>localStorage</code> is empty or not.
    </p>
    <h2 id="step-5-checking-for-items">Step 5 — Checking for Items</h2>
    <p>
      In this step, you will test for the presence of items in the
      <code>localStorage</code>. You can use <code>if</code> statements to check
      if <code>localStorage</code> is holding items or if it is empty. To do
      this, check the length of <code>localStorage</code>:
    </p>
    <p>
      If <code>localStorage.length</code> is greater than <code>0</code>, then
      there are items within the <code>localStorage</code> object. Include an
      <code>else</code> statement in case there are no items in
      <code>localStorage</code>:
    </p>
    <p>
      You can include code to be applied in the <code>if</code> and
      <code>else</code> statements. You may want to iterate over items in
      <code>localStorage</code>.
    </p>
    <h2 id="step-6-iterating-over-items">Step 6 — Iterating Over Items</h2>
    <p>
      The <code>localStorage</code> and <code>sessionStorage</code> objects
      don’t support the <code>forEach</code> method. To iterate over the items
      in <code>localStorage</code>, use a <code>for</code> loop:
    </p>
    <p>
      The <code>key()</code> method takes an integer as an argument and returns
      the corresponding key. With a <code>for</code> loop, pass
      <code>i</code> in as the integer for <code>key()</code>:
    </p>
    <p>
      Use the <code>getItem</code> method to return the corresponding value for
      <code>key</code>:
    </p>
    <p>
      Create a <code>console.log</code> statement to print both
      <code>key</code> and <code>value</code> to the screen:
    </p>
    <p>
      The <code>key()</code> is very useful for iterating through
      <code>localStorage</code> using <code>for</code> loops. Not all browsers
      support <code>localStorage</code>.
    </p>
    <h2 id="step-7-checking-for-support">Step 7 — Checking for Support</h2>
    <p>
      You can test for <code>localStorage</code> support by checking if it’s
      available on the <code>window</code> object using an
      <code>if</code> statement:
    </p>
    <p>
      You can also use the
      <a href="https://caniuse.com/namevalue-storage">Can I use…</a> website to
      check for <code>localStorage</code> support across major browsers.
    </p>
    <h2 id="conclusion">Conclusion</h2>
    <p>
      You can use the <code>localStorage</code> or
      <code>sessionStorage</code> objects to store key/value pairs. There are
      methods that enable you to interact with the items within
      <code>localStorage</code>. With this tutorial, you created, removed, and
      updated entries within <code>localStorage</code>. You also converted array
      and object data into strings and back using JSON methods.
    </p>
    <p>
      At times, it may be best to use cookies instead of
      <code>localStorage</code> or <code>session</code>.
      <a
        href="https://www.digitalocean.com/community/tutorials/js-what-are-cookies"
        >What Are Cookies &amp; How to Work With Them Using JavaScript</a
      >
      thoroughly covers this topic and is a great next step.
    </p>
  </body>
</html>
