<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>2a52a30b-f730-40b8-8eb8-50cf20c55f6e</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h3 id="introduction">Introduction</h3>
    <p>
      Many projects on the web need to interface with a REST API at some stage
      in their development.
      <a href="https://github.com/axios/axios">Axios</a> is a lightweight HTTP
      client based on the <code>$http</code> service within Angular.js v1.x and
      is similar to the native JavaScript
      <a href="https://www.digitalocean.com/community/tutorials/js-fetch-api"
        >Fetch API</a
      >.
    </p>
    <p>
      Axios is promise-based, which gives you the ability to take advantage of
      JavaScript’s <code>async</code> and <code>await</code> for more readable
      asynchronous code.
    </p>
    <p>
      You can also intercept and cancel requests, and there’s built-in
      client-side protection against cross-site request forgery.
    </p>
    <p>
      In this article, you will see examples of how to use Axios to access the
      popular
      <a href="https://jsonplaceholder.typicode.com/">JSON Placeholder</a> API
      within a React application.
    </p>
    <h2 id="prerequisites">Prerequisites</h2>
    <p>To follow along with this article, you’ll need the following:</p>
    <ul>
      <li>
        <a href="https://nodejs.org/">Node.js</a> version 10.16.0 installed on
        your computer. To install this on macOS or Ubuntu 18.04, follow the
        steps in
        <a
          href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-and-create-a-local-development-environment-on-macos"
          >How to Install Node.js and Create a Local Development Environment on
          macOS</a
        >
        or the <strong>Installing Using a PPA</strong> section of
        <a
          href="https://www.digitalocean.com/community/tutorials/how-to-install-node-js-on-ubuntu-18-04"
          >How To Install Node.js on Ubuntu 18.04</a
        >.
      </li>
      <li>
        A new React project set up with
        <a href="https://github.com/facebook/create-react-app"
          >Create React App</a
        >
        by following the
        <a
          href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-react-project-with-create-react-app"
          >How to Set up a React Project with Create React App</a
        >
        tutorial.
      </li>
      <li>
        It will also help to have a basic understanding of JavaScript, which you
        can find in the
        <a
          href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-javascript"
          >How To Code in JavaScript series</a
        >, along with a basic knowledge of HTML and CSS.
      </li>
    </ul>
    <h2 id="step-1-adding-axios-to-the-project">
      Step 1 — Adding Axios to the Project
    </h2>
    <p>
      In this section, you will add Axios to the
      <code>digital-ocean-tutorial</code> React project you created following
      the
      <a
        href="https://www.digitalocean.com/community/tutorials/how-to-set-up-a-react-project-with-create-react-app"
        >How to Set up a React Project with Create React App</a
      >
      tutorial.
    </p>
    <p>
      To add Axios to the project, open your terminal and change directories
      into your project:
    </p>
    <p>Then run this command to install Axios:</p>
    <p>
      Next, you will need to import Axios into the file you want to use it in.
    </p>
    <h2 id="step-2-making-a-get-request">
      Step 2 — Making a <code>GET</code> Request
    </h2>
    <p>
      In this example, you create a new component and import Axios into it to
      send a <code>GET</code> request.
    </p>
    <p>
      Inside the <code>src</code> folder of your React project, create a new
      component named <code>PersonList.js</code>:
    </p>
    <p>Add the following code to the component:</p>
    <p>digital-ocean-tutorial/src/PersonList.js</p>
    <p>
      First, you import React and Axios so that both can be used in the
      component. Then you hook into the <code>componentDidMount</code> lifecycle
      hook and perform a <code>GET</code> request.
    </p>
    <p>
      You use <code>axios.get(url)</code> with a URL from an API endpoint to get
      a promise which returns a response object. Inside the response object,
      there is data that is then assigned the value of <code>person</code>.
    </p>
    <p>
      You can also get other information about the request, such as the status
      code under <code>res.status</code> or more information inside of
      <code>res.request</code>.
    </p>
    <h2 id="step-3-making-a-post-request">
      Step 3 — Making a <code>POST</code> Request
    </h2>
    <p>
      In this step, you will use Axios with another HTTP request method called
      <code>POST</code>.
    </p>
    <p>
      Remove the previous code in <code>PersonList</code> and add the following
      to create a form that allows for user input and subsequently
      <code>POST</code>s the content to an API:
    </p>
    <p>digital-ocean-tutorial/src/PersonList.js</p>
    <p>
      Inside the <code>handleSubmit</code> function, you prevent the default
      action of the form. Then update the <code>state</code> to the
      <code>user</code> input.
    </p>
    <p>
      Using <code>POST</code> gives you the same response object with
      information that you can use inside of a <code>then</code> call.
    </p>
    <p>
      To complete the <code>POST</code> request, you first capture the
      <code>user</code> input. Then you add the input along with the
      <code>POST</code> request, which will give you a response. You can then
      <code>console.log</code> the response, which should show the
      <code>user</code> input in the form.
    </p>
    <h2 id="step-4-making-a-delete-request">
      Step 4 — Making a <code>DELETE</code> Request
    </h2>
    <p>
      In this example, you will see how to delete items from an API using
      <code>axios.delete</code> and passing a URL as a parameter.
    </p>
    <p>
      Change the code for the form from the <code>POST</code> example to delete
      a user instead of adding a new one:
    </p>
    <p>digital-ocean-tutorial/src/PersonList.js</p>
    <p>
      Again, the <code>res</code> object provides you with information about the
      request. You can then <code>console.log</code> that information again
      after the form is submitted.
    </p>
    <h2 id="step-5-using-a-base-instance-in-axios">
      Step 5 — Using a Base Instance in Axios
    </h2>
    <p>
      In this example, you will see how you can set up a
      <em>base instance</em> in which you can define a URL and any other
      configuration elements.
    </p>
    <p>Create a separate file named <code>api.js</code>:</p>
    <p>Export a new <code>axios</code> instance with these defaults:</p>
    <p>digital-ocean-tutorial/src/api.js</p>
    <p>
      Once the default instance is set up, it can then be used inside of the
      <code>PersonList</code> component. You import the new instance like this:
    </p>
    <p>digital-ocean-tutorial/src/PersonList.js</p>
    <p>
      Because <code>http://jsonplaceholder.typicode.com/</code> is now the base
      URL, you no longer need to type out the whole URL each time you want to
      hit a different endpoint on the API.
    </p>
    <h2 id="step-6-using-async-and-await">
      Step 6 — Using <code>async</code> and <code>await</code>
    </h2>
    <p>
      In this example, you will see how you can use <code>async</code> and
      <code>await</code> to work with promises.
    </p>
    <p>
      The <code>await</code> keyword resolves the <code>promise</code> and
      returns the <code>value</code>. The <code>value</code> can then be
      assigned to a variable.
    </p>
    <p>
      In this code sample, the <code>.then()</code> is replaced. The
      <code>promise</code> is resolved, and the value is stored inside the
      <code>response</code> variable.
    </p>
    <h2 id="conclusion">Conclusion</h2>
    <p>
      In this tutorial, you explored several examples on how to use Axios inside
      a React application to create HTTP requests and handle responses.
    </p>
    <p>
      If you’d like to learn more about React, check out the
      <a
        href="https://www.digitalocean.com/community/tutorial_series/how-to-code-in-react-js"
        >How To Code in React.js</a
      >
      series, or check out
      <a href="https://www.digitalocean.com/community/tags/react"
        >the React topic page</a
      >
      for more exercises and programming projects.
    </p>
  </body>
</html>
