<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>voip_server_security</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h1 id="security-hardening-your-freepbx-asterisk-voip-server">
      Security Hardening your FreePBX &amp; Asterisk VoIP Server
    </h1>
    <h3 id="introduction">Introduction</h3>
    <p>
      This article builds on
      <a href=""
        >Deploy a VoIP Private Branch Exchange (PBX) Server on CentOS 6.4</a
      >.
    </p>
    <p>
      At a minimum, you should review and deploy the following security
      measures:
    </p>
    <ul>
      <li>
        Configure Fail2Ban by commencing at <strong>Step Two</strong> of
        <a
          href="https://www.digitalocean.com/community/articles/how-to-protect-ssh-with-fail2ban-on-centos-6"
          >How To Protect SSH with fail2ban on CentOS 6 | DigitalOcean</a
        >;
      </li>
      <li>
        Install &amp; configure DenyHosts. <em>See</em>
        <a
          href="https://www.digitalocean.com/community/articles/how-to-install-denyhosts-on-centos-6"
          >How To Install DenyHosts on CentOS 6 | DigitalOcean</a
        >; and
      </li>
      <li>
        <p>
          Deploy a firewall. <em>See</em>
          <a
            href="https://www.digitalocean.com/community/articles/how-to-setup-a-basic-ip-tables-configuration-on-centos-6"
            >How To Setup a Basic IP Tables Configuration on Centos 6 |
            DigitalOcean</a
          >
          and open the following ports, for the initial setup and testing phase:
        </p>
        <ul>
          <li>1194 (TCP) for OpenVPN</li>
          <li>1720 (TCP)</li>
          <li>2000 (TCP)</li>
          <li>2727 (UDP)</li>
          <li>4520 (UDP)</li>
          <li>4569 (UDP)</li>
          <li>5000 (UDP)</li>
          <li>5038 (TCP)</li>
          <li>5060 (TCP &amp; UDP)</li>
          <li>5061 (TCP)</li>
          <li>
            <p>10000-20000 (UDP)</p>
            <p>
              <strong>Note:</strong> Remember to close any unused ports once you
              deploy your Asterisk server into production.
            </p>
          </li>
        </ul>
      </li>
      <li>
        You are <strong>strongly</strong> encouraged to secure the traffic
        between your VoIP server and your softphones &amp; hard phones via an
        encrypted, VPN tunnel. While OpenVPN was automatically installed by the
        FreePBX install script, you need to configure it to your specific
        environment, <em>see</em>
        <a
          href="https://www.digitalocean.com/community/articles/how-to-setup-and-configure-an-openvpn-server-on-centos-6"
          >How to Setup and Configure an OpenVPN Server on CentOS 6 |
          DigitalOcean</a
        >;
      </li>
      <li>
        <p>
          Finally, carry out the rudimentary security measures outlined in
          <a
            href="https://www.digitalocean.com/community/articles/initial-server-setup-with-centos-6"
            >Initial Server Setup with CentOS 6 | DigitalOcean</a
          >
          (this particular step was not completed before because the install
          &amp; upgrade scripts needed to be deployed as the
          <code>root</code> user).
        </p>
      </li>
    </ul>
  </body>
</html>
