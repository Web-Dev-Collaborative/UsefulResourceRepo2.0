<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>modules</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
    <style type="text/css">
      a.sourceLine {
        display: inline-block;
        line-height: 1.25;
      }
      a.sourceLine {
        pointer-events: none;
        color: inherit;
        text-decoration: inherit;
      }
      a.sourceLine:empty {
        height: 1.2em;
      }
      .sourceCode {
        overflow: visible;
      }
      code.sourceCode {
        white-space: pre;
        position: relative;
      }
      div.sourceCode {
        margin: 1em 0;
      }
      pre.sourceCode {
        margin: 0;
      }
      @media screen {
        div.sourceCode {
          overflow: auto;
        }
      }
      @media print {
        code.sourceCode {
          white-space: pre-wrap;
        }
        a.sourceLine {
          text-indent: -1em;
          padding-left: 1em;
        }
      }
      pre.numberSource a.sourceLine {
        position: relative;
        left: -4em;
      }
      pre.numberSource a.sourceLine::before {
        content: attr(title);
        position: relative;
        left: -1em;
        text-align: right;
        vertical-align: baseline;
        border: none;
        pointer-events: all;
        display: inline-block;
        -webkit-touch-callout: none;
        -webkit-user-select: none;
        -khtml-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        padding: 0 4px;
        width: 4em;
        color: #aaaaaa;
      }
      pre.numberSource {
        margin-left: 3em;
        border-left: 1px solid #aaaaaa;
        padding-left: 4px;
      }
      div.sourceCode {
      }
      @media screen {
        a.sourceLine::before {
          text-decoration: underline;
        }
      }
      code span.al {
        color: #ff0000;
        font-weight: bold;
      } /* Alert */
      code span.an {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Annotation */
      code span.at {
        color: #7d9029;
      } /* Attribute */
      code span.bn {
        color: #40a070;
      } /* BaseN */
      code span.bu {
      } /* BuiltIn */
      code span.cf {
        color: #007020;
        font-weight: bold;
      } /* ControlFlow */
      code span.ch {
        color: #4070a0;
      } /* Char */
      code span.cn {
        color: #880000;
      } /* Constant */
      code span.co {
        color: #60a0b0;
        font-style: italic;
      } /* Comment */
      code span.cv {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* CommentVar */
      code span.do {
        color: #ba2121;
        font-style: italic;
      } /* Documentation */
      code span.dt {
        color: #902000;
      } /* DataType */
      code span.dv {
        color: #40a070;
      } /* DecVal */
      code span.er {
        color: #ff0000;
        font-weight: bold;
      } /* Error */
      code span.ex {
      } /* Extension */
      code span.fl {
        color: #40a070;
      } /* Float */
      code span.fu {
        color: #06287e;
      } /* Function */
      code span.im {
      } /* Import */
      code span.in {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Information */
      code span.kw {
        color: #007020;
        font-weight: bold;
      } /* Keyword */
      code span.op {
        color: #666666;
      } /* Operator */
      code span.ot {
        color: #007020;
      } /* Other */
      code span.pp {
        color: #bc7a00;
      } /* Preprocessor */
      code span.sc {
        color: #4070a0;
      } /* SpecialChar */
      code span.ss {
        color: #bb6688;
      } /* SpecialString */
      code span.st {
        color: #4070a0;
      } /* String */
      code span.va {
        color: #19177c;
      } /* Variable */
      code span.vs {
        color: #4070a0;
      } /* VerbatimString */
      code span.wa {
        color: #60a0b0;
        font-weight: bold;
        font-style: italic;
      } /* Warning */
    </style>
  </head>
  <body>
    <h1 id="javascript-modules"><strong>Javascript Modules:</strong></h1>
    <p>
      A module is a reusable piece of code that encapsulates implementation
      details and exposes a public API so it can be easily loaded and used by
      other code.
    </p>
    <h2 id="why-are-they-useful">Why are they useful?</h2>
    <p>Technically we can write code without modules.</p>
    <p>
      Modules are a pattern that developers have been using in many different
      forms and programming languages since the 60’s and 70’s.
    </p>
    <p>In JavaScript, modules should ideally allow us to:</p>
    <ul>
      <li>
        <em>abstract code</em>: to delegate functionality to specialised
        libraries so that we don’t have to understand the complexity of their
        actual implementation
      </li>
      <li>
        <em>encapsulate code</em>: to hide code inside the module if we don’t
        want the code to be changed
      </li>
      <li>
        <em>reuse code</em>: to avoid writing the same code over and over again
      </li>
      <li>
        <em>manage dependencies</em>: to easily change dependencies without
        rewriting our code
      </li>
    </ul>
    <h2 id="module-patterns-in-es5">Module patterns in ES5</h2>
    <p>
      EcmaScript 5 and earlier editions were not designed with modules in mind.
      Over time, developers came up with different patterns to simulate modular
      design in JavaScript.
    </p>
    <p>
      To give you an idea of what some of these patterns look like, let’s
      quickly look at 2 easy ones: <em
        >Immediately Invoked Function Expressions</em
      > and <em>Revealing Module</em>.
    </p>
    <h3 id="immediately-invoked-function-expression-iife">
      Immediately Invoked Function Expression (IIFE)
    </h3>
    <div class="sourceCode" id="cb1">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1">(<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="co">// ...</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="op">}</span>)()<span class="op">;</span></a></code></pre>
    </div>
    <p>
      An Immediately Invoked Function Expression (IIFE) is an anonymous function
      that is invoked when it is declared.
    </p>
    <p>
      Notice how the function is surrounded by parentheses. In JavaScript, a
      line starting with the word <code>function</code> is considered as a
      function declaration:
    </p>
    <div class="sourceCode" id="cb2">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="co">// Function declaration</span></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;test&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span></a></code></pre>
    </div>
    <p>Immediately invoking a function declaration throws an error:</p>
    <div class="sourceCode" id="cb3">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="co">// Immediately Invoked Function Declaration</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">function</span>()<span class="op">{</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&#39;test&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="op">}</span>()</a>
<a class="sourceLine" id="cb3-5" title="5"></a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">// =&gt; Uncaught SyntaxError: Unexpected token )</span></a></code></pre>
    </div>
    <p>
      Putting parentheses around the function makes it a function expression:
    </p>
    <div class="sourceCode" id="cb4">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// Function expression</span></a>
<a class="sourceLine" id="cb4-2" title="2">(<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;test&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-5" title="5"></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">// =&gt; returns function(){ console.log(&#39;test&#39;) }</span></a></code></pre>
    </div>
    <p>
      The function expression returns the function, so we can immediately call
      it:
    </p>
    <div class="sourceCode" id="cb5">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="co">// Immediately Invoked Function Expression</span></a>
<a class="sourceLine" id="cb5-2" title="2">(<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb5-3" title="3">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;test&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="op">}</span>)()<span class="op">;</span></a>
<a class="sourceLine" id="cb5-5" title="5"></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">// =&gt; writes &#39;test&#39; to the console and returns undefined</span></a></code></pre>
    </div>
    <p>Immediately Invoked Function Expressions allow us to:</p>
    <ul>
      <li>
        encapsulate code complexity inside IIFE so we don’t have to understand
        what the IIFE code does
      </li>
      <li>
        define variables inside the IIFE so they don’t pollute the global scope
        (<code>var</code> statements inside the IIFE remain within the IIFE’s
        closure)
      </li>
    </ul>
    <p>but they don’t provide a mechanism for dependency management.</p>
    <h3 id="revealing-module-pattern">Revealing Module pattern</h3>
    <p>
      The Revealing Module pattern is similar to an IIFE, but we assign the
      return value to a variable:
    </p>
    <div class="sourceCode" id="cb6">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="co">// Expose module as global variable</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">var</span> singleton <span class="op">=</span> (<span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="co">// Inner logic</span></a>
<a class="sourceLine" id="cb6-4" title="4">  <span class="kw">function</span> <span class="at">sayHello</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb6-5" title="5">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb6-7" title="7"></a>
<a class="sourceLine" id="cb6-8" title="8">  <span class="co">// Expose API</span></a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb6-10" title="10">    <span class="dt">sayHello</span><span class="op">:</span> sayHello<span class="op">,</span></a>
<a class="sourceLine" id="cb6-11" title="11">  <span class="op">};</span></a>
<a class="sourceLine" id="cb6-12" title="12"><span class="op">}</span>)()<span class="op">;</span></a></code></pre>
    </div>
    <p>
      Notice that we don’t need the surrounding parentheses here because the
      word <code>function</code> is not at the beginning of the line.
    </p>
    <p>We can now access the module’s API through the variable:</p>
    <div class="sourceCode" id="cb7">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="co">// Access module functionality</span></a>
<a class="sourceLine" id="cb7-2" title="2"><span class="va">singleton</span>.<span class="at">sayHello</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">// =&gt; Hello</span></a></code></pre>
    </div>
    <p>
      Instead of a singleton, a module can also expose a constructor function:
    </p>
    <div class="sourceCode" id="cb8">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb8-1" title="1"><span class="co">// Expose module as global variable</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw">var</span> Module <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="co">// Inner logic</span></a>
<a class="sourceLine" id="cb8-4" title="4">  <span class="kw">function</span> <span class="at">sayHello</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb8-7" title="7"></a>
<a class="sourceLine" id="cb8-8" title="8">  <span class="co">// Expose API</span></a>
<a class="sourceLine" id="cb8-9" title="9">  <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb8-10" title="10">    <span class="dt">sayHello</span><span class="op">:</span> sayHello<span class="op">,</span></a>
<a class="sourceLine" id="cb8-11" title="11">  <span class="op">};</span></a>
<a class="sourceLine" id="cb8-12" title="12"><span class="op">};</span></a></code></pre>
    </div>
    <p>Notice how we don’t execute the function at declaration time.</p>
    <p>
      Instead, we instantiate a module using the <code>Module</code> constructor
      function:
    </p>
    <div class="sourceCode" id="cb9">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1"><span class="kw">var</span> module <span class="op">=</span> <span class="kw">new</span> <span class="at">Module</span>()<span class="op">;</span></a></code></pre>
    </div>
    <p>to access its public API:</p>
    <div class="sourceCode" id="cb10">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="va">module</span>.<span class="at">sayHello</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="co">// =&gt; Hello</span></a></code></pre>
    </div>
    <blockquote>
      <p>
        This Module pattern offers similar benefits as an IIFE, but again does
        not offer a mechanism for dependency management.
      </p>
    </blockquote>
    <p>
      As JavaScript evolved, many more different syntaxes were invented for
      defining modules, each with their own benefits and downsides.
    </p>
    <p>We call them module formats.</p>
    <h2 id="module-formats">Module formats</h2>
    <p>A module format is the syntax we can use to define a module.</p>
    <p>
      Before EcmaScript 6 or ES2015, JavaScript did not have an official syntax
      to define modules. Therefore, smart developers came up with various
      formats to define modules in JavaScript.
    </p>
    <p>Some of the most widely adapted and well known formats are:</p>
    <ul>
      <li>CommonJS</li>
      <li>ES6 module format</li>
    </ul>
    <h3 id="commonjs-format">CommonJS format</h3>
    <p>
      The <a href="http://www.commonjs.org/">CommonJS</a> format is used in
      Node.js and uses <code>require</code> and <code>module.exports</code> to
      define dependencies and modules:
    </p>
    <div class="sourceCode" id="cb11">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="kw">var</span> dep1 <span class="op">=</span> <span class="at">require</span>(<span class="st">&quot;./dep1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"><span class="kw">var</span> dep2 <span class="op">=</span> <span class="at">require</span>(<span class="st">&quot;./dep2&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-3" title="3"></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="va">module</span>.<span class="at">exports</span> <span class="op">=</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb11-5" title="5">  <span class="co">// ...</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="op">};</span></a></code></pre>
    </div>
    <h3 id="es6-module-format">ES6 module format</h3>
    <p>As of ES6, JavaScript also supports a native module format.</p>
    <p>It uses an <code>export</code> token to export a module’s public API:</p>
    <div class="sourceCode" id="cb12">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="co">// lib.js</span></a>
<a class="sourceLine" id="cb12-2" title="2"></a>
<a class="sourceLine" id="cb12-3" title="3"><span class="co">// Export the function</span></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="im">export</span> <span class="kw">function</span> <span class="at">sayHello</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb12-5" title="5">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb12-7" title="7"></a>
<a class="sourceLine" id="cb12-8" title="8"><span class="co">// Do not export the function</span></a>
<a class="sourceLine" id="cb12-9" title="9"><span class="kw">function</span> <span class="at">somePrivateFunction</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb12-10" title="10">  <span class="co">// ...</span></a>
<a class="sourceLine" id="cb12-11" title="11"><span class="op">}</span></a></code></pre>
    </div>
    <p>
      and an <code>import</code> token to import parts that a module exports:
    </p>
    <div class="sourceCode" id="cb13">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb13-1" title="1"><span class="im">import</span> <span class="op">{</span> sayHello <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;./lib&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb13-2" title="2"></a>
<a class="sourceLine" id="cb13-3" title="3"><span class="at">sayHello</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb13-4" title="4"><span class="co">// =&gt; Hello</span></a></code></pre>
    </div>
    <p>We can even give imports an alias using <code>as</code>:</p>
    <div class="sourceCode" id="cb14">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="im">import</span> <span class="op">{</span> sayHello <span class="im">as</span> say <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;./lib&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb14-2" title="2"></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="at">say</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co">// =&gt; Hello</span></a></code></pre>
    </div>
    <p>or load an entire module at once:</p>
    <div class="sourceCode" id="cb15">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb15-1" title="1"><span class="im">import</span> <span class="op">*</span> <span class="im">as</span> lib <span class="im">from</span> <span class="st">&quot;./lib&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb15-2" title="2"></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="va">lib</span>.<span class="at">sayHello</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="co">// =&gt; Hello</span></a></code></pre>
    </div>
    <p>The format also supports default exports:</p>
    <div class="sourceCode" id="cb16">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="co">// lib.js</span></a>
<a class="sourceLine" id="cb16-2" title="2"></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="co">// Export default function</span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">sayHello</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb16-5" title="5">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb16-7" title="7"></a>
<a class="sourceLine" id="cb16-8" title="8"><span class="co">// Export non-default function</span></a>
<a class="sourceLine" id="cb16-9" title="9"><span class="im">export</span> <span class="kw">function</span> <span class="at">sayGoodbye</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb16-10" title="10">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Goodbye&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb16-11" title="11"><span class="op">}</span></a></code></pre>
    </div>
    <p>which you can import like this:</p>
    <div class="sourceCode" id="cb17">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="im">import</span> sayHello<span class="op">,</span> <span class="op">{</span> sayGoodbye <span class="op">}</span> <span class="im">from</span> <span class="st">&quot;./lib&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb17-2" title="2"></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="at">sayHello</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co">// =&gt; Hello</span></a>
<a class="sourceLine" id="cb17-5" title="5"></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="at">sayGoodbye</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb17-7" title="7"><span class="co">// =&gt; Goodbye</span></a></code></pre>
    </div>
    <p>You can export not only functions, but anything you like:</p>
    <div class="sourceCode" id="cb18">
      <pre
        class="sourceCode js"
      ><code class="sourceCode javascript"><a class="sourceLine" id="cb18-1" title="1"><span class="co">// lib.js</span></a>
<a class="sourceLine" id="cb18-2" title="2"></a>
<a class="sourceLine" id="cb18-3" title="3"><span class="co">// Export default function</span></a>
<a class="sourceLine" id="cb18-4" title="4"><span class="im">export</span> <span class="im">default</span> <span class="kw">function</span> <span class="at">sayHello</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb18-5" title="5">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Hello&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-6" title="6"><span class="op">}</span></a>
<a class="sourceLine" id="cb18-7" title="7"></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="co">// Export non-default function</span></a>
<a class="sourceLine" id="cb18-9" title="9"><span class="im">export</span> <span class="kw">function</span> <span class="at">sayGoodbye</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb18-10" title="10">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Goodbye&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb18-11" title="11"><span class="op">}</span></a>
<a class="sourceLine" id="cb18-12" title="12"></a>
<a class="sourceLine" id="cb18-13" title="13"><span class="co">// Export simple value</span></a>
<a class="sourceLine" id="cb18-14" title="14"><span class="im">export</span> <span class="kw">const</span> apiUrl <span class="op">=</span> <span class="st">&quot;...&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb18-15" title="15"></a>
<a class="sourceLine" id="cb18-16" title="16"><span class="co">// Export object</span></a>
<a class="sourceLine" id="cb18-17" title="17"><span class="im">export</span> <span class="kw">const</span> settings <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb18-18" title="18">  <span class="dt">debug</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></a>
<a class="sourceLine" id="cb18-19" title="19"><span class="op">};</span></a></code></pre>
    </div>
    <p>
      Unfortunately, the native module format is not yet supported by all
      browsers.
    </p>
    <p>
      We can already use the ES6 module format today, but we need a transpiler
      like Babel to transpile our code to an ES5 module format such as AMD or
      CommonJS before we can actually run our code in the browser.
    </p>
    <h2 id="module-loaders">Module loaders</h2>
    <p>
      A module loader interprets and loads a module written in a certain module
      format.
    </p>
    <p>A module loader runs at runtime:</p>
    <ul>
      <li>you load the module loader in the browser</li>
      <li>you tell the module loader which main app file to load</li>
      <li>the module loader downloads and interprets the main app file</li>
      <li>the module loader downloads files as needed</li>
    </ul>
    <p>
      If you open the network tab in your browser’s developer console, you will
      see that many files are loaded on demand by the module loader.
    </p>
    <p>A few examples of popular module loaders are:</p>
    <ul>
      <li>
        <em><a href="http://requirejs.org/">RequireJS</a></em
        >: loader for modules in AMD format
      </li>
      <li>
        <em><a href="https://github.com/systemjs/systemjs">SystemJS</a></em
        >: loader for modules in AMD, CommonJS, UMD or System.register format
      </li>
    </ul>
    <h2 id="module-bundlers">Module bundlers</h2>
    <p>A module bundler replaces a module loader.</p>
    <p>
      But, in contrast to a module loader, a module bundler runs at build time:
    </p>
    <ul>
      <li>
        you run the module bundler to generate a bundle file at build time
        (e.g. bundle.js)
      </li>
      <li>you load the bundle in the browser</li>
    </ul>
    <p>
      If you open the network tab in your browser’s developer console, you will
      see that only 1 file is loaded. No module loader is needed in the browser.
      All code is included in the bundle.
    </p>
    <p>Examples of popular module bundlers are:</p>
    <ul>
      <li>
        <em><a href="http://browserify.org/">Browserify</a></em
        >: bundler for CommonJS modules
      </li>
      <li>
        <em><a href="https://webpack.github.io/">Webpack</a></em
        >: bundler for AMD, CommonJS, ES6 modules
      </li>
    </ul>
    <h2 id="summary">Summary</h2>
    <p>
      To better understand tooling in modern JavaScript development
      environments, it is important to understand the differences between
      modules, module formats, module loaders and module bundlers.
    </p>
    <p>
      A <em>module</em> is a reusable piece of code that encapsulates
      implementation details and exposes a public API so it can be easily loaded
      and used by other code.
    </p>
    <p>
      A <em>module format</em> is the syntax we use to define a module.
      Different module formats such <a
        href="https://github.com/amdjs/amdjs-api/wiki/AMD"
        >AMD</a
      >, <a href="http://www.commonjs.org/">CommonJS</a>, <a
        href="https://github.com/umdjs/umd"
        >UMD</a
      > and <a
        href="https://github.com/ModuleLoader/es-module-loader/blob/master/docs/system-register.md"
        >System.register</a
      > have emerged in the past and a native module format is now available
      since ES6.
    </p>
    <p>
      A <em>module loader</em> interprets and loads a module written in a
      certain module format at runtime. Popular examples are <a
        href="http://requirejs.org/"
        >RequireJS</a
      > and <a href="https://github.com/systemjs/systemjs">SystemJS</a>.
    </p>
    <p>
      A <em>module bundler</em> replaces a module loader and generates a bundle
      of all code at build time. Popular examples are <a
        href="http://browserify.org/"
        >Browserify</a
      > and <a href="https://webpack.github.io/">Webpack</a>.
    </p>
  </body>
</html>
