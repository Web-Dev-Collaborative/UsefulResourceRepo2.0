#include "EXTERN.h"
#include "perl.h"
#include "XSUB.h"
#include <gnome.h>

SV * GList_to_AVref(GList *list) {
  GList *iter;       // list iterator
  AV *av = newAV();  // initialize new array

  // iterate through GList
  for (iter = list; iter; iter = iter->next) {
    // push data onto array
    av_push(av, newSVpv(iter->data,0));
  }
  
  // free glist passed into function
  g_list_free(list);

  // return a reference to the new array
  return sv_2mortal(newRV_noinc((SV *)av));
}
