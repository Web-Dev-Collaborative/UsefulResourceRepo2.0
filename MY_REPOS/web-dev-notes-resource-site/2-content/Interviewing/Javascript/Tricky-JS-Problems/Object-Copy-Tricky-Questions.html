<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="./prism.css">
<script async defer src="./prism.js"></script>
</head>
<body>;
<h4 id="q---what-will-be-the-output-of-the-below-code-and-why">Q - What will be the output of the below code and why</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> user <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Raj&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="dt">location</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">    <span class="dt">city</span><span class="op">:</span> <span class="st">&quot;NY&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="dt">state</span><span class="op">:</span> <span class="st">&quot;NY&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="op">},</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw">const</span> copy <span class="op">=</span> <span class="va">Object</span>.<span class="at">assign</span>(<span class="op">{},</span> user)</a>
<a class="sourceLine" id="cb1-9" title="9"><span class="co">// OR</span></a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">// const copy = { ...user };</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="va">copy</span>.<span class="va">location</span>.<span class="at">city</span> <span class="op">=</span> <span class="st">&quot;Albany&quot;</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;original: &quot;</span><span class="op">,</span> <span class="va">user</span>.<span class="at">location</span>)</a>
<a class="sourceLine" id="cb1-13" title="13"><span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;copy:&quot;</span><span class="op">,</span> <span class="va">copy</span>.<span class="at">location</span>)</a></code></pre></div>
<h4 id="ans---the-output-of-the-above-code-is">Ans - The output of the above code is</h4>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1">original<span class="op">:</span>  <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">city</span><span class="op">:</span> <span class="st">&#39;Albany&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">state</span><span class="op">:</span> <span class="st">&#39;NY&#39;</span></a>
<a class="sourceLine" id="cb2-4" title="4"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-5" title="5">copy<span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="dt">city</span><span class="op">:</span> <span class="st">&#39;Albany&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="dt">state</span><span class="op">:</span> <span class="st">&#39;NY&#39;</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="op">}</span></a></code></pre></div>
<h4 id="explanations">Explanations</h4>
<p>The reason for the changed original object is because when we use Object.assign or spread operator, it only does shallow copy, which means while creating a copy of the object, properties of only the first level are copied and if there are nested properties then only their reference is copied which means the copied reference still refers to the original place where the object is stored. So in our case, the location property will still refer to the original object which is a user object in our case. To better understand it, check out my previous article <a href="https://medium.com/javascript-in-plain-english/why-you-should-not-use-array-to-remove-all-the-elements-of-array-42ad2951d47e#5efd">HERE</a></p>
</body></html>
