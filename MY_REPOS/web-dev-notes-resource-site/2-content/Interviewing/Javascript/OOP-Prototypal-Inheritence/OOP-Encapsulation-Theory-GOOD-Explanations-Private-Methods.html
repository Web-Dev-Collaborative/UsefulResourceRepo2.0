<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="./prism.css">
<script async defer src="./prism.js"></script>
</head>
<body>;
<h3 id="how-do-we-achieve-data-encapsulation-with-javascript-objects">How do we achieve data encapsulation with Javascript objects?</h3>
<p>Private member variables in objects.</p>
<p><strong>All properties or let us say member variables defined with the “this” keyword inside a function object is of public type, which mean that they can be accessed from outside of a created object.</strong></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(n) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="co">// name and getName ar both public</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="kw">this</span>.<span class="at">name</span> <span class="op">=</span> n</a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="kw">this</span>.<span class="at">getName</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">name</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">}</span></a></code></pre></div>
<p>All variables, which are defined with the “var” keyword (and NOT ‘this’) and all the methods that a constructor function is private and therefore NOT accessible from outside of a created object. The same applies to all function arguments.</p>
<h4 id="one-of-the-most-important-things-in-object-oriented-programming-oop-is-data-encapsulation-which-means-to-make-private-properties-and-then-define-public-access-methods-to-change-these.">- One of the most important things in object-oriented programming (OOP) is data encapsulation, which means to make private properties and then define public access methods to change these.</h4>
<ul>
<li><p>All public methods, which are defined inside a function object, have access to all defined private member variables and private methods in a created object.</p></li>
<li><p>Public methods defined on the outside of a function object can not access private member variables as they are not defined in the same scope as those.</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">function</span> <span class="at">Rectangle</span>(h<span class="op">,</span> w) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="kw">var</span> width <span class="op">=</span> w <span class="co">// Both the &#39;width&#39; and &#39;w&#39; is private</span></a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="kw">var</span> height <span class="op">=</span> h <span class="co">// Both the &#39;height&#39; and &#39;h&#39; is private</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="kw">this</span>.<span class="at">setWidth</span> <span class="op">=</span> <span class="kw">function</span>(w) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">    width <span class="op">=</span> w</a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-7" title="7">  <span class="kw">this</span>.<span class="at">setHeight</span> <span class="op">=</span> <span class="kw">function</span>(h) <span class="op">{</span></a>
<a class="sourceLine" id="cb2-8" title="8">    height <span class="op">=</span> h</a>
<a class="sourceLine" id="cb2-9" title="9">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-10" title="10">  <span class="kw">this</span>.<span class="at">getWidth</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="cf">return</span> width</a>
<a class="sourceLine" id="cb2-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="kw">this</span>.<span class="at">getHeight</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-14" title="14">    <span class="cf">return</span> height</a>
<a class="sourceLine" id="cb2-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-16" title="16">  <span class="kw">this</span>.<span class="va">constructor</span>.<span class="va">prototype</span>.<span class="at">getDiagonal</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-17" title="17">    <span class="cf">return</span> <span class="va">Math</span>.<span class="at">sqrt</span>(height <span class="op">*</span> height <span class="op">+</span> width <span class="op">*</span> width)</a>
<a class="sourceLine" id="cb2-18" title="18">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-19" title="19"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-20" title="20"></a>
<a class="sourceLine" id="cb2-21" title="21"><span class="va">Rectangle</span>.<span class="va">prototype</span>.<span class="at">getArea</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-22" title="22">  <span class="co">// We must use accessors in a prototype kind of method,</span></a>
<a class="sourceLine" id="cb2-23" title="23">  <span class="co">// then these methods can not access the private members</span></a>
<a class="sourceLine" id="cb2-24" title="24">  <span class="co">// of a created object.</span></a>
<a class="sourceLine" id="cb2-25" title="25">  <span class="cf">return</span> <span class="kw">this</span>.<span class="at">getWidth</span>() <span class="op">*</span> <span class="kw">this</span>.<span class="at">getHeight</span>()</a>
<a class="sourceLine" id="cb2-26" title="26"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-27" title="27"></a>
<a class="sourceLine" id="cb2-28" title="28"><span class="kw">var</span> rect <span class="op">=</span> <span class="kw">new</span> <span class="at">Rectangle</span>(<span class="dv">60</span><span class="op">,</span> <span class="dv">70</span>)</a>
<a class="sourceLine" id="cb2-29" title="29"><span class="va">rect</span>.<span class="at">setHeight</span>(<span class="dv">20</span>)</a>
<a class="sourceLine" id="cb2-30" title="30"><span class="va">console</span>.<span class="at">log</span>(<span class="va">rect</span>.<span class="at">getArea</span>()) <span class="co">// =&gt; 1400</span></a></code></pre></div>
<p><strong>Private methods (in the below example the born() method) have no direct access to properties that are defined to be public with “this” keyword in a function object.</strong></p>
<p><strong>To achieve this, one can define a variable that has the same reference as “this” refers to. And thats exactly whey I have to create the var thisObj in the below Person()</strong></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">function</span> <span class="at">Person</span>(n<span class="op">,</span> y) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="kw">var</span> name <span class="op">=</span> n</a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="kw">var</span> year <span class="op">=</span> y</a>
<a class="sourceLine" id="cb3-4" title="4">  <span class="co">// Set a variable to the same as this</span></a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="kw">var</span> thisObj <span class="op">=</span> <span class="kw">this</span></a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="kw">this</span>.<span class="at">setName</span> <span class="op">=</span> <span class="kw">function</span>(n) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-7" title="7">    name <span class="op">=</span> n</a>
<a class="sourceLine" id="cb3-8" title="8">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-9" title="9">  <span class="kw">this</span>.<span class="at">getName</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-10" title="10">    <span class="cf">return</span> name</a>
<a class="sourceLine" id="cb3-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-12" title="12">  <span class="kw">this</span>.<span class="at">setYear</span> <span class="op">=</span> <span class="kw">function</span>(y) <span class="op">{</span></a>
<a class="sourceLine" id="cb3-13" title="13">    year <span class="op">=</span> y</a>
<a class="sourceLine" id="cb3-14" title="14">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-15" title="15">  <span class="kw">this</span>.<span class="at">getYear</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-16" title="16">    <span class="cf">return</span> year</a>
<a class="sourceLine" id="cb3-17" title="17">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-18" title="18">  <span class="kw">var</span> born <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-19" title="19">    <span class="kw">var</span> nYear <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>().<span class="at">getFullYear</span>()</a>
<a class="sourceLine" id="cb3-20" title="20">    <span class="co">// Use the thisObj variable which is the same as this refer to.</span></a>
<a class="sourceLine" id="cb3-21" title="21">    <span class="cf">return</span> nYear <span class="op">-</span> <span class="va">thisObj</span>.<span class="at">getYear</span>()</a>
<a class="sourceLine" id="cb3-22" title="22">    <span class="co">// If I just used &#39;this&#39; directly here, will get error -</span></a>
<a class="sourceLine" id="cb3-23" title="23">    <span class="co">// this.getYear is not a function</span></a>
<a class="sourceLine" id="cb3-24" title="24">    <span class="co">// The &quot;this&quot; keyword inside this function refers to an object</span></a>
<a class="sourceLine" id="cb3-25" title="25">    <span class="co">// created by the constructor function of this function object.</span></a>
<a class="sourceLine" id="cb3-26" title="26">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-27" title="27">  <span class="kw">this</span>.<span class="at">getBornYear</span> <span class="op">=</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-28" title="28">    <span class="cf">return</span> <span class="at">born</span>()</a>
<a class="sourceLine" id="cb3-29" title="29">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-30" title="30"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-31" title="31"><span class="kw">var</span> person <span class="op">=</span> <span class="kw">new</span> <span class="at">Person</span>(<span class="st">&quot;Nikita&quot;</span><span class="op">,</span> <span class="dv">60</span>)</a>
<a class="sourceLine" id="cb3-32" title="32"></a>
<a class="sourceLine" id="cb3-33" title="33"><span class="va">console</span>.<span class="at">log</span>(<span class="va">person</span>.<span class="at">getName</span>()) <span class="co">// =&gt; Nikita</span></a>
<a class="sourceLine" id="cb3-34" title="34"><span class="va">console</span>.<span class="at">log</span>(<span class="va">person</span>.<span class="at">getBornYear</span>()) <span class="co">// =&gt; 1959</span></a>
<a class="sourceLine" id="cb3-35" title="35"><span class="va">console</span>.<span class="at">log</span>(<span class="va">person</span>.<span class="at">born</span>()) <span class="co">// =&gt; person.born is not a function</span></a></code></pre></div>
</body></html>
