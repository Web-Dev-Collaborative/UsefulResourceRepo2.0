<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="./prism.css">
<script async defer src="./prism.js"></script>
</head>
<body>;
<h4 id="this-is-an-example-of-class-free-object-oriented-programming">This is an example of “class-free” object oriented programming</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">const</span> MyObj3 <span class="op">=</span> initVal <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">    <span class="kw">let</span> myVal <span class="op">=</span> initVal<span class="op">;</span></a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">        <span class="dt">get</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">            <span class="cf">return</span> myVal<span class="op">;</span></a>
<a class="sourceLine" id="cb1-6" title="6">        <span class="op">},</span></a>
<a class="sourceLine" id="cb1-7" title="7">        <span class="dt">set</span><span class="op">:</span> <span class="kw">function</span>(val) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-8" title="8">            myVal <span class="op">=</span> val<span class="op">;</span></a>
<a class="sourceLine" id="cb1-9" title="9">        <span class="op">}</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="op">};</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="op">};</span></a></code></pre></div>
<p>Just like the approach above, we can use it to create an object like this:</p>
<p>const x = MyObj3(0)</p>
<p>The myVal variable is essentially private, which means we can no longer access it using x.myVal like in the other implementations above. Instead we have to call the getter function:</p>
<p>x.get()</p>
<h4 id="closures-enable-a-strong-contract">Closures enable a strong contract</h4>
<p>The variable is conceptually “saved” inside the object returned from the function thanks to Javascript closures. This means that we can set the value with the setter method (i.e. x.set(2)), but attempting to directly change the field (i.e. x.myVal = 2) won’t do anything.</p>
<p>The greatest part of having these explicit setters and getters is that the object now has a strong contract/interface with the outside world. The state is fully encapsulated and the only ways in and out of the object is through the setters and getters.</p>
<p>One drawback about using closures is the issue of performance. While there doesn’t seem to be any difference when creating an object, method calls on the object using closures were about 80% slower.</p>
</body></html>
