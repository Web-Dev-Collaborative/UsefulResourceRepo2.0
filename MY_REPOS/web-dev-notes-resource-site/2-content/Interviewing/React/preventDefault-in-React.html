<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="./prism.css">
<script async defer src="./prism.js"></script>
</head>
<body>;
<h4 id="what-is-preventdefault-in-react">What is preventDefault() in React?</h4>
<p>React uses synthetic events to handle events from button, input and form elements. A synthetic event is a shell around the native DOM event with additional information for React.</p>
<p>Lets see the code where</p>
<ul>
<li>A&gt; Initially I have a list as an array ‘initialList’</li>
<li>B&gt; And then add an item to that list by using a form element with input and button elements.</li>
<li>C&gt; In this case, a preventDefault is called on the event when submitting the form to prevent a browser reload/refresh.</li>
<li></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">const</span> initialList <span class="op">=</span> [<span class="st">&quot;Learn React&quot;</span><span class="op">,</span> <span class="st">&quot;Learn Firebase&quot;</span><span class="op">,</span> <span class="st">&quot;Learn GraphQL&quot;</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb1-4" title="4"></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="kw">const</span> ListWithAddItem <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="kw">const</span> [value<span class="op">,</span> setValue] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(<span class="st">&quot;&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="kw">const</span> [list<span class="op">,</span> setList] <span class="op">=</span> <span class="va">React</span>.<span class="at">useState</span>(initialList)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="kw">const</span> handleChange <span class="op">=</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-10" title="10">    <span class="at">setValue</span>(<span class="va">event</span>.<span class="va">target</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-11" title="11">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-12" title="12"></a>
<a class="sourceLine" id="cb1-13" title="13">  <span class="kw">const</span> handleSubmit <span class="op">=</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="cf">if</span> (value) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-15" title="15">      <span class="at">setList</span>(<span class="va">list</span>.<span class="at">concat</span>(value))<span class="op">;</span></a>
<a class="sourceLine" id="cb1-16" title="16">    <span class="op">}</span></a>
<a class="sourceLine" id="cb1-17" title="17"></a>
<a class="sourceLine" id="cb1-18" title="18">    <span class="at">setValue</span>(<span class="st">&quot;&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-19" title="19"></a>
<a class="sourceLine" id="cb1-20" title="20">    <span class="va">event</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-21" title="21">  <span class="op">};</span></a>
<a class="sourceLine" id="cb1-22" title="22"></a>
<a class="sourceLine" id="cb1-23" title="23">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb1-24" title="24">    <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-25" title="25">      <span class="op">&lt;</span>ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-26" title="26">        <span class="op">{</span><span class="va">list</span>.<span class="at">map</span>(item <span class="kw">=&gt;</span> (</a>
<a class="sourceLine" id="cb1-27" title="27">          <span class="op">&lt;</span>li key<span class="op">={</span>item<span class="op">}&gt;{</span>item<span class="op">}</span>&lt;/li<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-28" title="28">        ))<span class="op">}</span></a>
<a class="sourceLine" id="cb1-29" title="29">      &lt;/ul<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-30" title="30"></a>
<a class="sourceLine" id="cb1-31" title="31">      <span class="op">&lt;</span>form onSubmit<span class="op">={</span>handleSubmit<span class="op">}&gt;</span></a>
<a class="sourceLine" id="cb1-32" title="32">        <span class="op">&lt;</span>input type<span class="op">=</span><span class="st">&quot;text&quot;</span> value<span class="op">={</span>value<span class="op">}</span> onChange<span class="op">={</span>handleChange<span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb1-33" title="33">        <span class="op">&lt;</span>button type<span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="op">&gt;</span>Add Item&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-34" title="34">      &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-35" title="35">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-36" title="36">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb1-37" title="37"><span class="op">};</span></a>
<a class="sourceLine" id="cb1-38" title="38"></a>
<a class="sourceLine" id="cb1-39" title="39"><span class="im">export</span> <span class="im">default</span> ListWithAddItem<span class="op">;</span></a></code></pre></div>
<p>Without a preventDefault() a form submission will reload the browser.</p>
<p>Because, all native HTML elements come with their internal native behavior. For instance, input elements store their internal state. That’s why often React is used to take over for having controlled components by managing the state via React.</p>
<p>Similarly a Form element which has a submit event that is invoked via a submit button element, in the past, was desired to refresh the browser to flush all state and to submit the data to a backend. But with React, it gives us more flexibility to deal with the submit event ourselves by invoking the preventDefault()</p>
<p>In another scenario, you may fetch data from a backend and store it in your component’s state. There is no native submission from the form expected anymore, that’s why the developer is able to take over.</p>
<p>In another scenario, you may fetch data from a backend and store it in your component’s state. There is no native submission from the form expected anymore, and the developer should be able to take over in this situation, so he shouldn’t need to worry about any undesired behavior of the browser.</p>
<h4 id="reading">Reading</h4>
<ul>
<li><a href="https://www.robinwieruch.de/react-preventdefault/">https://www.robinwieruch.de/react-preventdefault/</a></li>
</ul>
</body></html>
