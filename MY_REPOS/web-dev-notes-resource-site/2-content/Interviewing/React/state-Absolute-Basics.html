<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
<link rel="stylesheet" href="./prism.css">
<script async defer src="./prism.js"></script>
</head>
<body>;
<h2 id="what-is-state">What is state?</h2>
<p>State is used internally by components to dynamically change data. Unlike props, state can only be set within the component itself. Unlike props, state is a private feature and it strictly belongs to a single Component.</p>
<h4 id="state-cannot-be-accessed-and-modified-outside-of-the-component-and-only-can-be-used-modified-inside-the-component.-props-on-the-other-handmake-components-reusable-by-giving-components-the-ability-to-receive-data-from-the-parent-component-in-the-form-of-props.">State cannot be accessed and modified outside of the component and only can be used &amp; modified inside the component. Props, on the other hand,make components reusable by giving components the ability to receive data from the parent component in the form of props.</h4>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="kw">class</span> Header <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="cf">return</span> <span class="op">&lt;</span>p<span class="op">&gt;</span>Welcome back<span class="op">,</span> <span class="op">{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">firstName</span><span class="op">}</span>&lt;/p<span class="op">&gt;;</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="kw">class</span> App <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-10" title="10">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-11" title="11">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-12" title="12">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-13" title="13">      <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;Eric&quot;</span></a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="op">};</span></a>
<a class="sourceLine" id="cb1-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-17" title="17">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb1-18" title="18">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-19" title="19">        <span class="op">&lt;</span>Header firstName<span class="op">={</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">firstName</span><span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb1-20" title="20">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb1-21" title="21">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb1-22" title="22">  <span class="op">}</span></a>
<a class="sourceLine" id="cb1-23" title="23"><span class="op">}</span></a>
<a class="sourceLine" id="cb1-24" title="24"></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<p>This is very similar to the first example with just a few minor differences. Notice how our main App class now defines a constructor() function. Note that we must call super since this is an ES6 subclass.</p>
Notice how we define a this.state object with a firstName property. Instead of passing a hard coded value to the
<Header />
<p>component, we pass {this.state.firstName}. While our Header class still references this.props, the property value is being set by a state property.</p>
<h3 id="the-difference-between-state-and-props">The difference between state and props</h3>
<p>You may be asking yourself, “Why both?”. After all, they both pass data to child components.</p>
<h3 id="immutability">Immutability</h3>
<p>A key difference between state and props is that props are read-only. You can’t change the value of a property from within the component itself. Properties are externally passed into components as configuration values and read within the components themselves.</p>
<p>State is the opposite. The state object is defined internally and can change over time. Using the setState() method, you can change the state object to dynamically update React components:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-2" title="2"></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw">class</span> Header <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-5" title="5">    <span class="cf">return</span> <span class="op">&lt;</span>p<span class="op">&gt;</span>Welcome back<span class="op">,</span> <span class="op">{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">firstName</span><span class="op">}</span>&lt;/p<span class="op">&gt;;</span></a>
<a class="sourceLine" id="cb2-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-8" title="8"></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="kw">class</span> App <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-10" title="10">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-11" title="11">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb2-12" title="12">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-13" title="13">      <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;Eric&quot;</span></a>
<a class="sourceLine" id="cb2-14" title="14">    <span class="op">};</span></a>
<a class="sourceLine" id="cb2-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-16" title="16"></a>
<a class="sourceLine" id="cb2-17" title="17">  <span class="at">updateState</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-18" title="18">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-19" title="19">      <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;Fred&quot;</span></a>
<a class="sourceLine" id="cb2-20" title="20">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-21" title="21">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-22" title="22">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-23" title="23">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb2-24" title="24">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-25" title="25">        <span class="op">&lt;</span>Header firstName<span class="op">={</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">firstName</span><span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb2-26" title="26">        <span class="op">&lt;</span>button onClick<span class="op">={</span><span class="kw">this</span>.<span class="va">updateState</span>.<span class="at">bind</span>(<span class="kw">this</span>)<span class="op">}&gt;</span>Update name&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-27" title="27">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb2-28" title="28">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb2-29" title="29">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-30" title="30"><span class="op">}</span></a>
<a class="sourceLine" id="cb2-31" title="31"></a>
<a class="sourceLine" id="cb2-32" title="32"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<p>Building off our same example, you’ll notice we’ve added an updateState() wrapper function that calls this.setState(). When setState() fires, React redraws the component with the registered state changes.</p>
<p>Notice how the main App class now returns a <button /> element. We’ve added an onClick() event which fires updateState() via this.updateState.bind(this). Please note that we must bind this to the function so it has the appropriate context.</p>
<p>If you run the example, you’ll notice the name updates to Fred after clicking the button. This demonstrates how state gives you the ability to dynamically update components.</p>
<h3 id="validation">Validation</h3>
<p>You can validate props. You can’t validate state.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-2" title="2"><span class="im">import</span> PropTypes <span class="im">from</span> <span class="st">&quot;prop-types&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="kw">class</span> Header <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-6" title="6">    <span class="cf">return</span> <span class="op">&lt;</span>p<span class="op">&gt;</span>Welcome back<span class="op">,</span> <span class="op">{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">firstName</span><span class="op">}</span>&lt;/p<span class="op">&gt;;</span></a>
<a class="sourceLine" id="cb3-7" title="7">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-9" title="9"></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="kw">class</span> App <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-11" title="11">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-12" title="12">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb3-13" title="13">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-14" title="14">        <span class="op">&lt;</span>Header firstName<span class="op">={</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">firstName</span><span class="op">}</span> /&gt;</a>
<a class="sourceLine" id="cb3-15" title="15">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-16" title="16">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb3-17" title="17">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-18" title="18"><span class="op">}</span></a>
<a class="sourceLine" id="cb3-19" title="19"></a>
<a class="sourceLine" id="cb3-20" title="20"><span class="va">App</span>.<span class="at">propTypes</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-21" title="21">  <span class="dt">firstName</span><span class="op">:</span> <span class="va">PropTypes</span>.<span class="va">string</span>.<span class="at">isRequired</span></a>
<a class="sourceLine" id="cb3-22" title="22"><span class="op">};</span></a>
<a class="sourceLine" id="cb3-23" title="23"></a>
<a class="sourceLine" id="cb3-24" title="24"><span class="va">App</span>.<span class="at">defaultProps</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb3-25" title="25">  <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;Eric&quot;</span></a>
<a class="sourceLine" id="cb3-26" title="26"><span class="op">};</span></a>
<a class="sourceLine" id="cb3-27" title="27"></a>
<a class="sourceLine" id="cb3-28" title="28"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<p>The above example demonstrates how to implement validation with properties. Notice the App.propTypes and App.defaultProps have been added to validate props and set default values</p>
<h3 id="accessibility">Accessibility</h3>
<p>Remember that you externally define props and internally use state. While props are immutable values that you pass into components, state is defined internally by components.</p>
<h3 id="you-can-indirectly-update-a-parents-state-from-within-a-child-component">You can indirectly update a parent’s state from within a child component:</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="im">import</span> React <span class="im">from</span> <span class="st">&quot;react&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">class</span> Header <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-4" title="4">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-5" title="5">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb4-6" title="6">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-7" title="7">        <span class="op">&lt;</span>p<span class="op">&gt;</span>Welcome back<span class="op">,</span> <span class="op">{</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">firstName</span><span class="op">}</span>&lt;/p<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-8" title="8">        <span class="op">&lt;</span>button onClick<span class="op">={</span><span class="kw">this</span>.<span class="va">props</span>.<span class="at">updateName</span><span class="op">}&gt;</span>Update name<span class="op">!</span>&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-9" title="9">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-10" title="10">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb4-11" title="11">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-12" title="12"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-13" title="13"></a>
<a class="sourceLine" id="cb4-14" title="14"><span class="kw">class</span> App <span class="kw">extends</span> <span class="va">React</span>.<span class="at">Component</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-15" title="15">  <span class="at">constructor</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-16" title="16">    <span class="kw">super</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb4-17" title="17">    <span class="kw">this</span>.<span class="at">state</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb4-18" title="18">      <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;Eric&quot;</span></a>
<a class="sourceLine" id="cb4-19" title="19">    <span class="op">};</span></a>
<a class="sourceLine" id="cb4-20" title="20">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-21" title="21"></a>
<a class="sourceLine" id="cb4-22" title="22">  <span class="at">updateState</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-23" title="23">    <span class="kw">this</span>.<span class="at">setState</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb4-24" title="24">      <span class="dt">firstName</span><span class="op">:</span> <span class="st">&quot;Fred&quot;</span></a>
<a class="sourceLine" id="cb4-25" title="25">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb4-26" title="26">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-27" title="27">  <span class="at">render</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb4-28" title="28">    <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb4-29" title="29">      <span class="op">&lt;</span>div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-30" title="30">        <span class="op">&lt;</span>Header</a>
<a class="sourceLine" id="cb4-31" title="31">          updateName<span class="op">={</span><span class="kw">this</span>.<span class="va">updateState</span>.<span class="at">bind</span>(<span class="kw">this</span>)<span class="op">}</span></a>
<a class="sourceLine" id="cb4-32" title="32">          firstName<span class="op">={</span><span class="kw">this</span>.<span class="va">state</span>.<span class="at">firstName</span><span class="op">}</span></a>
<a class="sourceLine" id="cb4-33" title="33">        /&gt;</a>
<a class="sourceLine" id="cb4-34" title="34">      &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-35" title="35">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb4-36" title="36">  <span class="op">}</span></a>
<a class="sourceLine" id="cb4-37" title="37"><span class="op">}</span></a>
<a class="sourceLine" id="cb4-38" title="38"></a>
<a class="sourceLine" id="cb4-39" title="39"><span class="im">export</span> <span class="im">default</span> App<span class="op">;</span></a></code></pre></div>
<h3 id="weve-changed-a-few-things-up-in-this-example.-notice-how-we-pass-the-updatestate-function-as-a-prop-via-updatename.-we-then-call-updatestate-directly-within-the-child-component.-notice-how-the-tag-has-been-added-under-the-child-components-return-function.">We’ve changed a few things up in this example. Notice how we pass the updateState() function as a prop via updateName. We then call updateState() directly within the child component. Notice how the <button /> tag has been added under the child component’s return() function.</h3>
<h2 id="when-to-use-state-vs-props">When to use state vs props</h2>
<p>1 - The last example is important because it demonstrates the proper use of state. You want to minimize the number of “stateful” components you have. By defining state at a root level and propagating data changes downward via props, you keep components consistent with data changes. This facilitates unidirectional data flow and makes React components easy to test.</p>
<h4 id="props-vs.-state-comes-down-to-who-owns-this-data">2 - Props vs. state comes down to “who owns this data?”</h4>
<p>If data is managed by one component, but another component needs access to that data, you’d pass the data from the one component to the other component via props.</p>
<p>If a component manages the data itself, it should use state and setState to manage it.</p>
<h3 id="conclusion">Conclusion</h3>
<p>State and props are used together to control data flow with React components. While props are used to pass immutable data to child elements, state allows components to dynamically update and propagate changes in a unidirectional pattern.</p>
</body></html>
