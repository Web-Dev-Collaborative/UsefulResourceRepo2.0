<h1 id="week-4-intermediate-javascript-part-2" data-ignore="true">WEEK 4<br><em>Intermediate JavaScript (Part 2)</em></h1>
<hr />
<!-- code_chunk_output -->
<p><a href="#browser-basics-learning-objectives"><strong>Browser Basics Learning Objectives</strong></a> - <a href="#browsers-theyre-the-bom-dot-com">Browsers: They’re The BOM Dot Com!</a> - <a href="#the-dom-vs-the-bom">The DOM vs. the BOM</a> - <a href="#the-browser-diagram">The browser diagram</a> - <a href="#the-request-response-cycle">The Request-Response Cycle</a> - <a href="#the-request-response-cycle-diagram">The request-response cycle diagram</a> - <a href="#the-browsers-role-in-the-request-response-cycle">The browser’s role in the request-response cycle</a> - <a href="#running-scripts-in-the-browser">Running Scripts In The Browser</a> - <a href="#using-the-window-api">Using the Window API</a> - <a href="#context-scope-and-anonymous-functions">Context, scope, and anonymous functions</a> - <a href="#running-a-script-on-domcontentloaded">Running a script on DOMContentLoaded</a> - <a href="#running-a-script-on-page-load">Running a script on page load</a> - <a href="#ways-to-prevent-a-script-from-running-until-page-loads">Ways to prevent a script from running until page loads</a> - <a href="#project-fresh-cookies-in-the-window-come-and-get-em">Project: Fresh Cookies In The Window: Come And Get ‘Em!</a> - <a href="#introduction">Introduction</a> - <a href="#project-overview">Project overview</a> - <a href="#phase-1-using-a-local-nodeexpress-server-_whoa_">Phase 1: Using a local Node/Express server (<em>Whoa!</em>)</a> - <a href="#phase-2-add-a-script-on-dompage-load-_practice-makes-perfect_">Phase 2: Add a script on DOM/page load (<em>Practice makes perfect.</em>)</a> - <a href="#phase-3-set-a-cookie-in-the-window-_freshly-baked_">Phase 3: Set a cookie in the window (<em>Freshly baked!</em>)</a> - <a href="#phase-4-no-such-thing-as-just-one-more-cookie">Phase 4: No such thing as just one more cookie</a> - <a href="#phase-5-gimme-all-the-cookies">Phase 5: Gimme all the cookies</a> - <a href="#phase-6-removing-a-cookie">Phase 6: Removing a cookie</a> - <a href="#bonuses-more-fun-with-cookies">Bonuses: More fun with cookies!</a> - <a href="#bonus-a-open-a-new-window-and-resize-it-based-on-cookie-value-_smells-great_">Bonus A: Open a new window and resize it based on cookie value (<em>Smells great!</em>)</a></p>
<p><a href="#element-selection-learning-objectives"><strong>Element Selection Learning Objectives</strong></a> - <a href="#hello-world-domination-element-selection-and-placement">Hello, World DOMination: Element Selection And Placement</a> - <a href="#what-is-the-dom">What is the DOM?</a> - <a href="#referencing-the-dom">Referencing the DOM</a> - <a href="#creating-new-dom-elements">Creating New DOM Elements</a> - <a href="#hello-world-domination-inserting-elements-in-js-file-and-script-block">Hello, World DOMination: Inserting Elements in JS File and Script Block</a> - <a href="#referencing-a-js-file-vs-using-a-script-block">Referencing a JS File vs. Using a Script Block</a> - <a href="#hello-world-domination-adding-a-css-class-after-dom-load-event">Hello, World DOMination: Adding a CSS Class After DOM Load Event</a> - <a href="#brush-up-on-your-html">Brush Up On Your HTML</a> - <a href="#hello-world-domination-consolelog-elementinnerhtml-and-the-date-object">Hello, World DOMination: Console.log, Element.innerHTML, and the Date Object</a> - <a href="#console-logging-element-values">Console Logging Element Values</a> - <a href="#using-elementinnerhtml">Using Element.innerHTML</a> - <a href="#inserting-a-date-object-into-the-dom">Inserting a Date Object into the DOM</a> - <a href="#dom-project-create-a-profile-page-with-javascript">DOM Project: Create a profile page with Javascript</a> - <a href="#introduction-1">Introduction</a> - <a href="#project-overview-1">Project Overview</a> - <a href="#phase-1-setting-up-your-html-and-javascript-files">Phase 1: Setting up your HTML and Javascript files</a> - <a href="#phase-2-populating-your-profile">Phase 2: Populating your profile</a> - <a href="#phase-3-adding-css-classes-and-styles">Phase 3: Adding CSS classes and styles</a> - <a href="#phase-4-adding-a-clock-with-the-date-object">Phase 4: Adding a clock with the Date object</a> - <a href="#bonus-youre-so-extra">Bonus: You’re so extra!</a></p>
<p><a href="#event-handling-learning-objectives"><strong>Event Handling Learning Objectives</strong></a> - <a href="#event-handling-common-page-events">Event Handling: Common Page Events</a> - <a href="#handling-a-button-click-event">Handling a button click event</a> - <a href="#handling-a-checkbox-check-event">Handling a checkbox check event</a> - <a href="#handling-a-user-input-value">Handling a user input value</a> - <a href="#event-handling-input-focus-and-blur">Event Handling: Input Focus and Blur</a> - <a href="#listening-for-focus-and-blur-events">Listening for focus and blur events</a> - <a href="#event-handling-form-validation">Event Handling: Form Validation</a> - <a href="#validate-passwords-before-submitting-a-form">Validate passwords before submitting a form</a> - <a href="#event-handling-html-drag-and-drop-api">Event Handling: HTML Drag-And-Drop API</a> - <a href="#basic-drag-and-drop-functions">Basic drag-and-drop functions</a> - <a href="#the-example">The example</a> - <a href="#the-first-step-of-drag-and-drop">The first step of drag and drop</a> - <a href="#event-handling-click-events-with-eventtarget">Event Handling: Click Events With Event.target</a> - <a href="#use-eventtarget-to-consolelog-the-id-of-a-clicked-div">Use event.target to console.log the ID of a clicked div</a> - <a href="#event-handling-the-bubbling-principle">Event Handling: The Bubbling Principle</a> - <a href="#what-is-the-bubbling-principle">What is the bubbling principle?</a> - <a href="#an-event-bubbling-example">An event bubbling example</a> - <a href="#stopping-event-bubbling-with-stoppropagation">Stopping event bubbling with stopPropagation()</a> - <a href="#event-delegation">Event delegation</a> - <a href="#project-event-handling-with-mr-spud-face">Project: Event Handling With Mr. Spud Face</a> - <a href="#project-overview-2">Project overview</a> - <a href="#phase-1-create-a-spud-drivers-license">Phase 1: Create a spud driver’s license</a> - <a href="#phase-2-add-focus-and-blur-events-to-form-inputs">Phase 2: Add focus and blur events to form inputs</a> - <a href="#phase-3-check-that-license-numbers-match">Phase 3: Check that license numbers match</a> - <a href="#phase-4-update-submit-button-click-count">Phase 4: Update submit button click count</a> - <a href="#bonus-mr-spud-face-drag-and-drop-game">Bonus: Mr. Spud Face Drag-and-Drop Game</a></p>
<p><a href="#json-learning-objectives"><strong>JSON Learning Objectives</strong></a> <a href="#storage-learning-objectives"><strong>Storage Learning Objectives</strong></a> - <a href="#cookies-and-web-storage">Cookies and Web Storage</a> - <a href="#cookies">Cookies</a> - <a href="#web-storage-api">Web Storage API</a> - <a href="#jason-no-json">Jason? No, JSON!</a> - <a href="#json-is-a-format">JSON is a format!</a> - <a href="#why-all-the-confusion">Why all the confusion?</a> - <a href="#remind-me-about-javascript-literals">“Remind me about JavaScript literals…”</a> - <a href="#boolean-numeric-and-null-values">Boolean, numeric, and null values</a> - <a href="#string-literals-in-json">String literals in JSON</a> - <a href="#array-values">Array values</a> - <a href="#object-values">Object values</a> - <a href="#some-terminology">Some terminology</a> - <a href="#using-the-built-in-json-object">Using the built-in JSON object</a> - <a href="#you-will-almost-never-write-raw-json">You will almost never write raw JSON</a> - <a href="#brain-teaser">Brain teaser</a> - <a href="#using-web-storage-to-store-data-in-the-browser">Using Web Storage To Store Data In The Browser</a> - <a href="#storing-data-in-local-storage">Storing data in local storage</a> - <a href="#reading-data-in-local-storage">Reading data in local storage</a> - <a href="#json-and-local-storage">JSON and local storage</a> - <a href="#project-shop-local-storage">Project: Shop Local Storage!</a> - <a href="#project-overview-3">Project overview</a> - <a href="#phase-1-write-a-function-to-store-an-item-in-the-cart">Phase 1: Write a function to store an item in the cart</a> - <a href="#phase-2-write-a-function-to-display-the-cart-items">Phase 2: Write a function to display the cart items</a> - <a href="#phase-3-write-a-function-to-remove-items-from-the-cart">Phase 3: Write a function to remove items from the cart</a> - <a href="#check-that-your-shopping-cart-functions-correctly">Check that your shopping cart functions correctly</a> - <a href="#bonus-a-update-cart-item-quantities-and-reset-values">Bonus A: Update cart item quantities and reset values</a> - <a href="#bonus-b-calculate-the-item-totals">Bonus B: Calculate the item totals</a></p>
<!-- /code_chunk_output -->
<hr />
<h1 id="week-04-day-1-browser-basics" data-ignore="true">WEEK-04 DAY-1<br><em>Browser Basics</em></h1>
<hr />
<h1 id="browser-basics-learning-objectives">Browser Basics Learning Objectives</h1>
<p>Below is a complete list of the terminal learning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p>
<ol type="1">
<li>Explain the difference between the BOM (browser object model) and the DOM(document object model).</li>
<li>Given a diagram of all the different parts of the Browser identify each part. Use the Window API to change the innerHeight of a user’s window.</li>
<li>Identify the context of an anonymous functions running in the Browser (the window).</li>
<li>Given a JS file and an HTML file, use a script tag to import the JS file and execute the code therein when all the elements on the page load (using <code>DOMContentLoaded</code>)</li>
<li>Given a JS file and an HTML file, use a script tag to import the JS file and execute the code therein when the page loads</li>
<li>Identify three ways to prevent JS code from executing until an entire HTML page is loaded</li>
<li>Label a diagram on the Request/Response cycle.</li>
<li>Explain the Browser’s main role in the request/response cycle. (1.Parsing HTML,CSS, JS 2. Rendering that information to the user by constructing a DOM tree and rendering it)</li>
<li>Given several detractors - identify which real-world situations could be implemented with the Web Storage API (shopping cart, forms saving inputs etc.)</li>
<li><p>Given a website to visit that depends on cookies (like Amazon), students should be able to go to that site add something to their cart and then delete that cookie using the Chrome Developer tools in order to empty their cart.minal learning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p></li>
<li>Explain the difference between the BOM (browser object model) and the DOM(document object model).</li>
<li>Given a diagram of all the different parts of the Browser identify each part. Use the Window API to change the innerHeight of a user’s window.</li>
<li>Identify the context of an anonymous functions running in the Browser (the window).</li>
<li>Given a JS file and an HTML file, use a script tag to import the JS file and execute the code therein when all the elements on the page load (using <code>DOMContentLoaded</code>)</li>
<li>Given a JS file and an HTML file, use a script tag to import the JS file and execute the code therein when the page loads</li>
<li>Identify three ways to prevent JS code from executing until an entire HTML page is loaded</li>
<li>Label a diagram on the Request/Response cycle.</li>
<li>Explain the Browser’s main role in the request/response cycle. (1.Parsing HTML,CSS, JS 2. Rendering that information to the user by constructing a DOM tree and rendering it)</li>
<li>Given several detractors - identify which real-world situations could be implemented with the Web Storage API (shopping cart, forms saving inputs etc.)</li>
<li><p>Given a website to visit that depends on cookies (like Amazon), students should be able to go to that site add something to their cart and then delete that cookie using the Chrome Developer tools in order to empty their cart.</p></li>
</ol>
<hr />
<h1 id="browsers-theyre-the-bom-dot-com">Browsers: They’re The BOM Dot Com!</h1>
<p>If the Internet exists, but there’s no way to browse it, does it even really exist? Unless you’ve been living under a rock for the past couple decades, you should know what a browser is, and you probably use it multiple times a day. Browsers are something most people take for granted, but behind the scenes is a complex structure working to display information to users who browse the Web.</p>
<p>Web developers rely on browsers constantly. They can be your best friend or your worst enemy. (<em>Yes, we’re looking at you, IE!</em>) Spending some time learning about browsers will help you get a higher-level understanding of how the Web operates, how to debug, and how to write code that works across browsers. In this reading, we’ll learn about the BOM (Browser Object Model), how it’s structured, and how it differs from the DOM (Document Object Model).</p>
<h2 id="the-dom-vs.-the-bom">The DOM vs. the BOM</h2>
<p>By now, you’ve learned about the <strong>DOM, or Document Object Model</strong>, and that it contains a collection of nodes (HTML elements), that can be accessed and manipulated. In essence, the <code>document</code> object is a Web page, and the DOM represents the object hierarchy of that document.</p>
<p>How do we access a document on the Web? Through a browser, of course! If we took a bird’s-eye view of the browser, we would see that the document object is part of a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">hierarchy of browser objects</a>. This hierarchy is known as the <strong>BOM, or Browser Object Model</strong>.</p>
<p>The chief browser object is the <code>window</code> object, which contains properties and methods we can use to access different objects within the window. These include:</p>
<ul>
<li><code>window.navigator</code>
<ul>
<li>Returns a reference to the navigator object.</li>
</ul></li>
<li><code>window.screen</code>
<ul>
<li>Returns a reference to the screen object associated with the window.</li>
</ul></li>
<li><code>window.history</code>
<ul>
<li>Returns a reference to the history object.</li>
</ul></li>
<li><code>window.location</code>
<ul>
<li>Gets/sets the location, or current URL, of the window object.</li>
</ul></li>
<li><code>window.document</code>, which can be shortened to just <code>document</code>
<ul>
<li>Returns a reference to the document that the window contains.</li>
</ul></li>
</ul>
<p>Note how we can shorten <code>window.document</code> to <code>document.</code> For example, the <code>document</code> in <code>document.getElementById(‘id’)</code> actually refers to <code>window.document</code>. All of the methods above can be shortened in the same way.</p>
<h2 id="the-browser-diagram">The browser diagram</h2>
<p>We started in the DOM, and we stepped outside it into the BOM. Now, let’s take an even higher view of the browser itself. Take a look at this diagram depicting a high-level structure of the browser, from <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">html5rocks.com</a>:</p>
<p>
<img src="images/browser.png" style="width: 100%; height: auto;">
</p>
<ul>
<li><strong>User interface</strong>: This is the browser interface that users interact with, including the address bar, back and forward buttons, bookmarks menu, etc. It includes everything except for the requested page content.</li>
<li><strong>Browser engine</strong>: Manages the interactions between the UI and the rendering engine.</li>
<li><strong>Rendering engine</strong>: Displays, or renders, the requested page content. If the requested content is HTML, it will parse HTML and CSS and render the parsed content.</li>
<li><strong>Networking</strong>: Handles network calls, such as HTTP requests.</li>
<li><strong>Javascript interpreter</strong>: Parses and executes JavaScript code.</li>
<li><strong>UI backend</strong>: Used for drawing basic widgets like combo boxes and windows; uses operating system user interface methods.</li>
<li><strong>Data storage</strong>: The persistence of data stored in the browser, such as cookies.</li>
</ul>
<h2 id="what-we-learned">What we learned:</h2>
<ul>
<li>Review of the DOM, or Document Object Model</li>
<li>How the BOM differs from the DOM</li>
<li>The window object and related methods</li>
</ul>
<hr />
<h1 id="the-request-response-cycle">The Request-Response Cycle</h1>
<p>Browsing the Web might seem like magic, but it’s really just a series of <strong>requests</strong> and <strong>responses</strong>. When we search for information or navigate to a Web page, we are requesting something, and we expect to get a response back.</p>
<p>We can think about the request-response cycle as the communication pattern between a client, or browser, and a server. Whenever we type a URL into the address bar of a browser, we are making a <em>request</em> to a server for information back. The most common of these is an <code>http request</code>.</p>
<h2 id="the-request-response-cycle-diagram">The request-response cycle diagram</h2>
<p>Let’s take a look at this diagram of the request-response cycle from <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">O’Reily</a>:</p>
<p>
<img src="images/request-response-cycle.png" style="width: 100%; height: auto;">
</p>
<p>On the left is the <strong>client</strong> side, or the browser. On the right is the <strong>server</strong> side, with a database where data is stored. The internet, in the middle, is a series of these client requests and server responses. We’ll be going into more depth with servers soon, but for right now we are focusing on the client side.</p>
<h2 id="the-browsers-role-in-the-request-response-cycle">The browser’s role in the request-response cycle</h2>
<p>As depicted in the diagram, the browser plays a key role in the request-response cycle. Besides letting the user make the request to the server, the browser also:</p>
<ol type="1">
<li>Parses HTML, CSS, and JS</li>
<li>Renders that information to the user by constructing and rendering a DOM tree</li>
</ol>
<p>When we make a successful request to the server, we are able to view a Web page with content and functionality. Unsuccessful requests prevent the page from loading and displaying information. You’ve probably seen a 404 page before!</p>
<p>Understanding the request-response cycle is fundamental to developing for the Web. If a server is down, or something is wrong with the request, you’ll most likely see an error on the client side. Learning how to debug these errors and set up error handling is a common task for Web developers.</p>
<p>You can go to the <strong>Network tab</strong> of your browser’s <strong>Developer Tools</strong> to view these requests and responses. Open a new tab, open up the Developer Tools in your browser, and then navigate to <code>google.com</code>. Watch the request go through in your Network tab!</p>
<h2 id="what-we-learned-1">What we learned:</h2>
<ul>
<li>Reviewed diagram of request-response cycle</li>
<li>The client side vs. the server side</li>
<li>The role of the browser</li>
<li>Where to view Network requests in the browser</li>
</ul>
<hr />
<h1 id="running-scripts-in-the-browser">Running Scripts In The Browser</h1>
<p>Timing is everything, in life as well as in code that runs in a browser. Executing a script at the right time is an important part of developing front-end code. A script that runs too early or too late can cause bugs and dramatically affect user experience. After reading this section, you should be able to utilize the proper methods for ensuring your scripts run at the right time.</p>
<p>In previous sections, we reviewed how the DOM and BOM works and used event listeners to trigger script execution. In this lesson, we’ll dig deeper into the <code>window</code> object and learn multiple ways to ensure a script runs after the necessary objects are loaded.</p>
<h2 id="using-the-window-api">Using the Window API</h2>
<p>The <code>window</code> object, the core of the Browser Object Model (BOM), has a number of properties and methods that we can use to reference the window object. Refer to the MDN documentation on the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">Window API</a> for a detailed list of methods and properties. We’ll explore some of these methods now to give you a better grasp on what the <code>window</code> object can do for you.</p>
<p>Let’s use a Window API method called <code>resizeTo()</code> to change the width and height of a user’s window in a script.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="co">// windowTest.js</span></a>
<a class="sourceLine" id="cb1-2" title="2"></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">// Open a new window</span></a>
<a class="sourceLine" id="cb1-4" title="4">newWindow <span class="op">=</span> <span class="va">window</span>.<span class="at">open</span>(<span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;&quot;</span><span class="op">,</span> <span class="st">&quot;width=100, height=100&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-5" title="5"></a>
<a class="sourceLine" id="cb1-6" title="6"><span class="co">// Resize the new window</span></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="va">newWindow</span>.<span class="at">resizeTo</span>(<span class="dv">500</span><span class="op">,</span> <span class="dv">500</span>)<span class="op">;</span></a></code></pre></div>
<p>You can execute the code above in your web browser in Google Chrome by right clicking the page, selecting inspect, and selecting the console tab. Paste the code above into the console. When you do this, make sure you are not in full-screen mode for Chrome, otherwise you won’t be able to resize the new window!</p>
<p><em>Note: You must open a new window using <code>window.open</code> before it can be resized. This method won’t work in an already open window or in a new tab.</em></p>
<p>Check out the documentation on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">Window.resizeTo()</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">Window.resizeBy()</a> for more information.</p>
<p>Go to <a href="https://en.wikipedia.org/">wikipedia</a> and try setting the window scroll position by pasting <code>window.scroll(0,300)</code> in the developer console (right click, inspect, console like usual). Play around with different scroll values. Pretty neat, huh?</p>
<h2 id="context-scope-and-anonymous-functions">Context, scope, and anonymous functions</h2>
<p>Two important terms to understand when you’re developing in Javascript are <strong>context</strong> and <strong>scope</strong>. Ryan Morr has a great write-up about the differences between the two here: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">“Understanding Scope and Context in Javascript”</a>.</p>
<p>The important things to note about <strong>context</strong> are:</p>
<ol type="1">
<li>Every function has a context (as well as a scope).</li>
<li>Context refers to the object that <em>owns</em> the function (i.e. the value of <em>this</em> inside a given function).</li>
<li>Context is most often determined by how a function is invoked.</li>
</ol>
<p>Take, for example, the following code:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">const</span> foo <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">bar</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="cf">return</span> <span class="kw">this</span><span class="op">;</span></a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-5" title="5"><span class="op">};</span></a>
<a class="sourceLine" id="cb2-6" title="6"><span class="va">console</span>.<span class="at">log</span>(<span class="va">foo</span>.<span class="at">bar</span>() <span class="op">===</span> foo)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">// returns true</span></a></code></pre></div>
<p>The anonymous function above is a method of the <code>foo</code> object, which means that <code>this</code> returns the object itself — the context, in this case.</p>
<p>What about functions that are unbound to an object, or not scoped inside of another function? Try running this anonymous function, and see what happens.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1">(<span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="kw">this</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3"><span class="op">}</span>)()<span class="op">;</span></a></code></pre></div>
<p>When you open your console in the browser and run this code, you should see the <code>window</code> object printed. When a function is called in the global scope, <code>this</code> defaults to the global context, or in the case of running code in the browser, the <code>window</code> object.</p>
<p>Refer to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">“Understanding Scope and Context in Javascript”</a> for more about the scope chain, closures, and using <code>.call()</code> and <code>.apply()</code> on functions.</p>
<h2 id="running-a-script-on-domcontentloaded">Running a script on DOMContentLoaded</h2>
<p>Now you will learn how to run a script on <code>DOMContentLoaded</code>, when the document has been loaded without waiting for stylesheets, images and subframes to load.</p>
<p>Let’s practice. Set up an HTML file, import an external JS file, and run a script on <code>DOMContentLoaded</code>.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb4-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb4-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb4-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src=</span><span class="st">&quot;dom-ready-script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb4-6" title="6">  <span class="kw">&lt;body&gt;&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb4-7" title="7">  <span class="kw">&lt;html&gt;&lt;/html&gt;</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p><strong>JS</strong></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;This script loaded when the DOM was ready.&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="running-a-script-on-page-load">Running a script on page load</h2>
<p><code>DOMContentLoaded</code> ensures that a script will run when the document has been loaded without waiting for stylesheets, images and subframes to load. However, if we wanted to wait for <strong>everything</strong> in the document to load before running the script, we could instead use the <code>window</code> object method <code>window.onload</code>.</p>
<p>Let’s practice it here. Set up an HTML file, import an external JS file, and run a script on <code>window.onload</code>.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb6-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb6-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb6-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src=</span><span class="st">&quot;window-load-script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb6-5" title="5">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb6-6" title="6">  <span class="kw">&lt;body&gt;&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb6-7" title="7">  <span class="kw">&lt;html&gt;&lt;/html&gt;</span></a>
<a class="sourceLine" id="cb6-8" title="8"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p><strong>JS</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb7-1" title="1"><span class="va">window</span>.<span class="at">onload</span> <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb7-2" title="2">  <span class="va">console</span>.<span class="at">log</span>(</a>
<a class="sourceLine" id="cb7-3" title="3">    <span class="st">&quot;This script loaded when all the resources and the DOM were ready.&quot;</span></a>
<a class="sourceLine" id="cb7-4" title="4">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="op">};</span></a></code></pre></div>
<h2 id="ways-to-prevent-a-script-from-running-until-page-loads">Ways to prevent a script from running until page loads</h2>
<p>There are actually multiple ways to prevent a script from running until the page has loaded. We’ll review three of them here:</p>
<ol type="1">
<li>Use the <code>DOMContentLoaded</code> event in an external JS file</li>
<li>Put a script tag importing your external code at the bottom of your HTML file</li>
<li>Add an attribute to the script tag, like <code>async</code> or <code>defer</code></li>
</ol>
<p>We’ve reviewed the first method above. Let’s now review numbers <strong>2</strong> and <strong>3</strong>. If you want to make sure that all your HTML has loaded before a script runs, an easy option is to include your script immediately after the HTML you need. This works because HTML builds the DOM tree in the order of how your HTML file is structured. Whatever is on top will be loaded first, such as script tags in the <code>&lt;head&gt;</code>. It makes sense, then, to keep your script at the bottom of your HTML, right before the closing <code>&lt;/body&gt;</code> tag, like below.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb8-1" title="1"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb8-2" title="2">  <span class="kw">&lt;head&gt;&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb8-3" title="3">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb8-4" title="4">    …</a>
<a class="sourceLine" id="cb8-5" title="5">    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;script.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb8-6" title="6">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb8-7" title="7"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>If you want to include your script in the <code>&lt;head&gt;</code> tags, rather than the <code>&lt;body&gt;</code> tags, there is another option: We could use the <code>async</code> or <code>defer</code> methods in our <code>&lt;script&gt;</code> tag. <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll">Flavio Copes has a great write-up</a> on using <code>async</code> or <code>defer</code> with graphics showing exactly when the browser parses HTML, fetches the script, and executes the script.</p>
<p>With <code>async</code>, a script is fetched asynchronously. After the script is fetched, HTML parsing is paused to execute the script, and then it’s resumed. With <code>defer</code>, a script is fetched asynchronously and is executed only after HTML parsing is finished.</p>
<p>You can use the <code>async</code> and <code>defer</code> methods independently or simultaneously. Newer browsers recognize <code>async</code>, while older ones recognize <code>defer</code>. If you use <code>async defer</code> simultaneously, <code>async</code> takes precedence, while older browsers that don’t recognize it will default to <code>defer</code>. Check <code>caniuse.com</code> to see which browsers are compatible with <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">async</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/parentNode">defer</a>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb9-1" title="1">  <span class="op">&lt;</span>script <span class="kw">async</span> src<span class="op">=</span><span class="st">&quot;scriptA.js&quot;</span><span class="op">&gt;</span>&lt;/script<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-2" title="2"></a>
<a class="sourceLine" id="cb9-3" title="3">  <span class="op">&lt;</span>script defer src<span class="op">=</span><span class="st">&quot;scriptB.js&quot;</span><span class="op">&gt;</span>&lt;/script<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb9-4" title="4"></a>
<a class="sourceLine" id="cb9-5" title="5">  <span class="op">&lt;</span>script <span class="kw">async</span> defer src<span class="op">=</span><span class="st">&quot;scriptC.js&quot;</span><span class="op">&gt;</span>&lt;/script<span class="op">&gt;</span></a></code></pre></div>
<h2 id="what-we-learned-2">What we learned:</h2>
<ul>
<li>How to use Window API methods</li>
<li>The context and scope of a function</li>
<li>Review of <code>DOMContentLoaded</code> and <code>window.onload</code></li>
<li>How to prevent a script from running until a page loads</li>
</ul>
<hr />
<h1 id="project-fresh-cookies-in-the-window-come-and-get-em">Project: Fresh Cookies In The Window: Come And Get ‘Em!</h1>
<p>Now that you know all about the browser, the BOM, and the window, let’s get cooking! In this project, you will:</p>
<ul>
<li>Set up a server and run files locally</li>
<li>Practice running a script when the page has loaded</li>
<li>Set, Get, and Delete cookies using JavaScript</li>
<li>Open and resize a window using JavaScript</li>
</ul>
<h2 id="introduction">Introduction</h2>
<p>Picture yourself baking some fresh cookies (chocolate chip? snickerdoodle? peanut butter?) on a crisp autumn day.</p>
<p>The timer’s gone off, and as you take the piping hot tray out of the oven, you salivate in anticipation of a tasty treat. But, the cookies are way too hot and need to cool down. You crack open the nearest window just enough, and set the tray down next to it, letting a cool breeze waft over the cookies. You’re looking forward to the first bite!</p>
<p>Let the imagery above be your inspiration while completing this coding project. We can think of the browser’s <code>window</code> object as a physical window, and browser cookies as actual doughy desserts, if for no other reason that it’s a fun mnemonic device.</p>
<h2 id="project-overview">Project overview</h2>
<p>Let’s practice running a script when the page has loaded. We’ll also manipulate the <code>window</code> object by changing its height. Finally, we’ll bake some byte-sized cookies and set them in the window.</p>
<h2 id="phase-1-using-a-local-nodeexpress-server-whoa">Phase 1: Using a local Node/Express server (<em>Whoa!</em>)</h2>
<p>Express is a Node framework that you’ll be using to set up a local server on your machine. This will come in handy when we’re practicing how to set a cookie.</p>
<p>We’ve set up an Express app for you to use. Open the <code>cookies-project</code> folder inside of this Module. Then go through the following:</p>
<ol type="1">
<li>Make sure Node is installed on your machine.</li>
<li>Run <code>npm install</code>.</li>
<li>Run <code>npm start</code>, you should see “Example app listening on port 3000!” in your terminal.</li>
<li>Open up <code>localhost:3000</code> in your browser and make sure you see ‘Cookies!!!’</li>
</ol>
<p><em>You’ll be using the <strong>public/index.html</strong> file to write your HTML and <strong>public/js/cookies.js</strong> file to write your JavaScript.</em></p>
<h2 id="phase-2-add-a-script-on-dompage-load-practice-makes-perfect.">Phase 2: Add a script on DOM/page load (<em>Practice makes perfect.</em>)</h2>
<p>Inside of your <code>cookies.js</code> file:</p>
<ul>
<li>Practice running your script after the page has loaded. You can use <code>DOMContentLoaded</code> or <code>window.onload</code>. If you’re linking to an external JS file, practice using the <code>async</code> or <code>defer</code> methods.</li>
</ul>
<h2 id="phase-3-set-a-cookie-in-the-window-freshly-baked">Phase 3: Set a cookie in the window (<em>Freshly baked!</em>)</h2>
<p>Inside of your <code>cookies.js</code> file, practice setting a cookie. Here are a couple of examples:</p>
<ul>
<li><code>document.cookie = "monster_name=cookie";</code></li>
<li><code>document.cookie = "favorite_cookie=snickerdoodle";</code></li>
</ul>
<p>Now looking at your Developer Tools, did the cookies you set appear in the correct place? Try defining one more cookie in your <code>cookies.js</code> and refresh your page. Do you see it in the Developer Tools? Now delete your most recent cookie and refresh your page. If you delete a cookie, what happens in the browser tab when you refresh?</p>
<p>Let’s show our new cookies to our user! Try using the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/alert"><code>window.alert()</code></a> method to let our user know the information of all the cookies stored in the browser.</p>
<h2 id="phase-4-no-such-thing-as-just-one-more-cookie">Phase 4: No such thing as just one more cookie</h2>
<p>Setting cookies one at a time by hand is probably getting old by now. Let’s write a new function called <code>setCookie(name, value)</code>. The <code>setCookie</code> function will accept two arguments, a name and a value, and will create a new cookie using those arguments.</p>
<p>Nice! Try testing out your new function by creating a few cookies. Now that we have a way to set cookies it’d sure be nice to have a way to return all the cookies. So… let’s hop to it!</p>
<h2 id="phase-5-gimme-all-the-cookies">Phase 5: Gimme all the cookies</h2>
<p>Write a function named <code>getCookies()</code> that will return an array of the key value pairs of each set cookie. This is easy to do when you remember that <code>document.cookie</code> returns a string!</p>
<p>Look below for an example of how <code>getCookies</code> is used:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb10-1" title="1"><span class="at">setCookie</span>(<span class="st">&quot;dog&quot;</span><span class="op">,</span> <span class="st">&quot;Fido&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-2" title="2"><span class="at">setCookie</span>(<span class="st">&quot;cat&quot;</span><span class="op">,</span> <span class="st">&quot;Jet&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb10-3" title="3"></a>
<a class="sourceLine" id="cb10-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="at">getCookies</span>())<span class="op">;</span> <span class="co">// prints [&quot;dog=Fido&quot;, &quot;cat=Jet&quot;]</span></a></code></pre></div>
<p>Let’s take this one step further - what if we wanted to get the value for one particular cookie?</p>
<p>Write a new function <code>getCookieValue(name)</code> that intakes that name of a cookie as an argument. If the given cookie name exists <code>getCookieValue</code> will return the value of that cookie. If a cookie with the given name doesn’t exist the <code>getCookieValue</code> function should return <code>null</code>.</p>
<p>Here is an example of <code>getCookieValue</code> in action:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb11-1" title="1"><span class="at">setCookie</span>(<span class="st">&quot;cat&quot;</span><span class="op">,</span> <span class="st">&quot;Jet&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb11-2" title="2"></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="va">console</span>.<span class="at">log</span>(<span class="at">getCookies</span>())<span class="op">;</span> <span class="co">// prints [&quot;cat=Jet&quot;]</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="at">getCookieValue</span>(<span class="st">&quot;cat&quot;</span>))<span class="op">;</span> <span class="co">// &quot;Jet&quot;</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="va">console</span>.<span class="at">log</span>(<span class="at">getCookieValue</span>(<span class="st">&quot;rabbit&quot;</span>))<span class="op">;</span> <span class="co">// null</span></a></code></pre></div>
<h2 id="phase-6-removing-a-cookie">Phase 6: Removing a cookie</h2>
<p>Now that we have a couple of functions in place to set and get cookies lets write a function called <code>deleteCookie(name)</code>. The <code>deleteCookie</code> function will accept the name of a cookie to be deleted and will delete that cookie, if it exists. If <code>deleteCookie</code> is given the name of a cookie that doesn’t exist it should print a message to the user saying the cookie wasn’t found.</p>
<p>Here is an example of <code>deleteCookie</code> in action:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb12-1" title="1"><span class="at">setCookie</span>(<span class="st">&quot;cat&quot;</span><span class="op">,</span> <span class="st">&quot;Jet&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-2" title="2"><span class="at">setCookie</span>(<span class="st">&quot;dog&quot;</span><span class="op">,</span> <span class="st">&quot;Fido&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-3" title="3"></a>
<a class="sourceLine" id="cb12-4" title="4"><span class="va">console</span>.<span class="at">log</span>(<span class="at">getCookies</span>())<span class="op">;</span> <span class="co">// prints [&quot;cat=Jet&quot;, &quot;dog=Fido&quot;]</span></a>
<a class="sourceLine" id="cb12-5" title="5"><span class="at">deleteCookie</span>(<span class="st">&quot;cat&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb12-6" title="6"><span class="va">console</span>.<span class="at">log</span>(<span class="at">getCookies</span>())<span class="op">;</span> <span class="co">// prints [&quot;dog=Fido&quot;]</span></a>
<a class="sourceLine" id="cb12-7" title="7"><span class="at">deleteCookie</span>(<span class="st">&quot;rabbit&quot;</span>)<span class="op">;</span> <span class="co">// prints &quot;cookie not found!&quot;</span></a></code></pre></div>
<p>We now have set up some nice utility function to get, set, and delete cookies! Pretty yummy if you ask me! 🍪</p>
<h2 id="bonuses-more-fun-with-cookies">Bonuses: More fun with cookies!</h2>
<p>Check out the MDN documentation on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">Document.cookie</a> to help you complete the tasks below.</p>
<h2 id="bonus-a-open-a-new-window-and-resize-it-based-on-cookie-value-smells-great">Bonus A: Open a new window and resize it based on cookie value (<em>Smells great!</em>)</h2>
<p>Let’s trying doing something fun will all our new cookie functions. Let’s write some code to do the following:</p>
<ol type="1">
<li>generate a random number</li>
<li>store that number in a cookie</li>
<li>open a new window and set the new window’s height and width to the cookie value we stored in step 2.</li>
</ol>
<ul>
<li><em>Hint: Recall that we can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">Math.random()</a> to generate a random number.</em></li>
<li><em>Hint: Use <code>window.open()</code> AND <code>window.resizeTo()</code> OR <code>window.resizeBy()</code></em></li>
</ul>
<p>When you run the script, you should see a new window open with the width and height set to the value that was stored in the cookie. Baked and cooled!</p>
<h3 id="bonus-b-create-new-cookies-at-the-click-of-a-button">Bonus B: Create new cookies at the click of a button</h3>
<p>Are you a master baker? Create the necessary html elements and JavaScript so that a user can input a cookie name and value and click a button to create a cookie with the name and value they specified.</p>
<p>The sequence of events will be:</p>
<ol type="1">
<li>A user inputs the name and value they want for their cookie</li>
<li>The user clicks the button to create their new cookie</li>
<li>The new cookie is created</li>
<li>To ensure the best user experience, empty the two inputs for the cookie name and value (so a user can easily create another cookie)</li>
<li>Log all the cookies to the console so the user can see their new cookie!</li>
</ol>
<p>Congratulations! Hang up your your apron for now knowing you are a cookie master.</p>
<hr />
<h1 id="week-04-day-2-element-selection" data-ignore="true">WEEK-04 DAY-2<br><em>Element Selection</em></h1>
<hr />
<h1 id="element-selection-learning-objectives">Element Selection Learning Objectives</h1>
<p>Below is a complete list of the terminal learning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p>
<ol type="1">
<li>Given HTML that includes <code>&lt;div id=”catch-me-if-you-can”&gt;HI!&lt;/div&gt;</code>, write a JavaScript statement that stores a reference to the HTMLDivElement with the id “catch-me-if-you-can” in a variable named “divOfInterest”.</li>
<li>Given HTML that includes seven SPAN elements each with the class “cloudy”, write a JavaScript statement that stores a reference to a NodeList filled with references to the seven HTMLSpanElements in a variable named “cloudySpans”.</li>
<li>Given an HTML file with HTML, HEAD, TITLE, and BODY elements, create and reference a JS file that in which the JavaScript will create and attach to the BODY element an H1 element with the id “sleeping-giant” with the content “Jell-O, Burled!”.</li>
<li>Given an HTML file with HTML, HEAD, TITLE, SCRIPT, and BODY elements with the SCRIPT’s SRC attribute referencing an empty JS file, write a script in the JS file to create a DIV element with the id “lickable-frog” and add it as the last child to the BODY element.</li>
<li>Given an HTML file with HTML, HEAD, TITLE, SCRIPT, and BODY elements with no SRC attribute on the SCRIPT element, write a script in the SCRIPT block to create a UL element with no id, create an LI element with the id “dreamy-eyes”, add the LI as a child to the UL element, and add the UL element as the first child of the BODY element.</li>
<li>Write JavaScript to add the CSS class “i-got-loaded” to the BODY element when the window fires the DOMContentLoaded event.</li>
<li>Given an HTML file with a UL element with the id “your-best-friend” that has six non-empty LIs as its children, write JavaScript to write the content of each LI to the console.</li>
<li>Given an HTML file with a UL element with the id “your-worst-enemy” that has no children, write JavaScript to construct a string that contains six LI tags each containing a random number and set the inner HTML property of ul#your-worst-enemy to that string.</li>
<li><p>Write JavaScript to update the title of the document to the current time at a reasonable interval such that it looks like a real clock.terminal learning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p></li>
<li>Given HTML that includes <code>&lt;div id=”catch-me-if-you-can”&gt;HI!&lt;/div&gt;</code>, write a JavaScript statement that stores a reference to the HTMLDivElement with the id “catch-me-if-you-can” in a variable named “divOfInterest”.</li>
<li>Given HTML that includes seven SPAN elements each with the class “cloudy”, write a JavaScript statement that stores a reference to a NodeList filled with references to the seven HTMLSpanElements in a variable named “cloudySpans”.</li>
<li>Given an HTML file with HTML, HEAD, TITLE, and BODY elements, create and reference a JS file that in which the JavaScript will create and attach to the BODY element an H1 element with the id “sleeping-giant” with the content “Jell-O, Burled!”.</li>
<li>Given an HTML file with HTML, HEAD, TITLE, SCRIPT, and BODY elements with the SCRIPT’s SRC attribute referencing an empty JS file, write a script in the JS file to create a DIV element with the id “lickable-frog” and add it as the last child to the BODY element.</li>
<li>Given an HTML file with HTML, HEAD, TITLE, SCRIPT, and BODY elements with no SRC attribute on the SCRIPT element, write a script in the SCRIPT block to create a UL element with no id, create an LI element with the id “dreamy-eyes”, add the LI as a child to the UL element, and add the UL element as the first child of the BODY element.</li>
<li>Write JavaScript to add the CSS class “i-got-loaded” to the BODY element when the window fires the DOMContentLoaded event.</li>
<li>Given an HTML file with a UL element with the id “your-best-friend” that has six non-empty LIs as its children, write JavaScript to write the content of each LI to the console.</li>
<li>Given an HTML file with a UL element with the id “your-worst-enemy” that has no children, write JavaScript to construct a string that contains six LI tags each containing a random number and set the inner HTML property of ul#your-worst-enemy to that string.</li>
<li><p>Write JavaScript to update the title of the document to the current time at a reasonable interval such that it looks like a real clock.</p></li>
</ol>
<hr />
<h1 id="hello-world-domination-element-selection-and-placement">Hello, World DOMination: Element Selection And Placement</h1>
<p>The objective of this lesson is to familiarize yourself with the usage and inner workings of the DOM API. When you finish this lesson, you should be able to:</p>
<ul>
<li>Reference and manipulate the DOM via Javascript</li>
<li>Update and create new DOM elements via Javascript</li>
<li>Change CSS based on a DOM event</li>
<li>Familiarize yourself with the console</li>
</ul>
<h2 id="what-is-the-dom">What is the DOM?</h2>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction">Document Object Model</a>, or DOM, is an object-oriented representation of an HTML document or Web page, meaning that the document is represented as objects, or nodes. It allows developers to access the document via a programming language, like Javascript.</p>
<p>The DOM is typically depicted as a tree with a specific hierarchy. (See the image below.) Higher branches represent parent nodes, while lower branches represent child nodes, or children. More on that later.</p>
<p>
<img src="images/DOM_tree.png" style="max-width: 50%; height: auto;">
</p>
<h2 id="referencing-the-dom">Referencing the DOM</h2>
<p>The DOM API is one of the most powerful tools frontend developers have at their disposal. Learning how to reference, create, and update DOM elements is an integral part of working with Javascript. We’ll start this lesson by learning how to reference a DOM element in Javascript.</p>
<p>Let’s assume we have an HTML file that includes the following <code>div</code>:</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb13"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb13-1" title="1"><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;”catch-me-if-you-can”&quot;</span><span class="kw">&gt;</span>HI!<span class="kw">&lt;/div&gt;</span></a></code></pre></div>
<p>Because we’ve added the element to our HTML file, that element is available in the DOM for us to reference and manipulate. Using JavaScript, we can reference this element by scanning the document and finding the element by its id with the method document.getElementById(). We then assign the reference to a variable.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb14-1" title="1"><span class="kw">const</span> divOfInterest <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(“catch<span class="op">-</span>me<span class="op">-</span><span class="cf">if</span><span class="op">-</span>you<span class="op">-</span>can”)</a></code></pre></div>
<p>Now let’s say that our HTML file contains seven <code>span</code> elements that share a class name of <code>cloudy</code>, like below:</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb15"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb15-1" title="1"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;“cloudy”&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a>
<a class="sourceLine" id="cb15-2" title="2"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;“cloudy”&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;“cloudy”&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;“cloudy”&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a>
<a class="sourceLine" id="cb15-5" title="5"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;“cloudy”&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;“cloudy”&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="kw">&lt;span</span><span class="ot"> class=</span><span class="st">&quot;“cloudy”&quot;</span><span class="kw">&gt;&lt;/span&gt;</span></a></code></pre></div>
<p>In Javascript, we can reference all seven of these elements and store them in a single variable.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb16-1" title="1"><span class="kw">const</span> cloudySpans <span class="op">=</span> <span class="va">document</span>.<span class="at">querySelectorAll</span>(<span class="st">&quot;span.cloudy&quot;</span>)<span class="op">;</span></a></code></pre></div>
<p>While <code>getElementById</code> allows us to reference a single element, <code>querySelectorAll</code> references all elements with the class name “cloudy” as a static <code>NodeList</code> (<em>static</em> meaning that any changes in the DOM do not affect the content of the collection). Note that a NodeList is different from an array, but it is possible to iterate over a NodeList as with an array using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach">forEach()</a>. Refer to the MDN doc on <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList">NodeList</a> for more information.</p>
<p>Using <code>forEach()</code> on a NodeList:</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb17"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb17-1" title="1"><span class="kw">const</span> cloudySpans <span class="op">=</span> <span class="va">document</span>.<span class="at">querySelectorAll</span>(<span class="st">&quot;span.cloudy&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-2" title="2"></a>
<a class="sourceLine" id="cb17-3" title="3"><span class="va">cloudySpans</span>.<span class="at">forEach</span>(span <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb17-4" title="4">  <span class="va">console</span>.<span class="at">log</span>(<span class="st">&quot;Cloudy!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="creating-new-dom-elements">Creating New DOM Elements</h2>
<p>Now that we know how to reference DOM elements, let’s try creating new elements. First we’ll set up a basic HTML file with the appropriate structure and include a reference to a Javascript file that exists in the same directory in the <code>head</code>.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb18-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb18-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb18-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb18-4" title="4">    <span class="kw">&lt;title&gt;&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb18-5" title="5">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src=</span><span class="st">&quot;example.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb18-6" title="6">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb18-7" title="7">  <span class="kw">&lt;body&gt;&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>In our example.js file, we’ll write a function to create a new <code>h1</code> element, assign it an id, give it content, and attach it to the body of our HTML document.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb19-1" title="1"><span class="kw">const</span> addElement <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb19-2" title="2">  <span class="co">// create a new div element</span></a>
<a class="sourceLine" id="cb19-3" title="3">  <span class="kw">const</span> newElement <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;h1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-4" title="4"></a>
<a class="sourceLine" id="cb19-5" title="5">  <span class="co">// set the h1&#39;s id</span></a>
<a class="sourceLine" id="cb19-6" title="6">  <span class="va">newElement</span>.<span class="at">setAttribute</span>(<span class="st">&quot;id&quot;</span><span class="op">,</span> <span class="st">&quot;sleeping-giant&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-7" title="7"></a>
<a class="sourceLine" id="cb19-8" title="8">  <span class="co">// and give it some content</span></a>
<a class="sourceLine" id="cb19-9" title="9">  <span class="kw">const</span> newContent <span class="op">=</span> <span class="va">document</span>.<span class="at">createTextNode</span>(<span class="st">&quot;Jell-O, Burled!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-10" title="10"></a>
<a class="sourceLine" id="cb19-11" title="11">  <span class="co">// add the text node to the newly created div</span></a>
<a class="sourceLine" id="cb19-12" title="12">  <span class="va">newElement</span>.<span class="at">appendChild</span>(newContent)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-13" title="13"></a>
<a class="sourceLine" id="cb19-14" title="14">  <span class="co">// add the newly created element and its content into the DOM</span></a>
<a class="sourceLine" id="cb19-15" title="15">  <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(newElement)<span class="op">;</span></a>
<a class="sourceLine" id="cb19-16" title="16"><span class="op">};</span></a>
<a class="sourceLine" id="cb19-17" title="17"><span class="co">// run script when page is loaded</span></a>
<a class="sourceLine" id="cb19-18" title="18"><span class="va">window</span>.<span class="at">onload</span> <span class="op">=</span> addElement<span class="op">;</span></a></code></pre></div>
<p>If we open up our HTML file in a browser, we should now see the words <code>Jell-O Burled!</code> on our page. If we use the browser tools to inspect the page (right-click on the page and select “inspect”, or hotkeys fn + f12), we notice the new <code>h1</code> with the id we gave it.</p>
<hr />
<h1 id="hello-world-domination-inserting-elements-in-js-file-and-script-block">Hello, World DOMination: Inserting Elements in JS File and Script Block</h1>
<p>Let’s practice adding new elements to our page. We’ll create a second element, a <code>div</code> with an id of <code>lickable-frog</code>, and append it to the <code>body</code> like we did the first time. Update the Javascript function to append a second element to the page.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb20"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb20-1" title="1"><span class="kw">const</span> addElements <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb20-2" title="2">  <span class="co">// create a new div element</span></a>
<a class="sourceLine" id="cb20-3" title="3">  <span class="kw">const</span> newElement <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;h1&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-4" title="4"></a>
<a class="sourceLine" id="cb20-5" title="5">  <span class="co">// set the h1&#39;s id</span></a>
<a class="sourceLine" id="cb20-6" title="6">  <span class="va">newElement</span>.<span class="at">setAttribute</span>(<span class="st">&quot;id&quot;</span><span class="op">,</span> <span class="st">&quot;sleeping-giant&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-7" title="7"></a>
<a class="sourceLine" id="cb20-8" title="8">  <span class="co">// and give it some content</span></a>
<a class="sourceLine" id="cb20-9" title="9">  <span class="kw">const</span> newContent <span class="op">=</span> <span class="va">document</span>.<span class="at">createTextNode</span>(<span class="st">&quot;Jell-O, Burled!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-10" title="10"></a>
<a class="sourceLine" id="cb20-11" title="11">  <span class="co">// add the text node to the newly created div</span></a>
<a class="sourceLine" id="cb20-12" title="12">  <span class="va">newElement</span>.<span class="at">appendChild</span>(newContent)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-13" title="13"></a>
<a class="sourceLine" id="cb20-14" title="14">  <span class="co">// add the newly created element and its content into the DOM</span></a>
<a class="sourceLine" id="cb20-15" title="15">  <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(newElement)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-16" title="16"></a>
<a class="sourceLine" id="cb20-17" title="17">  <span class="co">// append a second element to the DOM after the first one</span></a>
<a class="sourceLine" id="cb20-18" title="18">  <span class="kw">const</span> lastElement <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;div&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-19" title="19">  <span class="va">lastElement</span>.<span class="at">setAttribute</span>(<span class="st">&quot;id&quot;</span><span class="op">,</span> <span class="st">&quot;lickable-frog&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-20" title="20">  <span class="va">document</span>.<span class="va">body</span>.<span class="at">appendChild</span>(lastElement)<span class="op">;</span></a>
<a class="sourceLine" id="cb20-21" title="21"><span class="op">};</span></a>
<a class="sourceLine" id="cb20-22" title="22"><span class="co">// run script when page is loaded</span></a>
<a class="sourceLine" id="cb20-23" title="23"><span class="va">window</span>.<span class="at">onload</span> <span class="op">=</span> addElements<span class="op">;</span></a></code></pre></div>
<p>Notice that our function is now called <code>addElements</code>, plural, because we’re appending two elements to the <code>body</code>. Save your Javascript file and refresh the HTML file in the browser. When you inspect the page, you should now see two elements in the <code>body</code>, the <code>h1</code> and the <code>div</code> we added via Javascript.</p>
<h2 id="referencing-a-js-file-vs.-using-a-script-block">Referencing a JS File vs. Using a Script Block</h2>
<p>In our test example above, we referenced an external JS file, which contained our function to add new elements to the DOM. Typically, we would keep Javascript in a separate file, but we could also write a script block directly in our HTML file. Let’s try it. First, we’ll delete the script source so that we have an empty script block.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb21-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb21-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb21-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb21-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb21-5" title="5">      <span class="co">//Javascript goes here!</span></a>
<a class="sourceLine" id="cb21-6" title="6">    <span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb21-7" title="7">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb21-8" title="8">  <span class="kw">&lt;body&gt;&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb21-9" title="9"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>Inside of our script block, we’ll:</p>
<ul>
<li>create a <code>ul</code> element with no id</li>
<li>create an <code>li</code> element with the id <code>dreamy-eyes</code></li>
<li>add the <code>li</code> as a child to the <code>ul</code> element</li>
<li>add the <code>ul</code> element as the first child of the <code>body</code> element.</li>
</ul>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb22"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb22-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb22-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb22-4" title="4">    <span class="kw">&lt;title&gt;</span>My Cool Website<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb22-5" title="5">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb22-6" title="6">      <span class="kw">const</span> addListElement <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb22-7" title="7">        <span class="kw">const</span> listElement <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;ul&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-8" title="8">        <span class="kw">const</span> listItem <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;li&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-9" title="9">        <span class="va">listItem</span>.<span class="at">setAttribute</span>(<span class="st">&quot;id&quot;</span><span class="op">,</span> <span class="st">&quot;dreamy-eyes&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-10" title="10">        <span class="va">listElement</span>.<span class="at">appendChild</span>(listItem)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-11" title="11">        <span class="va">document</span>.<span class="va">body</span>.<span class="at">prepend</span>(listElement)<span class="op">;</span></a>
<a class="sourceLine" id="cb22-12" title="12">      <span class="op">};</span></a>
<a class="sourceLine" id="cb22-13" title="13">      <span class="va">window</span>.<span class="at">onload</span> <span class="op">=</span> addListElement<span class="op">;</span></a>
<a class="sourceLine" id="cb22-14" title="14">    <span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb22-15" title="15">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb22-16" title="16">  <span class="kw">&lt;body&gt;&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb22-17" title="17"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>Refresh the HTML in your browser, inspect the page, and notice the <code>ul</code> and <code>li</code> elements that were created in the script block.</p>
<hr />
<h1 id="hello-world-domination-adding-a-css-class-after-dom-load-event">Hello, World DOMination: Adding a CSS Class After DOM Load Event</h1>
<p>In our previous JS examples, we used <code>window.onload</code> to run a function after the window has loaded the page, which ensures that all of the objects are in the DOM, including images, scripts, links, and subframes. However, we don’t need to wait for stylesheets, images, and subframes to finish loading before our JavaScript runs because JS isn’t dependent on them. And, some images may be so large that waiting on them to load before the JS runs would make the user experience feel slow and clunky. There is a better method to use in this case: <code>DOMContentLoaded</code>.</p>
<p>According to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/DOMContentLoaded_event">MDN</a>, “the DOMContentLoaded event fires when the initial HTML document has been completely loaded and parsed, without waiting for stylesheets, images, and subframes to finish loading.”</p>
<p>We’ll use DOMContentLoaded to add CSS classes to page elements immediately after they are loaded. Let’s add the CSS class “i-got-loaded” to the <code>body</code> element when the window fires the DOMContentLoaded event. We can do this in the script block or in an external JS file, as we did in the examples above.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb23"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb23-1" title="1"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb23-2" title="2">  <span class="va">document</span>.<span class="va">body</span>.<span class="at">className</span> <span class="op">=</span> <span class="st">&quot;i-got-loaded&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb23-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>After adding the Javascript above, refresh the HTML in your browser, inspect the page, and notice that the <code>body</code> element now has a class of “i-got-loaded”.</p>
<hr />
<h1 id="brush-up-on-your-html">Brush Up On Your HTML</h1>
<p>You’ll be using a lot of HTML in the following days (weeks, months, years), so might as well get a leg up by reacquainting yourself with HTML.</p>
<p>The definitive resource on the Internet for HTML, CSS, and JavaScript is the Mozilla Developer Network. Go there and work through, at a minimum, the following sections:</p>
<ul>
<li>The following sections in <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML">Introduction to HTML</a>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Getting_started">Getting started with HTML</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/The_head_metadata_in_HTML">What’s in the head? Metadata in HTML</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/HTML_text_fundamentals">HTML text fundamentals</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Introduction_to_HTML/Creating_hyperlinks">Creating hyperlinks</a></li>
</ul></li>
<li>The following section in <a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding">Multimedia and embedding</a>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Images_in_HTML">Images in HTML</a></li>
</ul></li>
<li>The following section in <a href="https://developer.mozilla.org/en-US/docs/Learn/Forms">HTML forms</a>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/Your_first_HTML_form">Your first HTML form</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/How_to_structure_an_HTML_form">How to structure an HTML form</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/HTML/Forms/The_native_form_widgets">The native form widgets</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Form_validation">Client-side form validation</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Learn/Forms/Styling_web_forms">Styling HTML forms</a></li>
</ul></li>
</ul>
<hr />
<h1 id="hello-world-domination-console.log-element.innerhtml-and-the-date-object">Hello, World DOMination: Console.log, Element.innerHTML, and the Date Object</h1>
<p>In this section, we’ll learn about how to use <code>console.log</code> to print element values. We’ll also use <code>Element.innerHTML</code> to fill in the HTML of a DOM element. Finally, we’ll learn about the Javascript Date object and how to use it to construct a clock that keeps the current time.</p>
<h2 id="console-logging-element-values">Console Logging Element Values</h2>
<p>Along with the other developer tools, the console is a valuable tool Javascript developers use to debug and check that scripts are running correctly. In this exercise, we’ll practice logging to the console.</p>
<p>Create an HTML file that contains the following:</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb24-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb24-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb24-3" title="3">  <span class="kw">&lt;head&gt;</span> <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb24-4" title="4">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb24-5" title="5">    <span class="kw">&lt;ul</span><span class="ot"> id=</span><span class="st">&quot;your-best-friend&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb24-6" title="6">      <span class="kw">&lt;li&gt;</span>Has your back<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb24-7" title="7">      <span class="kw">&lt;li&gt;</span>Gives you support<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb24-8" title="8">      <span class="kw">&lt;li&gt;</span>Actively listens to you<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb24-9" title="9">      <span class="kw">&lt;li&gt;</span>Lends a helping hand<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb24-10" title="10">      <span class="kw">&lt;li&gt;</span>Cheers you up when you&#39;re down<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb24-11" title="11">      <span class="kw">&lt;li&gt;</span>Celebrates important moments with you<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb24-12" title="12">    <span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb24-13" title="13">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb24-14" title="14"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>In the above code, we see an id with which we can reference the <code>ul</code> element. Recall that we previously used <code>document.querySelectorAll()</code> to store multiple elements with the same class name in a single variable, as a NodeList. However, in the above example, we see only one id for the parent element. We can reference the parent element via its id to get access to the content of its children.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb25"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb25-1" title="1"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb25-2" title="2">  <span class="kw">const</span> parent <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;your-best-friend&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-3" title="3">  <span class="kw">const</span> childNodes <span class="op">=</span> <span class="va">parent</span>.<span class="at">childNodes</span><span class="op">;</span></a>
<a class="sourceLine" id="cb25-4" title="4">  <span class="cf">for</span> (<span class="kw">let</span> value <span class="kw">of</span> <span class="va">childNodes</span>.<span class="at">values</span>()) <span class="op">{</span></a>
<a class="sourceLine" id="cb25-5" title="5">    <span class="va">console</span>.<span class="at">log</span>(value)<span class="op">;</span></a>
<a class="sourceLine" id="cb25-6" title="6">  <span class="op">}</span></a>
<a class="sourceLine" id="cb25-7" title="7"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>In your browser, use the developer tools to open the console and see that the values of each <code>li</code> have been printed out.</p>
<h2 id="using-element.innerhtml">Using Element.innerHTML</h2>
<p>Thus far, we have referenced DOM elements via their id or class name and appended new elements to existing DOM elements. Additionally, we can use the inner HTML property to get or set the HTML or XML markup contained within an element.</p>
<p>In an HTML file, create a <code>ul</code> element with the id “your-worst-enemy” that has no children. We’ll add some JavaScript to construct a string that contains six <code>li</code> tags each containing a random number and set the inner HTML property of <code>ul#your-worst-enemy</code> to that string.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb26-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb26-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb26-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb26-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src=</span><span class="st">&quot;example.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb26-5" title="5">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb26-6" title="6">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb26-7" title="7">    <span class="kw">&lt;ul</span><span class="ot"> id=</span><span class="st">&quot;your-worst-enemy&quot;</span><span class="kw">&gt;&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb26-8" title="8">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb26-9" title="9"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb27-1" title="1"><span class="co">// generate a random number for each list item</span></a>
<a class="sourceLine" id="cb27-2" title="2"><span class="kw">const</span> getRandomInt <span class="op">=</span> max <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-3" title="3">  <span class="cf">return</span> <span class="va">Math</span>.<span class="at">floor</span>(<span class="va">Math</span>.<span class="at">random</span>() <span class="op">*</span> <span class="va">Math</span>.<span class="at">floor</span>(max))<span class="op">;</span></a>
<a class="sourceLine" id="cb27-4" title="4"><span class="op">};</span></a>
<a class="sourceLine" id="cb27-5" title="5"></a>
<a class="sourceLine" id="cb27-6" title="6"><span class="co">// listen for DOM ready event</span></a>
<a class="sourceLine" id="cb27-7" title="7"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb27-8" title="8">  <span class="co">// push 6 LI elements into an array and join</span></a>
<a class="sourceLine" id="cb27-9" title="9">  <span class="kw">const</span> liArr <span class="op">=</span> []<span class="op">;</span></a>
<a class="sourceLine" id="cb27-10" title="10">  <span class="cf">for</span> (<span class="kw">let</span> i <span class="op">=</span> <span class="dv">0</span><span class="op">;</span> i <span class="op">&lt;</span> <span class="dv">6</span><span class="op">;</span> i<span class="op">++</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb27-11" title="11">    <span class="va">liArr</span>.<span class="at">push</span>(<span class="st">&quot;&lt;li&gt;&quot;</span> <span class="op">+</span> <span class="at">getRandomInt</span>(<span class="dv">10</span>) <span class="op">+</span> <span class="st">&quot;&lt;/li&gt;&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-12" title="12">  <span class="op">}</span></a>
<a class="sourceLine" id="cb27-13" title="13">  <span class="kw">const</span> liString <span class="op">=</span> <span class="va">liArr</span>.<span class="at">join</span>(<span class="st">&quot; &quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-14" title="14"></a>
<a class="sourceLine" id="cb27-15" title="15">  <span class="co">// insert string into the DOM using innerHTML</span></a>
<a class="sourceLine" id="cb27-16" title="16">  <span class="kw">const</span> listElement <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;your-worst-enemy&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb27-17" title="17">  <span class="va">listElement</span>.<span class="at">innerHTML</span> <span class="op">=</span> liString<span class="op">;</span></a>
<a class="sourceLine" id="cb27-18" title="18"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Save your changes, and refresh your browser page. You should see six new list items on the page, each containing a random number.</p>
<h2 id="inserting-a-date-object-into-the-dom">Inserting a Date Object into the DOM</h2>
<p>We’ve learned a lot about accessing and manipulating the DOM! Let’s use what we’ve learned so far to add extra functionality involving the Javascript Date object.</p>
<p>Our objective is to update the title of the document to the current time at a reasonable interval such that it looks like a real clock.</p>
<p>We know we’ll be starting with an HTML document that contains an empty title element. We’ve learned a couple of different ways to fill the content of an element so far. We could create a new element and append it to the title element, or we could use <code>innerHTML</code> to set the HTML of the title element. Since we don’t need to create a new element nor do we care whether it appears last, we can use the latter method.</p>
<p>Let’s give our title an id for easy reference.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb28-1" title="1"><span class="kw">&lt;title</span><span class="ot"> id=</span><span class="st">&quot;title&quot;</span><span class="kw">&gt;&lt;/title&gt;</span></a></code></pre></div>
<p>In our Javascript file, we’ll use the Date constructor to instantiate a new <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date object</a>.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb29-1" title="1"><span class="kw">const</span> date <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a></code></pre></div>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb30"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb30-1" title="1"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb30-2" title="2">  <span class="kw">const</span> title <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;title&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-3" title="3">  <span class="kw">const</span> time <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb30-4" title="4">    <span class="kw">const</span> date <span class="op">=</span> <span class="kw">new</span> <span class="at">Date</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb30-5" title="5">    <span class="kw">const</span> seconds <span class="op">=</span> <span class="va">date</span>.<span class="at">getSeconds</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb30-6" title="6">    <span class="kw">const</span> minutes <span class="op">=</span> <span class="va">date</span>.<span class="at">getMinutes</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb30-7" title="7">    <span class="kw">const</span> hours <span class="op">=</span> <span class="va">date</span>.<span class="at">getHours</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb30-8" title="8"></a>
<a class="sourceLine" id="cb30-9" title="9">    <span class="va">title</span>.<span class="at">innerHTML</span> <span class="op">=</span> hours <span class="op">+</span> <span class="st">&quot;:&quot;</span> <span class="op">+</span> minutes <span class="op">+</span> <span class="st">&quot;:&quot;</span> <span class="op">+</span> seconds<span class="op">;</span></a>
<a class="sourceLine" id="cb30-10" title="10">  <span class="op">};</span></a>
<a class="sourceLine" id="cb30-11" title="11">  <span class="at">setInterval</span>(time<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb30-12" title="12"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Save your changes and refresh your browser. Observe the clock we inserted dynamically keeping the current time in your document title!</p>
<h2 id="what-we-learned-3">What We Learned:</h2>
<ul>
<li>What the DOM is and how we can access it</li>
<li>How to access DOM elements using <code>document.getElementById()</code> and <code>document.querySelectorAll()</code></li>
<li>How to create new elements with <code>document.createElement()</code> and <code>document.createTextNode</code>, and append them to existing DOM elements with <code>Element.appendChild()</code></li>
<li>The difference between <code>window.onload</code> and <code>DOMContentLoaded</code></li>
<li>How to access children nodes with <code>NodeList.childNodes</code></li>
<li>Updating DOM elements with <code>Element.innerHTML</code></li>
<li>The Javascript Date object</li>
</ul>
<hr />
<h1 id="dom-project-create-a-profile-page-with-javascript">DOM Project: Create a profile page with Javascript</h1>
<p>Now that you’ve learned about the DOM and how to access and manipulate it, put skills to use by building your own basic profile page! In this project, you will:</p>
<ul>
<li>Create an HTML file and link to a Javascript file</li>
<li>Use Javascript to create and update page elements</li>
<li>Add CSS classes with Javascript</li>
<li>Create a clock using the Date object</li>
</ul>
<h2 id="introduction-1">Introduction</h2>
<p>The best way to learn is to create something that is meaningful or relevant to you, so why not start by making a page all about yourself?</p>
<p>In this project, you’ll create a simple profile page that displays details about you, such as who you are, what you like to do, and where you are located.</p>
<p>Put as many or as few details as you like. Don’t worry, the government already knows where you live. It’s your page, so feel free to give it your own flair!</p>
<h2 id="project-overview-1">Project Overview</h2>
<p>You’ve learned about the DOM, and now it’s time to put that knowledge into practice.</p>
<p>In this project, you’ll create a simple profile page and fill it with details about yourself.</p>
<p>You could hard-code your content into your HTML file, but where’s the fun in that? We’ll practice using Javascript to access DOM elements and insert content into your page dynamically.</p>
<p>We’ll also go over how to add CSS class attributes to elements dynamically, so you can add a bit of styling to your profile.</p>
<h2 id="phase-1-setting-up-your-html-and-javascript-files">Phase 1: Setting up your HTML and Javascript files</h2>
<p>Create an HTML file in a new project folder called <code>myProfile.html</code>. Set up your html file with a <code>head</code> and <code>body</code> section. Other than the appropriate HTML tags, leave the file empty of content, ids and classes.</p>
<p>In your HTML file, add a link to an external Javascript file in your project directory called <code>myProfile.js</code>. Test that your Javascript file is linked correctly by printing something you can read in the browser console. Example:</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb31-1" title="1"><span class="va">console</span>.<span class="at">log</span>(“This is my profile page<span class="op">!</span>”)</a></code></pre></div>
<h2 id="phase-2-populating-your-profile">Phase 2: Populating your profile</h2>
<p>Again, don’t hard-code any content in your HTML file. Instead, construct the page content using your Javascript file.</p>
<p>First, you should make sure all the DOM objects you need are loaded before you add new things to the page. Add a <code>DOMContentLoaded</code> event listener in your Javascript file.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb32-1" title="1"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb32-2" title="2">  <span class="co">// Your Javascript goes here</span></a>
<a class="sourceLine" id="cb32-3" title="3"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="phase-2a-creating-and-appending-new-elements">Phase 2A: Creating and appending new elements</h3>
<p>It’s time to add some content to your profile page! Insert your name as an <code>h1</code> into the page using Javascript, and give it an <code>id</code>. <em>Hint: You may want to use the following:</em></p>
<ul>
<li><code>document.createElement()</code></li>
<li><code>Element.setAttribute()</code></li>
<li><code>document.createTextNode()</code></li>
<li><code>Node.appendChild()</code></li>
</ul>
<p>After you’ve inserted the <code>h1</code>, open your HTML page in your browser and make sure the <code>h1</code> with your name appears on the page.</p>
<p>You’ve added your name to the page, but it still looks sparse. Fill out your page with some details about yourself by creating and appending new elements. Use what you’ve learned about manipulating the DOM to add to your Javascript file.</p>
<ul>
<li>Create a new unordered list element.</li>
<li>Append at least <strong>four list items</strong> of details about yourself to your list.</li>
<li>Append your list to the body of your page.</li>
</ul>
<p>Below is an example list item:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb33-1" title="1"><span class="kw">const</span> listItem1 <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;li&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb33-2" title="2"><span class="kw">const</span> listItem1Content <span class="op">=</span> <span class="va">document</span>.<span class="at">createTextNode</span>(</a>
<a class="sourceLine" id="cb33-3" title="3">  <span class="st">&quot;I like to drink iced lattes.&quot;</span></a>
<a class="sourceLine" id="cb33-4" title="4">)<span class="op">;</span></a>
<a class="sourceLine" id="cb33-5" title="5"><span class="va">listItem1</span>.<span class="at">appendChild</span>(listItem1Content)<span class="op">;</span></a>
<a class="sourceLine" id="cb33-6" title="6"><span class="co">// Append listItem1 to your unordered list here</span></a></code></pre></div>
<h3 id="phase-2b-refactoring-to-make-it-programmatic">Phase 2B: Refactoring to make it programmatic</h3>
<p>The code we wrote above works, but it is lengthy and leads to needless repetition. Imagine we want to display 20 hobbies. Following the pattern above means we would have to create an element, create a text node, and append a child node to the details list 20 times for each hobby. That’s 80 extra lines of code!</p>
<p>Let’s approach this differently and make the work easier for ourselves. Can we refactor it to make inserting the <code>li</code> elements more programmatic and easily repeatable? Yes, we can! First, let’s create the <code>ul</code> and append it to the body of our page, as we did in the last section.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb34-1" title="1"><span class="co">// Create the element with document.createElement()</span></a>
<a class="sourceLine" id="cb34-2" title="2"><span class="co">// Set the attribute with Element.setAttribute()</span></a>
<a class="sourceLine" id="cb34-3" title="3"><span class="co">// Append the element to the page with Node.appendChild()</span></a></code></pre></div>
<p>Now, let’s add the list items. We can shorten the code up by creating an array that stores all of the list items as string values, join all the string values into a single string, and insert that string into the DOM.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb35-1" title="1"><span class="kw">const</span> detailsArr <span class="op">=</span> [</a>
<a class="sourceLine" id="cb35-2" title="2">  <span class="st">&quot;&lt;li&gt;I like to drink iced lattes.&lt;/li&gt;&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb35-3" title="3">  <span class="st">&quot;&lt;li&gt;I have two cats and eight kittens.&lt;/li&gt;&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb35-4" title="4">  <span class="st">&quot;&lt;li&gt;My favorite place to get lunch is Chipotle.&lt;/li&gt;&quot;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb35-5" title="5">  <span class="st">&quot;&lt;li&gt;On the weekends, I play flag football.&lt;/li&gt;&quot;</span></a>
<a class="sourceLine" id="cb35-6" title="6">]<span class="op">;</span></a>
<a class="sourceLine" id="cb35-7" title="7"><span class="kw">const</span> liString <span class="op">=</span> <span class="va">detailsArr</span>.<span class="at">join</span>(<span class="st">&quot; &quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb35-8" title="8"><span class="kw">const</span> listElement <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;details&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb35-9" title="9"><span class="va">listElement</span>.<span class="at">innerHTML</span> <span class="op">=</span> liString<span class="op">;</span></a></code></pre></div>
<p>Notice that we used <code>innerHTML</code> here rather than <code>appendChild</code>. If we tried to insert the string using <code>appendChild</code>, what would happen? Why? Refer to the MDN documentation on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML">Element.innerHTML</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/appendChild">Node.appendChild</a> for the answers.</p>
<p>You’ve cut down on the lines of code as well as made your code more readable! You can easily add new list items inside your array and they’ll be automatically added to your <code>ul</code> element. Now that you’ve refactored your code, can you add new sections to your page?</p>
<h2 id="phase-3-adding-css-classes-and-styles">Phase 3: Adding CSS classes and styles</h2>
<p>You’ve added the details, but now they need some pizazz! Let’s add some CSS classes to your elements that you can use to style the page. In your Javascript, add a class named <code>my-details</code> to the unordered list you added in the last section. You can use <code>Element.setAttribute</code> to set the class name to your <code>ul</code>. Here’s an example:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb36-1" title="1"><span class="kw">const</span> myDetails <span class="op">=</span> <span class="va">document</span>.<span class="at">createElement</span>(<span class="st">&quot;ul&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb36-2" title="2"><span class="va">myDetails</span>.<span class="at">setAttribute</span>(“class”<span class="op">,</span> “my<span class="op">-</span>details”)<span class="op">;</span></a></code></pre></div>
<p>Now that you know how to set an element’s class name, practice setting attributes by adding class names to the other elements you created.</p>
<ul>
<li>Add a class name of <code>name</code> to the <code>h1</code> containing your name.</li>
<li>Add a class name of <code>detail</code> to each <code>li</code> element you created inside your list.</li>
<li>Use <code>document.querySelectorAll</code> to access each <code>li</code>.</li>
<li>Use <code>forEach()</code> to iterate over the <code>li</code> list and add a class using <code>Element.className</code>.</li>
</ul>
<p>Create a CSS file and remember to link to it in your HTML file. In your CSS file, add some styles using the classes we added to the <code>ul</code> and the <code>li</code> elements: <code>details</code> and <code>detail</code>. Update your CSS to:</p>
<ul>
<li>Change the color of your <code>h1</code></li>
<li>Add a border around your <code>ul</code></li>
<li>Add padding to your list items</li>
</ul>
<div class="sourceCode" id="cb37"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb37-1" title="1">h1<span class="fu">.my-name</span> {</a>
<a class="sourceLine" id="cb37-2" title="2">  <span class="kw">color</span>: <span class="cn">green</span><span class="op">;</span></a>
<a class="sourceLine" id="cb37-3" title="3">  <span class="kw">padding</span>: <span class="dv">40</span><span class="dt">px</span> <span class="dv">20</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb37-4" title="4">}</a>
<a class="sourceLine" id="cb37-5" title="5"></a>
<a class="sourceLine" id="cb37-6" title="6">ul<span class="fu">.my-details</span> {</a>
<a class="sourceLine" id="cb37-7" title="7">  <span class="kw">border</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">gray</span><span class="op">;</span></a>
<a class="sourceLine" id="cb37-8" title="8">  <span class="kw">padding</span>: <span class="dv">40</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb37-9" title="9">}</a>
<a class="sourceLine" id="cb37-10" title="10"></a>
<a class="sourceLine" id="cb37-11" title="11">li<span class="fu">.detail</span> {</a>
<a class="sourceLine" id="cb37-12" title="12">  <span class="kw">list-style-type</span>: <span class="dv">square</span><span class="op">;</span></a>
<a class="sourceLine" id="cb37-13" title="13">  <span class="kw">padding</span>: <span class="dv">10</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb37-14" title="14">}</a></code></pre></div>
<p>Feel free to add more CSS styles beyond the ones above to your page to personalize it!</p>
<h2 id="phase-4-adding-a-clock-with-the-date-object">Phase 4: Adding a clock with the Date object</h2>
<p>By now, you should know how to add new elements to your page programmatically. Let’s kick it up a notch by adding a clock that keeps the current time onto your profile page.</p>
<p>Objectives:</p>
<ul>
<li>Create a new element and add it to the body of your page</li>
<li>Use the Javascript Date object to get the current time</li>
<li>Insert the current time into a DOM element</li>
</ul>
<p>You just created a live clock, and it’s <em>time</em> for congratulations! (Har har.) Can you go the extra mile? Figure out how to insert your clock into a new list item under your personal details that says “I live in City, State, and it’s currently <code>[CLOCK]</code> here.</p>
<h2 id="bonus-youre-so-extra">Bonus: You’re so extra!</h2>
<p>Congratulations! You’ve created a basic profile page by manipulating the DOM and inserting elements dynamically with Javascript. But, why be <em>basic</em> when you can be a little <em>extra</em>? Make your profile extra shiny by adding more to your page.</p>
<h3 id="bonus-a-add-more-sections-to-your-page">Bonus A: Add more sections to your page</h3>
<p>Using Javascript, create new elements and:</p>
<ul>
<li>Insert an image into your profile under your name. <em>Hint:</em> You could insert a new <code>img</code>, or you could add a <code>div</code> and set the background image using a CSS class.</li>
<li>Insert more sections to your profile. Examples: “Likes” list and “Dislikes” list, “Favorite Restaurants”, “My Activities”, etc.</li>
</ul>
<h3 id="bonus-b-use-other-element-methods">Bonus B: Use other Element methods</h3>
<p>Check the MDN documentation for more <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element">Element methods</a> you can use to manipulate the DOM. Try doing the following:</p>
<ul>
<li>Use <code>.outerHTML</code> to replace an element.</li>
<li>Use the <code>classList</code> API to add/remove classes.</li>
<li>Try using : <code>Element.closest</code>, <code>getElementsByClassName</code>, <code>getElementsByTagName</code> to select elements on your page.</li>
</ul>
<h3 id="bonus-c-fire-js-on-different-dom-events">Bonus C: Fire JS on different DOM events</h3>
<p>You have used <code>DOMContentLoaded</code> to run Javascript on a DOM event. It is one of many different DOM events that developers can use to trigger functionality.</p>
<p>Check out MDN`’s <a href="https://developer.mozilla.org/en-US/docs/Web/Events">Event Reference</a> documentation to see how many different DOM events there are. Trying using a few of them in your code. Some relevant methods to use would be under:</p>
<ul>
<li>Keyboard events</li>
<li>Mouse events</li>
<li>DOM mutation events</li>
</ul>
<h3 id="bonus-d-make-a-countdown-clock">Bonus D: Make a countdown clock</h3>
<p>Instead of keeping the current time on your profile page, make a countdown clock to your birthday.</p>
<p>Refer to the MDN documentation on the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date">Date object</a> for help with this task. Review how to calculate the elapsed time between two dates.</p>
<hr />
<h1 id="week-04-day-3-event-handling" data-ignore="true">WEEK-04 DAY-3<br><em>Event Handling</em></h1>
<hr />
<h1 id="event-handling-learning-objectives">Event Handling Learning Objectives</h1>
<p>Below is a complete list of the terminal learning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p>
<ol type="1">
<li>Given an HTML page that includes <code>&lt;button id="increment-count"&gt;I have been clicked &lt;span id="clicked-count"&gt;0&lt;/span&gt; times&lt;/button&gt;</code>, write JavaScript that increases the value of the content of span#clicked-count by 1 every time <code>button#increment-count</code> is clicked.</li>
<li>Given an HTML page that includes <code>&lt;input type="checkbox" id="on-off"&gt;&lt;div id="now-you-see-me"&gt;Now you see me&lt;/div&gt;</code>, write JavaScript that sets the display of div#now-you-see-me to “none” when input#on-off is checked and to “block” when input#on-off is not checked.</li>
<li>Given an HTML file that includes <code>&lt;input id="stopper" type="text" placeholder="Quick! Type STOP"&gt;</code>, write JavaScript that will change the background color of the page to cyan five seconds after a page loads unless the field input#stopper contains only the text “STOP”.</li>
<li>Given an HTML page with that includes <code>&lt;input type=”text” id=”fancypants”&gt;</code>, write JavaScript that changes the background color of the textbox to #E8F5E9 when the caret is in the textbox and turns it back to its normal color when focus is elsewhere.</li>
<li>Given an HTML page that includes a form with two password fields, write JavaScript that subscribes to the forms submission event and cancels it if the values in the two password fields differ.</li>
<li>Given an HTML page that includes a div styled as a square with a red background, write JavaScript that allows a user to drag the square around the screen.</li>
<li>Given an HTML page that has 300 DIVs, create one click event subscription that will print the id of the element clicked on to the console.</li>
<li><p>Identify the definition of the bubbling principle.minal learning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p></li>
<li>Given an HTML page that includes <code>&lt;button id="increment-count"&gt;I have been clicked &lt;span id="clicked-count"&gt;0&lt;/span&gt; times&lt;/button&gt;</code>, write JavaScript that increases the value of the content of span#clicked-count by 1 every time <code>button#increment-count</code> is clicked.</li>
<li>Given an HTML page that includes <code>&lt;input type="checkbox" id="on-off"&gt;&lt;div id="now-you-see-me"&gt;Now you see me&lt;/div&gt;</code>, write JavaScript that sets the display of div#now-you-see-me to “none” when input#on-off is checked and to “block” when input#on-off is not checked.</li>
<li>Given an HTML file that includes <code>&lt;input id="stopper" type="text" placeholder="Quick! Type STOP"&gt;</code>, write JavaScript that will change the background color of the page to cyan five seconds after a page loads unless the field input#stopper contains only the text “STOP”.</li>
<li>Given an HTML page with that includes <code>&lt;input type=”text” id=”fancypants”&gt;</code>, write JavaScript that changes the background color of the textbox to #E8F5E9 when the caret is in the textbox and turns it back to its normal color when focus is elsewhere.</li>
<li>Given an HTML page that includes a form with two password fields, write JavaScript that subscribes to the forms submission event and cancels it if the values in the two password fields differ.</li>
<li>Given an HTML page that includes a div styled as a square with a red background, write JavaScript that allows a user to drag the square around the screen.</li>
<li>Given an HTML page that has 300 DIVs, create one click event subscription that will print the id of the element clicked on to the console.</li>
<li><p>Identify the definition of the bubbling principle.</p></li>
</ol>
<hr />
<h1 id="event-handling-common-page-events">Event Handling: Common Page Events</h1>
<p>Event handling is the core of front-end development. When a user interacts with HTML elements on a website, those interactions are known as <em><strong>events</strong></em>. Developers use Javascript to respond to those events. In this reading, we’ll go over three common events and do exercises to add functionality based on those events:</p>
<ul>
<li>A button click</li>
<li>A checkbox being checked</li>
<li>A user typing a value into an input</li>
</ul>
<h2 id="handling-a-button-click-event">Handling a button click event</h2>
<p>Let’s start with a common event that occurs on many websites: a button click. Usually some functionality occurs when a button is clicked – such as displaying new page elements, changing current elements, or submitting a form.</p>
<p>We’ll go through how to set up a <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">click event</a> listener and update the click count after each click. Let’s say we have a button element in an HTML file, like below:</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb38"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb38-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb38-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb38-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb38-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;script.js&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb38-5" title="5">  &lt;/head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb38-6" title="6">  <span class="op">&lt;</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb38-7" title="7">    <span class="op">&lt;</span>button id<span class="op">=</span><span class="st">&quot;increment-count&quot;</span><span class="op">&gt;</span>I have been clicked <span class="op">&lt;</span>span id<span class="op">=</span><span class="st">&quot;clicked-count&quot;</span><span class="op">&gt;</span><span class="dv">0</span>&lt;/span<span class="op">&gt;</span> times&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb38-8" title="8">  &lt;/body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb38-9" title="9">&lt;/html<span class="op">&gt;</span></a></code></pre></div>
<p>We’ll write Javascript to increase the value of the content of <code>span#clicked-count</code> by one each time <code>button#increment-count</code> is clicked. Remember to use the <code>DOMContentLoaded</code> event listener in an external script to ensure the button has loaded on the page before the script runs.</p>
<p><strong>Javascript</strong></p>
<p>If you open up the HTML file in a browser, you should see the button. If you click the button rapidly and repeatedly, the value of <code>span#clicked-count</code> should increment by one after each click.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb39-1" title="1"><span class="co">// script.js</span></a>
<a class="sourceLine" id="cb39-2" title="2"></a>
<a class="sourceLine" id="cb39-3" title="3"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb39-4" title="4">  <span class="kw">const</span> button <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;increment-count&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb39-5" title="5">  <span class="kw">const</span> count <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;clicked-count&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb39-6" title="6">  <span class="kw">let</span> clicks <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb39-7" title="7">  <span class="va">button</span>.<span class="at">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb39-8" title="8">    clicks <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb39-9" title="9">    <span class="va">count</span>.<span class="at">innerHTML</span> <span class="op">=</span> clicks<span class="op">;</span></a>
<a class="sourceLine" id="cb39-10" title="10">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb39-11" title="11"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h3 id="using-addeventlistener-vs.-onclick">Using addEventListener() vs. onclick</h3>
<p>Adding an event listener to the button element, as we did above, is the preferred method of handling events in scripts. However, there is another method we could use here: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">GlobalEventHandlers.onclick</a>. Check out <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">codingrepo.com</a> for a breakdown of the differences between using <code>addEventListener()</code> and <code>onclick</code>. One distinction is that <code>onclick</code> overrides existing event listeners, while <code>addEventListener()</code> does not, making it easy to add new event listeners.</p>
<p>The syntax for <code>onclick</code> is: <code>target.onclick = functionRef;</code> If we wanted to rewrite the button click event example using <code>onclick</code>, we would use the following:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb40-1" title="1"><span class="kw">let</span> clicks <span class="op">=</span> <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb40-2" title="2"><span class="va">button</span>.<span class="at">onclick</span> <span class="op">=</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb40-3" title="3">  clicks <span class="op">+=</span> <span class="dv">1</span><span class="op">;</span></a>
<a class="sourceLine" id="cb40-4" title="4">  <span class="va">count</span>.<span class="at">innerHTML</span> <span class="op">=</span> clicks<span class="op">;</span></a>
<a class="sourceLine" id="cb40-5" title="5"><span class="op">};</span></a></code></pre></div>
<p>We’ll stick to using <code>addEventListener()</code> in our code, but it’s important for front-end developers to understand the differences between the methods above and use cases for each one.</p>
<h2 id="handling-a-checkbox-check-event">Handling a checkbox check event</h2>
<p>Another common event that occurs on many websites is when a user checks a checkbox. Checkboxes are typically recorded values that get submitted when a user submits a form, but checking the box sometimes also triggers another function.</p>
<p>Let’s practice displaying an element when the box is checked and hiding it when the box is unchecked. We’ll pretend we’re on a pizza delivery website, and we’re filling out a form for pizza toppings. There is a checkbox on the page for extra cheese, and when a user checks that box we want to show a <code>div</code> with pricing info. Let’s set up our HTML file with a <code>checkbox</code> and <code>div</code> to show/hide, as well as a link to our Javascript file:</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb41"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb41-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb41-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb41-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb41-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;script.js&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb41-5" title="5">  &lt;/head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-6" title="6">  <span class="op">&lt;</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-7" title="7">    <span class="op">&lt;</span>h1<span class="op">&gt;</span>Pizza Toppings&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-8" title="8">    <span class="op">&lt;</span>input type<span class="op">=</span><span class="st">&quot;checkbox&quot;</span> id<span class="op">=</span><span class="st">&quot;on-off&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-9" title="9">    <span class="op">&lt;</span>label <span class="cf">for</span><span class="op">=</span><span class="st">&quot;on-off&quot;</span><span class="op">&gt;</span>Extra Cheese&lt;/label<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-10" title="10">    <span class="op">&lt;</span>div id<span class="op">=</span><span class="st">&quot;now-you-see-me&quot;</span> style<span class="op">=</span><span class="st">&quot;display:none&quot;</span><span class="op">&gt;</span>Add <span class="va">$1</span>.<span class="dv">00</span>&lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-11" title="11">  &lt;/body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb41-12" title="12">&lt;/html<span class="op">&gt;</span></a></code></pre></div>
<p>Note that we’ve added <code>style="display:none"</code> to the <code>div</code> so that, when the page first loads and the box is unchecked, the <code>div</code> won’t show.</p>
<p>In our <code>script.js</code> file, we’ll set up an event listener for <code>DOMContentLoaded</code> again to make sure the <code>checkbox</code> and <code>div</code> have loaded. Then, we’ll write Javascript to show <code>div#now-you-see-me</code> when the box is checked and hide it when the box is unchecked.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb42-1" title="1"><span class="co">// script.js</span></a>
<a class="sourceLine" id="cb42-2" title="2"></a>
<a class="sourceLine" id="cb42-3" title="3"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb42-4" title="4">  <span class="co">// store the elements we need in variables</span></a>
<a class="sourceLine" id="cb42-5" title="5">  <span class="kw">const</span> checkbox <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;on-off&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-6" title="6">  <span class="kw">const</span> divShowHide <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;now-you-see-me&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-7" title="7">  <span class="co">// add an event listener for the checkbox click</span></a>
<a class="sourceLine" id="cb42-8" title="8">  <span class="va">checkbox</span>.<span class="at">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb42-9" title="9">    <span class="co">// use the &#39;checked&#39; attribute of checkbox inputs</span></a>
<a class="sourceLine" id="cb42-10" title="10">    <span class="co">// returns true if checked, false if unchecked</span></a>
<a class="sourceLine" id="cb42-11" title="11">    <span class="cf">if</span> (<span class="va">checkbox</span>.<span class="at">checked</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb42-12" title="12">      <span class="co">// if the box is checked, show the div</span></a>
<a class="sourceLine" id="cb42-13" title="13">      <span class="va">divShowHide</span>.<span class="va">style</span>.<span class="at">display</span> <span class="op">=</span> <span class="st">&quot;block&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb42-14" title="14">      <span class="co">// else hide the div</span></a>
<a class="sourceLine" id="cb42-15" title="15">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb42-16" title="16">      <span class="va">divShowHide</span>.<span class="va">style</span>.<span class="at">display</span> <span class="op">=</span> <span class="st">&quot;none&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb42-17" title="17">    <span class="op">}</span></a>
<a class="sourceLine" id="cb42-18" title="18">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb42-19" title="19"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>Open up the HTML document in a browser and make sure that you see the <code>checkbox</code> when the page first loads and not the <code>div</code>. The <code>div</code> should show when you check the box, and appear hidden when you uncheck the box.</p>
<p>The code above works. However, what would happen if we had a whole page of checkboxes with extra options inside each one that would show or hide based on whether the boxes are checked? We would have to call <code>Element.style.display = "block"</code> and <code>Element.style.display = "none"</code> on each associated <code>div</code>.</p>
<p>Instead, we could add a <code>show</code> or <code>hide</code> class to the <code>div</code> based on the checkbox and keep our <code>display:block</code> and <code>display:none</code> in CSS. That way, we could reuse the classes on different elements, as well as see class names change in the HTML. Here’s how the code we wrote above would look if we used CSS classes:</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb43"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb43-1" title="1"><span class="co">// script.js</span></a>
<a class="sourceLine" id="cb43-2" title="2"><span class="co">// we need to wait for the stylesheet to load</span></a>
<a class="sourceLine" id="cb43-3" title="3"><span class="va">window</span>.<span class="at">onload</span> <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb43-4" title="4">  <span class="co">// store the elements we need in variables</span></a>
<a class="sourceLine" id="cb43-5" title="5">  <span class="kw">const</span> checkbox <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;on-off&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-6" title="6">  <span class="kw">const</span> divShowHide <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;now-you-see-me&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-7" title="7">  <span class="co">// add an event listener for the checkbox click</span></a>
<a class="sourceLine" id="cb43-8" title="8">  <span class="va">checkbox</span>.<span class="at">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb43-9" title="9">    <span class="co">// use the &#39;checked&#39; attribute of checkbox inputs</span></a>
<a class="sourceLine" id="cb43-10" title="10">    <span class="co">// returns true if checked, false if unchecked</span></a>
<a class="sourceLine" id="cb43-11" title="11">    <span class="cf">if</span> (<span class="va">checkbox</span>.<span class="at">checked</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb43-12" title="12">      <span class="co">// if the box is checked, show the div</span></a>
<a class="sourceLine" id="cb43-13" title="13">      <span class="va">divShowHide</span>.<span class="va">classList</span>.<span class="at">remove</span>(<span class="st">&quot;hide&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-14" title="14">      <span class="va">divShowHide</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&quot;show&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-15" title="15">      <span class="co">// else hide the div</span></a>
<a class="sourceLine" id="cb43-16" title="16">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb43-17" title="17">      <span class="va">divShowHide</span>.<span class="va">classList</span>.<span class="at">remove</span>(<span class="st">&quot;show&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-18" title="18">      <span class="va">divShowHide</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&quot;hide&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-19" title="19">    <span class="op">}</span></a>
<a class="sourceLine" id="cb43-20" title="20">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb43-21" title="21"><span class="op">};</span></a></code></pre></div>
<p><strong>CSS</strong></p>
<div class="sourceCode" id="cb44"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb44-1" title="1"><span class="fu">.show</span> {</a>
<a class="sourceLine" id="cb44-2" title="2">  <span class="kw">display</span>: <span class="dv">block</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-3" title="3">}</a>
<a class="sourceLine" id="cb44-4" title="4"><span class="fu">.hide</span> {</a>
<a class="sourceLine" id="cb44-5" title="5">  <span class="kw">display</span>: <span class="dv">none</span><span class="op">;</span></a>
<a class="sourceLine" id="cb44-6" title="6">}</a></code></pre></div>
<p><strong>HTML (Remove the style attribute, and add the “hide” class)</strong></p>
<div class="sourceCode" id="cb45"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb45-1" title="1"><span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;now-you-see-me&quot;</span><span class="ot"> class=</span><span class="st">&quot;hide&quot;</span><span class="kw">&gt;</span>Add $1.00<span class="kw">&lt;/div&gt;</span></a></code></pre></div>
<h2 id="handling-a-user-input-value">Handling a user input value</h2>
<p>You’ve learned a lot about event handling so far! Let’s do one more exercise to practice event handling using an input. In this exercise, we’ll write JavaScript that will change the background color of the page to cyan five seconds after a page loads unless the field <code>input#stopper</code> contains only the text “STOP”.</p>
<p>Let’s set up an HTML file with the input and a placeholder directing the user to type “STOP”: <strong>HTML</strong></p>
<div class="sourceCode" id="cb46"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb46-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb46-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb46-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb46-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;script.js&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb46-5" title="5">  &lt;/head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb46-6" title="6">  <span class="op">&lt;</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb46-7" title="7">    <span class="op">&lt;</span>input id<span class="op">=</span><span class="st">&quot;stopper&quot;</span> type<span class="op">=</span><span class="st">&quot;text&quot;</span> placeholder<span class="op">=</span><span class="st">&quot;Quick! Type STOP&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb46-8" title="8">  &lt;/body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb46-9" title="9">&lt;/html<span class="op">&gt;</span></a></code></pre></div>
<p>Now let’s set up our Javascript:</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb47"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb47-1" title="1"><span class="co">// script.js</span></a>
<a class="sourceLine" id="cb47-2" title="2"><span class="co">// run when the DOM is ready</span></a>
<a class="sourceLine" id="cb47-3" title="3"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-4" title="4">  <span class="kw">const</span> stopCyanMadness <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb47-5" title="5">    <span class="co">// get the value of the input field</span></a>
<a class="sourceLine" id="cb47-6" title="6">    <span class="kw">const</span> inputValue <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;stopper&quot;</span>).<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb47-7" title="7">    <span class="co">// if value is anything other than &#39;STOP&#39;, change background color</span></a>
<a class="sourceLine" id="cb47-8" title="8">    <span class="cf">if</span> (inputValue <span class="op">!==</span> <span class="st">&quot;STOP&quot;</span>) <span class="op">{</span></a>
<a class="sourceLine" id="cb47-9" title="9">      <span class="va">document</span>.<span class="va">body</span>.<span class="va">style</span>.<span class="at">backgroundColor</span> <span class="op">=</span> <span class="st">&quot;cyan&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb47-10" title="10">    <span class="op">}</span></a>
<a class="sourceLine" id="cb47-11" title="11">  <span class="op">};</span></a>
<a class="sourceLine" id="cb47-12" title="12">  <span class="at">setTimeout</span>(stopCyanMadness<span class="op">,</span> <span class="dv">5000</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb47-13" title="13"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>The code at the bottom of our function might look familiar. We used <code>setInterval</code> along with the Javascript Date object when we set up our current time clock. In this case we’re using <code>setTimeout</code>, which runs <code>stopCyanMadness</code> after 5000 milliseconds, or 5 seconds after the page loads.</p>
<h2 id="what-we-learned-4">What we learned:</h2>
<ul>
<li>How to add an event listener on a button click</li>
<li>How to add an event listener to a checkbox</li>
<li>Styling elements with Javascript vs. with CSS classes</li>
<li>How to check the value of an input</li>
</ul>
<hr />
<h1 id="event-handling-input-focus-and-blur">Event Handling: Input Focus and Blur</h1>
<p>Form inputs are one of the most common HTML elements users interact with on a website. By now, you should be familiar with how to listen for a <em>click event</em> and run a script. In this reading, we’ll learn about a couple of other events on an input field and how to use them:</p>
<ul>
<li>Element: focus event</li>
<li>Element: blur event</li>
</ul>
<h2 id="listening-for-focus-and-blur-events">Listening for focus and blur events</h2>
<p>According to MDN, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">focus event</a> fires when an element, such as an input field, receives focus (i.e. when a user has clicked on that element).</p>
<p>The opposite of the focus event is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">blur event</a>. The blur event fires when an element has lost focus (i.e. when the user clicks out of that element).</p>
<p>Let’s see these two events in action. We’ll set up an HTML page that includes <code>&lt;input type="text" id="fancypants"&gt;</code>. Then, we’ll write JavaScript that changes the background color of the <code>fancypants</code> textbox to <code>#E8F5E9</code> when the focus is on the textbox and turns it back to its normal color when focus is elsewhere.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb48"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb48-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb48-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb48-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb48-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;script.js&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb48-5" title="5">  &lt;/head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb48-6" title="6">  <span class="op">&lt;</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb48-7" title="7">   <span class="op">&lt;</span>input type<span class="op">=</span><span class="st">&quot;text&quot;</span> id<span class="op">=</span><span class="st">&quot;fancypants&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb48-8" title="8">  &lt;/body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb48-9" title="9">&lt;/html<span class="op">&gt;</span></a></code></pre></div>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb49"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb49-1" title="1"><span class="co">// script.js</span></a>
<a class="sourceLine" id="cb49-2" title="2"></a>
<a class="sourceLine" id="cb49-3" title="3"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-4" title="4">  <span class="kw">const</span> input <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;fancypants&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-5" title="5"></a>
<a class="sourceLine" id="cb49-6" title="6">  <span class="va">input</span>.<span class="at">addEventListener</span>(<span class="st">&quot;focus&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-7" title="7">    <span class="va">event</span>.<span class="va">target</span>.<span class="va">style</span>.<span class="at">backgroundColor</span> <span class="op">=</span> <span class="st">&quot;#E8F5E9&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-8" title="8">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-9" title="9">  <span class="va">input</span>.<span class="at">addEventListener</span>(<span class="st">&quot;blur&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb49-10" title="10">    <span class="va">event</span>.<span class="va">target</span>.<span class="va">style</span>.<span class="at">backgroundColor</span> <span class="op">=</span> <span class="st">&quot;initial&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb49-11" title="11">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb49-12" title="12"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>In the code above, we changed the background color of the input on <code>focus</code> and changed it back to its initial value on <code>blur</code>. This small bit of functionality signals to users that they’ve clicked on or off of an input field, which is especially helpful and more user-friendly when there is a long form on the page. Now you can use <code>focus</code> and <code>blur</code> on your form inputs!</p>
<h2 id="what-we-learned-5">What we learned:</h2>
<ul>
<li>How to listen for the focus event on inputs</li>
<li>How to listen for the blur event on inputs</li>
</ul>
<hr />
<h1 id="event-handling-form-validation">Event Handling: Form Validation</h1>
<p>Everyone has submitted a form at some point. Form submissions are another common action users take on a website. We’ve all seen what happens if we put in values that aren’t accepted on a form – frustrating errors! Those errors prompt the user to input accepted form values before submission and are the first check to ensure valid data gets stored in the database.</p>
<p>Learning how to implement front-end validation before a user submits a form is an important skill for developers. In this reading, we’ll learn how to check whether two password values on a form are equal and prevent the user from submitting the form if they’re not.</p>
<h2 id="validate-passwords-before-submitting-a-form">Validate passwords before submitting a form</h2>
<p>In order to validate passwords, we need a form with two password fields: a password field and a confirmation field. We’ll also include two other fields that are common on a signup page: a name field and an email field. See the example below:</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb50"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb50-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb50-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb50-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb50-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> src=</span><span class="st">&quot;script.js&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb50-5" title="5">  &lt;/head<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-6" title="6">  <span class="op">&lt;</span>body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-7" title="7">    <span class="op">&lt;</span>form <span class="kw">class</span><span class="op">=</span><span class="st">&quot;form form--signup&quot;</span> id<span class="op">=</span><span class="st">&quot;signup-form&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-8" title="8">      <span class="op">&lt;</span>input <span class="kw">class</span><span class="op">=</span><span class="st">&quot;form__field&quot;</span> id<span class="op">=</span><span class="st">&quot;name&quot;</span> type<span class="op">=</span><span class="st">&quot;text&quot;</span> placeholder<span class="op">=</span><span class="st">&quot;Name&quot;</span> style<span class="op">=</span><span class="st">&quot;display:block&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-9" title="9">      <span class="op">&lt;</span>input <span class="kw">class</span><span class="op">=</span><span class="st">&quot;form__field&quot;</span> id<span class="op">=</span><span class="st">&quot;email&quot;</span> type<span class="op">=</span><span class="st">&quot;text&quot;</span> placeholder<span class="op">=</span><span class="st">&quot;Email&quot;</span> style<span class="op">=</span><span class="st">&quot;display:block&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-10" title="10">      <span class="op">&lt;</span>input <span class="kw">class</span><span class="op">=</span><span class="st">&quot;form__field&quot;</span> id<span class="op">=</span><span class="st">&quot;password&quot;</span> type<span class="op">=</span><span class="st">&quot;text&quot;</span> placeholder<span class="op">=</span><span class="st">&quot;Password&quot;</span> style<span class="op">=</span><span class="st">&quot;display:block&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-11" title="11">      <span class="op">&lt;</span>input <span class="kw">class</span><span class="op">=</span><span class="st">&quot;form__field&quot;</span> id<span class="op">=</span><span class="st">&quot;confirm-password&quot;</span> type<span class="op">=</span><span class="st">&quot;text&quot;</span> placeholder<span class="op">=</span><span class="st">&quot;Password&quot;</span> style<span class="op">=</span><span class="st">&quot;display:block&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-12" title="12">      <span class="op">&lt;</span>button <span class="kw">class</span><span class="op">=</span><span class="st">&quot;form__submit&quot;</span> id<span class="op">=</span><span class="st">&quot;submit&quot;</span> type<span class="op">=</span><span class="st">&quot;submit&quot;</span><span class="op">&gt;</span>Submit&lt;/button<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-13" title="13">    &lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-14" title="14">  &lt;/body<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb50-15" title="15">&lt;/html<span class="op">&gt;</span></a></code></pre></div>
<p>Now, we’ll set up our <code>script.js</code> file with code that will:</p>
<ul>
<li>Listen for a form submission event</li>
<li>Get the values of the two password fields and check for a match</li>
<li>Alert the user if there’s not a match, or submit the form</li>
</ul>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb51"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb51-1" title="1"><span class="co">// script.js</span></a>
<a class="sourceLine" id="cb51-2" title="2"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-3" title="3">  <span class="co">// get the form element</span></a>
<a class="sourceLine" id="cb51-4" title="4">  <span class="kw">const</span> form <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;signup-form&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-5" title="5"></a>
<a class="sourceLine" id="cb51-6" title="6">  <span class="kw">const</span> checkPasswordMatch <span class="op">=</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-7" title="7">    <span class="co">// get the values of the pw field and pw confirm field</span></a>
<a class="sourceLine" id="cb51-8" title="8">    <span class="kw">const</span> passwordValue <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;password&quot;</span>).<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb51-9" title="9">    <span class="kw">const</span> passwordConfirmValue <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;confirm-password&quot;</span>)</a>
<a class="sourceLine" id="cb51-10" title="10">      .<span class="at">value</span><span class="op">;</span></a>
<a class="sourceLine" id="cb51-11" title="11">    <span class="co">// if the values are not equal, alert the user</span></a>
<a class="sourceLine" id="cb51-12" title="12">    <span class="co">// otherwise, submit the form</span></a>
<a class="sourceLine" id="cb51-13" title="13">    <span class="cf">if</span> (passwordValue <span class="op">!==</span> passwordConfirmValue) <span class="op">{</span></a>
<a class="sourceLine" id="cb51-14" title="14">      <span class="co">// prevent the default submission behavior</span></a>
<a class="sourceLine" id="cb51-15" title="15">      <span class="va">event</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb51-16" title="16">      <span class="at">alert</span>(<span class="st">&quot;Passwords must match!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-17" title="17">    <span class="op">}</span> <span class="cf">else</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb51-18" title="18">      <span class="at">alert</span>(<span class="st">&quot;The form was submitted!&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-19" title="19">    <span class="op">}</span></a>
<a class="sourceLine" id="cb51-20" title="20">  <span class="op">};</span></a>
<a class="sourceLine" id="cb51-21" title="21">  <span class="co">// listen for submit event and run password check</span></a>
<a class="sourceLine" id="cb51-22" title="22">  <span class="va">form</span>.<span class="at">addEventListener</span>(<span class="st">&quot;submit&quot;</span><span class="op">,</span> checkPasswordMatch)<span class="op">;</span></a>
<a class="sourceLine" id="cb51-23" title="23"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>In the code above, we prevented the form submission if the passwords don’t match using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">Event.preventDefault()</a>. This method stops the default action of an event if the event is not explicitly handled. We then alerted the user that the form submission was prevented.</p>
<h2 id="what-we-learned-6">What we learned:</h2>
<ul>
<li>Front-end form validation prevents invalid data from being recorded in the database.</li>
<li>We use <code>Event.preventDefault()</code> to stop form submission.</li>
<li>Users are typically notified when default behavior is prevented.</li>
</ul>
<hr />
<h1 id="event-handling-html-drag-and-drop-api">Event Handling: HTML Drag-And-Drop API</h1>
<p>Dragging and dropping a page element is a fun and convenient way for users to interact with a Web page! HTML drag-and-drop interfaces are most commonly used for dragging files, such as PDFs or images, onto a page in a specified area known as a <em>drop zone</em>.</p>
<p>While less typical than button clicks and form submission events, HTML drag-and-drop is relevant to event handling because it uses the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">DOM event model</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">drag events</a> inherited from <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">mouse events</a>.</p>
<p>This reading will go over how to use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">HTML Drag and Drop API</a> to create “draggable” page elements and allow users to drop them into a drop zone.</p>
<h2 id="basic-drag-and-drop-functions">Basic drag-and-drop functions</h2>
<p>Let’s go over how to set up basic drag-and-drop functionality, according to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">MDN documentation</a>. You’ll need to mark an element as “draggable”. Then, to do something with that dragging, you need</p>
<ul>
<li>A <em>dragstart</em> handler – occurs when the user clicks the mouse and starts dragging</li>
<li>A <em>drop</em> handler – occurs when the user releases the mouse click and “drops” the element</li>
</ul>
<p>You will also see how to use the <code>dragenter</code> and <code>dragleave</code> events to do some nice interactions.</p>
<h2 id="the-example">The example</h2>
<p>Here’s an HTML document that you can copy and paste into a text editor if you want to follow along.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb52-1" title="1"></a>
<a class="sourceLine" id="cb52-2" title="2"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb52-3" title="3"><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb52-4" title="4"><span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb52-5" title="5">  <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;UTF-8&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb52-6" title="6">  <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content=</span><span class="st">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb52-7" title="7">  <span class="kw">&lt;title&gt;</span>Red Square is a Drag<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb52-8" title="8">  <span class="kw">&lt;style&gt;</span></a>
<a class="sourceLine" id="cb52-9" title="9">    <span class="pp">#red-square</span> {</a>
<a class="sourceLine" id="cb52-10" title="10">      <span class="kw">background-color</span>: <span class="cn">red</span><span class="op">;</span></a>
<a class="sourceLine" id="cb52-11" title="11">      <span class="kw">box-sizing</span>: <span class="dv">border-box</span><span class="op">;</span></a>
<a class="sourceLine" id="cb52-12" title="12">      <span class="kw">height</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb52-13" title="13">      <span class="kw">width</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb52-14" title="14">    }</a>
<a class="sourceLine" id="cb52-15" title="15">  <span class="kw">&lt;/style&gt;</span></a>
<a class="sourceLine" id="cb52-16" title="16"><span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb52-17" title="17"><span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb52-18" title="18">  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;red-square&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb52-19" title="19"><span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb52-20" title="20"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>You don’t need to know what <code>box-sizing</code> does. That’ll be covered in future lessons. It’s in this example to make sure the box looks ok when it’s dragged.</p>
<h2 id="the-first-step-of-drag-and-drop">The first step of drag and drop</h2>
<p>The first step to making an element draggable is to add that attribute to the element itself. Change the red square <code>div</code> to have the <code>draggable</code> attribute with a value of “true”.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb53-1" title="1">  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;red-square&quot;</span><span class="ot"> draggable=</span><span class="st">&quot;true&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a></code></pre></div>
<p>Now, if you refresh your page, you can start dragging the red square. When you release it, it will “snap” back to it’s original position.</p>
<figure>
<img src="images/drag-red-square-1.gif" alt="draggable red square" /><figcaption>draggable red square</figcaption>
</figure>
<h3 id="handling-the-start-of-a-drag">Handling the start of a drag</h3>
<p>Now that the element is draggable, you need some JavaScript to handle the event of when someone starts dragging an element. This is there so that your code knows what’s being dragged! Otherwise, how will it know what to do when the dragging ends?</p>
<p>The following code creates a handler for the <code>dragstart</code> event. Then, it subscribes to the red square’s <code>dragstart</code> event with that event handler. The event handler, in this case, will add a class to the red square to make it show that it’s being dragged. Then, it adds the value of the <code>id</code> of the element to the “data transfer” object. The “data transfer” object holds all of the information that will be needed when the dragging operation ends.</p>
<p>The <code>classList</code> object for the HTML element is just a way to add and remove CSS classes to and from a DOM object. You’re not going to be tested over that bit of information for some weeks, so don’t worry about remembering it. Just understand that using the <code>add</code> method on it <em>adds</em> the CSS class to the HTML element.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb54-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb54-2" title="2"><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb54-3" title="3"><span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb54-4" title="4">  <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;UTF-8&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb54-5" title="5">  <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content=</span><span class="st">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb54-6" title="6">  <span class="kw">&lt;title&gt;</span>Red Square is a Drag<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb54-7" title="7">  <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb54-8" title="8">    <span class="kw">const</span> handleDragStart <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb54-9" title="9">      <span class="va">e</span>.<span class="va">target</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&#39;is-being-dragged&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb54-10" title="10">      <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">setData</span>(<span class="st">&#39;text/plain&#39;</span><span class="op">,</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">id</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb54-11" title="11">      <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">dropEffect</span> <span class="op">=</span> <span class="st">&#39;move&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb54-12" title="12">    <span class="op">}</span></a>
<a class="sourceLine" id="cb54-13" title="13">    <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;DOMContentLoaded&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb54-14" title="14">      document</a>
<a class="sourceLine" id="cb54-15" title="15">        .<span class="at">getElementById</span>(<span class="st">&#39;red-square&#39;</span>)</a>
<a class="sourceLine" id="cb54-16" title="16">        .<span class="at">addEventListener</span>(<span class="st">&#39;dragstart&#39;</span><span class="op">,</span> handleDragStart)<span class="op">;</span></a>
<a class="sourceLine" id="cb54-17" title="17">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb54-18" title="18">  <span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb54-19" title="19">  <span class="kw">&lt;style&gt;</span></a>
<a class="sourceLine" id="cb54-20" title="20">    <span class="pp">#red-square</span> {</a>
<a class="sourceLine" id="cb54-21" title="21">      <span class="kw">background-color</span>: <span class="cn">red</span><span class="op">;</span></a>
<a class="sourceLine" id="cb54-22" title="22">      <span class="kw">box-sizing</span>: <span class="dv">border-box</span><span class="op">;</span></a>
<a class="sourceLine" id="cb54-23" title="23">      <span class="kw">height</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb54-24" title="24">      <span class="kw">width</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb54-25" title="25">    }</a>
<a class="sourceLine" id="cb54-26" title="26"></a>
<a class="sourceLine" id="cb54-27" title="27">    <span class="fu">.is-being-dragged</span> {</a>
<a class="sourceLine" id="cb54-28" title="28">      <span class="kw">opacity</span>: <span class="dv">0.5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb54-29" title="29">      <span class="kw">border</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">dashed</span> <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb54-30" title="30">    }</a>
<a class="sourceLine" id="cb54-31" title="31">  <span class="kw">&lt;/style&gt;</span></a>
<a class="sourceLine" id="cb54-32" title="32"><span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb54-33" title="33"><span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb54-34" title="34">  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;red-square&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb54-35" title="35"><span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb54-36" title="36"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>If you update your version of the code, you can now see that the square’s border gets all dashy when you drag it!</p>
<figure>
<img src="images/drag-red-square-2.gif" alt="draggable red square with dashed border" /><figcaption>draggable red square with dashed border</figcaption>
</figure>
<h3 id="the-drop-zone-is-all-clear">The drop zone is all clear!</h3>
<p>A drop zone is just another HTML element. Put another <code>div</code> in your HTML and give it an id of <code>drop-zone</code>. It could, conceivably, look like this.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb55-1" title="1"><span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb55-2" title="2">  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;red-square&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb55-3" title="3">  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;drop-zone&quot;</span><span class="kw">&gt;</span>drop zone<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb55-4" title="4"><span class="kw">&lt;/body&gt;</span></a></code></pre></div>
<p>To make it visible, add some CSS. Note that most of that in there is to make it look pretty. You should understand the simple things like “background-color” and “color” and “font-size”, “height” and “width”. You won’t yet be tested on any of those other properties. But, feel free to play around with them!</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb56-1" title="1"><span class="kw">&lt;style&gt;</span></a>
<a class="sourceLine" id="cb56-2" title="2">  <span class="pp">#drop-zone</span> {</a>
<a class="sourceLine" id="cb56-3" title="3">    <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-4" title="4">    <span class="kw">border</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#DDD</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-5" title="5">    <span class="kw">color</span>: <span class="cn">#CCC</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-6" title="6">    <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb56-7" title="7">    <span class="kw">font-family</span>: Arial<span class="op">,</span> Helvetica<span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-8" title="8">    <span class="kw">font-size</span>: <span class="dv">2</span><span class="dt">em</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-9" title="9">    <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-10" title="10">    <span class="kw">height</span>: <span class="dv">200</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-11" title="11">    <span class="kw">justify-content</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-12" title="12">    <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-13" title="13">    <span class="kw">right</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-14" title="14">    <span class="kw">width</span>: <span class="dv">200</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-15" title="15">  }</a>
<a class="sourceLine" id="cb56-16" title="16"></a>
<a class="sourceLine" id="cb56-17" title="17">  <span class="pp">#red-square</span> {</a>
<a class="sourceLine" id="cb56-18" title="18">    <span class="kw">background-color</span>: <span class="cn">red</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-19" title="19">    <span class="kw">box-sizing</span>: <span class="dv">border-box</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-20" title="20">    <span class="kw">height</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-21" title="21">    <span class="kw">width</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-22" title="22">  }</a>
<a class="sourceLine" id="cb56-23" title="23"></a>
<a class="sourceLine" id="cb56-24" title="24">  <span class="fu">.is-being-dragged</span> {</a>
<a class="sourceLine" id="cb56-25" title="25">    <span class="kw">opacity</span>: <span class="dv">0.5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-26" title="26">    <span class="kw">border</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">dashed</span> <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb56-27" title="27">  }</a>
<a class="sourceLine" id="cb56-28" title="28"><span class="kw">&lt;/style&gt;</span></a></code></pre></div>
<figure>
<img src="images/drag-red-square-3.1.png" alt="draggable red square with dashed border and drop zone" /><figcaption>draggable red square with dashed border and drop zone</figcaption>
</figure>
<h3 id="handle-when-the-red-square-gets-enters-the-drop-zone-and-leaves">Handle when the red square gets enters the drop zone (and leaves)</h3>
<p>This is another couple of JavaScript event handlers, but this time, it will handle the <code>dragenter</code> and <code>dragleave</code> events on the drop zone element. You can replace the <code>&lt;script&gt;</code> tag in your HTML with this version, here, to handle those events. Note that the <code>handleDragEnter</code> event handler merely adds a CSS class to the drop zone. The <code>handleDragLeave</code> removes the CSS class. Then, in the <code>DOMContentLoaded</code> event handler, the last three lines gets a reference to the drop zone element and attaches the event handlers to it.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb57-1" title="1"><span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb57-2" title="2">  <span class="kw">const</span> handleDragStart <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-3" title="3">    <span class="va">e</span>.<span class="va">target</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&#39;is-being-dragged&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-4" title="4">    <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">setData</span>(<span class="st">&#39;text/plain&#39;</span><span class="op">,</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">id</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-5" title="5">    <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">dropEffect</span> <span class="op">=</span> <span class="st">&#39;move&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb57-6" title="6">  <span class="op">};</span></a>
<a class="sourceLine" id="cb57-7" title="7"></a>
<a class="sourceLine" id="cb57-8" title="8">  <span class="kw">const</span> handleDragEnter <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-9" title="9">    <span class="va">e</span>.<span class="va">target</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&#39;is-active-drop-zone&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-10" title="10">  <span class="op">};</span></a>
<a class="sourceLine" id="cb57-11" title="11"></a>
<a class="sourceLine" id="cb57-12" title="12">  <span class="kw">const</span> handleDragLeave <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-13" title="13">    <span class="va">e</span>.<span class="va">target</span>.<span class="va">classList</span>.<span class="at">remove</span>(<span class="st">&#39;is-active-drop-zone&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-14" title="14">  <span class="op">};</span></a>
<a class="sourceLine" id="cb57-15" title="15"></a>
<a class="sourceLine" id="cb57-16" title="16">  <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;DOMContentLoaded&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb57-17" title="17">    document</a>
<a class="sourceLine" id="cb57-18" title="18">      .<span class="at">getElementById</span>(<span class="st">&#39;red-square&#39;</span>)</a>
<a class="sourceLine" id="cb57-19" title="19">      .<span class="at">addEventListener</span>(<span class="st">&#39;dragstart&#39;</span><span class="op">,</span> handleDragStart)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-20" title="20"></a>
<a class="sourceLine" id="cb57-21" title="21">    <span class="kw">const</span> dropZone <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;drop-zone&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-22" title="22">    <span class="va">dropZone</span>.<span class="at">addEventListener</span>(<span class="st">&#39;dragenter&#39;</span><span class="op">,</span> handleDragEnter)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-23" title="23">    <span class="va">dropZone</span>.<span class="at">addEventListener</span>(<span class="st">&#39;dragleave&#39;</span><span class="op">,</span> handleDragLeave)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-24" title="24">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb57-25" title="25"><span class="kw">&lt;/script&gt;</span></a></code></pre></div>
<p>The CSS to make the item change looks like this. Just add the class to the <code>&lt;style&gt;</code> tag in the HTML.</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb58-1" title="1"><span class="fu">.is-active-drop-zone</span> {</a>
<a class="sourceLine" id="cb58-2" title="2">  <span class="kw">background-color</span>: <span class="cn">blue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb58-3" title="3">}</a></code></pre></div>
<p>Just look at that drop zone turn blue with glee!</p>
<figure>
<img src="images/drag-red-square-4.gif" alt="draggable red square with dashed border and active drop zone" /><figcaption>draggable red square with dashed border and active drop zone</figcaption>
</figure>
<h3 id="do-something-with-a-drop">Do something with a “drop”!</h3>
<p>Finally, the <code>drop</code> event of the drop target handles what happens when you let go of the draggable element over the drop zone. However, there’s one small problem. From the MDN documentation on <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTML_Drag_and_Drop_API/Drag_operations#drop">Drag Operations</a>:</p>
<blockquote>
<p>If the mouse is released over an element that is a valid drop target, that is, one that cancelled the last <code>dragenter</code> or <code>dragover</code> event, then the drop will be successful, and a drop event will fire at the target. Otherwise, the drag operation is cancelled, and no drop event is fired.</p>
</blockquote>
<p>For this to work properly, you will <em>also</em> have to subscribe to the <code>drop</code> event for the drop zone. Then, in both the handlers for the <code>drop</code> and <code>dragenter</code> events, you’ll need to cancel the event. Recall that in the last article you learned about the <code>preventDefault()</code> method on the event object. That’s what you need to call in both the <code>drop</code> and <code>dragenter</code> event handlers to make the <code>drop</code> event fire.</p>
<p>That’s a lot of words! Here is the final HTML for this little dragging example.</p>
<div class="sourceCode" id="cb59"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb59-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb59-2" title="2"><span class="kw">&lt;html</span><span class="ot"> lang=</span><span class="st">&quot;en&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb59-3" title="3"><span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb59-4" title="4">  <span class="kw">&lt;meta</span><span class="ot"> charset=</span><span class="st">&quot;UTF-8&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb59-5" title="5">  <span class="kw">&lt;meta</span><span class="ot"> name=</span><span class="st">&quot;viewport&quot;</span><span class="ot"> content=</span><span class="st">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb59-6" title="6">  <span class="kw">&lt;title&gt;</span>Red Square is a Drag<span class="kw">&lt;/title&gt;</span></a>
<a class="sourceLine" id="cb59-7" title="7">  <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb59-8" title="8">    <span class="kw">const</span> handleDragStart <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-9" title="9">      <span class="va">e</span>.<span class="va">target</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&#39;is-being-dragged&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-10" title="10">      <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">setData</span>(<span class="st">&#39;text/plain&#39;</span><span class="op">,</span> <span class="va">e</span>.<span class="va">target</span>.<span class="at">id</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-11" title="11">      <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">dropEffect</span> <span class="op">=</span> <span class="st">&#39;move&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-12" title="12">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-13" title="13"></a>
<a class="sourceLine" id="cb59-14" title="14">    <span class="kw">const</span> handleDragEnter <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-15" title="15">      <span class="co">// Needed so that the &quot;drop&quot; event will fire.</span></a>
<a class="sourceLine" id="cb59-16" title="16">      <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb59-17" title="17">      <span class="va">e</span>.<span class="va">target</span>.<span class="va">classList</span>.<span class="at">add</span>(<span class="st">&#39;is-active-drop-zone&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-18" title="18">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-19" title="19"></a>
<a class="sourceLine" id="cb59-20" title="20">    <span class="kw">const</span> handleDragLeave <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-21" title="21">      <span class="va">e</span>.<span class="va">target</span>.<span class="va">classList</span>.<span class="at">remove</span>(<span class="st">&#39;is-active-drop-zone&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-22" title="22">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-23" title="23"></a>
<a class="sourceLine" id="cb59-24" title="24">    <span class="kw">const</span> handleDragOver <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-25" title="25">      <span class="co">// Needed so that the &quot;drop&quot; event will fire.</span></a>
<a class="sourceLine" id="cb59-26" title="26">      <span class="va">e</span>.<span class="at">preventDefault</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb59-27" title="27">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-28" title="28"></a>
<a class="sourceLine" id="cb59-29" title="29">    <span class="kw">const</span> handleDrop <span class="op">=</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-30" title="30">      <span class="kw">const</span> id <span class="op">=</span> <span class="va">e</span>.<span class="va">dataTransfer</span>.<span class="at">getData</span>(<span class="st">&#39;text/plain&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-31" title="31">      <span class="kw">const</span> draggedElement <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(id)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-32" title="32">      <span class="va">draggedElement</span>.<span class="at">draggable</span> <span class="op">=</span> <span class="kw">false</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-33" title="33">      <span class="va">e</span>.<span class="va">target</span>.<span class="at">appendChild</span>(draggedElement)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-34" title="34">    <span class="op">};</span></a>
<a class="sourceLine" id="cb59-35" title="35"></a>
<a class="sourceLine" id="cb59-36" title="36">    <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&#39;DOMContentLoaded&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb59-37" title="37">      document</a>
<a class="sourceLine" id="cb59-38" title="38">        .<span class="at">getElementById</span>(<span class="st">&#39;red-square&#39;</span>)</a>
<a class="sourceLine" id="cb59-39" title="39">        .<span class="at">addEventListener</span>(<span class="st">&#39;dragstart&#39;</span><span class="op">,</span> handleDragStart)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-40" title="40"></a>
<a class="sourceLine" id="cb59-41" title="41">      <span class="kw">const</span> dropZone <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&#39;drop-zone&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-42" title="42">      <span class="va">dropZone</span>.<span class="at">addEventListener</span>(<span class="st">&#39;drop&#39;</span><span class="op">,</span> handleDrop)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-43" title="43">      <span class="va">dropZone</span>.<span class="at">addEventListener</span>(<span class="st">&#39;dragenter&#39;</span><span class="op">,</span> handleDragEnter)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-44" title="44">      <span class="va">dropZone</span>.<span class="at">addEventListener</span>(<span class="st">&#39;dragleave&#39;</span><span class="op">,</span> handleDragLeave)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-45" title="45">      <span class="va">dropZone</span>.<span class="at">addEventListener</span>(<span class="st">&#39;dragover&#39;</span><span class="op">,</span> handleDragOver)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-46" title="46">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb59-47" title="47">  <span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb59-48" title="48">  <span class="kw">&lt;style&gt;</span></a>
<a class="sourceLine" id="cb59-49" title="49">    <span class="pp">#drop-zone</span> {</a>
<a class="sourceLine" id="cb59-50" title="50">      <span class="kw">align-items</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-51" title="51">      <span class="kw">border</span>: <span class="dv">1</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">#DDD</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-52" title="52">      <span class="kw">color</span>: <span class="cn">#CCC</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-53" title="53">      <span class="kw">display</span>: flex<span class="op">;</span></a>
<a class="sourceLine" id="cb59-54" title="54">      <span class="kw">font-family</span>: Arial<span class="op">,</span> Helvetica<span class="op">,</span> <span class="dv">sans-serif</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-55" title="55">      <span class="kw">font-size</span>: <span class="dv">2</span><span class="dt">em</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-56" title="56">      <span class="kw">font-weight</span>: <span class="dv">bold</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-57" title="57">      <span class="kw">height</span>: <span class="dv">200</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-58" title="58">      <span class="kw">justify-content</span>: <span class="dv">center</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-59" title="59">      <span class="kw">position</span>: <span class="dv">absolute</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-60" title="60">      <span class="kw">right</span>: <span class="dv">0</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-61" title="61">      <span class="kw">top</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-62" title="62">      <span class="kw">width</span>: <span class="dv">200</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-63" title="63">    }</a>
<a class="sourceLine" id="cb59-64" title="64"></a>
<a class="sourceLine" id="cb59-65" title="65">    <span class="pp">#red-square</span> {</a>
<a class="sourceLine" id="cb59-66" title="66">      <span class="kw">background-color</span>: <span class="cn">red</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-67" title="67">      <span class="kw">box-sizing</span>: <span class="dv">border-box</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-68" title="68">      <span class="kw">height</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-69" title="69">      <span class="kw">width</span>: <span class="dv">100</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-70" title="70">    }</a>
<a class="sourceLine" id="cb59-71" title="71"></a>
<a class="sourceLine" id="cb59-72" title="72">    <span class="fu">.is-being-dragged</span> {</a>
<a class="sourceLine" id="cb59-73" title="73">      <span class="kw">opacity</span>: <span class="dv">0.5</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-74" title="74">      <span class="kw">border</span>: <span class="dv">8</span><span class="dt">px</span> <span class="dv">dashed</span> <span class="cn">white</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-75" title="75">    }</a>
<a class="sourceLine" id="cb59-76" title="76"></a>
<a class="sourceLine" id="cb59-77" title="77">    <span class="fu">.is-active-drop-zone</span> {</a>
<a class="sourceLine" id="cb59-78" title="78">      <span class="kw">background-color</span>: <span class="cn">blue</span><span class="op">;</span></a>
<a class="sourceLine" id="cb59-79" title="79">      <span class="kw">color</span>:</a>
<a class="sourceLine" id="cb59-80" title="80">    }</a>
<a class="sourceLine" id="cb59-81" title="81">  <span class="kw">&lt;/style&gt;</span></a>
<a class="sourceLine" id="cb59-82" title="82">  <span class="kw">&lt;/style&gt;</span></a>
<a class="sourceLine" id="cb59-83" title="83"><span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb59-84" title="84"><span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb59-85" title="85">  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;red-square&quot;</span><span class="ot"> draggable=</span><span class="st">&quot;true&quot;</span><span class="kw">&gt;&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb59-86" title="86">  <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;drop-zone&quot;</span><span class="kw">&gt;</span>drop zone<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb59-87" title="87"><span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb59-88" title="88"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<figure>
<img src="images/drag-red-square-5.gif" alt="droppable red square with dashed border and active drop zone" /><figcaption>droppable red square with dashed border and active drop zone</figcaption>
</figure>
<h2 id="what-you-learned">What you learned:</h2>
<p>There is <em>a lot</em> going on, here. Here’s a quick review of what you should get from this article.</p>
<ul>
<li>HTML has a Drag and Drop API that you can use to do dragging and dropping in an application.</li>
<li>To make it so that a person can drag an HTML element around, you add the <code>draggable="true"</code> attribute/value pair to the element (or elements) that you want to drag.</li>
<li>You can subscribe to one event on the thing you want to drag, the <code>dragstart</code> event. That event will allow you to customize the element and save data to the <code>dataTransfer</code> object.</li>
<li>You can subscribe to four events for the “drop zone” element(s): <code>dragenter</code>, <code>dragover</code>, and <code>dragleave</code>. If you want the <code>drop</code> event to work, you <em>must</em> subscribe to both <code>dragenter</code> and <code>dragover</code> and cancel the event using the <code>preventDefault()</code> method of the event.</li>
</ul>
<hr />
<h1 id="event-handling-click-events-with-event.target">Event Handling: Click Events With Event.target</h1>
<p>Imagine a user is viewing a Web page showing 300 different products. The user carefully studies the page, makes a selection, and clicks on one of the 300 products. Could we find out through code which element was clicked on? Yes!</p>
<p>Previously we learned how to handle a click event using an element’s ID. However, what if we don’t know the ID of the clicked element before it’s clicked? There is a simple property we can use to discover on which element the click event occurred: <code>event.target</code>.</p>
<p>According to the MDN doc on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">event.target</a>, “the <code>target</code> property of the <code>Event</code> interface is a reference to the object that dispatched the event. It is different from <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">event.currentTarget</a> when the event handler is called during the bubbling or capturing phase of the event.” Essentially:</p>
<ul>
<li><code>event.target</code> refers to the element on which the event occurred (e.g. a clicked element).</li>
<li><code>event.currentTarget</code> refers to the element to which the event handler has been attached, which could be the parent element of the <code>event.target</code> element. (<em>Note: We’ll talk about this in more detail in the reading on The Bubbling Principle.</em>)</li>
</ul>
<p>It is common practice for developers to use <code>event.target</code> to reference the element on which the event occurs in an event handling function. Let’s practice using this handy property to get the ID of a clicked element.</p>
<h2 id="use-event.target-to-console.log-the-id-of-a-clicked-div">Use event.target to console.log the ID of a clicked div</h2>
<p>Let’s say we had an HTML page with 10 <code>divs</code>, each with a unique ID, like below. We want to click on any one of these divs and print the clicked div’s ID to the console.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb60"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb60-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb60-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb60-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb60-4" title="4">    <span class="kw">&lt;link</span><span class="ot"> rel=</span><span class="st">&quot;stylesheet&quot;</span><span class="ot"> type=</span><span class="st">&quot;text/css&quot;</span><span class="ot"> href=</span><span class="st">&quot;example.css&quot;</span> <span class="kw">/&gt;</span></a>
<a class="sourceLine" id="cb60-5" title="5">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="ot"> src=</span><span class="st">&quot;example.js&quot;</span><span class="kw">&gt;&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb60-6" title="6">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb60-7" title="7">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb60-8" title="8">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-1&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>1<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-9" title="9">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-2&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>2<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-10" title="10">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-3&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>3<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-11" title="11">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-4&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>4<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-12" title="12">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-5&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>5<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-13" title="13">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-6&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>6<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-14" title="14">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-7&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>7<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-15" title="15">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-8&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>8<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-16" title="16">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-9&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>9<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-17" title="17">    <span class="kw">&lt;div</span><span class="ot"> id=</span><span class="st">&quot;div-10&quot;</span><span class="ot"> class=</span><span class="st">&quot;box&quot;</span><span class="kw">&gt;</span>10<span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb60-18" title="18">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb60-19" title="19"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>In our linked <strong>example.css</strong> file, we’ll add style to the <code>.box</code> class to make our <code>divs</code> easier to click on:</p>
<p><strong>CSS</strong></p>
<div class="sourceCode" id="cb61"><pre class="sourceCode css"><code class="sourceCode css"><a class="sourceLine" id="cb61-1" title="1"><span class="fu">.box</span> {</a>
<a class="sourceLine" id="cb61-2" title="2">  <span class="kw">border</span>: <span class="dv">2</span><span class="dt">px</span> <span class="dv">solid</span> <span class="cn">gray</span><span class="op">;</span></a>
<a class="sourceLine" id="cb61-3" title="3">  <span class="kw">height</span>: <span class="dv">50</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb61-4" title="4">  <span class="kw">width</span>: <span class="dv">50</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb61-5" title="5">  <span class="kw">margin</span>: <span class="dv">5</span><span class="dt">px</span><span class="op">;</span></a>
<a class="sourceLine" id="cb61-6" title="6">}</a></code></pre></div>
<p>Now, we’ll write Javascript to print the clicked div’s ID to the console. Again, we want to wait for the necessary DOM elements to load before running our script using <code>DOMContentLoaded</code>. Then, we’ll listen for a click event and <code>console.log</code> the clicked element’s ID.</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb62"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb62-1" title="1"><span class="co">// example.js</span></a>
<a class="sourceLine" id="cb62-2" title="2"></a>
<a class="sourceLine" id="cb62-3" title="3"><span class="co">// Wait for the DOM to load</span></a>
<a class="sourceLine" id="cb62-4" title="4"><span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-5" title="5">  <span class="co">// Add a click event listener on the document’s body</span></a>
<a class="sourceLine" id="cb62-6" title="6">  <span class="va">document</span>.<span class="va">body</span>.<span class="at">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb62-7" title="7">    <span class="co">// console.log the event target’s ID</span></a>
<a class="sourceLine" id="cb62-8" title="8">    <span class="va">console</span>.<span class="at">log</span>(<span class="va">event</span>.<span class="va">target</span>.<span class="at">id</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-9" title="9">  <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb62-10" title="10"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p>If you open up your HTML in a browser, you should see the 10 <code>divs</code>. Click on any one of them. Open up the browser console by right-clicking, selecting <em>Inspect</em>, and opening the <em>Console</em> tab. The ID of the div you clicked should be printed to the console. Click on the other divs randomly, and make sure their IDs print to the console as well.</p>
<h2 id="what-we-learned-7">What we learned:</h2>
<ul>
<li>The definition of <code>event.target</code></li>
<li>How <code>event.target</code> differs from <code>event.currentTarget</code></li>
<li>How to console.log the ID of a clicked element using <code>event.target</code></li>
</ul>
<hr />
<h1 id="event-handling-the-bubbling-principle">Event Handling: The Bubbling Principle</h1>
<p>Bubbles are little pockets of air that make for an amusing time in the bath. Sometimes, though, bubbles can be annoying – like when they suddenly pop, or when there are too many and they’re overflowing! We can think about Javascript events and their handlers as bubbles that rise up through the murky waters of the DOM until they reach the surface, or the top-level DOM element.</p>
<p>It’s important for developers to understand The Bubbling Principle and use it to properly handle events and/or to stop events from bubbling up to outer elements and causing unintended effects.</p>
<h2 id="what-is-the-bubbling-principle">What is the bubbling principle?</h2>
<p>According to <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">this handy bubbling explainer</a> on Javascript.info, The Bubbling Principle means that <em>when an event happens on an element, it first runs the handlers on it, then on its parent, then all the way up on other ancestors.</em> Consider the following example HTML.</p>
<div class="sourceCode" id="cb63"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb63-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb63-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb63-3" title="3">  <span class="kw">&lt;head&gt;</span></a>
<a class="sourceLine" id="cb63-4" title="4">    <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;text/javascript&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb63-5" title="5">      <span class="va">window</span>.<span class="at">addEventListener</span>(<span class="st">&quot;DOMContentLoaded&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb63-6" title="6">        <span class="va">document</span>.<span class="va">body</span>.<span class="at">addEventListener</span>(<span class="st">&quot;click&quot;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb63-7" title="7">          <span class="va">console</span>.<span class="at">log</span>(<span class="va">event</span>.<span class="va">target</span>.<span class="at">id</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb63-8" title="8">        <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb63-9" title="9">      <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb63-10" title="10">    <span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb63-11" title="11">  <span class="kw">&lt;/head&gt;</span></a>
<a class="sourceLine" id="cb63-12" title="12">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb63-13" title="13">    <span class="kw">&lt;div</span><span class="ot"> onclick=</span><span class="st">&quot;console.log(&#39;The onclick handler!&#39;)&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb63-14" title="14">      <span class="kw">&lt;p</span><span class="ot"> id=</span><span class="st">&quot;paragraph&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb63-15" title="15">        If you click on this P, the onclick event for the DIV actually runs.</a>
<a class="sourceLine" id="cb63-16" title="16">      <span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb63-17" title="17">    <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb63-18" title="18">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb63-19" title="19"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>In the <code>&lt;script&gt;</code>, you can see the event listener for <code>DOMContentLoaded</code>, and inside it, another listener for a <code>click</code> event on the <code>&lt;body&gt;</code> element of the document accessed through the special property <code>document.body</code>. (You could also use <code>document.querySelector('body')</code>, too.) By now, we should be used to listening for click events in our scripts. However, there’s another way to run a function on a <code>click</code> event as an attribute of the <code>div</code> in the body of the HTML, a way that <strong>you should never ever ever use in real production code</strong>!</p>
<p>Check out that <code>onclick</code> attribute with some JavaScript code to print out a message about the so-called onclick handler. For almost ever event type like <code>click</code> or <code>change</code> or <code>keypress</code>, you can put an attribute by prefixing the event name with the word “on”. However, <strong>you should never ever ever use that in real production code</strong>!</p>
<p>Save the above HTML in a file, and run that file in a browser. Open up the browser console (<em>right-click -&gt; Inspect -&gt; Console</em>), click on the <code>&lt;p&gt;</code> element, and observe what happens. The message “The onclick handler” should appear, then you should see the id <code>paragraph</code> printed to the console.</p>
<p>What happened here? The <code>console.log</code> shows that an event happened on the <code>&lt;p&gt;</code> (i.e. the <code>event.target</code>), and yet the <code>onclick</code> handler on the <code>&lt;div&gt;</code> also fired – meaning that the click event on the <code>&lt;p&gt;</code> bubbled up to the <code>&lt;div&gt;</code> and fired its <code>onclick</code> event!</p>
<p>Once again, here’s the deal:</p>
<blockquote>
<p>Don’t ever use the <code>on</code>-event-name attribute version of an event handler. Instead, always use the <code>addEventListener</code> method of the DOM object that you get from something like <code>document.getElementById</code> or <code>document.querySelector</code>.</p>
</blockquote>
<h2 id="an-event-bubbling-example">An event bubbling example</h2>
<p>To visualize event bubbling, it might be helpful to watch this short and fun YouTube video on <em>bubbles inside bubbles inside bubbles</em>.</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">Bubble Inside a Bubble Video</a></p>
<p>We can think of events that happen on nested DOM elements as these nested bubbles. An event that happens on the innermost element bubbles up to its parent element, and that parent’s parent element, and so on up the chain. Let’s look at another example that demonstrates bubbling.</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb64"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb64-1" title="1"><span class="dt">&lt;!DOCTYPE </span>html<span class="dt">&gt;</span></a>
<a class="sourceLine" id="cb64-2" title="2"><span class="kw">&lt;html&gt;</span></a>
<a class="sourceLine" id="cb64-3" title="3">  <span class="kw">&lt;body&gt;</span></a>
<a class="sourceLine" id="cb64-4" title="4">    <span class="kw">&lt;main&gt;</span></a>
<a class="sourceLine" id="cb64-5" title="5">      <span class="kw">&lt;div&gt;</span></a>
<a class="sourceLine" id="cb64-6" title="6">        <span class="kw">&lt;p&gt;</span>This is a paragraph in a div in a main in a body in an html<span class="kw">&lt;/p&gt;</span></a>
<a class="sourceLine" id="cb64-7" title="7">      <span class="kw">&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb64-8" title="8">    <span class="kw">&lt;/main&gt;</span></a>
<a class="sourceLine" id="cb64-9" title="9"></a>
<a class="sourceLine" id="cb64-10" title="10">    <span class="kw">&lt;script&gt;</span></a>
<a class="sourceLine" id="cb64-11" title="11">      <span class="kw">function</span> <span class="at">handler</span>(e) <span class="op">{</span></a>
<a class="sourceLine" id="cb64-12" title="12">        <span class="va">console</span>.<span class="at">log</span>(<span class="va">e</span>.<span class="va">currentTarget</span>.<span class="at">tagName</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-13" title="13">      <span class="op">}</span></a>
<a class="sourceLine" id="cb64-14" title="14">      <span class="va">document</span>.<span class="at">querySelector</span>(<span class="st">&#39;main&#39;</span>).<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> handler)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-15" title="15">      <span class="va">document</span>.<span class="at">querySelector</span>(<span class="st">&#39;div&#39;</span>).<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> handler)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-16" title="16">      <span class="va">document</span>.<span class="at">querySelector</span>(<span class="st">&#39;p&#39;</span>).<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> handler)<span class="op">;</span></a>
<a class="sourceLine" id="cb64-17" title="17">    <span class="kw">&lt;/script&gt;</span></a>
<a class="sourceLine" id="cb64-18" title="18">  <span class="kw">&lt;/body&gt;</span></a>
<a class="sourceLine" id="cb64-19" title="19"><span class="kw">&lt;/html&gt;</span></a></code></pre></div>
<p>If you save this HTML file, open it in a browser, and click on the <code>&lt;p&gt;</code>, three different messages should appear in the console: first “P”, second “DIV”, and third “MAIN”. The click event bubbled upwards from the <code>&lt;p&gt;</code> element to the <code>&lt;div&gt;</code> and finally to the <code>&lt;main&gt;</code>.</p>
<p>We could think of this succession of events as bubbles popping. The innermost bubble (the <code>&lt;p&gt;</code> element) <em>popped</em> (i.e. displayed an alert), which caused its parent’s bubble to pop, which caused its parent’s bubble to pop. Since there aren’t any <code>onclick</code> handlers above the <code>&lt;main&gt;</code> nothing else happens on the page, but the bubbles would travel all the way up the DOM until they reached the top (<code>&lt;html&gt;</code>) looking for event handlers to run.</p>
<h2 id="stopping-event-bubbling-with-stoppropagation">Stopping event bubbling with stopPropagation()</h2>
<p>As stated in the introduction, event bubbling can cause annoying side effects. This MDN doc on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">Event bubbling and capture</a> explains what would happen if a user clicked on a <code>&lt;video&gt;</code> element that has a parent <code>&lt;div&gt;</code> with a show/hide toggle effect. On a click, the video would disappear along with its parent div!</p>
<p>How can you stop this unintended behavior from occurring? The answer is with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll">event.stopPropagation()</a> method which stops the bubbling from continuing up the parent chain. Here’s what it would look like on the <code>&lt;video&gt;</code> element:</p>
<p><strong>Javascript</strong></p>
<div class="sourceCode" id="cb65"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb65-1" title="1">document</a>
<a class="sourceLine" id="cb65-2" title="2">  .<span class="at">querySelector</span>(<span class="st">&#39;video&#39;</span>)</a>
<a class="sourceLine" id="cb65-3" title="3">  .<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> event <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb65-4" title="4">    <span class="va">event</span>.<span class="at">stopPropagation</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb65-5" title="5">    <span class="va">video</span>.<span class="at">play</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb65-6" title="6">  <span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<h2 id="event-delegation">Event delegation</h2>
<p>While event bubbling can sometimes be annoying, it can also be helpful. The bubbling effect allows us to make use of <strong>event delegation</strong>, which means that we can delegate events to a single element/handler – a parent element that will handle all events on its children elements.</p>
<p>Say you had an unordered list (<code>&lt;ul&gt;</code>) element filled with several list item (<code>&lt;li&gt;</code>) elements, and you want to listen for click events on each list item. Instead of attaching a click event listener on each and every list item, you could conveniently attach it to the parent unordered list, like so:</p>
<p><strong>HTML</strong></p>
<div class="sourceCode" id="cb66"><pre class="sourceCode html"><code class="sourceCode html"><a class="sourceLine" id="cb66-1" title="1"><span class="kw">&lt;ul</span><span class="ot"> id=</span><span class="st">&quot;my-list&quot;</span><span class="kw">&gt;</span></a>
<a class="sourceLine" id="cb66-2" title="2">  <span class="kw">&lt;li&gt;</span>This is list item 1.<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb66-3" title="3">  <span class="kw">&lt;li&gt;</span>This is list item 2.<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb66-4" title="4">  <span class="kw">&lt;li&gt;</span>This is list item 3.<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb66-5" title="5">  <span class="kw">&lt;li&gt;</span>This is list item 4.<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb66-6" title="6">  <span class="kw">&lt;li&gt;</span>This is list item 5.<span class="kw">&lt;/li&gt;</span></a>
<a class="sourceLine" id="cb66-7" title="7"><span class="kw">&lt;/ul&gt;</span></a>
<a class="sourceLine" id="cb66-8" title="8"><span class="kw">&lt;script&gt;</span></a>
<a class="sourceLine" id="cb66-9" title="9">  document</a>
<a class="sourceLine" id="cb66-10" title="10">    .<span class="at">getElementById</span>(<span class="st">&#39;my-list&#39;</span>)</a>
<a class="sourceLine" id="cb66-11" title="11">    .<span class="at">addEventListener</span>(<span class="st">&#39;click&#39;</span><span class="op">,</span> e <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb66-12" title="12">       <span class="co">// will print out &quot;This is list item X&quot;</span></a>
<a class="sourceLine" id="cb66-13" title="13">       <span class="co">// depending on which list item is clicked</span></a>
<a class="sourceLine" id="cb66-14" title="14">      <span class="va">console</span>.<span class="at">log</span>(<span class="va">e</span>.<span class="va">target</span>.<span class="at">innerHTML</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb66-15" title="15"></a>
<a class="sourceLine" id="cb66-16" title="16">      <span class="co">// always prints &quot;my-list&quot;</span></a>
<a class="sourceLine" id="cb66-17" title="17">      <span class="va">console</span>.<span class="at">log</span>(<span class="va">e</span>.<span class="va">currentTarget</span>.<span class="at">id</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb66-18" title="18">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb66-19" title="19"><span class="kw">&lt;/script&gt;</span></a></code></pre></div>
<p>This example is a lot like the first example you saw with the <code>&lt;p&gt;</code> inside of a <code>&lt;div&gt;</code>, where the click on the <code>&lt;p&gt;</code> bubbled up to the <code>&lt;div&gt;</code>. In the above example, a click on any <code>&lt;li&gt;</code> will bubble up to its parent, the <code>&lt;ul&gt;</code>.</p>
<p>When clicked on, a single <code>&lt;li&gt;</code> element becomes the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/parentNode">event.target</a> – the object that dispatched the event. The <code>&lt;ul&gt;</code> element is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/reload">event.currentTarget</a> – the element to which the event handler has been attached.</p>
<p>Now that you know how to handle events responsibly, go frolic in the bubbles!</p>
<h2 id="what-we-learned-8">What we learned:</h2>
<ul>
<li>The definition of The Bubbling Principle</li>
<li>Examples of event bubbling</li>
<li>How to stop events from bubbling</li>
<li>How to use bubbling for event delegation</li>
</ul>
<hr />
<h1 id="project-event-handling-with-mr.-spud-face">Project: Event Handling With Mr. Spud Face</h1>
<p>Mr. Spud Face is a charming potato with an inexplicably handsome face. He has recently moved to your state and needs to get an updated driver’s license with his current information, so that he can do nifty things like drive to the grocery store, vote, and take his spud spouse on special dates.</p>
<p>Use Javascript to create a driver’s license for Mr. Spud Face. If you want to go the extra mile, create a Mr. Spud Face drag-and-drop game as a bonus.</p>
<p>Now that you know how to handle page events with Javascript, put that knowledge into use on this project!</p>
<p>In this project, you will:</p>
<ul>
<li>Write Javascript to handle common form events</li>
<li>Handle input, checkbox, and button click events</li>
<li>Grab form values and update elements with those values</li>
<li>Utilize bubbling and event delegation</li>
<li>Use the HTML Drag-and-Drop API (if you dare!)</li>
</ul>
<h2 id="project-overview-2">Project overview</h2>
<p>Use what you’ve learned about event handling to complete this project. Demonstrate that you can use event listeners on page elements and event handlers.</p>
<p><strong>We have set up a project folder for you to use inside this folder called <code>spud-face-project.zip</code></strong> with an HTML file, CSS file, and Javascript file. Use this folder to complete your project.</p>
<p>In phases 1-4, you will write Javascript to grab the driver’s license form values and update Mr. Spud Face’s license, as well as handle other form events on inputs and button clicks. To get a good understanding of the HTML Drag-and-Drop API, complete the bonus section by making a drag-and-drop spud game.</p>
<h2 id="phase-1-create-a-spud-drivers-license">Phase 1: Create a spud driver’s license</h2>
<p>In your <code>spud-face-project</code> folder, open up your <code>spud-face.html</code> file. Open it up in a browser to see what the page looks like.</p>
<p>We’ve filled it with elements, chief of which are a <code>&lt;form&gt;</code> element and a <code>&lt;div&gt;</code> depicting a driver’s license. Use the form to build out the driver’s license information.</p>
<h3 id="phase-1a-get-form-values-and-display-on-drivers-license">Phase 1A: Get form values and display on driver’s license</h3>
<p>The form values on the left should update the driver’s license information on the right. Set up event listeners on the form whenever the user inputs a value into a form input. Get the value of that form input and update the corresponding information on the driver’s license. You might want to use the following:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">document.getElementById()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">eventTarget.addEventListener()</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">HTMLElement: input event</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">checkbox.checked attribute</a></li>
</ul>
<h3 id="phase-1b-refactor-to-use-event-delegation-and-event.target">Phase 1B: Refactor to use event delegation and event.target</h3>
<p>In phase 1A, you might have set up event listeners on each form input. While that does work, it would be ideal to make use of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll">event delegation</a> and attach a single listener to our form.</p>
<ol type="1">
<li>Set up a single event listener on the form to listen for an input change.</li>
<li>Write some logic, in the form of an <code>if</code> statement or <code>switch</code> case statement, to update the <code>innerHTML</code> of the driver’s license elements that correspond with <code>event.target</code>.</li>
<li>You may want to use <code>event.target.id</code> and <code>event.target.value</code>.</li>
<li>Make sure your script runs after the DOM has loaded.</li>
</ol>
<h2 id="phase-2-add-focus-and-blur-events-to-form-inputs">Phase 2: Add focus and blur events to form inputs</h2>
<p>Jazz up your form inputs by adding a quick color change on <code>focus</code>, and removing it on <code>blur</code>. Give active inputs a background color of <code>lightgreen</code> and no background color (initial state) when inactive. Use the following to do so:</p>
<ul>
<li><code>Element: focus event</code></li>
<li><code>Element: blur event</code></li>
</ul>
<h2 id="phase-3-check-that-license-numbers-match">Phase 3: Check that license numbers match</h2>
<p>Check that the numbers entered by the user on the license number fields match. In your HTML file, these are represented by the inputs with the IDs of <code>input-license-num</code> and <code>input-license-num-confirm</code>.</p>
<p>If the numbers don’t match, then change the background color of both inputs to be <code>lightcoral</code>.</p>
<p>Again, you’ll use <code>event.target.value</code> here. You might want to use <code>setTimeout()</code> to give the user some time to fill out the form.</p>
<h2 id="phase-4-update-submit-button-click-count">Phase 4: Update submit button click count</h2>
<p>Since this isn’t a real form that actually submits the driver’s license info anywhere, you won’t need to make a server or API request. Instead, write a function to increment the click count every time the submit button is clicked.</p>
<p>Listen for a <code>click</code> event on the button. Then, update the click count inside of the button.</p>
<h2 id="bonus-mr.-spud-face-drag-and-drop-game">Bonus: Mr. Spud Face Drag-and-Drop Game</h2>
<p>Use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">HTML Drag-and-Drop API</a> to create a Mr. Spud Face drag-and-drop game inside of your <code>spud-face.html</code> file.</p>
<p>Add the images inside of the project’s <code>images</code> folder to your HTML file, and write Javascript that will let the user drag the spud body parts and drop them onto the spud body. Set up handlers for these drag events:</p>
<ul>
<li><code>dragStart</code></li>
<li><code>drag</code> or <code>dragOver</code></li>
<li><code>dragEnd</code> or <code>drop</code></li>
</ul>
<hr />
<h1 id="week-04-day-4-json-and-storage" data-ignore="true">WEEK-04 DAY-4<br><em>JSON and Storage</em></h1>
<hr />
<h1 id="json-learning-objectives">JSON Learning Objectives</h1>
<p><strong>The objective of this lesson</strong> is to familiarize you with the JSON format and how to serialize to and deserialize from that format.</p>
<p><strong>The learning objectives</strong> for this lesson are that you can:</p>
<ol type="1">
<li>Identify and generate valid JSON-formatted strings</li>
<li>Use <code>JSON.parse</code> to deserialize JSON-formatted strings</li>
<li>Use <code>JSON.stringify</code> to serialize JavaScript objects</li>
<li>Correctly identify the definition of “deserialize”</li>
<li>Correctly identify the definition of “serialize”</li>
</ol>
<p><strong>This lesson is relevant</strong> because JSON is the <em>lingua franca</em> of data interchange.ou with the JSON format and how to serialize to and deserialize from that format.</p>
<p><strong>The learning objectives</strong> for this lesson are that you can:</p>
<ol type="1">
<li>Identify and generate valid JSON-formatted strings</li>
<li>Use <code>JSON.parse</code> to deserialize JSON-formatted strings</li>
<li>Use <code>JSON.stringify</code> to serialize JavaScript objects</li>
<li>Correctly identify the definition of “deserialize”</li>
<li>Correctly identify the definition of “serialize”</li>
</ol>
<p><strong>This lesson is relevant</strong> because JSON is the <em>lingua franca</em> of data interchange.</p>
<hr />
<h1 id="storage-learning-objectives">Storage Learning Objectives</h1>
<p>Below is a complete list of the terminal learning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p>
<ol type="1">
<li>Write JavaScript to store the value “I &lt;3 falafel” with the key “eatz” in the browser’s local storage.</li>
<li><p>Write JavaScript to read the value stored in local storage for the key “paper-trail”.earning objectives for this lesson. When you complete this lesson, you should be able to perform each of the following objectives. These objectives capture how you may be evaluated on the assessment for this lesson.</p></li>
<li>Write JavaScript to store the value “I &lt;3 falafel” with the key “eatz” in the browser’s local storage.</li>
<li><p>Write JavaScript to read the value stored in local storage for the key “paper-trail”.</p></li>
</ol>
<hr />
<h1 id="cookies-and-web-storage">Cookies and Web Storage</h1>
<p>As we’ve learned in previous sections, most data on the Web is stored in a database on a server, and we use the browser to retrieve this data. However, sometimes data is stored locally for the purposes of persisting throughout an entire session or until a specified expiration date.</p>
<p>In this reading, we’ll go over using <strong>cookies</strong> to store data versus using the <strong>Web Storage API</strong> and the use cases for each storage method.</p>
<h2 id="cookies">Cookies</h2>
<p>Cookies have been around forever, and they are still a widely used method to store information about a site’s users.</p>
<p><strong>What is a cookie?</strong></p>
<p>A cookie is a small file stored on a user’s computer that holds a bite-sized amount of data, under 4KB. Cookies are included with HTTP requests. The server sends the data to a browser, where it’s typically stored and then sent back to the server on the next request.</p>
<p><strong>What are cookies used for?</strong></p>
<p>Cookies are used to store stateful information about a user, such as their personal information, their browser habits or history, or form input information they have filled out. A common use case for cookies is storing a <em>session cookie</em> on user login/validation. Session cookies are lost once the browser window is closed. To make sure the cookie persists beyond the end of the session, you could set up a <em>persistent cookie</em> with a specified expiration date. A use case for a persistent cookie is an e-commerce website that tracks a user’s browsing or buying habits.</p>
<p><strong>How to create a cookie in Javascript:</strong></p>
<p>As we’ve previously covered, the <code>document</code> interface represents the web page loaded in a user’s browser. Since cookies are stored on a user’s browser, it makes sense that the <code>document</code> object also allows us to get/set cookies on a user’s browser:</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb67-1" title="1"><span class="kw">const</span> firstCookie <span class="op">=</span> <span class="st">&quot;favoriteCat=million&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb67-2" title="2"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> firstCookie<span class="op">;</span></a>
<a class="sourceLine" id="cb67-3" title="3"><span class="kw">const</span> secondCookie <span class="op">=</span> <span class="st">&quot;favoriteDog=bambi&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb67-4" title="4"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> secondCookie<span class="op">;</span></a>
<a class="sourceLine" id="cb67-5" title="5"><span class="va">document</span>.<span class="at">cookie</span><span class="op">;</span> <span class="co">// Returns &quot;favoriteCat=million; favoriteDog=bambi&quot;</span></a></code></pre></div>
<p>Using the following syntax will create a new cookie:</p>
<div class="sourceCode" id="cb68"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb68-1" title="1"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> aNewCookieHere<span class="op">;</span></a></code></pre></div>
<p>If you want to set a second cookie, you would assign a new key value pair using the same syntax a second time. Make sure to set the cookie to a string formatted like a key-value pair:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb69-1" title="1"><span class="kw">const</span> firstCookie <span class="op">=</span> <span class="st">&quot;favoriteCat=million&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb69-2" title="2"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> firstCookie<span class="op">;</span></a>
<a class="sourceLine" id="cb69-3" title="3"><span class="va">document</span>.<span class="at">cookie</span><span class="op">;</span> <span class="co">// Returns &quot;favoriteCat=million&quot;</span></a></code></pre></div>
<p>Formatting your string like we do in the <code>firstCookie</code> variable above sets the cookie <code>value</code> with a defined key, known as the cookie’s <code>name</code>, instead of an empty <code>name</code>. Refer to the MDN docs on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">Document.cookie</a> for more examples.</p>
<p>You can view all the cookies a website is storing about you by using the Developer Tools. On <strong>Google Chrome</strong>, see the <strong>Application tab</strong>, and on <strong>Firefox</strong>, see the <strong>Storage tab</strong>.</p>
<p><strong>Deleting a cookie:</strong></p>
<p>We can delete our own cookies using JavaScript by setting a cookie’s expiration date to a date in the past, causing them to expire:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb70-1" title="1"><span class="kw">const</span> firstCookie <span class="op">=</span> <span class="st">&quot;favoriteCat=million&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb70-2" title="2"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> firstCookie<span class="op">;</span></a>
<a class="sourceLine" id="cb70-3" title="3"><span class="va">document</span>.<span class="at">cookie</span><span class="op">;</span> <span class="co">// Returns &quot;favoriteCat=million&quot;</span></a>
<a class="sourceLine" id="cb70-4" title="4"></a>
<a class="sourceLine" id="cb70-5" title="5"><span class="co">// specify the cookies &quot;name&quot; (the key) with an &quot;=&quot; and set the  expiration</span></a>
<a class="sourceLine" id="cb70-6" title="6"><span class="co">// date to the past</span></a>
<a class="sourceLine" id="cb70-7" title="7"><span class="va">document</span>.<span class="at">cookie</span> <span class="op">=</span> <span class="st">&quot;favoriteCat=; expires = Thu, 01 Jan 1970 00:00:00 GMT&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb70-8" title="8"><span class="va">document</span>.<span class="at">cookie</span><span class="op">;</span> <span class="co">// &quot;&quot;</span></a></code></pre></div>
<p>We can also delete cookies using the Developer Tools!</p>
<p>Navigate to a website, such as Amazon, and add an item to your cart. Open up the Developer Tools in your browser and delete all the cookies. In Chrome, you can delete cookies by highlighting a cookie and clicking the delete button. In Firefox, you can right-click and delete a cookie. If you’ve deleted all the cookies in your Amazon cart, and you refresh the page, you should notice your cart is now empty.</p>
<h2 id="web-storage-api">Web Storage API</h2>
<p>Cookies used to be the only way to store data in the browser, but with HTML5 developers gained access to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">Web Storage API</a>, which includes <strong>localStorage</strong> and <strong>Session Storage</strong>. Here are the differences between the two, according to MDN:</p>
<p><code>sessionStorage</code>:</p>
<ul>
<li>Stores data only for a <em>session</em>, or until the browser window or tab is closed</li>
<li>Never transfers data to the server</li>
<li>Has a storage limit of 5MB (much larger than a cookie)</li>
</ul>
<p>The following <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">example from MDN</a> shows how we can use sessionStorage to autosave the contents of a text field and restore the contents of that text field if the browser is accidentally refreshed.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb71-1" title="1"><span class="co">// Get the text field that we&#39;re going to track</span></a>
<a class="sourceLine" id="cb71-2" title="2"><span class="kw">let</span> field <span class="op">=</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;field&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-3" title="3"></a>
<a class="sourceLine" id="cb71-4" title="4"><span class="co">// See if we have an autosave value</span></a>
<a class="sourceLine" id="cb71-5" title="5"><span class="co">// (this will only happen if the page is accidentally refreshed)</span></a>
<a class="sourceLine" id="cb71-6" title="6"><span class="cf">if</span> (<span class="va">sessionStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;autosave&quot;</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb71-7" title="7">  <span class="co">// Restore the contents of the text field</span></a>
<a class="sourceLine" id="cb71-8" title="8">  <span class="va">field</span>.<span class="at">value</span> <span class="op">=</span> <span class="va">sessionStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;autosave&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-9" title="9"><span class="op">}</span></a>
<a class="sourceLine" id="cb71-10" title="10"></a>
<a class="sourceLine" id="cb71-11" title="11"><span class="co">// Listen for changes in the text field</span></a>
<a class="sourceLine" id="cb71-12" title="12"><span class="va">field</span>.<span class="at">addEventListener</span>(<span class="st">&quot;change&quot;</span><span class="op">,</span> <span class="kw">function</span> () <span class="op">{</span></a>
<a class="sourceLine" id="cb71-13" title="13">  <span class="co">// And save the results into the session storage object</span></a>
<a class="sourceLine" id="cb71-14" title="14">  <span class="va">sessionStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;autosave&quot;</span><span class="op">,</span> <span class="va">field</span>.<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb71-15" title="15"><span class="op">}</span>)<span class="op">;</span></a></code></pre></div>
<p><code>localStorage</code>:</p>
<ul>
<li>Stores data with no expiration date and is deleted when clearing the browser cache</li>
<li>Has the maximum storage limit in the browser (much larger than a cookie)</li>
</ul>
<p>Like with <code>sessionStorage</code>, we can use the <code>getItem()</code> and <code>setItem()</code> methods to retrieve and set <code>localStorage</code> data. The following <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">example from MDN</a> will:</p>
<ul>
<li>Check whether <code>localStorage</code> contains a data item called <code>bgcolor</code> using <code>getItem()</code>.</li>
<li>If <code>localStorage</code> contains <code>bgcolor</code>, run a function called <code>setStyles()</code> that grabs the data items using <code>Storage.getItem()</code> and use those values to update page styles.</li>
<li>If it doesn’t, run a function called <code>populateStorage()</code>, which uses <code>Storage.setItem()</code> to set the item values, then run <code>setStyles()</code>.</li>
</ul>
<div class="sourceCode" id="cb72"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb72-1" title="1"><span class="cf">if</span> (<span class="op">!</span><span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;bgcolor&quot;</span>)) <span class="op">{</span></a>
<a class="sourceLine" id="cb72-2" title="2">  <span class="at">populateStorage</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb72-3" title="3"><span class="op">}</span></a>
<a class="sourceLine" id="cb72-4" title="4"><span class="at">setStyles</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb72-5" title="5"></a>
<a class="sourceLine" id="cb72-6" title="6"><span class="kw">const</span> populateStorage <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-7" title="7">  <span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;bgcolor&quot;</span><span class="op">,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;bgcolor&quot;</span>).<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-8" title="8">  <span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;font&quot;</span><span class="op">,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;font&quot;</span>).<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-9" title="9">  <span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&quot;image&quot;</span><span class="op">,</span> <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;image&quot;</span>).<span class="at">value</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-10" title="10"><span class="op">};</span></a>
<a class="sourceLine" id="cb72-11" title="11"></a>
<a class="sourceLine" id="cb72-12" title="12"><span class="kw">const</span> setStyles <span class="op">=</span> () <span class="kw">=&gt;</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb72-13" title="13">  <span class="kw">var</span> currentColor <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;bgcolor&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-14" title="14">  <span class="kw">var</span> currentFont <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;font&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-15" title="15">  <span class="kw">var</span> currentImage <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&quot;image&quot;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-16" title="16"></a>
<a class="sourceLine" id="cb72-17" title="17">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;bgcolor&quot;</span>).<span class="at">value</span> <span class="op">=</span> currentColor<span class="op">;</span></a>
<a class="sourceLine" id="cb72-18" title="18">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;font&quot;</span>).<span class="at">value</span> <span class="op">=</span> currentFont<span class="op">;</span></a>
<a class="sourceLine" id="cb72-19" title="19">  <span class="va">document</span>.<span class="at">getElementById</span>(<span class="st">&quot;image&quot;</span>).<span class="at">value</span> <span class="op">=</span> currentImage<span class="op">;</span></a>
<a class="sourceLine" id="cb72-20" title="20"></a>
<a class="sourceLine" id="cb72-21" title="21">  <span class="va">htmlElem</span>.<span class="va">style</span>.<span class="at">backgroundColor</span> <span class="op">=</span> <span class="st">&quot;#&quot;</span> <span class="op">+</span> currentColor<span class="op">;</span></a>
<a class="sourceLine" id="cb72-22" title="22">  <span class="va">pElem</span>.<span class="va">style</span>.<span class="at">fontFamily</span> <span class="op">=</span> currentFont<span class="op">;</span></a>
<a class="sourceLine" id="cb72-23" title="23">  <span class="va">imgElem</span>.<span class="at">setAttribute</span>(<span class="st">&quot;src&quot;</span><span class="op">,</span> currentImage)<span class="op">;</span></a>
<a class="sourceLine" id="cb72-24" title="24"><span class="op">};</span></a></code></pre></div>
<p><strong>When would we use the Web Storage API?</strong></p>
<p>Since web storage can store more data than cookies, it’s ideal for storing multiple key-value pairs. Like with cookies, this data can be saved only as a string. With localStorage, the data is stored locally on a user’s machine, meaning that it can only be accessed client-side. This differs from cookies which can be read both server-side and client-side.</p>
<p>There are a few common use cases for Web storage. One is storing information about a shopping cart and the products in a user’s cart. Another is saving input data on forms. You could also use Web storage to store information about the user, such as their preferences or their buying habits. While we would normally use a cookie to store a user’s ID or a session ID after login, we could use localStorage to store extra information about the user.</p>
<p>You can view what’s in local or session storage by using the Developer Tools. On <strong>Google Chrome</strong>, see the <strong>Application tab</strong>, and on <strong>Firefox</strong>, see the <strong>Storage tab</strong>.</p>
<h2 id="what-we-learned-9">What we learned:</h2>
<ul>
<li>What cookies are and when to use them</li>
<li>Differences between cookies and localStorage</li>
<li>Use cases for cookies and localStorage</li>
</ul>
<hr />
<h1 id="jason-no-json">Jason? No, JSON!</h1>
<p><a href="https://en.wikipedia.org/wiki/Jason">Jason</a> is an ancient Greek mythological hero who went traipsing about the known world looking for “the golden fleece”.</p>
<p><a href="https://en.wikipedia.org/wiki/JSON">JSON</a> is an open-standard file format that “uses human-readable text to transmit objects consisting of key-values pairs and array data types.”</p>
<p>We’re going to ignore <a href="https://en.wikipedia.org/wiki/Jason">Jason</a> and focus solely on <a href="https://en.wikipedia.org/wiki/JSON">JSON</a> for this reading so that you can, by the end of it, know what <a href="https://en.wikipedia.org/wiki/JSON">JSON</a> is and how to work with it.</p>
<h2 id="json-is-a-format">JSON is a format!</h2>
<p>This is the most important thing that you can get when reading this article. In the same way that HTML is a format for hypertext documents, or DOCX is a format for Microsoft Word documents, JSON is just a format for data. It’s just text. It doesn’t “run” like JavaScript does. It is just text that contains data that both machines and humans can understand. If you ever hear someone say “a JSON object”, then you can rest assured that phrase doesn’t make any sense whatsoever.</p>
<p>JSON is just a string. It’s just text.</p>
<p>That’s so important, here it is, again, but in a fancy quote box.</p>
<blockquote>
<p>JSON is just a string. It’s just text.</p>
</blockquote>
<h2 id="why-all-the-confusion">Why all the confusion?</h2>
<p>The problem is, JSON <em>looks</em> a lot like JavaScript syntax. Heck, it’s even named <strong>JavaScript Object Notation</strong>. That’s likely because the guy who invented it, <a href="https://www.crockford.com/add.html">Douglas Crockford</a>, is an avid JavaScripter. He’s the author of <a href="https://isbndb.com/book/9780596517748">JavaScript: The Good Parts</a> and was the lead JavaScript Architect at Yahoo! back when Yahoo! was a real company.</p>
<p>At that time, like in the late 1990s and early 2000s, there were a whole bunch of competing formats for how computers would send data between one another. The big contender at the time is a format called XML, or the <em>eXtensible Markup Language</em>. It looks a lot like HTML, but has far stricter rules than HTML. Douglas didn’t like XML because it took a lot of bytes to send the data (and this was a pre-broadband/pre-3G world). Worse, XML is not a friendly format to read if you’re human. So, he set out to come up with a new format based on the way JavaScript literals work.</p>
<h2 id="remind-me-about-javascript-literals">“Remind me about JavaScript literals…”</h2>
<p>Just to refresh your memory, a <em>literal</em> in JavaScript is a <em>value that you literally just type in</em>. If you type <code>7</code> into a JavaScript file, when it runs, the JavaScript interpreter will see that character <code>7</code> and say to itself, “Hey self, the programmer literally typed the number seven so that must mean they want the value 7.”</p>
<p>Here’s a table of some literals that you may type into a program.</p>
<table>
<thead>
<tr class="header">
<th>What you want to type</th>
<th>The JavaScript literal</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>The value that means “true”</td>
<td><code>true</code></td>
</tr>
<tr class="even">
<td>The number of rows in this table</td>
<td><code>6</code></td>
</tr>
<tr class="odd">
<td>A bad approximation of π</td>
<td><code>3.14</code></td>
</tr>
<tr class="even">
<td>An array that contains some US state names</td>
<td><code>["Ohio", "Iowa"]</code></td>
</tr>
<tr class="odd">
<td>An object that represents Roberta</td>
<td><code>{ person: true, name: "Roberta" }</code></td>
</tr>
</tbody>
</table>
<p>Back to Douglas Crockford, inventor of <a href="https://en.wikipedia.org/wiki/JSON">JSON</a>. Douglas thought to himself, <em>why can’t I create a format that has that simplicity so that I can write programs that can send data to each other in that format?</em> Turns out, he could, and he did.</p>
<h2 id="boolean-numeric-and-null-values">Boolean, numeric, and null values</h2>
<p>The following table shows you what the a JavaScript literal is in the JSON format. Notice that <em>everything</em> in the JSON column is actually a string!</p>
<table>
<thead>
<tr class="header">
<th>JavaScript literal value</th>
<th>JSON representation in a string</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>true</code></td>
<td><code>"true"</code></td>
</tr>
<tr class="even">
<td><code>false</code></td>
<td><code>"false"</code></td>
</tr>
<tr class="odd">
<td><code>12.34</code></td>
<td><code>"12.34"</code></td>
</tr>
<tr class="even">
<td><code>null</code></td>
<td><code>"null"</code></td>
</tr>
</tbody>
</table>
<h2 id="string-literals-in-json">String literals in JSON</h2>
<p>Say you have the following string in JavaScript.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb73-1" title="1"><span class="st">&#39;this is &quot;text&quot;&#39;</span></a></code></pre></div>
<p>When that gets converted into the JSON format, you will see this:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode json"><code class="sourceCode json"><a class="sourceLine" id="cb74-1" title="1"><span class="er">&quot;this</span> <span class="er">is</span> <span class="er">\&quot;text\&quot;&quot;</span></a></code></pre></div>
<p>First, it’s important to notice one thing: JSON always uses double quotes for strings. Yep, that’s worth repeating.</p>
<blockquote>
<p>JSON always uses double-quotes to mark strings.</p>
</blockquote>
<p>Notice also that the quotation marks (“) are”escaped“. When you write a string surrounded by quotation-marks like”escaped", everything’s fine. But, what happens when your string needs to include a quotation mark?</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb75-1" title="1"><span class="co">// This is a bad string with quotes in it</span></a>
<a class="sourceLine" id="cb75-2" title="2"><span class="st">&quot;Bob said, &quot;</span>Well<span class="op">,</span> <span class="kw">this</span> is <span class="va">interesting</span>.<span class="st">&quot;&quot;</span></a></code></pre></div>
<p>Whatever computer is looking at that string gets really confused because once it reads that first quotation mark it’s looking for another quotation mark to show where the string ends. For computers, the above code looks like this to them.</p>
<div class="sourceCode" id="cb76"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb76-1" title="1"><span class="st">&quot;Bob said, &quot;</span>                <span class="co">// That&#39;s a good string</span></a>
<a class="sourceLine" id="cb76-2" title="2">Well<span class="op">,</span> <span class="kw">this</span> is interesting   <span class="co">// What is THIS JUNK????</span></a>
<a class="sourceLine" id="cb76-3" title="3"><span class="st">&quot;&quot;</span>                          <span class="co">// That&#39;s a good string</span></a></code></pre></div>
<p>You need a way to indicate that the quotation marks around the phrase that Bob says should belong <em>in</em> the string, not as a way to show where the string starts or stops. The way that language designers originally addressed this was by saying</p>
<blockquote>
<p>If your quotation mark delimited string has a quotation mark in it, put a backslash before the interior quotation mark.</p>
</blockquote>
<p>Following that rule, you would correctly write the previous string like this.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb77-1" title="1"><span class="st">&quot;Bob said, </span><span class="sc">\&quot;</span><span class="st">Well, this is interesting.</span><span class="sc">\&quot;</span><span class="st">&quot;</span></a></code></pre></div>
<p>Check out all of the so-called <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String#Escape_notation">JavaScript string escape sequences</a> over on MDN.</p>
<p>What happens if you had text that spanned more than one line? JSON only allows strings to be on one line, just like old JavaScript did. Let’s say you just wrote an American sentence that you want to submit to a contest.</p>
<pre><code>She woke him up with
her Ramones ringtone &quot;I Want
to be Sedated&quot;</code></pre>
<p>(from American Sentences by Paul E. Nelson)</p>
<p>If you want to format that in a string in JSON format, you have to escape the quotation marks <em>and</em> the new lines! The above would look like this:</p>
<pre><code>She woke him up with\nher Ramones ringtone \&quot;I Want\nto be Sedated\&quot;</code></pre>
<p>The new lines are replaced with “”.</p>
<h2 id="array-values">Array values</h2>
<p>The way that JSON represents an array value is using the same literal notation as JavaScript, namely, the square brackets <code>[]</code>. With that in mind, can you answer the following question before continuing?</p>
<p><em>What is the JSON representation of an array containing the numbers one, two, and three?</em></p>
<p>Well, in JavaScript, you would type <code>[1, 2, 3]</code>.</p>
<p>If you were going to type the corresponding JSON-formatted string that contains the representation of the same array, you would type <code>"[1, 2, 3]"</code>. Yep, pretty much the same!</p>
<h2 id="object-values">Object values</h2>
<p>Earlier, you saw that example of an object that represents Roberta as</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb80-1" title="1"><span class="op">{</span> <span class="dt">person</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span> <span class="dt">name</span><span class="op">:</span> <span class="st">&quot;Roberta&quot;</span> <span class="op">}</span></a></code></pre></div>
<p>The main difference between objects in JavaScript and JSON is that the keys in JSON <em>must</em> be surrounded in quotation marks. That means the above, in a JSON formatted string, would be:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb81-1" title="1"><span class="st">&quot;{ </span><span class="sc">\&quot;</span><span class="st">person</span><span class="sc">\&quot;</span><span class="st">: true, </span><span class="sc">\&quot;</span><span class="st">name</span><span class="sc">\&quot;</span><span class="st">: </span><span class="sc">\&quot;</span><span class="st">Roberta</span><span class="sc">\&quot;</span><span class="st"> }&quot;</span></a></code></pre></div>
<h2 id="some-terminology">Some terminology</h2>
<p>When you have some data and you want to turn it into a string (or some other kind of value like “binary”) so your program can send it to another computer, that is the process of <strong>serialization</strong>.</p>
<p>When you take some text (or something another computer has sent to your program) and turn it into data, that is the process of <strong>deserialization</strong>.</p>
<h2 id="using-the-built-in-json-object">Using the built-in JSON object</h2>
<p>In modern JavaScript interpreters, there is a <code>JSON</code> object that has two methods on it that allows you to convert JSON-formatted strings into JavaScript objects and JavaScript object into JSON-formatted strings. They are:</p>
<ul>
<li><code>JSON.stringify(value)</code> will turn the value passed into it into a string.</li>
<li><code>JSON.parse(str)</code> will turn a JSON-formatted string into a JavaScript object.</li>
</ul>
<p>So, it shouldn’t come as much of a surprise how the following works.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb82-1" title="1"><span class="kw">const</span> array <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="st">&#39;hello, &quot;world&quot;&#39;</span><span class="op">,</span> <span class="fl">3.14</span><span class="op">,</span> <span class="op">{</span> <span class="dt">id</span><span class="op">:</span> <span class="dv">17</span> <span class="op">}</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb82-2" title="2"><span class="va">console</span>.<span class="at">log</span>(<span class="va">JSON</span>.<span class="at">stringify</span>(array))<span class="op">;</span></a>
<a class="sourceLine" id="cb82-3" title="3"><span class="co">// prints [1, &quot;hello, \&quot;world\&quot;&quot;, 3.14, {&quot;id&quot;:17}]</span></a></code></pre></div>
<p>It shouldn’t surprise you that it works in the opposite direction, too.</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb83-1" title="1"><span class="kw">const</span> str <span class="op">=</span> <span class="st">&#39;[1,&quot;hello, </span><span class="sc">\\</span><span class="st">&quot;world</span><span class="sc">\\</span><span class="st">&quot;&quot;,3.14,{&quot;id&quot;:17}]&#39;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb83-2" title="2"><span class="va">console</span>.<span class="at">log</span>(<span class="va">JSON</span>.<span class="at">parse</span>(str))<span class="op">;</span></a>
<a class="sourceLine" id="cb83-3" title="3"><span class="co">// prints an array with the following entries:</span></a>
<a class="sourceLine" id="cb83-4" title="4"><span class="co">//   0: 1</span></a>
<a class="sourceLine" id="cb83-5" title="5"><span class="co">//   1: &quot;hello, \&quot;world\&quot;&quot;</span></a>
<a class="sourceLine" id="cb83-6" title="6"><span class="co">//   2: 3.14</span></a>
<a class="sourceLine" id="cb83-7" title="7"><span class="co">//   3: { id: 17 }</span></a></code></pre></div>
<p>You may ask yourself, “What’s up with that double backslash thing going on in the JSON representation?”. It has to do with that escaping thing. When JavaScript reads the string the first time to turn it into a <code>String</code> object in memory, it will escape the backslashes. Then, when <code>JSON.parse</code> reads it, it will still need backslashes in the string. This is all really confusing, escaped strings and double backslashes. There’s an easy solution for that.</p>
<h2 id="you-will-almost-never-write-raw-json">You will almost never write raw JSON</h2>
<p>Yep. But, you do need to be able to recognize it and read it. What you’ll likely end up doing in your coding is creating values and using <code>JSON.stringify</code> to create JSON-formatted strings that represent those values. Or, you’ll end up calling a data service which will return JSON-formatted content to your code which you will then use <code>JSON.parse</code> on to convert the string into a JavaScript object.</p>
<h2 id="brain-teaser">Brain teaser</h2>
<p>Now that you know JSON is a format for data and is just text, what will the following print?</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb84-1" title="1"><span class="kw">const</span> a <span class="op">=</span> [<span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">3</span><span class="op">,</span> <span class="dv">4</span><span class="op">,</span> <span class="dv">5</span>]<span class="op">;</span></a>
<a class="sourceLine" id="cb84-2" title="2"><span class="va">console</span>.<span class="at">log</span>(a[<span class="dv">0</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb84-3" title="3"></a>
<a class="sourceLine" id="cb84-4" title="4"><span class="kw">const</span> s <span class="op">=</span> <span class="va">JSON</span>.<span class="at">stringify</span>(a)<span class="op">;</span></a>
<a class="sourceLine" id="cb84-5" title="5"><span class="va">console</span>.<span class="at">log</span>(s[<span class="dv">0</span>])<span class="op">;</span></a>
<a class="sourceLine" id="cb84-6" title="6"></a>
<a class="sourceLine" id="cb84-7" title="7"><span class="kw">const</span> v <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(s)<span class="op">;</span></a>
<a class="sourceLine" id="cb84-8" title="8"><span class="va">console</span>.<span class="at">log</span>(v[<span class="dv">0</span>])<span class="op">;</span></a></code></pre></div>
<h2 id="what-you-just-learned">What you just learned</h2>
<p>With some more practiced, of course, you will be able to do all of these really well. However, right now, you should be able to</p>
<ol type="1">
<li>Identify and generate valid JSON-formatted strings</li>
<li>Use <code>JSON.parse</code> to deserialize JSON-formatted strings</li>
<li>Use <code>JSON.stringify</code> to serialize JavaScript objects</li>
<li>Correctly identify the definition of “deserialize”</li>
<li>Correctly identify the definition of “serialize”</li>
</ol>
<hr />
<h1 id="using-web-storage-to-store-data-in-the-browser">Using Web Storage To Store Data In The Browser</h1>
<p>Like cookies, the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">Web Storage API</a> allows browsers to store data in the form of key-value pairs. Web Storage has a much larger storage limit than cookies, making it a useful place to store data on the client side.</p>
<p>In the cookies reading, we reviewed the two main mechanisms of Web Storage: <code>sessionStorage</code> and <code>localStorage</code>. While <code>sessionStorage</code> persists for the duration of the session and ends when a user closes the browser, <code>localStorage</code> persists past the current session and has no expiration date.</p>
<p>One typical use case for local storage is caching data fetched from a server on the client side. Instead of making multiple network requests to the server to retrieve data, which takes time and might slow page load, we can fetch the data once and store that data in local storage. Then, our website could read the persisting data stored in localStorage, meaning our website wouldn’t have to depend on our server’s response - even if the user closes their browser!</p>
<p>In this reading, we’ll go over how to store and read a key-value pair in local storage.</p>
<h2 id="storing-data-in-local-storage">Storing data in local storage</h2>
<p>Web Storage exists in the window as an object, and we can access it by using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">Window.localStorage</a>. As we previously reviewed, with window properties we can omit the <em>”window”</em> part and simply use the property name, <code>localStorage</code>.</p>
<p>We can set a key-value pair in local storage with a single line of code. Here are a few examples:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb85-1" title="1"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;eatz&#39;</span><span class="op">,</span> <span class="st">&#39;I &lt;3 falafel&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb85-2" title="2"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;coffee&#39;</span><span class="op">,</span> <span class="st">&#39;black&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb85-3" title="3"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;doughnuts&#39;</span><span class="op">,</span> <span class="st">&#39;[&quot;glazed&quot;, &quot;chocolate&quot;, &quot;blueberry&quot;,</span></a>
<a class="sourceLine" id="cb85-4" title="4"><span class="st">&quot;cream-filled&quot;</span>]<span class="st">&#39;);</span></a></code></pre></div>
<p>The code above calls the <code>setItem()</code> method on the Storage object and sets a key-value pair. Examples: <code>eatz</code> (key) and <code>I &lt;3 falafel</code> (value), <code>coffee</code> (key) and <code>black</code> (value), and <code>doughnut</code> (key) and <code>["glazed", "chocolate", "blueberry", "cream-filled"]</code> (value). Both the key and the value must be strings.</p>
<h2 id="reading-data-in-local-storage">Reading data in local storage</h2>
<p>If we wanted to retrieve a key-value pair from local storage, we could use <code>getItem()</code> with a key to find the corresponding value. See the example below:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb86-1" title="1"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;eatz&#39;</span><span class="op">,</span> <span class="st">&#39;I &lt;3 falafel&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb86-2" title="2"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;coffee&#39;</span><span class="op">,</span> <span class="st">&#39;black&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb86-3" title="3"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;doughnuts&#39;</span><span class="op">,</span> <span class="st">&#39;[&quot;glazed&quot;, &quot;chocolate&quot;, &quot;blueberry&quot;,</span></a>
<a class="sourceLine" id="cb86-4" title="4"><span class="st">&quot;cream-filled&quot;</span>]<span class="st">&#39;);</span></a>
<a class="sourceLine" id="cb86-5" title="5"></a>
<a class="sourceLine" id="cb86-6" title="6"><span class="kw">const</span> eatz <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;eatz&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb86-7" title="7"><span class="kw">const</span> coffee <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;coffee&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb86-8" title="8"><span class="kw">const</span> doughnuts <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;doughnuts&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb86-9" title="9"></a>
<a class="sourceLine" id="cb86-10" title="10"><span class="va">console</span>.<span class="at">log</span>(eatz)<span class="op">;</span> <span class="co">// &#39;I &lt;3 falafel&#39;</span></a>
<a class="sourceLine" id="cb86-11" title="11"><span class="va">console</span>.<span class="at">log</span>(coffee)<span class="op">;</span> <span class="co">// &#39;black&#39;</span></a>
<a class="sourceLine" id="cb86-12" title="12"><span class="va">console</span>.<span class="at">log</span>(doughnuts)<span class="op">;</span> <span class="co">// &#39;[&quot;glazed&quot;, &quot;chocolate&quot;, &quot;blueberry&quot;, &quot;cream-filled&quot;]&#39;</span></a></code></pre></div>
<p>The above code reads the item with a key of <code>eatz</code>, the item with a key of <code>doughnut</code>, and the item with a key of <code>coffee</code>. We stored these in variables for handy use in any function we write.</p>
<p>Check the MDN docs on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">localStorage</a> for other methods on the Storage object to remove and clear all key-value pairs.</p>
<h2 id="json-and-local-storage">JSON and local storage</h2>
<p>When we store and read data in local storage, we’re actually storing <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">JSON</a> objects. JSON is text format that is independent from JavaScript but also resembles JavaScript object literal syntax. It’s important to note that JSON exists as a <em>string</em>.</p>
<p>Websites commonly get JSON back from a server request in the form of a text file with a <code>.json</code> extension and a MIME type of <code>application/json</code>. We can use JavaScript to parse a JSON response in order to work with it as a regular JavaScript object.</p>
<p>Let’s look at the <code>doughnuts</code> example from above:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb87-1" title="1"><span class="va">localStorage</span>.<span class="at">setItem</span>(<span class="st">&#39;doughnuts&#39;</span><span class="op">,</span> <span class="st">&#39;[&quot;glazed&quot;, &quot;chocolate&quot;, &quot;blueberry&quot;,</span></a>
<a class="sourceLine" id="cb87-2" title="2"><span class="st">&quot;cream-filled&quot;</span>]<span class="st">&#39;);</span></a>
<a class="sourceLine" id="cb87-3" title="3"><span class="kw">const</span> doughnuts <span class="op">=</span> <span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;doughnuts&#39;</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb87-4" title="4"><span class="va">console</span>.<span class="at">log</span>(doughnuts <span class="op">+</span> <span class="st">&quot; is a &quot;</span> <span class="op">+</span> <span class="kw">typeof</span> doughnuts)<span class="op">;</span></a>
<a class="sourceLine" id="cb87-5" title="5"><span class="co">// prints &#39;[&quot;glazed&quot;, &quot;chocolate&quot;, &quot;blueberry&quot;, &quot;cream-filled&quot;] is a string&#39;</span></a></code></pre></div>
<p>If we ran the code above in the browser console, we’d see that <code>doughnuts</code> is a string value because it’s a JSON value. However, we want to be able to store <code>doughnuts</code> as an <em>array</em>, in order to iterate through it or map it or any other nifty things we can do to arrays.</p>
<p>We can construct a JavaScript value or object from JSON by parsing it:</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb88-1" title="1"><span class="kw">const</span> doughnuts <span class="op">=</span> <span class="va">JSON</span>.<span class="at">parse</span>(<span class="va">localStorage</span>.<span class="at">getItem</span>(<span class="st">&#39;doughnuts&#39;</span>))<span class="op">;</span></a></code></pre></div>
<p>We used <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">JSON.parse()</a> to parse the string into JavaScript. If we printed the parsed value of <code>doughnuts</code> to the console, we’d see it’s a plain ol’ JavaScript array!</p>
<p>See the MDN doc on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll">Working with JSON</a> for more detail about using JSON and JavaScript.</p>
<h2 id="what-you-learned-1">What you learned:</h2>
<ul>
<li>Why we use local storage</li>
<li>How to store data in local storage</li>
<li>How to read data in local storage</li>
<li>How storage objects are JSON that we need to parse</li>
</ul>
<hr />
<h1 id="project-shop-local-storage">Project: Shop Local Storage!</h1>
<p>Learning how to set up an online shop is useful for everyone from large e-commerce companies to an indie small business owner with a hobby website. Shopping carts are an integral part of any online store. In this project you will set one up with JavaScript – and then, sell, baby, sell!</p>
<p>As we previously reviewed, <code>localStorage</code> is an ideal place to store data in the browser without affecting the server-side database. One use-case for <code>localStorage</code> is saving a user’s shopping cart so it persists from page to page. Now that you know how to set and get items in <code>localStorage</code>, put that knowledge to use in this project.</p>
<p>In this project, you will practice:</p>
<ul>
<li>Setting up a quick shopping cart</li>
<li>Storing items in <code>localStorage</code></li>
<li>Reading items in <code>localStorage</code></li>
<li>Removing an item from <code>localStorage</code></li>
</ul>
<h2 id="project-overview-3">Project overview</h2>
<p>We’ve set up a project folder called <strong>local-storage-project.zip</strong>. Use these files to complete the project.</p>
<p>We have filled out the HTML file with a few elements and the CSS with some basic styles to represent a page where users can add items to a shopping cart. Open <strong>storage-project.html</strong> in a browser to see what this page looks like.</p>
<p>In Phases 1-3, you will write JavaScript functions to let the user do the following:</p>
<ul>
<li>Add an item to the shopping cart (<em>i.e. store the item in <code>localStorage</code></em>)</li>
<li>Display the items in the shopping cart (<em>i.e. read the item in <code>localStorage</code></em>)</li>
<li>Remove an item from the shopping cart (<em>i.e. remove the item from <code>localStorage</code></em>)</li>
</ul>
<h2 id="phase-1-write-a-function-to-store-an-item-in-the-cart">Phase 1: Write a function to store an item in the cart</h2>
<p>Our HTML file contains a simple form with a couple of inputs and a submit button, as well as an area to display cart items.</p>
<p>In a code editor, open the <strong>storage-project.js</strong> file, where you’ll write all of your JavaScript. You should see an event listener for <code>DOMContentLoaded</code> because, again, it’s a good idea to wrap functions that manipulate the DOM in this listener (or else, have a bad time with async issues!).</p>
<p>The first order of business is to write a function that stores the form values in <code>localStorage</code> whenever the user clicks the <code>add-to-cart</code> button. This function should:</p>
<ul>
<li>Listen for a click event</li>
<li>Grab the form values</li>
<li>Store the item in <code>localStorage</code></li>
</ul>
<p><em>Hint: Recall that we use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/setItem">Storage.setItem()</a> to set a key-value pair in <code>localStorage</code>.</em></p>
<h2 id="phase-2-write-a-function-to-display-the-cart-items">Phase 2: Write a function to display the cart items</h2>
<p>The second order of business is to write a function to display the items that have been saved in <code>localStorage</code> to the Shopping Cart part of the page. In your HTML file, this is represented by the <code>div</code> with an ID of <code>shopping-cart</code>. This function should:</p>
<ul>
<li>Retrieve the item(s) stored in <code>localStorage</code></li>
<li>Insert the items into the DOM in the <code>shopping-cart</code> DIV</li>
<li>Display both the item’s name and its quantity</li>
</ul>
<p><em>Hint: You might want to use a loop!</em></p>
<p><em>Hint: Recall that we use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/getItem">Storage.getItem(key)</a> to get a value via its key.</em></p>
<p><em>Hint: We can also use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/key">Storage.key(index)</a> to get a key name via its index.</em></p>
<h2 id="phase-3-write-a-function-to-remove-items-from-the-cart">Phase 3: Write a function to remove items from the cart</h2>
<p>The last thing we need to have a fully functional cart is for the user to be able to remove items from the cart. Write a function that lets the user remove items from their cart. In order to do this, you might want to add to or amend the function you wrote in Phase 2.</p>
<p>Insert <strong>Remove</strong> buttons next to each cart item you inserted on the page. Then, write a function that does the following:</p>
<ul>
<li>Listen for a click event on the “Remove” buttons</li>
<li>Remove the corresponding item from <code>localStorage</code></li>
<li>Remove the item from the <code>shopping-cart</code> DIV</li>
</ul>
<p><em>Hint: We can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Storage/removeItem">Storage.removeItem()</a> to remove an item from <code>localStorage</code>.</em></p>
<p><em>Hint: We can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelectorAll">document.querySelectorAll()</a> to get a Node List of the buttons. Then, loop through the list.</em></p>
<p><em>Hint: Recall what you know about <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/target">event.target</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/parentNode">Element.parentNode</a>. It would be helpful to store the item’s key in an ID attribute on the Remove button or the button’s containing DIV, so that you know which corresponding key-value pair to remove from <code>localStorage</code>.</em></p>
<p><em>Hint: We can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Location/reload">location.reload</a> to refresh the page when an item is removed. If everything is working correctly, the other cart items should still display after a page refresh.</em></p>
<h2 id="check-that-your-shopping-cart-functions-correctly">Check that your shopping cart functions correctly</h2>
<p>After you’ve written your JS, test that the page functions as it should. A user should be able to add an item with a given quantity to the cart. You should be able to see this item in <code>localStorage</code> in your browser’s Developer Tools, and it should show up in the Shopping Cart section of the page.</p>
<p>When a user removes an item by clicking the “Remove” button, that item should be removed from <code>localStorage</code> as well as the page.</p>
<p>When you refresh the page, or close and reopen the browser, the cart items that have not been removed should still appear on the page.</p>
<h2 id="bonus-a-update-cart-item-quantities-and-reset-values">Bonus A: Update cart item quantities and reset values</h2>
<p>Instead of displaying text values of the item quantities (e.g. “1”, “5”, “12”) on the page, replace those with an <a href="https://www.html5tutorial.info/html5-number.php">HTML5 number spinner</a>. What’s that, you ask? It’s really just a fancy way to say an input field that lets you increment and decrement a number value. We’ve actually already used one on the page. Check the input for <code>quantity</code> for an example.</p>
<p>When a user increments or decrements the input value of an item’s quantity, get the input value and use it to update the corresponding key-value pair in <code>localStorage</code>.</p>
<h2 id="bonus-b-calculate-the-item-totals">Bonus B: Calculate the item totals</h2>
<p>Currently, if a user adds an item to the cart, let’s say <strong>Apples: 1</strong>, and then adds that same item to the cart again with a different value, let’s say <strong>Apples: 3</strong>, the value in <code>localStorage</code> gets overwritten with the new value – <strong>Apples: 3</strong>.</p>
<p>Write a function to calculate the total quantity added to the cart, instead of rewriting the value. Using the above example, the actual total would be <strong>Apples: 4</strong>. After calculating the total quantity of an item, update the corresponding key-value pair in <code>localStorage</code> with the total.</p>
<p>When you’ve finished all of the above, congratulate yourself for all the hard work. You made a shopping cart!</p>
