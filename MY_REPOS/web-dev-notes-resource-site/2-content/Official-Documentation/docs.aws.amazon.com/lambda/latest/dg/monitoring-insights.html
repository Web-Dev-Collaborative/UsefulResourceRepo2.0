<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   
<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/monitoring-insights.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:04:39 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Using Lambda Insights in Amazon CloudWatch - AWS Lambda</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="/assets" />
      <meta name="target_state" content="monitoring-insights" />
      <meta name="default_state" content="monitoring-insights" />
      <link rel="icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="canonical" href="monitoring-insights.html" />
      <meta name="description" content="This page describes how to enable and use Amazon CloudWatch Lambda Insights to diagnose issues with your AWS Lambda functions." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS Lambda" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="" />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="Lambda" />
      <meta name="this_doc_product" content="AWS Lambda" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="https://docs.aws.amazon.com/assets/css/vendor4.css?version=2020.09.30" rel="stylesheet" />
      <link href="https://docs.aws.amazon.com/assets/css/awsdocs-common.css?version=2020.09.30" rel="stylesheet" /><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor3.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor4.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor1.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-common.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-doc-app.js?version=2020.09.30" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Using Lambda Insights in Amazon CloudWatch - AWS Lambda</title>
                        <meta name="pdf" content="lambda-dg.pdf#monitoring-insights" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07GFJLN6D" />
                        <meta name="github" content="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/monitoring-insights.md" />
                        <meta name="rss" content="lambda-updates.rss" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/monitoring-insights.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/monitoring-insights.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/monitoring-insights.html" />
                        <meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="lambda-dg.pdf#monitoring-insights" target="_blank" title="Open PDF"></a><a target="_blank" href="https://www.amazon.com/dp/B07GFJLN6D" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/monitoring-insights.md" target="_blank" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com/">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#monitoring-insights-how">How it works</a><a href="#monitoring-insights-pricing">Pricing</a><a href="#monitoring-insights-runtimes">Supported runtimes</a><a href="#monitoring-insights-enabling-console">Enabling Lambda Insights in the console</a><a href="#monitoring-insights-enabling-programmatically">Enabling Lambda Insights programmatically</a><a href="#monitoring-insights-multifunction">Using the Lambda Insights dashboard</a><a href="#monitoring-insights-anomalies">Detecting function anomalies</a><a href="#monitoring-insights-queries">Troubleshooting a function</a><a href="#monitoring-console-next-up">What's next?</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="monitoring-insights">Using Lambda Insights in Amazon CloudWatch</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Amazon CloudWatch Lambda Insights collects and aggregates Lambda function runtime
                                    performance metrics and logs for your
                                    serverless applications. This page describes how to enable and use Lambda Insights
                                    to diagnose issues with your Lambda functions.
                                 </p>
                                 <div class="highlights" id="inline-topiclist">
                                    <p><strong>Sections</strong></p>
                                    <ul>
                                       <li><a href="#monitoring-insights-how">How Lambda Insights monitors serverless applications</a></li>
                                       <li><a href="#monitoring-insights-pricing">Pricing</a></li>
                                       <li><a href="#monitoring-insights-runtimes">Supported runtimes</a></li>
                                       <li><a href="#monitoring-insights-enabling-console">Enabling Lambda Insights in the Lambda console</a></li>
                                       <li><a href="#monitoring-insights-enabling-programmatically">Enabling Lambda Insights programmatically</a></li>
                                       <li><a href="#monitoring-insights-multifunction">Using the Lambda Insights dashboard</a></li>
                                       <li><a href="#monitoring-insights-anomalies">Example workflow to detect function anomalies</a></li>
                                       <li><a href="#monitoring-insights-queries">Example workflow using queries to troubleshoot a function</a></li>
                                       <li><a href="#monitoring-console-next-up">What's next?</a></li>
                                    </ul>
                                 </div>
                                 
                                 <h2 id="monitoring-insights-how">How Lambda Insights monitors serverless applications</h2>
                                 
                                 <p>CloudWatch Lambda Insights is a monitoring and troubleshooting solution for serverless
                                    applications running on AWS Lambda. The solution collects, aggregates, and summarizes
                                    system-level metrics including CPU time, memory, disk and network usage. It also collects,
                                    aggregates, and summarizes diagnostic information such as cold starts and Lambda worker
                                    shutdowns to help you isolate issues with your Lambda functions and resolve them quickly.
                                 </p>
                                 
                                 <p>Lambda Insights uses a new CloudWatch Lambda Insights <a href="using-extensions.html">extension</a>, which is provided as a <a href="configuration-layers.html">Lambda layer</a>. When you enable this extension on a Lambda function for a supported runtime, it
                                    collects system-level metrics and emits a single performance log event for every invocation
                                    of that Lambda function. CloudWatch uses embedded metric formatting to extract metrics
                                    from the log events. For more information, see <a href="using-extensions.html">Using AWS Lambda extensions</a>.
                                 </p>
                                 
                                 <p>The Lambda Insights layer extends the <code class="code">CreateLogStream</code> and <code class="code">PutLogEvents</code> for the <code class="code">/aws/lambda-insights/</code> log group.
                                 </p>
                                  
                                 
                                 <h2 id="monitoring-insights-pricing">Pricing</h2>
                                 
                                 <p>For each Lambda function enabled for Lambda Insights, you only pay for what you use
                                    for metrics and logs. For a pricing example, see�<a href="http://aws.amazon.com/cloudwatch/pricing/" rel="noopener noreferrer" target="_blank"><span>Amazon CloudWatch pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                 </p>
                                  
                                 
                                 <h2 id="monitoring-insights-runtimes">Supported runtimes</h2>
                                 
                                 <p>You can use Lambda Insights with any of the following <a href="lambda-runtimes.html">Lambda function runtimes</a>:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>.NET Core 3.1 (C#/PowerShell) (<code class="code">dotnetcore3.1</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Custom runtime (<code class="code">provided</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Custom runtime on Amazon Linux 2 (<code class="code">provided.al2</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Java 11 (Corretto) (<code class="code">java11</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Java 8 (Corretto) (<code class="code">java8.al2</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Node.js 12.x (<code class="code">nodejs12.x</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Node.js 10.x (<code class="code">nodejs10.x</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Python 3.8 (<code class="code">python3.8</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Python 3.7 (<code class="code">python3.7</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Ruby 2.7 (<code class="code">ruby2.7</code>)
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Ruby 2.5 (<code class="code">ruby2.5</code>)
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="monitoring-insights-enabling-console">Enabling Lambda Insights in the Lambda console</h2>
                                 
                                 <p>You can enable Lambda Insights enhanced monitoring on new and existing Lambda functions.
                                    When you enable Lambda Insights on a function in the Lambda console for a supported
                                    runtime, Lambda adds the Lambda Insights <a href="using-extensions.html">extension</a> as a layer to your function, and verifies or attempts to attach the <a href="https://console.aws.amazon.com/iam/home#/policies/arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy$jsonEditor" rel="noopener noreferrer" target="_blank"><span><code class="code">CloudWatchLambdaInsightsExecutionRolePolicy</code></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> policy to your function's <a href="lambda-intro-execution-role.html">execution role</a>.
                                 </p>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To enable Lambda Insights in the Lambda console</b></p>
                                    <ol>
                                       <li>
                                          <p>Open the <a href="https://console.aws.amazon.com/lambda/home#/functions" rel="noopener noreferrer" target="_blank"><span>Functions page</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the Lambda console.
                                          </p>
                                       </li>
                                       <li>
                                          
                                          <p>Choose your function.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose the <b>Configuration</b> tab. 
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>On the <b>Monitoring tools</b> pane, choose <b>Edit</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Under <b>Lambda Insights</b>, turn on <b>Enhanced monitoring</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Save</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                  
                                 
                                 <h2 id="monitoring-insights-enabling-programmatically">Enabling Lambda Insights programmatically</h2>
                                 
                                 <p>You can also enable Lambda Insights using the AWS Command Line Interface (AWS CLI),
                                    AWS Serverless Application Model (SAM) CLI, AWS CloudFormation, or the AWS Cloud Development
                                    Kit (AWS CDK). When you enable Lambda Insights programmatically on a function for
                                    a supported runtime, CloudWatch attaches the <a href="https://console.aws.amazon.com/iam/home#/policies/arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy$jsonEditor" rel="noopener noreferrer" target="_blank"><span><code class="code">CloudWatchLambdaInsightsExecutionRolePolicy</code></span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> policy to your function's <a href="lambda-intro-execution-role.html">execution role</a>.
                                 </p>
                                 
                                 <p>For more information, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/Lambda-Insights-Getting-Started.html">Getting started with Lambda Insights</a> in the <em>Amazon CloudWatch User Guide</em>.
                                 </p>
                                  
                                 
                                 <h2 id="monitoring-insights-multifunction">Using the Lambda Insights dashboard</h2>
                                 
                                 <p>The Lambda Insights dashboard has two views in the CloudWatch console: the multi-function
                                    overview and the single-function view. The multi-function overview aggregates the
                                    runtime metrics for the Lambda functions in the current AWS account and Region. The
                                    single-function view shows the available runtime metrics for a single Lambda function.
                                 </p>
                                 
                                 <p>You can use the Lambda Insights dashboard multi-function overview in the CloudWatch
                                    console to identify over- and under-utilized Lambda functions. You can use the Lambda
                                    Insights dashboard single-function view in the CloudWatch console to troubleshoot
                                    individual requests.
                                 </p>
                                 
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To view the runtime metrics for all functions</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Open the <a href="https://console.aws.amazon.com/cloudwatch/home#lambda-insights:performance" rel="noopener noreferrer" target="_blank"><span>Multi-function</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> page in the CloudWatch console.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose from the predefined time ranges, or choose a custom time range.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>(Optional) Choose <b>Add to dashboard</b> to add the
                                             widgets to your CloudWatch dashboard.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-multifunction-view.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            The multi-function overview on the Lambda Insights dashboard.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To view the runtime metrics of a single function</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Open the <a href="https://console.aws.amazon.com/cloudwatch/home#lambda-insights:functions" rel="noopener noreferrer" target="_blank"><span>Single-function</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> page in the CloudWatch console.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose from the predefined time ranges, or choose a custom time range.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>(Optional) Choose <b>Add to dashboard</b> to add the widgets to your CloudWatch dashboard.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambainsights-singlefunction-view.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            The single-function view on the Lambda Insights dashboard.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <p>For more information, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/create-and-work-with-widgets.html">Creating and working with widgets on CloudWatch dashboards</a>.
                                 </p>
                                  
                                 
                                 <h2 id="monitoring-insights-anomalies">Example workflow to detect function anomalies</h2>
                                 
                                 <p>You can use the multi-function overview on the Lambda Insights dashboard to identify
                                    and detect compute memory anomalies with your function. For example, if the multi-function
                                    overview indicates that a function is using a large amount of memory, you can view
                                    detailed memory utilization metrics in the <b>Memory Usage</b> pane. You can then go to the Metrics dashboard to enable anomaly detection or create
                                    an alarm.
                                 </p>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To enable anomaly detection for a function</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Open the <a href="https://console.aws.amazon.com/cloudwatch/home#lambda-insights:performance" rel="noopener noreferrer" target="_blank"><span>Multi-function</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> page in the CloudWatch console.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Under <b>Function summary</b>, choose your function's name.
                                          </p>
                                          
                                          <p>The single-function view opens with the function runtime metrics.</p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-function-summary.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            The function summary pane on the Lambda Insights dashboard.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>On the <b>Memory Usage</b> pane, choose the three vertical dots, and then choose <b>View in metrics</b> to open the  <b>Metrics</b> dashboard.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-memory-usage.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            The menu on the Memory Usage pane.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>On the <b>Graphed metrics</b> tab, in the <b>Actions</b> column, choose the first icon to enable anomaly detection for the function.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-graphed-metrics.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            The Graphed metrics tab of the Memory Usage pane.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <p>For more information, see <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CloudWatch_Anomaly_Detection.html">Using CloudWatch Anomaly Detection</a>.
                                 </p>
                                  
                                 
                                 <h2 id="monitoring-insights-queries">Example workflow using queries to troubleshoot a function</h2>
                                 
                                 <p>You can use the single-function view on the Lambda Insights dashboard to identify
                                    the root cause of a spike in function duration. For example, if the multi-function
                                    overview indicates a large increase in function duration, you can pause on or choose
                                    each function in the <b>Duration</b> pane to determine which function is causing the increase. You can then go to the
                                    single-function view and review the <b>Application logs</b> to determine the root cause.
                                 </p>
                                 
                                 <div class="procedure">
                                    <p class="title"><b>To run queries on a function</b></p>
                                    <ol>
                                       <li>
                                          
                                          <p>Open the <a href="https://console.aws.amazon.com/cloudwatch/home#lambda-insights:performance" rel="noopener noreferrer" target="_blank"><span>Multi-function</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> page in the CloudWatch console.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>In the <b>Duration</b> pane, choose your function to filter the duration metrics.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-choose-function.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            A function chosen in the Duration pane.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Open the <a href="https://console.aws.amazon.com/cloudwatch/home#lambda-insights:functions" rel="noopener noreferrer" target="_blank"><span>Single-function</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> page.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose the <b>Filter metrics by function name</b> dropdown
                                             list, and then choose your function.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>To view the <b>Most recent 1000 application logs</b>, choose the <b>Application logs</b> tab.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Review the <b>Timestamp</b> and <b>Message</b> to identify the invocation request that you want to troubleshoot.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-application-logs.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            The Most recent 1000 application logs.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>To show the <b>Most recent 1000 invocations</b>, choose the <b>Invocations</b>
                                             tab.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Select the <b>Timestamp</b> or <b>Message</b> for the invocation request that you want to troubleshoot.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-invocations-function-select.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            Selecting a recent invocation request.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose the <b>View logs</b> dropdown list, and then choose <b>View performance
                                                logs</b>.
                                          </p>
                                          
                                          <p>An autogenerated query for your function opens in the <b>Logs Insights</b> dashboard.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Run query</b> to generate a <b>Logs</b> message for the invocation request.
                                          </p>
                                          
                                          <div class="mediaobject">
                                              
                                             <img src="images/lambdainsights-query.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;            Querying the selected function in the Logs Insights dashboard.&#xA;          " style="max-width:100%" />
                                              
                                              
                                             
                                          </div>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                  
                                 
                                 <h2 id="monitoring-console-next-up">What's next?</h2>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>Learn how to create a CloudWatch Logs dashboard in <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/create_dashboard.html">Create a Dashboard</a> in the <em>Amazon CloudWatch User Guide</em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Learn how to add queries to a CloudWatch Logs dashboard in <a href="https://docs.aws.amazon.com/AmazonCloudWatch/latest/logs/CWL_ExportQueryResults.html">Add Query to Dashboard or Export Query Results</a> in the <em>Amazon CloudWatch User Guide</em>.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="https://docs.aws.amazon.com/lambda/latest/dg/monitoring-functions-access-metrics.html">Monitoring console</div>
                                    <div id="next" class="next-link" accesskey="n" href="https://docs.aws.amazon.com/lambda/latest/dg/monitoring-metrics.html">Function metrics</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/monitoring-insights.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/monitoring-insights.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS Lambda';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>

<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/monitoring-insights.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:04:48 GMT -->
</html>