<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   
<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/runtimes-logs-api.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:00:28 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>AWS Lambda Logs API - AWS Lambda</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="/assets" />
      <meta name="target_state" content="runtimes-logs-api" />
      <meta name="default_state" content="runtimes-logs-api" />
      <link rel="icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="canonical" href="runtimes-logs-api.html" />
      <meta name="description" content="Lambda extensions can use the Logs API to subscribe to function logs and platform logs." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS Lambda" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="" />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="Lambda" />
      <meta name="this_doc_product" content="AWS Lambda" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="https://docs.aws.amazon.com/assets/css/vendor4.css?version=2020.09.30" rel="stylesheet" />
      <link href="https://docs.aws.amazon.com/assets/css/awsdocs-common.css?version=2020.09.30" rel="stylesheet" /><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor3.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor4.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor1.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-common.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-doc-app.js?version=2020.09.30" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>AWS Lambda Logs API - AWS Lambda</title>
                        <meta name="pdf" content="lambda-dg.pdf#runtimes-logs-api" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07GFJLN6D" />
                        <meta name="github" content="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/runtimes-logs-api.md" />
                        <meta name="rss" content="lambda-updates.rss" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/runtimes-logs-api.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/runtimes-logs-api.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/runtimes-logs-api.html" />
                        <meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="lambda-dg.pdf#runtimes-logs-api" target="_blank" title="Open PDF"></a><a target="_blank" href="https://www.amazon.com/dp/B07GFJLN6D" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/runtimes-logs-api.md" target="_blank" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com/">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#runtimes-logs-api-subscribing">Subscribing to receive logs</a><a href="#runtimes-logs-api-dest">Destination protocols</a><a href="#runtimes-logs-api-buffering">Buffering configuration</a><a href="#runtimes-logs-api-subs-example">Example subscription</a><a href="#runtimes-logs-api-examples">Example log messages</a><a href="#runtimes-logs-api-samples">Sample code for Logs API </a><a href="#runtimes-logs-api-ref">Logs API reference</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="runtimes-logs-api">AWS Lambda Logs API</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>Lambda automatically captures runtime logs and streams them to Amazon CloudWatch.
                                    This log stream contains the logs that
                                    your function code and extensions generate, and also the logs that Lambda generates
                                    as part of the function
                                    invocation.
                                 </p>
                                 <p><a href="runtimes-extensions-api.html">Lambda extensions</a> can use the Lambda Runtime Logs API to subscribe
                                    to log streams directly from within the Lambda <a href="runtimes-context.html">execution environment</a>. Lambda
                                    streams the logs to the extension, and the extension can then process, filter, and
                                    send the logs to any preferred
                                    destination.
                                 </p>
                                 <div class="mediaobject">
                                     
                                    <img src="images/logs-api-concept-diagram.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;      The Extensions API and the Logs API connect Lambda and external extensions.&#xA;    " />
                                     
                                     
                                    
                                 </div>
                                 <p>The Logs API allows extensions to subscribe to three different logs streams:</p>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          <p>Function logs that the Lambda function generates and writes to <code class="code">stdout</code> or <code class="code">stderr</code>.
                                          </p>
                                       </li>
                                       <li class="listitem">
                                          <p>Lambda platform logs, such as the START, END, and REPORT logs.</p>
                                       </li>
                                       <li class="listitem">
                                          <p>Extension logs that extension code generates.</p>
                                       </li>
                                    </ul>
                                 </div>
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Lambda sends all logs to CloudWatch, even when an extension subscribes to one or more
                                          of the log streams.
                                       </p>
                                    </div>
                                 </div>
                                 <div class="highlights" id="inline-topiclist">
                                    <p><strong>Topics</strong></p>
                                    <ul>
                                       <li><a href="#runtimes-logs-api-subscribing">Subscribing to receive logs</a></li>
                                       <li><a href="#runtimes-logs-api-dest">Destination protocols</a></li>
                                       <li><a href="#runtimes-logs-api-buffering">Buffering configuration</a></li>
                                       <li><a href="#runtimes-logs-api-subs-example">Example subscription</a></li>
                                       <li><a href="#runtimes-logs-api-examples">Example log messages</a></li>
                                       <li><a href="#runtimes-logs-api-samples">Sample code for Logs API </a></li>
                                       <li><a href="#runtimes-logs-api-ref">Logs API reference</a></li>
                                    </ul>
                                 </div>
                                 
                                 <h2 id="runtimes-logs-api-subscribing">Subscribing to receive logs</h2>
                                 
                                 <p>A Lambda extension can subscribe to receive logs by sending a subscription request
                                    to the Logs API.
                                 </p>
                                 
                                 <p>To subscribe to receive logs, you need the extension identifier (<code class="code">Lambda-Extension-Identifier</code>).
                                    First <a href="runtimes-extensions-api.html#extensions-registration-api-a">register the extension</a> to receive the extension
                                    identifier. Then subscribe to the Logs API during <a href="runtimes-context.html#runtimes-lifecycle-ib">initialization</a>.
                                    After the initialization phase is complete, Lambda does not process subscription requests.
                                 </p>
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Logs API subscription is idempotent. Duplicate subscribe requests do not result in
                                          duplicate
                                          subscriptions.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>Memory usage increases linearly as the number of subscribers increases. Subscriptions
                                    consume memory resources
                                    because each subscription opens a new memory buffer to store the logs. To help optimize
                                    memory usage, you can
                                    adjust the <a href="#runtimes-logs-api-buffering">buffering configuration</a>. Buffer memory usage counts
                                    towards overall memory consumption in the execution environment.
                                 </p>
                                  
                                 
                                 <h2 id="runtimes-logs-api-dest">Destination protocols</h2>
                                 
                                 <p>You can choose one of the following protocols to receive the logs:</p>
                                 
                                 <div class="orderedlist">
                                     
                                     
                                    
                                    <ol>
                                       <li>
                                          
                                          <p><b>HTTP</b> (recommended) – Logs are delivered to a local HTTP endpoint
                                             (<code class="code">http://sandbox:$<span>{</span>PORT}/$<span>{</span>PATH}</code>) as an array of records in JSON format. The $PATH parameter is
                                             optional. Note that only HTTP is supported, not HTTPS. You can choose to receive logs
                                             through PUT or
                                             POST.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p><b>TCP</b> – Logs are delivered to a TCP port in <a href="https://github.com/ndjson/ndjson-spec" rel="noopener noreferrer" target="_blank"><span>Newline delimited JSON (NDJSON) format</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 <p>We recommend using HTTP rather than TCP. With TCP, the Lambda platform cannot acknowledge
                                    that logs are
                                    delivered to the application layer. Therefore, you may lose logs if your extension
                                    crashes. HTTP does not share
                                    this limitation. Also, in a TCP connection, you can unintentionally partition the
                                    NDJSON record incorrectly and
                                    corrupt the format. If you choose to use TCP, wait until a newline arrives before
                                    flushing a record.
                                 </p>
                                 
                                 <p>We also recommend setting up the local HTTP listener or the TCP port before subscribing
                                    to receive logs.
                                    During setup, note the following:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>Lambda sends logs only to destinations that are inside the execution environment.</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Lambda retries the attempt to send the logs (with backoff) if there is no listener,
                                             or if the POST or PUT
                                             request results in error. If the log subscriber crashes, it will continue to receive
                                             logs after Lambda restarts
                                             the execution environment.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>Lambda reserves port 9001. There are no other port number restrictions or recommendations.</p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="runtimes-logs-api-buffering">Buffering configuration</h2>
                                 
                                 <p>Lambda can buffer logs and deliver them to the subscriber. You can configure this
                                    behavior in the subscription
                                    request by specifying the following optional fields. Lambda uses the default value
                                    for any field that you do not
                                    specify:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          <p><b>timeoutMs</b> – The maximum time (in milliseconds) to buffer a batch. Default:
                                             1000. Minimum: 100. Maximum: 30000.
                                          </p>
                                       </li>
                                       <li class="listitem">
                                          <p><b>maxBytes</b> – The maximum size (in bytes) of the logs to buffer in memory.
                                             Default: 262144. Minimum: 262144. Maximum: 1048576.
                                          </p>
                                       </li>
                                       <li class="listitem">
                                          <p><b>maxItems</b> – The maximum number of events to buffer in memory. Default:
                                             10000. Minimum: 1000. Maximum: 10000.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <p>During buffering configuration, note the following points:</p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          <p>Lambda flushes the logs if any of the input streams are closed, for example, if the
                                             runtime crashes.
                                          </p>
                                       </li>
                                       <li class="listitem">
                                          <p>Each subscriber can specify a different buffering configuration during the subscription
                                             request.
                                          </p>
                                       </li>
                                       <li class="listitem">
                                          <p>Consider the buffer size that you need for reading the data. Expect to receive payloads
                                             as large as
                                             <code class="code">2*maxBytes+metadata</code>, where <code class="code">maxBytes</code> is configured in the subscribe request. For
                                             example, Lambda adds the following metadata bytes to each record:
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json "><span>{</span>
"time": "2020-08-20T12:31:32.123Z",
"type": "function",
"record": "Hello World"
}           </code></pre></li>
                                       <li class="listitem">
                                          <p>If the subscriber cannot process incoming logs quickly enough, Lambda might drop logs
                                             to keep memory utilization
                                             bounded. To indicate the number of dropped records, Lambda injects a <code class="code">platform.logsDropped</code>
                                             record.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="runtimes-logs-api-subs-example">Example subscription</h2>
                                 
                                 <p>The following example shows a request to subscribe to the platform and function logs.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">PUT http://$<span>{</span>AWS_LAMBDA_RUNTIME_API}/2020-08-15/logs/ HTTP/1.1
<span>{</span>"types": [
    "platform",
    "function"
  ],
  "buffering": <span>{</span>
    "maxItems": 1000,
    "maxBytes": 10240,
    "timeoutMs": 100
  }
  "destination": <span>{</span>
    "protocol": "HTTP",
    "URI": "http://sandbox:8080/lambda_logs"  
  }
}    </code></pre>
                                 <p>If the request succeeds, the subscriber receives an HTTP 200 success response.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">HTTP/1.1 200 OK
"OK"      </code></pre>
                                 
                                  
                                 <h2 id="runtimes-logs-api-examples">Example log messages</h2>
                                 
                                 <p>The following example shows platform start, end, and report logs.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
 <span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "platform.start",
    "record": <span>{</span>
        "requestId": "6f7f0961f83442118a7af6fe80b88d56"
     }
}
<span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "platform.end",
    "record": <span>{</span>
        "requestId": "6f7f0961f83442118a7af6fe80b88d56"
     }
}
<span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "platform.report",
    "record": <span>{</span>
        "requestId": "6f7f0961f83442118a7af6fe80b88d56",
        "metrics": <span>{</span>
            "durationMs": 101.51,
            "billedDurationMs": 300,
            "memorySizeMB": 512,
            "maxMemoryUsedMB": 33,
            "initDurationMs": 116.67
        }
    }
}     
    </code></pre>
                                 <p>The platform log captures runtime or execution environment errors. The following example
                                    shows a platform
                                    fault log message.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "platform.fault",
    "record": "RequestId: d783b35e-a91d-4251-af17-035953428a2c Process exited before completing request"
}     
    </code></pre>
                                 <p>The following example shows an Extensions API registration log message.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "platform.extension",
    "record": <span>{</span>
        "name": "Foo.bar",
        "state": "Ready",
        "events": ["INVOKE", "SHUTDOWN"]
     }
}     
    </code></pre>
                                 <p>The following example shows a Logs API subscription log message.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "platform.logsSubscription",
    "record": <span>{</span>
        "name": "Foo.bar",
        "state": "Subscribed",
        "types": ["function", "platform"],
    }
}
    </code></pre>
                                 <p>The following example shows a <code class="code">platform.logsDropped</code> log message.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "platform.logsDropped",
    "record": <span>{</span>
        "reason": "Consumer seems to have fallen behind as it has not acknowledged receipt of logs.",
        "droppedRecords": 123,
        "droppedBytes" 12345
    }
}     
    </code></pre>
                                 <p>The following example shows a function log message.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="json ">
<span>{</span>
    "time": "2020-08-20T12:31:32.123Z",
    "type": "function",
    "record": "ERROR something happened. Stack trace:\n\tfoo (line 10)\n"
}     
    </code></pre>
                                  
                                 <h2 id="runtimes-logs-api-samples">Sample code for Logs API </h2>
                                 
                                 <p>The <a href="https://aws.amazon.com/blogs/compute/using-aws-lambda-extensions-to-send-logs-to-custom-destinations" rel="noopener noreferrer" target="_blank"><span>
                                          compute blog post entry</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> for Logs API includes sample code showing how to send logs to a custom destination.
                                 </p>   
                                 
                                 <p>Lambda provides <a href="https://github.com/aws-samples/aws-lambda-extensions" rel="noopener noreferrer" target="_blank"><span>Python and Go 
                                          code examples</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> showing how to develop a basic extension and subscribe to the Logs API. For more
                                    information about building a Lambda extension, see <a href="runtimes-extensions-api.html">Lambda Extensions API</a>.
                                 </p> 
                                 
                                  
                                 
                                 <h2 id="runtimes-logs-api-ref">Logs API reference</h2>
                                 
                                 <p>You can retrieve the Logs API endpoint from the <code class="code">AWS_LAMBDA_RUNTIME_API</code> environment variable. To
                                    send an API request, use the prefix <code class="code">2020-08-15/</code> before the API path. For example:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
http://$<span>{</span>AWS_LAMBDA_RUNTIME_API}/2020-08-15/logs/
    </code></pre>
                                  
                                 <h3 id="runtimes-logs-api-ref-a">Subscribe</h3>
                                 
                                 <p>To subscribe to one or more of the log streams that are available in the Lambda execution
                                    environment,
                                    extensions send a Subscribe API request.
                                 </p>
                                 
                                 <p>The OpenAPI specification for the Logs API subscription request, version <b>2020-08-15</b>, is available here: <a href="samples/logs-api-request.zip" rel="noopener noreferrer" target="_blank">logs-api-request.zip</a></p>
                                 
                                 <p><b>Path</b> – <code class="code">/logs</code></p>
                                 
                                 <p><b>Method</b> – <b>PUT</b></p>
                                 
                                 <p><b>Body parameters</b></p>
                                 
                                 <p><code class="code">destination</code> – See <a href="#runtimes-logs-api-dest">Destination protocols</a>. Required: yes. Type:
                                    strings.
                                 </p>
                                 
                                 <p><code class="code">buffering</code> – See <a href="#runtimes-logs-api-buffering">Buffering configuration</a>. Required: no. Type:
                                    strings.
                                 </p>
                                 
                                 <p><code class="code">types</code> – An array of the types of logs to receive. Required: yes. Type: array of strings.
                                    Valid values: "platform", "function", "extension".
                                 </p>
                                 
                                 <div class="itemizedlist">
                                    
                                    <p class="title"><b>Response parameters</b></p>
                                    
                                    <p>The OpenAPI specifications for the subscription responses, version <b>2020-08-15</b>, are available for HTTP and TCP:
                                    </p>
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>HTTP: <a href="samples/logs-api-http-response.zip" rel="noopener noreferrer" target="_blank">logs-api-http-response.zip</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>TCP: <a href="samples/logs-api-tcp-response.zip" rel="noopener noreferrer" target="_blank">logs-api-tcp-response.zip</a></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <div class="itemizedlist">
                                    
                                    <p class="title"><b>Response codes</b></p>
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>200 – Request completed successfully</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>202 – Request accepted. Response to a subscription request during local testing.</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>4XX – Bad Request</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>500 – Service error</p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <div class="example">
                                    <p class="title"><b>Example subscription request</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
 PUT http://$<span>{</span>AWS_LAMBDA_RUNTIME_API}/2020-08-15/logs/ HTTP/1.1
 <span>{</span>
  "types": [
    "platform",
    "function"
  ],
  "buffering": <span>{</span>
    "maxItems": 1000,
    "maxBytes": 10240,
    "timeoutMs": 100
  }
  "destination": <span>{</span>
    "protocol": "HTTP",
    "URI": "http://sandbox:8080/lambda_logs"  
  }
}       
      </code></pre></div>
                                 </div>
                                 
                                 <p>If the request succeeds, the subscriber receives an HTTP 200 success response.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
HTTP/1.1 200 OK
"OK"      
    </code></pre>
                                 <p>If the request fails, the subscriber receives an error response.</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">
HTTP/1.1 400 OK
<span>{</span>
    "errorType": "Logs.ValidationError",
    "errorMessage": URI port is not provided; types should not be empty"
}      
    </code></pre>
                                  
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="runtimes-modify.html">Runtime modifications</div>
                                    <div id="next" class="next-link" accesskey="n" href="runtimes-custom.html">Custom runtimes</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/runtimes-logs-api.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/runtimes-logs-api.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS Lambda';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>

<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/runtimes-logs-api.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:00:31 GMT -->
</html>