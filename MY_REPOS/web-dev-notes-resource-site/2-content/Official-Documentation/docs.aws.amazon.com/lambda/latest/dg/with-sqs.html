<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   
<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/with-sqs.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:02:13 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Using AWS Lambda with Amazon SQS - AWS Lambda</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="/assets" />
      <meta name="target_state" content="with-sqs" />
      <meta name="default_state" content="with-sqs" />
      <link rel="icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="canonical" href="with-sqs.html" />
      <meta name="description" content="Use an AWS Lambda function to process messages from an Amazon SQS queue." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS Lambda" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="" />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="Lambda" />
      <meta name="this_doc_product" content="AWS Lambda" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="https://docs.aws.amazon.com/assets/css/vendor4.css?version=2020.09.30" rel="stylesheet" />
      <link href="https://docs.aws.amazon.com/assets/css/awsdocs-common.css?version=2020.09.30" rel="stylesheet" /><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor3.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor4.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor1.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-common.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-doc-app.js?version=2020.09.30" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Using AWS Lambda with Amazon SQS - AWS Lambda</title>
                        <meta name="pdf" content="lambda-dg.pdf#with-sqs" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07GFJLN6D" />
                        <meta name="github" content="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/with-sqs.md" />
                        <meta name="rss" content="lambda-updates.rss" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/with-sqs.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/with-sqs.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/with-sqs.html" />
                        <meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="lambda-dg.pdf#with-sqs" target="_blank" title="Open PDF"></a><a target="_blank" href="https://www.amazon.com/dp/B07GFJLN6D" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/with-sqs.md" target="_blank" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com/">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#events-sqs-scaling">Scaling and processing</a><a href="#events-sqs-queueconfig">Configuring a queue to use with Lambda</a><a href="#events-sqs-permissions">Execution role permissions</a><a href="#events-sqs-eventsource">Configuring a queue as an event source</a><a href="#services-dynamodb-api">Event source mapping APIs</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="with-sqs">Using AWS Lambda with Amazon SQS</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>You can use an AWS Lambda function to process messages in an Amazon Simple Queue Service
                                    (Amazon SQS) queue. Lambda <a href="invocation-eventsourcemapping.html">event source mappings</a> support <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/standard-queues.html">standard queues</a> and <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/FIFO-queues.html">first-in, first-out (FIFO) queues</a>. With Amazon SQS, you can offload tasks from one component of your
                                    application by sending them to a queue and processing them asynchronously.
                                 </p>
                                 <p>Lambda polls the queue and invokes your Lambda function <a href="invocation-sync.html">synchronously</a> with
                                    an event that contains queue messages. Lambda reads messages in batches and invokes
                                    your function once for each
                                    batch. When your function successfully processes a batch, Lambda deletes its messages
                                    from the queue. The following
                                    example shows an event for a batch of two messages.
                                 </p>
                                 <div class="example">
                                    <p class="title"><b>Example Amazon SQS message event (standard queue)</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Records": [
        <span>{</span>
            "messageId": "059f36b4-87a3-44ab-83d2-661975830a7d",
            "receiptHandle": "AQEBwJnKyrHigUMZj6rYigCgxlaS3SLy0a...",
            "body": "Test message.",
            "attributes": <span>{</span>
                "ApproximateReceiveCount": "1",
                "SentTimestamp": "1545082649183",
                "SenderId": "AIDAIENQZJOLO23YVJ4VO",
                "ApproximateFirstReceiveTimestamp": "1545082649185"
            },
            "messageAttributes": <span>{</span>},
            "md5OfBody": "e4e68fb7bd0e697a0ae8f1bb342846b3",
            "eventSource": "aws:sqs",
            "eventSourceARN": "arn:aws:sqs:us-east-2:123456789012:my-queue",
            "awsRegion": "us-east-2"
        },
        <span>{</span>
            "messageId": "2e1424d4-f796-459a-8184-9c92662be6da",
            "receiptHandle": "AQEBzWwaftRI0KuVm4tP+/7q1rGgNqicHq...",
            "body": "Test message.",
            "attributes": <span>{</span>
                "ApproximateReceiveCount": "1",
                "SentTimestamp": "1545082650636",
                "SenderId": "AIDAIENQZJOLO23YVJ4VO",
                "ApproximateFirstReceiveTimestamp": "1545082650649"
            },
            "messageAttributes": <span>{</span>},
            "md5OfBody": "e4e68fb7bd0e697a0ae8f1bb342846b3",
            "eventSource": "aws:sqs",
            "eventSourceARN": "arn:aws:sqs:us-east-2:123456789012:my-queue",
            "awsRegion": "us-east-2"
        }
    ]
}</code></pre></div>
                                 </div>
                                 <p>By default, Lambda invokes your function as soon as records are available in the SQS
                                    queue. Lambda will poll up to 10 messages in your queue at once and will send that
                                    batch to the function. To avoid invoking the function with a small number of records,
                                    you can tell the event source to buffer records for up to five minutes by configuring
                                    a batch window. Before invoking the function, Lambda continues to poll messages from
                                    the SQS standard queue until batch window expires, the <a href="gettingstarted-limits.html">payload limit</a> is reached or full batch size is reached.
                                 </p>
                                 <p>For FIFO queues, records contain additional attributes that are related to deduplication
                                    and sequencing.
                                 </p>
                                 <div class="example">
                                    <p class="title"><b>Example Amazon SQS message event (FIFO queue)</b></p>
                                    <div class="example-contents"><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><span>{</span>
    "Records": [
        <span>{</span>
            "messageId": "11d6ee51-4cc7-4302-9e22-7cd8afdaadf5",
            "receiptHandle": "AQEBBX8nesZEXmkhsmZeyIE8iQAMig7qw...",
            "body": "Test message.",
            "attributes": <span>{</span>
                "ApproximateReceiveCount": "1",
                "SentTimestamp": "1573251510774",
                <code class="userinput">"SequenceNumber": "18849496460467696128",
                "MessageGroupId": "1",</code>
                "SenderId": "AIDAIO23YVJENQZJOL4VO",
                <code class="userinput">"MessageDeduplicationId": "1",</code>
                "ApproximateFirstReceiveTimestamp": "1573251510774"
            },
            "messageAttributes": <span>{</span>},
            "md5OfBody": "e4e68fb7bd0e697a0ae8f1bb342846b3",
            "eventSource": "aws:sqs",
            "eventSourceARN": "arn:aws:sqs:us-east-2:123456789012:fifo.fifo",
            "awsRegion": "us-east-2"
        }
    ]
}</code></pre></div>
                                 </div>
                                 <p>When Lambda reads a batch, the messages stay in the queue but become hidden for the
                                    length of the queue's <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html">visibility timeout</a>. If your function successfully processes
                                    the batch, Lambda deletes the messages from the queue. If your function is <a href="invocation-scaling.html">throttled</a>, returns an error, or doesn't respond, the message becomes visible again. All messages
                                    in a
                                    failed batch return to the queue, so your function code must be able to process the
                                    same message multiple times
                                    without side effects.
                                 </p>
                                 
                                 <h2 id="events-sqs-scaling">Scaling and processing</h2>
                                 
                                 
                                 <p>For standard queues, Lambda uses <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-long-polling.html">long polling</a> to poll a
                                    queue until it becomes active. When messages are available, Lambda reads up to 5 batches
                                    and sends them to your
                                    function. If messages are still available, Lambda increases the number of processes
                                    that are reading batches by up
                                    to 60 more instances per minute. The maximum number of batches that can be processed
                                    simultaneously by an event
                                    source mapping is 1000.
                                 </p>
                                 
                                 
                                 <p>For FIFO queues, Lambda sends messages to your function in the order that it receives
                                    them. When you send a
                                    message to a FIFO queue, you specify a <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/using-messagegroupid-property.html">message group
                                       ID</a>. Amazon SQS ensures that messages in the same group are delivered to Lambda in order.
                                    Lambda sorts the
                                    messages into groups and sends only one batch at a time for a group. If the function
                                    returns an error, all retries
                                    are attempted on the affected messages before Lambda receives additional messages
                                    from the same group.
                                 </p>
                                 
                                 <p>Your function can scale in concurrency to the number of active message groups. For
                                    more information, see
                                    <a href="https://aws.amazon.com/blogs/compute/new-for-aws-lambda-sqs-fifo-as-an-event-source/" rel="noopener noreferrer" target="_blank"><span>SQS FIFO as an event
                                          source</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the AWS Compute Blog.
                                 </p>
                                  
                                 
                                 <h2 id="events-sqs-queueconfig">Configuring a queue to use with Lambda</h2>
                                 
                                 
                                 <p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/">Create an SQS queue</a> to serve as an event source for your Lambda function.
                                    Then configure the queue to allow time for your Lambda function to process each batch
                                    of events—and for
                                    Lambda to retry in response to throttling errors as it scales up.
                                 </p>
                                 
                                 
                                 <p>To allow your function time to process each batch of records, set the source queue's
                                    visibility timeout to at
                                    least 6 times the <a href="configuration-console.html">timeout</a> that you configure on your function. The
                                    extra time allows for Lambda to retry if your function execution is throttled while
                                    your function is processing a
                                    previous batch.
                                 </p>
                                 
                                 
                                 <p>If a message fails to be processed multiple times, Amazon SQS can send it to a <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-dead-letter-queues.html">dead-letter queue</a>. When your function returns an error,
                                    Lambda leaves it in the queue. After the visibility timeout occurs, Lambda receives
                                    the message again. To send
                                    messages to a second queue after a number of receives, configure a dead-letter queue
                                    on your source queue.
                                 </p>
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Make sure that you configure the dead-letter queue on the source queue, not on the
                                          Lambda function. The
                                          dead-letter queue that you configure on a function is used for the function's <a href="invocation-async.html">asynchronous invocation queue</a>, not for event source queues.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>If your function returns an error, or can't be invoked because it's at maximum concurrency,
                                    processing might
                                    succeed with additional attempts. To give messages a better chance to be processed
                                    before sending them to the
                                    dead-letter queue, set the <code class="code">maxReceiveCount</code> on the source queue's redrive policy to at least <b>5</b>.
                                 </p>
                                 
                                  
                                 
                                 <h2 id="events-sqs-permissions">Execution role permissions</h2>
                                 
                                 <p>Lambda needs the following permissions to manage messages in your Amazon SQS queue.
                                    Add them to your function's
                                    execution role.
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ReceiveMessage.html">sqs:ReceiveMessage</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_DeleteMessage.html">sqs:DeleteMessage</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_GetQueueAttributes.html">sqs:GetQueueAttributes</a></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <p>For more information, see <a href="lambda-intro-execution-role.html">AWS Lambda execution role</a>.
                                 </p>
                                  
                                 
                                 <h2 id="events-sqs-eventsource">Configuring a queue as an event source</h2>
                                 
                                 
                                 <p>Create an event source mapping to tell Lambda to send items from your queue to a Lambda
                                    function. You can create
                                    multiple event source mappings to process items from multiple queues with a single
                                    function. When Lambda invokes
                                    the target function, the event can contain multiple items, up to a configurable maximum
                                    <em>batch
                                       size</em>.
                                 </p>
                                 
                                 <p>To configure your function to read from Amazon SQS in the Lambda console, create an
                                    <b>SQS</b>
                                    trigger.
                                 </p>
                                  
                                 <div class="procedure">
                                    <p class="title"><b>To create a trigger</b></p>
                                    <ol>
                                       <li>
                                          <p>Open the <a href="https://console.aws.amazon.com/lambda/home#/functions" rel="noopener noreferrer" target="_blank"><span>Functions page</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the Lambda console.
                                          </p>
                                       </li>
                                       <li>
                                          
                                          <p>Choose a function.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Under <b>Designer</b>, choose <b>Add trigger</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose a trigger type.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Configure the required options and then choose <b>Add</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 
                                 
                                 <p>Lambda supports the following options for Amazon SQS event sources.</p>
                                 
                                 <div class="itemizedlist">
                                    
                                    <p class="title"><b>Event source options</b></p>
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><b>SQS queue</b> – The Amazon SQS queue to read records from.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Batch size</b> – The number of records to send to the function in each batch. For a standard queue
                                             this can be up to 10,000 records. For a FIFO queue the maximum is 10. For a batch
                                             size over 10, you must also set the <code class="code">MaximumBatchingWindowInSeconds</code> parameter to at least 1 second. Lambda passes all of the records in the batch to
                                             the function in a single call, as long as the total size of the events doesn't exceed
                                             the <a href="gettingstarted-limits.html">payload limit</a> for synchronous invocation (6 MB).
                                          </p>
                                          
                                          <p>Metadata is generated by both Lambda and Amazon SQS for each record. This additional
                                             metadata is counted towards the total payload size and may cause the total number
                                             of records sent in a batch to be lower than your configured batch size. The metadata
                                             fields sent by Amazon SQS can be variable in length. For more information about the
                                             Amazon SQS metadata fields, see the <a href="https://docs.aws.amazon.com/AWSSimpleQueueService/latest/APIReference/API_ReceiveMessage.html">ReceiveMessage</a> documentation in the <em>Amazon Simple Queue Service API Reference</em>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Batch window </b> – Specify the maximum amount of time to gather records before invoking the function,
                                             in seconds. Only applicable to standard queues.
                                          </p>
                                          
                                          <p>If you are using a batch window greater than 0 seconds, you must account for the increased
                                             processing time in your queue visibility timeout. Set your queue visibility timeout
                                             to 6 times your function timeout, plus the value of <code class="code">MaximumBatchingWindowInSeconds</code>. This allows time for your Lambda function to process each batch of events and to
                                             retry in the event of a throttling error. Lambda processes up to 5 batches at a time.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><b>Enabled</b> – Set to true to enable the event source mapping. Set to false to stop processing
                                             records.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 
                                 <div class="awsdocs-note">
                                    <div class="awsdocs-note-title">
                                       <awsui-icon name="status-info" variant="link"></awsui-icon><span>Note</span></div>
                                    <div class="awsdocs-note-text">
                                       <p>Amazon SQS has a perpetual free tier for requests. Beyond the free tier, Amazon SQS
                                          charges per million requests.
                                          While your event source mapping is active, Lambda makes requests to the queue to get
                                          items. For pricing details,
                                          see <a href="https://aws.amazon.com/sqs/pricing" rel="noopener noreferrer" target="_blank"><span>Amazon Simple Queue Service pricing</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>.
                                       </p>
                                    </div>
                                 </div>
                                 
                                 <p>To manage the event source configuration later, choose the trigger in the designer.</p>
                                 
                                 
                                 <p>Configure your function timeout to allow enough time to process an entire batch of
                                    items. If items take a long
                                    time to process, choose a smaller batch size. A large batch size can improve efficiency
                                    for workloads that are
                                    very fast or have a lot of overhead. However, if your function returns an error, all
                                    items in the batch return to
                                    the queue. If you configure <a href="configuration-concurrency.html">reserved concurrency</a> on your
                                    function, set a minimum of 5 concurrent executions to reduce the chance of throttling
                                    errors when Lambda invokes
                                    your function. To eliminate the chance of throttling errors, set the <a href="configuration-concurrency.html">reserved concurrency</a> value to 1000, which is the maximum number of concurrent executions for an Amazon
                                    SQS
                                    event source.  
                                 </p>
                                  
                                 
                                 <h2 id="services-dynamodb-api">Event source mapping APIs</h2>
                                  
                                 <p>To manage an event source with the <a href="https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-install.html">AWS CLI</a> or <a href="http://aws.amazon.com/getting-started/tools-sdks/" rel="noopener noreferrer" target="_blank"><span>AWS SDK</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a>, you can use the following API operations:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><a href="API_CreateEventSourceMapping.html">CreateEventSourceMapping</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="API_ListEventSourceMappings.html">ListEventSourceMappings</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="API_GetEventSourceMapping.html">GetEventSourceMapping</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="API_UpdateEventSourceMapping.html">UpdateEventSourceMapping</a></p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p><a href="API_DeleteEventSourceMapping.html">DeleteEventSourceMapping</a></p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 
                                 <p>The following example uses the AWS CLI to map a function named <code class="code">my-function</code> to an Amazon SQS queue that
                                    is specified by its Amazon Resource Name (ARN), with a batch size of 5 and a batch
                                    window of 60 seconds.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws lambda create-event-source-mapping --function-name my-function --batch-size 5 \
--maximum-batching-window-in-seconds 60 \
--event-source-arn arn:aws:sqs:<code class="replaceable">us-east-2:123456789012:my-queue</code></code></code></pre>
                                 <p>You should see the following output:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "UUID": "2b733gdc-8ac3-cdf5-af3a-1827b3b11284",
    "BatchSize": 5,
    "MaximumBatchingWindowInSeconds": 60,
    "EventSourceArn": "arn:aws:sqs:us-east-2:123456789012:my-queue",
    "FunctionArn": "arn:aws:lambda:us-east-2:123456789012:function:my-function",
    "LastModified": 1541139209.351,
    "State": "Creating",
    "StateTransitionReason": "USER_INITIATED"
}</code></pre>
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="with-sns-create-package.html">Sample code</div>
                                    <div id="next" class="next-link" accesskey="n" href="with-sqs-example.html">Tutorial</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/with-sqs.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/with-sqs.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS Lambda';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>

<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/with-sqs.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:02:15 GMT -->
</html>