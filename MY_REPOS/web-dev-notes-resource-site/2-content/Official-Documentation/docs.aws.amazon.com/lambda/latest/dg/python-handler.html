<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   
<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/python-handler.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:04:54 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>AWS Lambda function handler in Python - AWS Lambda</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="/assets" />
      <meta name="target_state" content="python-handler" />
      <meta name="default_state" content="python-handler" />
      <link rel="icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="canonical" href="https://docs.aws.amazon.com/lambda/latest/dg/python-handler.html" />
      <meta name="description" content="You can use the following general syntax when creating a function handler in Python:" />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS Lambda" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="" />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="Lambda" />
      <meta name="this_doc_product" content="AWS Lambda" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="https://docs.aws.amazon.com/assets/css/vendor4.css?version=2020.09.30" rel="stylesheet" />
      <link href="https://docs.aws.amazon.com/assets/css/awsdocs-common.css?version=2020.09.30" rel="stylesheet" /><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor3.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor4.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor1.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-common.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-doc-app.js?version=2020.09.30" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>AWS Lambda function handler in Python - AWS Lambda</title>
                        <meta name="pdf" content="lambda-dg.pdf#python-handler" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07GFJLN6D" />
                        <meta name="github" content="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/python-handler.md" />
                        <meta name="rss" content="lambda-updates.rss" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html" />
                        <meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-dg.pdf#python-handler" target="_blank" title="Open PDF"></a><a target="_blank" href="https://www.amazon.com/dp/B07GFJLN6D" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/python-handler.md" target="_blank" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com/">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/lambda/index.html">AWS Lambda</a><a href="https://docs.aws.amazon.com/lambda/latest/dg/welcome.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#Naming">Naming</a><a href="#python-handler-how">How it works</a><a href="#python-handler-return">Returning a value</a><a href="#python-example">Examples</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="python-handler">AWS Lambda function handler in Python</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>The AWS Lambda function handler is the method in your function code that processes
                                    events. When your function is
                                    invoked, Lambda runs the handler method. When the handler exits or returns a response,
                                    it becomes available to handle
                                    another event.
                                 </p>
                                 <p>You can use the following general syntax when creating a function handler in Python:</p><pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">def <code class="replaceable">handler_name</code>(event, context): 
    ...
    return <code class="replaceable">some_value</code></code></pre>
                                 <h2 id="Naming">Naming</h2>
                                 
                                 <p>The Lambda function <em>handler</em> name specified at the time you create a Lambda function is derived from the following:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>the name of the file in which the Lambda handler function is located</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>the name of the Python handler function</p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 
                                 <p>A function handler can be any name; however, the default on the Lambda console is
                                    <code class="code">lambda_function.lambda_handler</code>. This name reflects the function name as <code class="code">lambda_handler</code>, and the file where the handler code is stored in <code class="code">lambda_function.py</code>.
                                 </p>
                                 
                                 <p>If you choose a different name for your function handler on the Lambda console, you
                                    must update the name on the <b>Runtime settings</b> pane. The following example shows the Lambda function handler on the Lambda console:
                                 </p>
                                 
                                 <div class="mediaobject">
                                     
                                    <img src="https://docs.aws.amazon.com/lambda/latest/dg/images/python-console-handler.png" class="aws-docs-img-whiteBg aws-docs-img-padding" alt="&#xA;              The following image shows the function handler on the Lambda console.&#xA;          " style="max-width:100%" />
                                     
                                     
                                    
                                 </div>
                                  
                                 
                                 <h2 id="python-handler-how">How it works</h2>
                                 
                                 <p>When your function handler is invoked by Lambda, the <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html">Lambda runtime</a> passes two arguments to the function handler:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>The first argument is the <a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-concepts.html#gettingstarted-concepts-event">event object</a>. An event is a JSON-formatted document that contains data for a Lambda function to
                                             process. The <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html">Lambda runtime</a> converts the event to an object and passes it to your function code. It is usually
                                             of the Python <code class="code">dict</code> type. It can also be <code class="code">list</code>, <code class="code">str</code>, <code class="code">int</code>, <code class="code">float</code>, or the <code class="code">NoneType</code> type.
                                          </p>
                                          
                                          <p>The event object contains information from the invoking service. When you invoke a
                                             function, you determine the structure and contents of the event. When an AWS service
                                             invokes your function, the service defines the event structure. For more information
                                             about events from AWS services, see <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html">Using AWS Lambda with other services</a>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>The second argument is the <a href="https://docs.aws.amazon.com/lambda/latest/dg/python-context.html">context object</a>. A context object is passed to your function by Lambda at runtime. This object provides
                                             methods and properties that provide information about the invocation, function, and
                                             runtime environment.
                                          </p> 
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="python-handler-return">Returning a value</h2>
                                 
                                 <p>Optionally, a handler can return a value. What happens to the returned value depends
                                    on the <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-invocation.html">invocation type</a> and the <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-services.html">Using AWS Lambda with other services</a>. For example:
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>If you use the <code class="code">RequestResponse</code> invocation type, such as <a href="https://docs.aws.amazon.com/lambda/latest/dg/invocation-sync.html">Synchronous invocation</a>, AWS Lambda returns the result of the Python function call to the client invoking
                                             the Lambda function (in the HTTP response to the invocation request, serialized into
                                             JSON). For example, AWS Lambda console uses the <code class="code">RequestResponse</code> invocation type, so when you invoke the function on the console, the console will
                                             display the returned value.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>If the handler returns objects that can't be serialized by <code class="code">json.dumps</code>, the runtime returns an error.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>If the handler returns <code class="code">None</code>, as Python functions without a <code class="code">return</code> statement implicitly do, the runtime returns <code class="code">null</code>.
                                          </p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>If you use an <code class="code">Event</code> an <a href="https://docs.aws.amazon.com/lambda/latest/dg/invocation-async.html">Asynchronous invocation</a> invocation type, the value is discarded.
                                          </p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                  
                                 
                                 <h2 id="python-example">Examples</h2>
                                 
                                 <p>The following section shows examples of Python functions you can use with Lambda.
                                    If you use the Lambda console to author your function, you do not need to attach a
                                    <a href="https://docs.aws.amazon.com/lambda/latest/dg/python-package.html">.zip archive file</a> to run the functions in this section. These functions use standard Python libraries
                                    which are included with the Lambda runtime you selected. For more information, see
                                    <a href="https://docs.aws.amazon.com/lambda/latest/dg/gettingstarted-package.html">Lambda deployment packages</a>.
                                 </p>
                                 
                                  
                                 
                                 <h3 id="python-example-message">Returning a message</h3>
                                 
                                 <p>The following example shows a function called <code class="code">lambda_handler</code> that uses the <code class="code">python3.8</code> <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html">Lambda runtime</a>. The function accepts user input of a first and last name, and returns a message
                                    that contains data from the event it received as input.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">def lambda_handler(event, context):
    message = 'Hello <span>{</span>} <span>{</span>}!'.format(event['first_name'], event['last_name'])  
    return <span>{</span> 
        'message' : message
    }</code></pre>
                                 <p>You can use the following event data to <a href="https://docs.aws.amazon.com/lambda/latest/dg/getting-started-create-function.html#get-started-invoke-manually">invoke the function</a>:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "first_name": "John",
    "last_name": "Smith"
}</code></pre>
                                 <p>The response shows the event data passed as input:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "message": "Hello John Smith!"
}</code></pre>
                                  
                                 
                                  
                                 <h3 id="python-example-parse">Parsing a response</h3>
                                 
                                 <p>The following example shows a function called <code class="code">lambda_handler</code> that uses the <code class="code">python3.8</code> <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html">Lambda runtime</a>. The function uses event data passed by Lambda at runtime. It parses the <a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html">environment variable</a> in <code class="code">AWS_REGION</code> returned in the JSON response.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="">import os
import json
        
def lambda_handler(event, context):
    json_region = os.environ['AWS_REGION']
    return <span>{</span>
        "statusCode": 200,
        "headers": <span>{</span>
            "Content-Type": "application/json"
        },
        "body": json.dumps(<span>{</span>
            "Region ": json_region
        })
    }</code></pre>
                                 <p>You can use any event data to <a href="https://docs.aws.amazon.com/lambda/latest/dg/getting-started-create-function.html#get-started-invoke-manually">invoke the function</a>:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "key1": "value1",
  "key2": "value2",
  "key3": "value3"
}</code></pre>
                                 <p>Lambda runtimes set several environment variables during initialization. For more
                                    information on the environment variables returned in the response at runtime, see
                                    <a href="https://docs.aws.amazon.com/lambda/latest/dg/configuration-envvars.html">Using AWS Lambda environment variables</a>.
                                 </p>
                                 
                                 <p>The function in this example depends on a successful response (in <code class="code">200</code>) from the Invoke API. For more information on the Invoke API status, see the <a href="https://docs.aws.amazon.com/lambda/latest/dg/API_Invoke.html#API_Invoke_ResponseSyntax">Invoke API Response Syntax</a>.
                                 </p>
                                  
                                 
                                  
                                 
                                 <h3 id="python-example-userinputcalc">Returning a calculation</h3>
                                 
                                 <p>The following example <a href="https://github.com/awsdocs/aws-doc-sdk-examples/blob/master/python/example_code/lambda/boto_client_examples/lambda_handler_basic.py" rel="noopener noreferrer" target="_blank"><span>Lambda Python function code on GitHub</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> shows a function called <code class="code">lambda_handler</code> that uses the <code class="code">python3.6</code> <a href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-runtimes.html">Lambda runtime</a>. The function accepts user input and returns a calculation to the user.
                                 </p>
                                 
                                 <p>You can use the following event data to <a href="https://docs.aws.amazon.com/lambda/latest/dg/getting-started-create-function.html#get-started-invoke-manually">invoke the function</a>:
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
    "action": "increment",
    "number": 3
}</code></pre>
                                  
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="https://docs.aws.amazon.com/lambda/latest/dg/lambda-python.html">Working with Python</div>
                                    <div id="next" class="next-link" accesskey="n" href="https://docs.aws.amazon.com/lambda/latest/dg/python-package.html">Deploy .zip file archives</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/python-handler.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS Lambda';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>

<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/python-handler.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:04:54 GMT -->
</html>