<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" ng-app="AWSDocsDocPageApp">
   
<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:03:02 GMT -->
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Lambda function versions - AWS Lambda</title>
      <meta name="viewport" content="width=device-width,initial-scale=1" />
      <meta name="assets_root" content="/assets" />
      <meta name="target_state" content="configuration-versions" />
      <meta name="default_state" content="configuration-versions" />
      <link rel="icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="shortcut icon" type="image/ico" href="https://docs.aws.amazon.com/assets/images/favicon.ico" />
      <link rel="canonical" href="configuration-versions.html" />
      <meta name="description" content="Manage the deployment of your Lambda functions using versions." />
      <meta name="deployment_region" content="IAD" />
      <meta name="product" content="AWS Lambda" />
      <meta name="guide" content="Developer Guide" />
      <meta name="locales" content="de_de:Deutsch/en_us:English/es_es:Español/fr_fr:Français/it_it:Italiano/ja_jp:日本語/ko_kr:한국어/pt_br:Português/zh_cn:中文 (简体)/zh_tw:中文 (繁體)" />
      <meta name="abstract" content="" />
      <meta name="guide-locale" content="en_us" />
      <meta name="tocs" content="toc-contents.json" />
      <meta name="feedback-item" content="Lambda" />
      <meta name="this_doc_product" content="AWS Lambda" />
      <meta name="this_doc_guide" content="Developer Guide" />
      <link href="https://docs.aws.amazon.com/assets/css/vendor4.css?version=2020.09.30" rel="stylesheet" />
      <link href="https://docs.aws.amazon.com/assets/css/awsdocs-common.css?version=2020.09.30" rel="stylesheet" /><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor3.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor4.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/vendor1.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-common.js?version=2020.09.30" defer=""></script><script type="text/javascript" src="https://docs.aws.amazon.com/assets/js/awsdocs-doc-app.js?version=2020.09.30" defer=""></script></head>
   <body class="awsdocs awsui">
      <div class="awsdocs-container">
         <awsdocs-header></awsdocs-header>
         <awsui-app-layout id="app-layout" class="awsui-util-no-gutters" ng-controller="ContentController as $ctrl" header-selector="awsdocs-header" navigation-hide="false" navigation-width="$ctrl.navWidth" navigation-open="$ctrl.navOpen" navigation-change="$ctrl.onNavChange($event)" tools-hide="$ctrl.hideTools" tools-width="$ctrl.toolsWidth" tools-open="$ctrl.toolsOpen" tools-change="$ctrl.onToolsChange($event)">
            <div id="guide-toc" dom-region="navigation">
               <awsdocs-toc></awsdocs-toc>
            </div>
            <div id="main-column" dom-region="content" tabindex="-1">
               <awsdocs-view class="awsdocs-view">
                  <div id="awsdocs-content">
                     <head>
                        <title>Lambda function versions - AWS Lambda</title>
                        <meta name="pdf" content="lambda-dg.pdf#configuration-versions" />
                        <meta name="kindle" content="https://www.amazon.com/dp/B07GFJLN6D" />
                        <meta name="github" content="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/configuration-versions.md" />
                        <meta name="rss" content="lambda-updates.rss" />
                        <meta name="forums" content="http://forums.aws.amazon.com/forum.jspa?forumID=186" />
                        <meta name="feedback" content="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-versions.html" />
                        <meta name="feedback-yes" content="feedbackyes.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-versions.html" />
                        <meta name="feedback-no" content="feedbackno.html?topic_url=http://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-versions.html" />
                        <meta name="keywords" content="Lambda,AWS Lambda,serverless,serverless applications,cloud computing" />
                     </head>
                     <body>
                        <div id="main">
                           <div style="display: none"><a href="lambda-dg.pdf#configuration-versions" target="_blank" title="Open PDF"></a><a target="_blank" href="https://www.amazon.com/dp/B07GFJLN6D" title="Open Kindle"></a><a href="https://github.com/awsdocs/aws-lambda-developer-guide/tree/main/doc_source/configuration-versions.md" target="_blank" title="Edit this page on GitHub"></a></div>
                           <div id="breadcrumbs" class="breadcrumb"><a href="http://aws.amazon.com/">AWS</a><a href="https://docs.aws.amazon.com/index.html">Documentation</a><a href="https://docs.aws.amazon.com/lambda/index.html">AWS Lambda</a><a href="welcome.html">Developer Guide</a></div>
                           <div id="page-toc-src"><a href="#versioning-versions-api">Managing versions with the Lambda API</a><a href="#versioning-versions-using">Using versions</a><a href="#versioning-permissions">Granting permissions</a></div>
                           <div id="main-content" class="awsui-util-container">
                              <div id="main-col-body">
                                 <awsdocs-language-banner data-service="$ctrl.pageService"></awsdocs-language-banner>
                                 <h1 class="topictitle" id="configuration-versions">Lambda  function versions</h1>
                                 <div class="awsdocs-page-header-container">
                                    <awsdocs-page-header></awsdocs-page-header>
                                    <awsdocs-filter-selector id="awsdocs-filter-selector"></awsdocs-filter-selector>
                                 </div>
                                 <p>You can use versions to manage the deployment of your functions. For example, you
                                    can publish a new version of a
                                    function for beta testing without affecting users of the stable production version.
                                    Lambda creates a new version of
                                    your function each time that you publish the function. The new version is a copy of
                                    the unpublished version of the
                                    function. 
                                 </p>
                                 <p>A function version includes the following information:</p>
                                 <div class="itemizedlist">
                                     
                                     
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p>The function code and all associated dependencies.</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>The Lambda runtime that invokes the function.</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>All of the function settings, including the environment variables.</p>
                                          
                                       </li>
                                       <li class="listitem">
                                          
                                          <p>A unique Amazon Resource Name (ARN) to identify the specific version of the function.</p>
                                          
                                       </li>
                                    </ul>
                                 </div>
                                 <p>You can change the function code and settings only on the unpublished version of a
                                    function. When you publish a
                                    version, the code and most of the settings are locked to maintain a consistent experience
                                    for users of that version.
                                    For more information about configuring function settings, see <a href="configuration-console.html">Configuring functions in the console</a>.
                                 </p>
                                 <div class="procedure">
                                    <p class="title"><b>To create a new version of a function</b></p>
                                    <ol>
                                       <li>
                                          <p>Open the <a href="https://console.aws.amazon.com/lambda/home#/functions" rel="noopener noreferrer" target="_blank"><span>Functions page</span><awsui-icon class="awsdocs-link-icon" name="external"></awsui-icon></a> on the Lambda console.
                                          </p>
                                       </li>
                                       <li>
                                          
                                          <p>Choose the name of the function that you want to publish.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>On the function configuration page, choose <b>Actions</b>, <b>Publish new
                                                version</b>.
                                          </p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>(Optional) Enter a version description.</p>
                                          
                                       </li>
                                       <li>
                                          
                                          <p>Choose <b>Publish</b>.
                                          </p>
                                          
                                       </li>
                                    </ol>
                                 </div>
                                 <p>After you publish the first version of a function, the Lambda console displays a dropdown
                                    list of the available
                                    versions. The <b>Designer</b> panel displays a version qualifier at the end of the function
                                    name.
                                 </p>
                                 <div class="mediaobject">
                                     
                                    <img src="images/version-1-created.png" class="aws-docs-img-whiteBg aws-docs-img-padding" />
                                     
                                    
                                 </div>
                                 <p>To view the current versions of a function, on the function configuration page, choose
                                    <b>Qualifiers</b>, and then choose the <b>Versions</b> tab to see a list of versions
                                    for the function. If you haven't published a new version of the function, the list
                                    only displays the
                                    <code class="code">$LATEST</code> version.
                                 </p>
                                 
                                 <h2 id="versioning-versions-api">Managing versions with the Lambda API</h2>
                                 
                                 <p>To publish a version of a function, use the <a href="API_PublishVersion.html">PublishVersion</a> API operation.
                                 </p>
                                 
                                 <p>The following example publishes a new version of a function. The response returns
                                    configuration information
                                    about the new version, including the version number and the function ARN with the
                                    version suffix.
                                 </p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight"><code class="userinput">aws lambda publish-version --function-name my-function</code></code></pre>
                                 <p>You should see the following output:</p>
                                 <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class=""><span>{</span>
  "FunctionName": "my-function",
  "FunctionArn": "arn:aws:lambda:us-east-2:123456789012:function:my-function:1",
  "Version": "1",
  "Role": "arn:aws:iam::123456789012:role/lambda-role",
  "Handler": "function.handler",
  "Runtime": "nodejs12.x",
  ...
}</code></pre>
                                  
                                 <h2 id="versioning-versions-using">Using versions</h2>
                                 
                                 <p>You can reference your Lambda function using either a qualified ARN or an unqualified
                                    ARN.
                                 </p>
                                 
                                 <div class="itemizedlist">
                                     
                                     
                                    
                                    <ul class="itemizedlist" type="disc">
                                       <li class="listitem">
                                          
                                          <p><b>Qualified ARN</b> – The function ARN with a version suffix. The
                                             following example refers to version 42 of the <code class="code">helloworld</code> function.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">arn:aws:lambda:aws-region:acct-id:function:helloworld:42</code></pre>       
                                          </li>
                                       <li class="listitem">
                                          
                                          <p><b>Unqualified ARN</b> – The function ARN without a version suffix.
                                          </p>
                                          <pre class="programlisting"><div class="code-btn-container"><div class="btn-copy-code" title="Copy"><awsui-icon name="copy"></awsui-icon></div></div><code class="nohighlight">arn:aws:lambda:aws-region:acct-id:function:helloworld</code></pre>
                                          </li>
                                    </ul>
                                 </div>
                                 
                                 <p>You can use a qualified or an unqualified ARN in all relevant API operations. However,
                                    you can't use an
                                    unqualified ARN to create an alias.
                                 </p>
                                 
                                 <p>If you decide not to publish function versions, you can invoke the function using
                                    either the qualified or
                                    unqualified ARN in your <a href="invocation-eventsourcemapping.html">event source mapping</a>. When you invoke
                                    a function using an unqualified ARN, Lambda implicitly invokes $LATEST.
                                 </p>
                                 
                                 <p>Lambda publishes a new function version only if the code has never been published
                                    or if the code has changed
                                    from the last published version. If there is no change, the function version remains
                                    at the last published
                                    version.
                                 </p>
                                 
                                 <p>The qualified ARN for each Lambda function version is unique. After you publish a
                                    version, you can't change the
                                    ARN or the function code.
                                 </p>
                                  
                                 
                                 <h2 id="versioning-permissions">Granting permissions</h2>
                                 
                                 <p>You can use a <a href="access-control-resource-based.html">resource-based policy</a> or an <a href="access-control-identity-based.html">identity-based policy</a> to grant access to your function. The scope
                                    of the permission depends on whether you apply the policy to a function or to one
                                    version of a function. For more
                                    information about function resource names in policies, see <a href="lambda-api-permissions-ref.html">Resources and conditions for Lambda actions</a>. 
                                 </p>
                                 
                                 <p>You can simplify the management of event sources and AWS Identity and Access Management
                                    (IAM) policies by using function aliases. For
                                    more information, see <a href="configuration-aliases.html">Lambda  function aliases</a>.
                                 </p>
                                 
                                 <awsdocs-copyright class="copyright-print"></awsdocs-copyright>
                                 <awsdocs-thumb-feedback right-edge="{{$ctrl.thumbFeedbackRightEdge}}"></awsdocs-thumb-feedback>
                              </div>
                              <noscript>
                                 <div>
                                    <div>
                                       <div>
                                          <div id="js_error_message">
                                             <p><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" alt="Warning" /> <strong>Javascript is disabled or is unavailable in your
                                                   browser.</strong></p>
                                             <p>To use the AWS Documentation, Javascript must be
                                                enabled. Please refer to your browser's Help pages for instructions.
                                             </p>
                                          </div>
                                       </div>
                                    </div>
                                 </div>
                              </noscript>
                              <div id="main-col-footer" class="awsui-util-font-size-0">
                                 <div id="doc-conventions"><a target="_top" href="https://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></div>
                                 <div class="prev-next">
                                    <div id="previous" class="prev-link" accesskey="p" href="configuration-concurrency.html">Concurrency</div>
                                    <div id="next" class="next-link" accesskey="n" href="configuration-aliases.html">Aliases</div>
                                 </div>
                              </div>
                              <awsdocs-page-utilities></awsdocs-page-utilities>
                           </div>
                           <div id="quick-feedback-yes" style="display: none;">
                              <div class="title">Did this page help you? - Yes</div>
                              <div class="content">
                                 <p>Thanks for letting us know we're doing a good
                                    job!
                                 </p>
                                 <p>If you've got a moment, please tell us what we did right
                                    so we can do more of it.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-versions.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                           <div id="quick-feedback-no" style="display: none;">
                              <div class="title">Did this page help you? - No</div>
                              <div class="content">
                                 <p>Thanks for letting us know this page needs work. We're
                                    sorry we let you down.
                                 </p>
                                 <p>If you've got a moment, please tell us how we can make
                                    the documentation better.
                                 </p>
                                 <p>
                                    <awsui-button id="fblink" target="_blank" text="Feedback" click="linkClick($event)" href="https://docs.aws.amazon.com/forms/aws-doc-feedback?hidden_service_name=Lambda&amp;topic_url=https://docs.aws.amazon.com/en_us/lambda/latest/dg/configuration-versions.html"></awsui-button>
                                 </p>
                              </div>
                           </div>
                        </div>
                     </body>
                  </div>
               </awsdocs-view>
               <div class="page-loading-indicator" id="page-loading-indicator">
                  <awsui-spinner size="large"></awsui-spinner>
               </div>
            </div>
            <div id="tools-panel" dom-region="tools">
               <awsdocs-tools-panel id="awsdocs-tools-panel"></awsdocs-tools-panel>
            </div>
         </awsui-app-layout>
         <awsdocs-cookie-banner class="doc-cookie-banner"></awsdocs-cookie-banner>
         <!--
                SiteCatalyst code version: H.25.2.
                Copyright 1996-2012 Adobe, Inc. All Rights Reserved
                More info available at http://www.omniture.com
            --><script language="JavaScript" type="text/javascript">
var awsdocs = awsdocs || {};
awsdocs.prop66 = 'AWS Lambda';
awsdocs.prop65 =  'Developer Guide';
            </script><script src="https://a0.awsstatic.com/s_code/js/3.0/awshome_s_code.js" language="JavaScript" type="text/javascript"></script>
         <!--/DO NOT REMOVE/-->
         <!--End SiteCatalyst code version: H.25.2.--></div>
   </body>

<!-- Mirrored from docs.aws.amazon.com/lambda/latest/dg/configuration-versions.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 21 Feb 2021 15:03:03 GMT -->
</html>