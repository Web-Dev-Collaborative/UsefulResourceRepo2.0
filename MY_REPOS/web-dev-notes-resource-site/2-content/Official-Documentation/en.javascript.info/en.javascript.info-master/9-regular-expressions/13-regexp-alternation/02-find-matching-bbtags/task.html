<h1 id="find-bbtag-pairs">Find bbtag pairs</h1>
<p>A “bb-tag” looks like <code>[tag]...[/tag]</code>, where <code>tag</code> is one of: <code>b</code>, <code>url</code> or <code>quote</code>.</p>
<p>For instance:</p>
<pre><code>[b]text[/b]
[url]http://google.com[/url]</code></pre>
<p>BB-tags can be nested. But a tag can’t be nested into itself, for instance:</p>
<pre><code>Normal:
[url] [b]http://google.com[/b] [/url]
[quote] [b]text[/b] [/quote]

Can&#39;t happen:
[b][b]text[/b][/b]</code></pre>
<p>Tags can contain line breaks, that’s normal:</p>
<pre><code>[quote]
  [b]text[/b]
[/quote]</code></pre>
<p>Create a regexp to find all BB-tags with their contents.</p>
<p>For instance:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">let</span> regexp <span class="op">=</span> <span class="ss">/your regexp/flags</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3"><span class="kw">let</span> str <span class="op">=</span> <span class="st">&quot;..[url]http://google.com[/url]..&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="at">alert</span>( <span class="va">str</span>.<span class="at">match</span>(regexp) )<span class="op">;</span> <span class="co">// [url]http://google.com[/url]</span></a></code></pre></div>
<p>If tags are nested, then we need the outer tag (if we want we can continue the search in its content):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">let</span> regexp <span class="op">=</span> <span class="ss">/your regexp/flags</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-2" title="2"></a>
<a class="sourceLine" id="cb5-3" title="3"><span class="kw">let</span> str <span class="op">=</span> <span class="st">&quot;..[url][b]http://google.com[/b][/url]..&quot;</span><span class="op">;</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="at">alert</span>( <span class="va">str</span>.<span class="at">match</span>(regexp) )<span class="op">;</span> <span class="co">// [url][b]http://google.com[/b][/url]</span></a></code></pre></div>
