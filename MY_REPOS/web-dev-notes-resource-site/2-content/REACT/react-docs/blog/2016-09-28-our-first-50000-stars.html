<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>;
<p>Just three and a half years ago we open sourced a little JavaScript library called React. The journey since that day has been incredibly exciting.</p>
<h2 id="commemorative-t-shirt">Commemorative T-Shirt</h2>
<p>In order to celebrate 50,000 GitHub stars, <a href="http://www.maggieappleton.com/">Maggie Appleton</a> from <a href="http://egghead.io/">egghead.io</a> has designed us a special T-shirt, which will be available for purchase from Teespring <strong>only for a week</strong> through Thursday, October 6. Maggie also wrote <a href="https://www.behance.net/gallery/43269677/Reacts-50000-Stars-Shirt">a blog post</a> showing all the different concepts she came up with before settling on the final design.</p>
<p><a target="_blank" href="https://teespring.com/react-50000-stars"><img src="../images/blog/react-50k-tshirt.jpg" width="650" height="340" alt="React 50k Tshirt" /></a></p>
<p>The T-shirts are super soft using American Apparel's tri-blend fabric; we also have kids and toddler T-shirts and
    baby onesies available.</p>
<ul>
<li><a href="https://teespring.com/react-50000-stars">Adult T-shirts (straight-cut and fitted)</a></li>
<li><a href="https://teespring.com/react-50000-stars-kids">Kids T-shirts</a></li>
<li><a href="https://teespring.com/react-50000-stars-toddler">Toddler T-Shirts</a></li>
<li><a href="https://teespring.com/react-50000-stars-baby">Baby Onesies</a></li>
</ul>
<p>Proceeds from the shirts will be donated to <a href="http://www.code2040.org/">CODE2040</a>, a nonprofit that creates access, awareness, and opportunities in technology for underrepresented minorities with a specific focus on Black and Latinx talent.</p>
<h2 id="archeology">Archeology</h2>
<p>We've spent a lot of time trying to explain the concepts behind React and the problems it attempts to solve, but we
    haven't talked much about how React evolved before being open sourced. This milestone seemed like as good a time as
    any to dig through the earliest commits and share some of the more important moments and fun facts.</p>
<p>The story begins in our ads org, where we were building incredibly sophisticated client side web apps using an
    internal MVC framework called <a
        href="http://web.archive.org/web/20130608154901/http://shaneosullivan.github.io/boltjs/intro.html">BoltJS</a>.
    Here's a sample of what some Bolt code looked like:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">var</span> CarView <span class="op">=</span> <span class="at">require</span>(<span class="st">&#39;javelin/core&#39;</span>).<span class="at">createClass</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;CarView&#39;</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-3" title="3">  <span class="dt">extend</span><span class="op">:</span> <span class="at">require</span>(<span class="st">&#39;container&#39;</span>).<span class="at">Container</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="dt">properties</span><span class="op">:</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="dt">wheels</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></a>
<a class="sourceLine" id="cb1-6" title="6">  <span class="op">},</span></a>
<a class="sourceLine" id="cb1-7" title="7">  <span class="dt">declare</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-8" title="8">    <span class="cf">return</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb1-9" title="9">      <span class="dt">childViews</span><span class="op">:</span> [</a>
<a class="sourceLine" id="cb1-10" title="10">        <span class="op">{</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;I have &#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-11" title="11">        <span class="op">{</span> <span class="dt">ref</span><span class="op">:</span> <span class="st">&#39;wheelView&#39;</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb1-12" title="12">        <span class="op">{</span> <span class="dt">content</span><span class="op">:</span> <span class="st">&#39; wheels&#39;</span> <span class="op">}</span></a>
<a class="sourceLine" id="cb1-13" title="13">      ]</a>
<a class="sourceLine" id="cb1-14" title="14">    <span class="op">};</span></a>
<a class="sourceLine" id="cb1-15" title="15">  <span class="op">},</span></a>
<a class="sourceLine" id="cb1-16" title="16">  <span class="dt">setWheels</span><span class="op">:</span> <span class="kw">function</span>(wheels) <span class="op">{</span></a>
<a class="sourceLine" id="cb1-17" title="17">    <span class="kw">this</span>.<span class="at">findRef</span>(<span class="st">&#39;wheelView&#39;</span>).<span class="at">setContent</span>(wheels)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-18" title="18">  <span class="op">},</span></a>
<a class="sourceLine" id="cb1-19" title="19">  <span class="dt">getWheels</span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb1-20" title="20">    <span class="cf">return</span> <span class="kw">this</span>.<span class="at">findRef</span>(<span class="st">&#39;wheelView&#39;</span>).<span class="at">getContent</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-21" title="21">  <span class="op">},</span></a>
<a class="sourceLine" id="cb1-22" title="22"><span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-23" title="23"></a>
<a class="sourceLine" id="cb1-24" title="24"><span class="kw">var</span> car <span class="op">=</span> <span class="kw">new</span> <span class="at">CarView</span>()<span class="op">;</span></a>
<a class="sourceLine" id="cb1-25" title="25"><span class="va">car</span>.<span class="at">setWheels</span>(<span class="dv">3</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-26" title="26"><span class="va">car</span>.<span class="at">placeIn</span>(<span class="va">document</span>.<span class="at">body</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb1-27" title="27"><span class="co">//&lt;div&gt;</span></a>
<a class="sourceLine" id="cb1-28" title="28"><span class="co">//  &lt;div&gt;I have &lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-29" title="29"><span class="co">//  &lt;div&gt;3&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-30" title="30"><span class="co">//  &lt;div&gt; wheels&lt;/div&gt;</span></a>
<a class="sourceLine" id="cb1-31" title="31"><span class="co">//&lt;/div&gt;</span></a></code></pre></div>
<p>Bolt introduced a number of APIs and features that would eventually make their way into React including <code>render</code>, <code>createClass</code>, and <code>refs</code>. Bolt introduced the concept of <code>refs</code> as a way to create references to nodes that can be used imperatively. This was relevant for legacy interoperability and incremental adoption, and while React would eventually strive to be a lot more functional, <code>refs</code> proved to be a very useful way to break out of the functional paradigm when the need arose.</p>
<p>But as our applications grew more and more sophisticated, our Bolt codebases got pretty complicated. Recognizing some
    of the framework's shortcomings, <a href="https://twitter.com/jordwalke">Jordan Walke</a> started experimenting with
    a side-project called <a href="https://github.com/jordwalke/FaxJs">FaxJS</a>. His goal was to solve many of the same
    problems as Bolt, but in a very different way. This is actually where most of React's fundamentals were born,
    including props, state, re-evaluating large portions of the tree to "diff" the UI, server-side rendering, and a
    basic concept of components.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb2-1" title="1"><span class="va">TestProject</span>.<span class="at">PersonDisplayer</span> <span class="op">=</span> <span class="op">{</span></a>
<a class="sourceLine" id="cb2-2" title="2">  <span class="dt">structure </span><span class="op">:</span> <span class="kw">function</span>() <span class="op">{</span></a>
<a class="sourceLine" id="cb2-3" title="3">    <span class="cf">return</span> <span class="at">Div</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-4" title="4">      <span class="dt">classSet</span><span class="op">:</span> <span class="op">{</span> <span class="dt">personDisplayerContainer</span><span class="op">:</span> <span class="kw">true</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb2-5" title="5">      <span class="dt">titleDiv</span><span class="op">:</span> <span class="at">Div</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-6" title="6">        <span class="dt">classSet</span><span class="op">:</span> <span class="op">{</span> <span class="dt">personNameTitle</span><span class="op">:</span> <span class="kw">true</span> <span class="op">},</span></a>
<a class="sourceLine" id="cb2-7" title="7">        <span class="dt">content</span><span class="op">:</span> <span class="kw">this</span>.<span class="va">props</span>.<span class="at">name</span></a>
<a class="sourceLine" id="cb2-8" title="8">      <span class="op">}</span>)<span class="op">,</span></a>
<a class="sourceLine" id="cb2-9" title="9">      <span class="dt">nestedAgeDiv</span><span class="op">:</span> <span class="at">Div</span>(<span class="op">{</span></a>
<a class="sourceLine" id="cb2-10" title="10">        <span class="dt">content</span><span class="op">:</span> <span class="st">&#39;Interests: &#39;</span> <span class="op">+</span> <span class="kw">this</span>.<span class="va">props</span>.<span class="at">interests</span></a>
<a class="sourceLine" id="cb2-11" title="11">      <span class="op">}</span>)</a>
<a class="sourceLine" id="cb2-12" title="12">    <span class="op">}</span>)<span class="op">;</span></a>
<a class="sourceLine" id="cb2-13" title="13">  <span class="op">}</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="op">};</span></a></code></pre></div>
<h2 id="fbolt-is-born">FBolt is Born</h2>
<p>Through his FaxJS experiment, Jordan became convinced that functional APIs — which discouraged mutation — offered a
    better, more scalable way to build user interfaces. He imported his library into Facebook's codebase in March of
    2012 and renamed it "FBolt", signifying an extension of Bolt where components are written in a functional
    programming style. Or maybe "FBolt" was a nod to FaxJS – he didn't tell us! ;)</p>
<p>The interoperability between FBolt and Bolt allowed us to experiment with replacing just one component at a time with more functional component APIs. We could test the waters of this new functional paradigm, without having to go all in. We started with the components that were clearly best expressed functionally and then we would later continue to push the boundaries of what we could express as functions.</p>
<p>Realizing that FBolt wouldn't be a great name for the library when used on its own, Jordan Walke and <a
        href="https://twitter.com/tomocchino">Tom Occhino</a> decided on a new name: "React." After Tom sent out the
    diff to rename everything to React, Jordan commented:</p>
<blockquote>
<p>Jordan Walke: I might add for the sake of discussion, that many systems advertise some kind of reactivity, but they
    usually require that you set up some kind of point-to-point listeners and won't work on structured data. This API
    reacts to any state or property changes, and works with data of any form (as deeply structured as the graph itself)
    so I think the name is fitting.</p>
</blockquote>
<p>Most of Tom's other commits at the time were on the first version of <a
        href="https://github.com/graphql/graphiql">GraphiQL</a>, a project which was recently open sourced.</p>
<h2 id="adding-jsx">Adding JSX</h2>
<p>Since about 2010 Facebook has been using an extension of PHP called <a href="https://www.facebook.com/notes/facebook-engineering/xhp-a-new-way-to-write-php/294003943919/">XHP</a>, which enables engineers to create UIs using XML literals right inside their PHP code. It was first introduced to help prevent XSS holes but ended up being an excellent way to structure applications with custom components.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb3-1" title="1">final <span class="kw">class</span> <span class="op">:</span>a<span class="op">:</span>post <span class="kw">extends</span> <span class="op">:</span>x<span class="op">:</span>element <span class="op">{</span></a>
<a class="sourceLine" id="cb3-2" title="2">  <span class="dt">attribute </span><span class="op">:</span>a<span class="op">;</span></a>
<a class="sourceLine" id="cb3-3" title="3">  <span class="kw">protected</span> <span class="kw">function</span> <span class="at">render</span>()<span class="op">:</span> XHPRoot <span class="op">{</span></a>
<a class="sourceLine" id="cb3-4" title="4">    $anchor <span class="op">=</span> <span class="op">&lt;</span>a<span class="op">&gt;{</span>$this<span class="op">-&gt;</span><span class="at">getChildren</span>()<span class="op">}</span>&lt;/a<span class="op">&gt;;</span></a>
<a class="sourceLine" id="cb3-5" title="5">    $form <span class="op">=</span> (</a>
<a class="sourceLine" id="cb3-6" title="6">      <span class="op">&lt;</span>form</a>
<a class="sourceLine" id="cb3-7" title="7">        method<span class="op">=</span><span class="st">&quot;post&quot;</span></a>
<a class="sourceLine" id="cb3-8" title="8">        action<span class="op">={</span>$this<span class="op">-&gt;:</span>href<span class="op">}</span></a>
<a class="sourceLine" id="cb3-9" title="9">        target<span class="op">={</span>$this<span class="op">-&gt;:</span>target<span class="op">}</span></a>
<a class="sourceLine" id="cb3-10" title="10">        <span class="kw">class</span><span class="op">=</span><span class="st">&quot;postLink&quot;</span></a>
<a class="sourceLine" id="cb3-11" title="11">      <span class="op">&gt;{</span>$anchor<span class="op">}</span>&lt;/form<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb3-12" title="12">    )<span class="op">;</span></a>
<a class="sourceLine" id="cb3-13" title="13">    $this<span class="op">-&gt;</span><span class="at">transferAllAttributes</span>($anchor)<span class="op">;</span></a>
<a class="sourceLine" id="cb3-14" title="14">    <span class="cf">return</span> $form<span class="op">;</span></a>
<a class="sourceLine" id="cb3-15" title="15">  <span class="op">}</span></a>
<a class="sourceLine" id="cb3-16" title="16"><span class="op">}</span></a></code></pre></div>
<p>Before Jordan's work had even made its way into the Facebook codebase, Adam Hupp implemented an XHP-like concept for
    JavaScript, written in Haskell. This system enabled you to write the following inside a JavaScript file:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">function</span> <span class="op">:</span>example<span class="op">:</span><span class="at">hello</span>(attrib<span class="op">,</span> children) <span class="op">{</span></a>
<a class="sourceLine" id="cb4-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb4-3" title="3">    <span class="op">&lt;</span>div <span class="kw">class</span><span class="op">=</span><span class="st">&quot;special&quot;</span><span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-4" title="4">      <span class="op">&lt;</span>h1<span class="op">&gt;</span>Hello<span class="op">,</span> World<span class="op">!</span>&lt;/h1<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-5" title="5">      <span class="op">{</span>children<span class="op">}</span></a>
<a class="sourceLine" id="cb4-6" title="6">    &lt;/div<span class="op">&gt;</span></a>
<a class="sourceLine" id="cb4-7" title="7">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb4-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>It would compile the above into the following normal ES3-compatible JavaScript:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">function</span> <span class="at">jsx_example_hello</span>(attrib<span class="op">,</span> children) <span class="op">{</span></a>
<a class="sourceLine" id="cb5-2" title="2">  <span class="cf">return</span> (</a>
<a class="sourceLine" id="cb5-3" title="3">    <span class="va">S</span>.<span class="at">create</span>(<span class="st">&quot;div&quot;</span><span class="op">,</span> <span class="op">{</span><span class="st">&quot;class&quot;</span><span class="op">:</span> <span class="st">&quot;special&quot;</span><span class="op">},</span> [</a>
<a class="sourceLine" id="cb5-4" title="4">      <span class="va">S</span>.<span class="at">create</span>(<span class="st">&quot;h1&quot;</span><span class="op">,</span> <span class="op">{},</span> [<span class="st">&quot;Hello, World!&quot;</span>])<span class="op">,</span></a>
<a class="sourceLine" id="cb5-5" title="5">      children</a>
<a class="sourceLine" id="cb5-6" title="6">    ]</a>
<a class="sourceLine" id="cb5-7" title="7">  )<span class="op">;</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="op">}</span></a></code></pre></div>
<p>In this prototype, <code>S.create</code> would immediately create and return a DOM node. Most of the conversations on
    this prototype revolved around the performance characteristics of <code>innerHTML</code> versus creating DOM nodes
    directly. At the time, it would have been less than ideal to push developers universally in the direction of
    creating DOM nodes directly since it did not perform as well, especially in Firefox and IE. Facebook's then-CTO <a
        href="https://twitter.com/btaylor">Bret Taylor</a> chimed in on the discussion at the time in favor of
    <code>innerHTML</code> over <code>document.createElement</code>:</p>
<blockquote>
<p>Bret Taylor: If you are not convinced about innerHTML, here is a small microbenchmark. It is about the same in Chrome. innerHTML is about 30% faster in the latest version of Firefox (much more in previous versions), and about 90% faster in IE8.</p>
</blockquote>
<p>This work was eventually abandoned but was revived after React made its way into the codebase. Jordan sidelined the
    previous performance discussions by introducing the concept of a "Virtual DOM," though its eventual name didn't
    exist yet.</p>
<blockquote>
<p>Jordan Walke: For the first step, I propose that we do the easiest, yet most general transformation possible. My suggestion is to simply map xml expressions to function call expressions.</p>
<ul>
<li><code>&lt;x&gt;&lt;/x&gt;</code> becomes <code>x( )</code></li>
<li><code>&lt;x height=12&gt;&lt;/x&gt;</code> becomes <code>x( {height:12} )</code></li>
<li><code>&lt;x&gt; &lt;y&gt; &lt;/y&gt; &lt;/x&gt;</code> becomes <code>x({ childList: [y( )] })</code></li>
</ul>
<p>At this point, JSX doesn't need to know about React - it's just a convenient way to write function calls.
    Coincidentally, React's primary abstraction is the function. Okay maybe it's not so coincidental ;)</p>
</blockquote>
<p>Adam made a very insightful comment, which is now the default way we write lists in React with JSX.</p>
<blockquote>
<p>Adam Hupp: I think we should just treat arrays of elements as a frag. This is useful for constructs like:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode js"><code class="sourceCode javascript"><a class="sourceLine" id="cb6-1" title="1"><span class="op">&lt;</span>ul<span class="op">&gt;{</span><span class="va">foo</span>.<span class="at">map</span>(<span class="kw">function</span>(i) <span class="op">{</span> <span class="cf">return</span> <span class="op">&lt;</span>li<span class="op">&gt;{</span><span class="va">i</span>.<span class="at">data</span><span class="op">}</span>&lt;/li<span class="op">&gt;;</span> <span class="op">}</span>)<span class="op">}</span>&lt;/ul<span class="op">&gt;</span></a></code></pre></div>
<p>In this case the ul(..) will get a childList with a single child, which is itself a list.</p>
</blockquote>
<p>React didn't end up using Adam's implementation directly. Instead, we created JSX by forking <a
        href="https://github.com/laverdet/js-xml-literal">js-xml-literal</a>, a side project by XHP creator Marcel
    Laverdet. JSX took its name from js-xml-literal, which Jordan modified to just be syntactic sugar for deeply nested
    function calls.</p>
<h2 id="api-churn">API Churn</h2>
<p>During the first year of React, internal adoption was growing quickly but there was quite a lot of churn in the component APIs and naming conventions:</p>
<ul>
<li><code>project</code> was renamed to <code>declare</code> then to <code>structure</code> and finally to <code>render</code>.</li>
<li><code>Componentize</code> was renamed to <code>createComponent</code> and finally to <code>createClass</code>.</li>
</ul>
<p>As the project was about to be open sourced, <a href="https://twitter.com/leeb">Lee Byron</a> sat down with Jordan
    Walke, Tom Occhino and Sebastian Markbåge in order to refactor, reimplement, and rename one of React's most beloved
    features – the lifecycle API. Lee <a href="https://gist.github.com/vjeux/f2b015d230cc1ab18ed1df30550495ed">came up
        with a well-designed API</a> that is still in place today.</p>
<ul>
<li>Concepts
<ul>
<li>component - a ReactComponent instance</li>
<li>state - internal state to a component</li>
<li>props - external state to a component</li>
<li>markup - the stringy HTML-ish stuff components generate</li>
<li>DOM - the document and elements within the document</li>
</ul></li>
<li>Actions
<ul>
<li>mount - to put a component into a DOM</li>
<li>initialize - to prepare a component for rendering</li>
<li>update - a transition of state (and props) resulting a render.</li>
<li>render - a side-effect-free process to get the representation (markup) of a component.</li>
<li>validate - make assertions about something created and provided</li>
<li>destroy - opposite of initialize</li>
</ul></li>
<li>Operands
<ul>
<li>create - make a new thing</li>
<li>get - get an existing thing</li>
<li>set - merge into existing</li>
<li>replace - replace existing</li>
<li>receive - respond to new data</li>
<li>force - skip checks to do action</li>
</ul></li>
<li>Notifications
<ul>
<li>shouldObjectAction</li>
<li>objectWillAction</li>
<li>objectDidAction</li>
</ul></li>
</ul>
<h2 id="instagram">Instagram</h2>
<p>In 2012, Instagram got acquired by Facebook. <a href="https://twitter.com/floydophone">Pete Hunt</a>, who was working on Facebook photos and videos at the time, joined their newly formed web team. He wanted to build their website completely in React, which was in stark contrast with the incremental adoption model that had been used at Facebook.</p>
<p>To make this happen, React had to be decoupled from Facebook's infrastructure, since Instagram didn't use any of it.
    This project acted as a forcing function to do the work needed to open source React. In the process, Pete also
    discovered and promoted a little project called webpack. He also implemented the <code>renderToString</code>
    primitive which was needed to do server-side rendering.</p>
<p>As we started to prepare for the open source launch, <a href="https://twitter.com/miekd">Maykel Loomans</a>, a designer on Instagram, made a mock of what the website could look like. The header ended up defining the visual identity of React: its logo and the electric blue color!</p>
<center>
<a target="_blank" href="../images/blog/react-50k-mock-full.jpg"><img src="../images/blog/react-50k-mock.jpg" width="400" height="410" alt="React website mock" /></a>
</center>
<p>In its earliest days, React benefited tremendously from feedback, ideas, and technical contributions of early adopters and collaborators all over the company. While it might look like an overnight success in hindsight, the story of React is actually a great example of how new ideas often need to go through several rounds of refinement, iteration, and course correction over a long period of time before reaching their full potential.</p>
<p>React's approach to building user interfaces with functional programming principles has changed the way we do things
    in just a few short years. It goes without saying, but React would be nothing without the amazing open source
    community that's built up around it!</p>
</body></html>
