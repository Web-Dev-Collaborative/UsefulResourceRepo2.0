(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(31),o=n.n(i),c=n(22),s=n(17),l=(n(44),n(13)),u=(n(45),n(19)),p=n(64),d=(n(260),n(146)),m=n(4),f=n.n(m),g=n(15),h=n(8),v=n(9),b=n(10),y=n(12),E=n(3),O=(n(120),n(72)),w=n(6),x=n(46),j=n(2),S=n(75);function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var A=function(e){Object(b.a)(n,e);var t=C(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){if(!this.props.auth.redirectUser&&this.props.location){var e="".concat(this.props.location.pathname).concat(this.props.location.search);"/logout"!==e&&this.props.redirectUser(e)}}},{key:"render",value:function(){var e=this.props.organization;if(e&&e.subscription&&"active"!==e.subscription.status&&"trialing"!==e.subscription.status){var t="".concat(this.props.location.pathname);if("trialed"===e.subscription.status&&"/tickets/submit"!==t&&"/organizations/trialed"!==t)return r.a.createElement(x.a,{to:"/organizations/trialed"});if("/organizations/settings"!==t&&"/tickets/submit"!==t&&"/organizations/trialed"!==t)return r.a.createElement(x.a,{to:"/organizations/settings#billing"})}return r.a.createElement(r.a.Fragment,null,this.props.isAuth?this.props.children:r.a.createElement(x.a,{to:{pathname:this.props.location.search.includes("?url=")?"/signup":"/login",state:{from:this.props.auth.redirectUser?this.props.auth.redirectUser:"/sitemaps"}}}))}}]),n}(a.Component);var k=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{isAuth:!e.firebase.auth.isEmpty})},{redirectUser:S.e})(A)),R=n(7),D=n(5),I=n.n(D),T=(n(1452),n(296)),P=n(20),N=n(43),L=n(145),F=n(83),z=n(970),M=n.n(z);function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function U(){var e=Object(w.a)(["\n  display: inline-flex;\n  align-items: center;\n  font-size: 18px !important;\n  margin: auto;\n  background: transparent !important;\n  &.light {\n    color: black !important;\n    margin-left: 12px;\n  }\n  &.dark {\n    color: white !important;\n  }\n  .anticon {\n    display: inline-flex;\n    align-items: center;\n    line-height: unset;\n  }\n"]);return U=function(){return e},e}var W=Object(R.a)(u.a)(U()),_=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),V=function(e){Object(b.a)(n,e);var t=B(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleClick,n=e.style,a=e.sitemap;return r.a.createElement(W,{className:"no-border ".concat(n.logo," menu-button ").concat(a.id&&"sitemap"),onClick:t},"light"===n.logo&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"menu",style:{marginRight:12},title:"light"===n.logo?"Open Sidebar":"Collapse Sidebar"}),a.id&&r.a.createElement(c.b,{to:"/",style:{display:"flex",height:20,marginLeft:6}},r.a.createElement("img",{src:M.a,alt:"",style:{width:22}}))),"dark"===n.logo&&r.a.createElement(_,{type:"icon-menu-unfold"}))}}]),n}(a.Component),G=Object(x.g)(V);function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Y=function(e){Object(b.a)(n,e);var t=H(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleClick=function(){var t=e.props,n=t.browser,a=t.sitemap;n.lessThan.large||a.id?e.props.toggleDrawer():e.props.toggleMenu()},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.sitemap;return r.a.createElement(G,{handleClick:this.handleClick,style:t,sitemap:n})}}]),n}(a.Component),X=Object(s.b)(function(e){return e},{toggleMenu:F.f,toggleDrawer:F.e})(Y),Z=n(32),K=(n(114),n(52)),Q=(n(97),n(56)),q=(n(121),n(66)),J=(n(98),n(24)),$=n(39);function ee(){var e=Object(w.a)(["\n  &.upgrade-button { \n    color: white !important;\n    background: #00A7E1 !important;\n    font-size: 0.95rem;\n    font-weight: 500 !important;\n   }\n"]);return ee=function(){return e},e}function te(){var e=Object(w.a)(["\n  text-align: center !important;\n  width: 100%;\n  color: white !important;\n"]);return te=function(){return e},e}function ne(){var e=Object(w.a)(["\n  box-shadow: none !important;\n  margin: 4px 0px !important;\n  padding: 0px 12px !important;\n  &:hover {\n    background-color: #e6f7ff !important;\n  }\n"]);return ne=function(){return e},e}function ae(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function re(){var e=Object(w.a)(["\n  margin-right: 12px !important;\n  right: 0px;\n  padding: 12px 0px;\n  position: absolute;\n  color: #b0b0b0;\n  font-size: 12px !important;\n"]);return re=function(){return e},e}function ie(){var e=Object(w.a)(["\n  margin: 0px 32px;\n  margin-left: 0px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return ie=function(){return e},e}function oe(){var e=Object(w.a)(["\n  margin: auto !important;\n  margin-left: 10px !important;\n  margin-right: 10px !important;\n  min-width: 24px !important;\n  min-height: 24px !important;\n  max-width: 24px !important;\n  max-height: 24px !important;\n  letter-spacing: -0.1em;\n  font-weight: 500;\n  span {\n    margin-left: -1px;\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(w.a)(["\n  display: flex;\n  line-height: 36px !important;\n"]);return ce=function(){return e},e}function se(){var e=Object(w.a)(["\n  box-shadow: none !important;\n  margin: 4px 0px !important;\n  padding: 2px 0px !important;\n  &:hover {\n    background-color: aliceblue !important;\n  }\n  font-size: 0.95rem !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem !important;\n  span {\n      color: #5B6670 !important;\n  }\n  &:hover {\n    .anticon {\n      color: #00A7E1;\n    }\n    span {\n        color: #051C2C !important;\n    }\n  }\n  &:nth-child(2) {\n    border-top: 1px solid #e8e8e8;\n  }\n"]);return se=function(){return e},e}function le(){var e=Object(w.a)(["\n  background: white !important;\n  border-right: 0px !important;\n  border-bottom: 1px solid #e8e8e8;\n  border-radius: 5px;\n  "]);return le=function(){return e},e}var ue=Object(R.a)(J.a)(le()),pe=Object(R.a)(J.a.Item)(se()),de=Object(R.a)("span")(ce()),me=Object(R.a)(Q.a)(oe()),fe=R.a.span(ie()),ge=Object(R.a)(l.a)(re()),he=function(e){Object(b.a)(n,e);var t=ae(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(ue,{inlineIndent:0,theme:"light",mode:"inline",selectable:!1},Oe(Object(j.a)({},this.props)),Ee(Object(j.a)({},this.props)),we(Object(j.a)({},this.props)))}}]),n}(a.Component),ve=Object(R.a)(J.a.Item)(ne()),be=Object(R.a)(u.a)(te()),ye=Object(R.a)(c.b)(ee()),Ee=function(e){var t=e.organizations;return I.a.isEmpty(t)?r.a.createElement(ve,{key:"upgrade",style:{padding:0}},r.a.createElement(be,{type:"primary"},r.a.createElement(ye,{to:"/organizations/new",className:"no-transition upgrade-button"},"Upgrade"))):null},Oe=function(e){var t=e.user,n=e.organization,a=e.onAccountClick;return r.a.createElement(pe,{className:"no-transition",key:t.id,onClick:a},r.a.createElement(de,null,r.a.createElement(me,{size:"small",src:Object($.a)({user:t})}),r.a.createElement(fe,null,"Personal Account"),!n.id&&r.a.createElement(ge,{type:"check"})))},we=function(e){var t=e.organization,n=e.organizations,a=e.onAccountClick;return I.a.isEmpty(n)||n.error?null:n.map(function(e){return r.a.createElement(pe,{className:"no-transition",key:e.id,onClick:a},r.a.createElement(de,null,r.a.createElement(fe,{style:{marginLeft:18,marginRight:t.id===e.id?32:18}},e.name),t.id===e.id&&r.a.createElement(ge,{type:"check"})))}).sort(function(e,n){return n.key===t.id?1:-1})};function xe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var je=function(e){Object(b.a)(n,e);var t=xe(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).switchAccount=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,r=a.organization,i=a.sitemap,n.key!==r.id){t.next=3;break}return t.abrupt("return",!1);case 3:e.props.switchAccount(n.key,i.id?null:e.props.history);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(he,Object.assign({onAccountClick:this.switchAccount},this.props))}}]),n}(a.Component),Se=Object(x.g)(Object(s.b)(function(e){return e},{switchAccount:S.g})(je)),Ce=n(65),Ae=(n(454),n(257)),ke=(n(238),n(155)),Re=n(23),De=(n(191),n(119)),Ie=(n(168),n(96)),Te=n(286),Pe=n.n(Te);function Ne(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Le(){var e=Object(w.a)(["\n&:hover {\n    text-decoration: underline !important;\n}\n"]);return Le=function(){return e},e}function Fe(){var e=Object(w.a)(["\nwidth: 100%;\nborder-radius: 9px !important;\nmargin-bottom: 6px !important;\nwhite-space: pre-wrap;\n\n.ant-card-actions {\n    padding: 0px 24px;\n    border-bottom-left-radius: 9px !important;\n    border-bottom-right-radius: 9px !important;\n    li {\n        width: unset !important;\n        padding-right: 18px;\n        border-right: none !important;\n        a {\n            font-weight: 500;\n            color: #00A7E1 !important;\n            &.dismiss {\n                color: #9E9E9E !important;\n                font-weight: 400 !important;\n            }\n        }\n    &:hover {\n            a {\n                color: #00A7E1 !important;\n                &.dismiss {\n                    color: #323e48 !important;\n                }\n            }\n        }\n    }\n}\n"]);return Fe=function(){return e},e}function ze(){var e=Object(w.a)(["\nheight: unset !important;\nmin-height: unset !important;\n"]);return ze=function(){return e},e}function Me(){var e=Object(w.a)(["\nwidth: 432px;\nmax-height: 600px;\noverflow-y: scroll;\npadding: 12px 0px;\nbox-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;\nborder-radius: 5px !important;\n"]);return Me=function(){return e},e}var Be=Object(R.a)(J.a)(Me()),Ue=Object(R.a)(J.a.Item)(ze()),We=Object(R.a)(Ie.a)(Fe()),_e=Object(R.a)(c.b)(Le()),Ve=function(e){Object(b.a)(n,e);var t=Ne(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(Be,null,r.a.createElement("div",{style:{textAlign:"center",padding:"12px 0px",marginBottom:9}},r.a.createElement(l.a,{type:"bell",style:{display:"inline-block",marginRight:12,verticalAlign:"middle"}}),r.a.createElement("h3",{style:{display:"inline-block",verticalAlign:"middle",marginBottom:0}},"Notifications")),Ge(this.props))}}]),n}(a.Component),Ge=function(e){var t=e.user,n=e.notifications,a=e.toggleDropdown;if(I.a.isEmpty(n))return r.a.createElement("div",{style:{padding:24}},r.a.createElement(De.a,{image:De.a.PRESENTED_IMAGE_SIMPLE,description:"Your notifications live here"}));var i=[];return n.forEach(function(e){i.push(r.a.createElement(Ue,{key:e.timestamp},r.a.createElement(We,{actions:[r.a.createElement(_e,{to:"/organizations/new",onClick:a,style:{fontSize:14},className:"ignore-react-onclickoutside"},"View Plans"),r.a.createElement("a",{className:"dismiss ignore-react-onclickoutside",onClick:Object(g.a)(f.a.mark(function n(){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ex.firestore.doc("notifications/".concat(t.id)).set({data:Object(Re.a)({},e.timestamp,Ex.firestore.FieldValue.delete())},{merge:!0});case 2:case"end":return n.stop()}},n)}))},"Dismiss")]},r.a.createElement("h4",{style:{marginBottom:12,fontWeight:600}},e.title),e.messaging.map(function(t,n){return t.includes("{{domain}}")&&(t=Pe()(t,"{{domain}}",function(){return r.a.createElement("a",{key:n,target:"_blank",rel:"noopener noreferrer",href:"https://".concat(e.domain)},e.domain)})),t.includes("{{plan}}")&&(t=Pe()(t,"{{plan}} plan",function(){return r.a.createElement(c.b,{to:"/organizations/new/confirm#".concat(e.plan.toLowerCase()),key:n},"".concat(e.plan," plan"))})),t.includes("{{percent}}")&&(t=t.replace("{{percent}}",e.percent)),r.a.createElement("p",{key:n},t)}),e.sitemap&&r.a.createElement(ke.a,{percent:e.percent,style:{marginTop:6}}))))}),i},He=Ve;function Ye(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Xe=function(e){Object(b.a)(n,e);var t=Ye(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(He,this.props)}}]),n}(a.Component);function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Ke(){var e=Object(w.a)(["\nmargin-left: -6px;\nmargin-right: 16px;\n.anticon {\n    color: #5c6671;\n    font-size: 20px;\n    vertical-align: middle;\n}\n&:hover {\n  .anticon {\n    color: #00A7E1;\n  }\n}\n"]);return Ke=function(){return e},e}function Qe(){var e=Object(w.a)(["\n.ant-badge-dot {\n  height: 10px;\n  width: 10px;\n}\n.ant-badge-count {\n    min-width: 16px;\n    min-height: 16px;\n    height: 16px;\n    width: 16px;\n    padding: 0px 5px;\n    font-size: 10px;\n    line-height: 15px;\n}\n&:hover {\n    cursor: pointer;\n    .anticon {\n        color: #00A7E1;\n    }\n}\n"]);return Qe=function(){return e},e}var qe=Object(R.a)(Ae.a)(Qe()),Je=Object(R.a)(u.a)(Ke()),$e=function(e){Object(b.a)(n,e);var t=Ze(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.notifications,n=e.toggleDropdown,a=e.visible;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{overlay:r.a.createElement(Xe,this.props),placement:"bottomRight",trigger:["click"],align:{offset:[0,17]},onClick:n,visible:a,onVisibleChange:this.props.onVisibleChange},r.a.createElement(qe,{offset:[-24,8],count:t.length,overflowCount:9},r.a.createElement(Je,{className:"no-border",icon:"bell"}))))}}]),n}(a.Component),et=n(255);function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var nt=function(e){Object(b.a)(n,e);var t=tt(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onVisibleChange=function(t){t&&window.dataLayer.push({event:"opened_notifications",notificationsCount:e.props.notifications.length})},e.toggleDropdown=function(){e.props.toggleSitemapNotificationsDropdown(!e.props.showing)},e.handleClickOutside=function(){e.props.showing&&e.toggleDropdown()},e}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.notifications;if(t.sitemap.loaded&&!e.sitemap.loaded&&1===n.length){(new Date).getTime()-n[0].timestamp<6e4&&(this.toggleDropdown(),window.dataLayer.push({event:"automatically_opened_notifications",notificationsCount:this.props.notifications.length}))}}},{key:"render",value:function(){return r.a.createElement($e,Object.assign({},this.props,{toggleDropdown:this.toggleDropdown,visible:this.props.showing,onVisibleChange:this.onVisibleChange}))}}]),n}(a.Component),at=function(e){var t=e.firestore,n=e.user;if(!n.id)return[];if(!t.data.notifications)return[];if(!t.data.notifications[n.id])return[];var a=t.data.notifications[n.id].data;if(!a)return[];var r=Object.keys(a).map(function(e){return Object(j.a)({timestamp:e},a[e])});return I.a.filter(r,function(e){if(window.location.href.includes(n.id))return e.sitemap===n.id})},rt=Object(x.g)(Object(Z.d)(Object(Ce.firestoreConnect)(function(e,t){var n=t.getState().user;return n.id?[{collection:"notifications",doc:n.id}]:[]}),Object(s.b)(function(e){return Object(j.a)({},e,{notifications:at(e),showing:e.sitemap.ui.NotificationsDropdown.showing})},{toggleSitemapNotificationsDropdown:P.eb}))(Object(et.a)(nt)));function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function ot(){var e=Object(w.a)(["\nfont-weight: 500;\nmargin-left: 3px;\nborder: 1px solid #00A7E1;\ncolor: #00A7E1;\n&:hover {\n  color: white;\n  border: 1px solid #00A7E1;\n  background: #00A7E1;\n}\n"]);return ot=function(){return e},e}function ct(){var e=Object(w.a)(["\n    font-size: 16px !important;\n    vertical-align: -0.25em;\n  }\n"]);return ct=function(){return e},e}function st(){var e=Object(w.a)(["\n  margin-right: 8px !important;\n  letter-spacing: -0.1em;\n  font-weight: 500;\n  @media (max-width: 768px) {\n    margin-right: 2px !important;\n  }\n  span {\n    margin-left: -1px;\n  }\n"]);return st=function(){return e},e}function lt(){var e=Object(w.a)(["\n  display: inline-flex;\n  align-items: center;\n"]);return lt=function(){return e},e}function ut(){var e=Object(w.a)(["\n  margin: 4px 0px !important;\n  line-height: 26px !important;\n  font-size: 0.95rem !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem !important;\n  color: #5B6670 !important;\n  span {\n      color: #5B6670 !important;\n  }\n  &:hover {\n    background: transparent !important;\n    .anticon {\n      color: #00A7E1;\n    }\n    color: #051C2C !important;\n    span {\n        color: #051C2C !important;\n    }\n  }\n"]);return ut=function(){return e},e}function pt(){var e=Object(w.a)(["\n  margin-top: 12px !important;\n  padding-top: 0px !important;\n  padding-bottom: 2px !important;\n  min-width: 200px;\n  max-width: 200px;\n"]);return pt=function(){return e},e}var dt=Object(R.a)(J.a)(pt()),mt=Object(R.a)(J.a.Item)(ut()),ft=Object(R.a)(q.a)(lt()),gt=Object(R.a)(Q.a)(st()),ht=Object(R.a)(l.a)(ct()),vt=Object(R.a)(u.a)(ot()),bt=function(e){Object(b.a)(n,e);var t=it(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.organization,n=e.user,a=e.logUserOut,i=!!t.id;if(!n.id)return r.a.createElement(vt,null,r.a.createElement(c.b,{to:"/signup"},"Sign Up"));return r.a.createElement(r.a.Fragment,null,r.a.createElement(rt,null),r.a.createElement(K.a,{placement:"bottom",title:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"".concat(n.firstName," ").concat(n.lastName?n.lastName:"")),r.a.createElement("div",null,n.email)),mouseEnterDelay:.5,visible:!1},r.a.createElement(ft,{overlay:r.a.createElement(dt,null,r.a.createElement(Se,null),i&&r.a.createElement(mt,{key:"organization-settings"},r.a.createElement(c.b,{to:"/organizations/settings"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"setting",style:{marginRight:8}}),"Organization Settings"))),i&&r.a.createElement(J.a.Divider,null),r.a.createElement(mt,{key:"profile"},r.a.createElement(c.b,{to:"/profile"},r.a.createElement("span",null,"Profile & Settings"))),r.a.createElement(mt,{id:"logout",onClick:a,key:"logout"},"Log Out")),trigger:["click"],placement:"bottomRight"},r.a.createElement("a",{id:"profile-dropdown",className:"ant-dropdown-link",style:{color:"#5c6671"}},r.a.createElement(gt,{src:Object($.a)({user:n})}),r.a.createElement(ht,{type:"down"})))))}}]),n}(a.Component);function yt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Et=function(e){Object(b.a)(n,e);var t=yt(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.firebase,n=e.history,a=e.logOut,i=Object(j.a)({},t.auth,t.profile);return r.a.createElement(bt,Object.assign({user:i,showOrganizationSettingsModal:F.d,logUserOut:function(){a(n)}},this.props))}}]),n}(a.Component),Ot=Object(x.g)(Object(Z.d)(Object(Ce.firestoreConnect)(function(e,t){var n=t.getState(),a=n.user,r=n.organization,i=[];return a.token&&(a.token.team&&i.push({collection:"teams",doc:a.token.team}),r.id&&i.push({collection:"organizations",doc:r.id})),i}),Object(s.b)(function(e){return Object(j.a)({},e,{listeners:Object(j.a)({},e.listeners,{team:e.firestore.data.teams})})},{showOrganizationSettingsModal:F.d,logOut:S.d}))(Et)),wt=(n(127),n(68));function xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function jt(){var e=Object(w.a)(["\n  height: 1.5em !important;\n  background: #dadce0;\n  top: unset !important;\n  display: inline-flex !important;\n  align-items: center !important;\n"]);return jt=function(){return e},e}var St=Object(R.a)(wt.a)(jt()),Ct=function(e){Object(b.a)(n,e);var t=xt(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(St,{style:this.props.style,type:"vertical"}))}}]),n}(r.a.Component),At=(n(82),n(41)),kt=(n(170),n(110)),Rt=n(34),Dt=n.n(Rt);function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Tt(){var e=Object(w.a)(["\ntop: -12px !important;\nleft: -3px !important;\ninput {\n    width: 325px;\n    max-height: 32px !important;\n    background: transparent !important;\n    box-shadow: none !important;\n    padding-left: 32px !important;\n    padding-right: 36px !important;\n    padding-top: 5px !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02em !important;\n    font-size: 1rem !important;\n\n    &:hover {\n      background: transparent !important;     \n      box-shadow: none !important; \n    }\n\n}\n.ant-input-suffix {\n    &:hover {\n        cursor: pointer;\n        path { fill: #00A7E1; }\n    }\n}\n"]);return Tt=function(){return e},e}function Pt(){var e=Object(w.a)(["\n\n  &.sitemap-loading { \n    height: 62px;\n    top: 2px !important;\n      .ant-dropdown-trigger {\n        display: none !important;\n      }\n  }\n\n  line-height: 62px;\n  min-width: 168px;\n\n  button:first-of-type {\n    max-width: 300px !important;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    border: none;\n    float: left;\n    top: 3px;\n    left: -11px;\n    height: 32px !important;\n    padding-left: 15px !important;\n    padding-right: 12px !important;\n    background: transparent !important;\n    color: #000000a6 !important\n    font-weight: 500 !important;\n    letter-spacing: -.02em !important;\n    font-size: 1rem !important;\n  }\n\n    &.owner {\n\n    .ant-dropdown-trigger {\n      visibility: visible;\n      .anticon {\n        visibility: visible;\n      }\n    }\n\n      button:first-of-type {\n        &:hover {\n          cursor: text;\n          border: 1px solid lightgrey;\n          border-radius: 3px;\n          left: -3px;\n          padding-left: 6px !important;\n          padding-right: 6px !important;\n          margin-right: 13px !important;\n      }\n    }\n  }\n\n  .ant-dropdown-trigger {\n    visibility: hidden;\n      .anticon {\n        visibility: hidden;\n    }\n  }\n\n  .ant-dropdown-trigger {\n      border: none;\n      top: -10px !important;\n      margin-left: -16px !important;\n      .anticon {\n          font-size: 1.05rem !important;\n      }\n      &:hover {\n        background: transparent;\n      }\n  }\n"]);return Pt=function(){return e},e}var Nt=kt.a.confirm,Lt=Object(R.a)(q.a.Button)(Pt()),Ft=Object(R.a)(At.a)(Tt()),zt=function(e){Object(b.a)(n,e);var t=It(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={renaming:null},e.renameInput=null,e.handleRename=function(){var t=Object(g.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.setState({renaming:null}),a=e.props.sitemap,n&&""!==n&&!(n.length>50)){t.next=4;break}return t.abrupt("return");case 4:if(n===a.name){t.next=9;break}return Ex.dispatch(Object(P.j)(n)),t.next=8,Ex.firestore.doc("sitemaps/".concat(a.id)).set({name:n.trim()},{merge:!0}).catch(function(e){console.error(e)});case 8:Dt.a.getInstance().logEvent("RENAMED_SITEMAP",{id:a.id});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.showConfirm=function(){var t=e.props,n=t.deleteUserSitemap,a=t.history;Nt({title:"Are you sure you wish to delete this sitemap?",content:"This sitemap will be deleted immediately and forever.",okText:"Delete",width:450,onOk:function(){n(),a.push("/sitemaps")},className:"delete-sitemap-confirmation centered-modal ".concat(!e.props.ui.sideMenu.collapsed&&"sidemenu-showing"),icon:"exclamation-circle"})},e}return Object(v.a)(n,[{key:"handleClick",value:function(e){var t=e.id,n=e.name,a=e.domain;this.props.showEditSitemapModal({id:t,name:n,domain:a})}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.isOwner,i=t.inUserSitemap,o=t.history;return r.a.createElement("div",{style:{display:"inline-flex",minWidth:168}},!this.state.renaming&&r.a.createElement(Lt,{onClick:function(){a&&(e.setState({renaming:n.name}),setTimeout(function(){return e.renameInput.focus()},50))},overlay:r.a.createElement(J.a,null,r.a.createElement(J.a.Item,{key:"collapse",onClick:function(){return a&&e.handleClick(n)},style:{textAlign:"center"}},"Edit"),r.a.createElement(J.a.Item,{key:"expand",onClick:function(){if(a){if(i)return e.showConfirm();e.props.archiveSitemaps({sitemapId:n.id}),o.push("/sitemaps")}},style:{color:"#E7004C",textAlign:"center"}},i?"Delete":"Archive")),icon:r.a.createElement(l.a,{type:"down"}),trigger:["click"],className:"".concat(a?"owner":""," ").concat(n.loaded?"":"sitemap-loading"),placement:"bottomCenter"},n.loaded&&r.a.createElement(Q.a,{size:"small",className:"project-avatar",src:Object($.b)(n),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,n)),!1},style:{marginLeft:-3,marginRight:9,top:"full"===n.editLevel?-1:-2}}),r.a.createElement("span",{style:{display:"unset"}},n.name)),r.a.createElement(Ft,{id:"rename-project",value:this.state.renaming,style:{display:this.state.renaming?"block":"none"},ref:function(t){return e.renameInput=t},maxLength:50,onClick:function(t){return e.renameInput.focus()},onChange:function(t){return e.setState({renaming:""===t.target.value?" ":t.target.value})},onBlur:function(t){return e.handleRename(e.state.renaming)},placeholder:this.state.renaming,onPressEnter:function(t){return e.handleRename(e.state.renaming)},prefix:r.a.createElement(Q.a,{size:"small",className:"project-avatar",src:Object($.b)(n),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,n)),!1},style:{marginLeft:-8,marginRight:9,top:"full"===n.editLevel?0:-2}}),suffix:r.a.createElement(l.a,{type:"check",style:{color:"rgba(0,0,0,.45)"},onClick:function(){return e.handleRename(e.state.renaming)}})}))}}]),n}(a.Component),Mt=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id,isOwner:"full"===e.sitemap.editLevel})},{showEditSitemapModal:F.c,deleteUserSitemap:N.f,archiveSitemaps:N.a})(zt)),Bt=n(129),Ut=n(379),Wt=n(33),_t=n(300),Vt=n(373);function Gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Ht(){var e=Object(w.a)(["\n  div {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n"]);return Ht=function(){return e},e}function Yt(){var e=Object(w.a)(["\n  width: 100%;\n  z-index: 3;\n  > div:first-of-type {\n    line-height: 19px;\n    border: none !important;\n    box-shadow: none !important;\n    border-radius: 4px;\n    min-height: 42px !important;\n    &:hover,\n    &:active,\n    &:focus {\n      border: none !important;\n      box-shadow: none !important;\n      cursor: text;\n    }\n    .anticon {\n      color: #5B6670 !important;\n    }\n    div[class$='placeholder'],\n    div[class$='-singleValue'] {\n      padding-left: 28px !important;\n      color: #5B6670 !important;\n      font-weight: 400 !important;\n      letter-spacing: -.02em !important;\n      font-size: 0.95rem !important;\n    }\n    div:last-child {\n      &:hover {\n        cursor: pointer !important;\n      }\n    }\n  }\n"]);return Yt=function(){return e},e}var Xt=Object(_t.b)({ignoreCase:!0,stringify:function(e){return e.label}}),Zt=Object(R.a)(_t.c)(Yt()),Kt=Object(R.a)("div")(Ht()),Qt=function(e){Object(b.a)(n,e);var t=Gt(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.options,n=e.children,a=(0,e.getValue)(),i=Object(Ut.a)(a,1)[0],o=60*t.indexOf(i);return r.a.createElement(Vt.a,{height:40*n.length<300?40*n.length:300,itemCount:n.length,itemSize:40,initialScrollOffset:o,arrowRender:null},function(e){var t=e.index,a=e.style;return r.a.createElement(Kt,{style:a},n[t])})}}]),n}(a.PureComponent),qt={optionsLoaded:!1,options:[],isLoading:!1},Jt=function(e){Object(b.a)(n,e);var t=Gt(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=qt,e.handleLoadOptions=function(t,n){var a=e.props.sitemap,r=a.root,i=a.section;e.setState({optionsLoaded:!0,options:r?$t(i||r):[],isLoading:!1})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.browser,i=n.data.nodes;if(!n.id)return null;return a.greaterThan.medium&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt,{className:"page-search-container",menuPortalTarget:document.body,styles:{control:function(e,t){return Object(j.a)({},e,{backgroundColor:"#f1f1f1"})},menuPortal:function(e){return Object(j.a)({},e,{marginTop:-3,paddingTop:6})},menu:function(e,t){return Object(j.a)({},e,{cursor:"pointer",border:"none",boxShadow:"-2px 0 8px rgba(0, 0, 0, 0.05) !important"})},input:function(e,t){return Object(j.a)({},e,{color:"#5c6671",marginLeft:-1})},option:function(e,t){return Object(j.a)({},e,{cursor:"pointer",backgroundColor:"transparent",fontSize:"0.9rem",fontWeight:500,color:t.isSelected||t.isFocused?"#051C2C":"#5B6670","&:hover":{color:"#051C2C",backgroundColor:"aliceblue",cursor:"pointer"}})}},components:{MenuList:Qt,DropdownIndicator:null,ValueContainer:function(e){var t=e.children,n=Object(Bt.a)(e,["children"]);return _t.a.ValueContainer&&r.a.createElement(_t.a.ValueContainer,n,!!t&&r.a.createElement(l.a,{type:"search",style:{marginLeft:6,marginRight:8}}),t)}},autoload:!1,options:this.state.options,isLoading:this.state.isLoading,placeholder:"Go to any page...",filterOption:Xt,onFocus:function(){e.state.optionsLoaded||(e.setState({isLoading:!0}),e.handleLoadOptions())},onMenuOpen:function(){e.setState({menuIsOpen:!0})},onMenuClose:function(){e.setState({menuIsOpen:!1})},onBlur:function(){return e.setState(qt)},onChange:function(t){if(t){e.setState({menuIsOpen:!1}),Dt.a.getInstance().logEvent("SITEMAP_SEARCHED_GO_TO_PAGE");var a=I.a.find(i,function(e){return e.id===t.key});if(!a){var r=en(n.root,t.key,[]);if("undefined"!==typeof r)return Object(Wt.e)(r,{searched:!0})}a&&(a.searched=!0,Object(Wt.k)(a))}},isClearable:!0,value:null}))}}]),n}(a.PureComponent);function $t(e){var t=[];return function e(n){n&&n.name&&(n.overflow||t.push({key:n.id,value:n.id,label:n.name}),n.children&&n.children.forEach(e),n._children&&n._children.forEach(e))}(e),t}var en=function e(t,n,a){if(t.id===n)return a.push(t),a;if(!t.children&&!t._children)return!1;for(var r=t.children?t.children:t._children,i=0;i<r.length;i++){a.push(t);var o=e(r[i],n,a);if(o)return o;a.pop()}};function tn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var nn=function(e){Object(b.a)(n,e);var t=tn(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(Jt,this.props)}}]),n}(a.Component),an=Object(s.b)(function(e){return e})(nn),rn=(n(143),n(53)),on=n(35);function cn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function sn(){var e=Object(w.a)(["\n    position: absolute;\n    z-index: 2;\n    left: 130px;\n    bottom: -2px;\n    font-weight: 500;\n    background: transparent !important;\n    label {\n        height: 31px !important;\n        padding: 0px 3px;\n        margin-right: 15px !important;\n        border: none !important;\n        border-radius: 0px !important;\n        background: transparent !important;\n        outline: none !important;\n        box-shadow: none !important;\n        &:hover {\n            color: black !important;\n            border-color: #00A7E1 !important;\n            span {\n                color: black !important;\n            }\n        }\n        &.ant-radio-button-wrapper-checked {\n        span {\n            color: #00A7E1 !important;\n        }\n        border-bottom: 3px solid #00A7E1 !important;\n        box-shadow: none !important;\n        outline: none !important;\n            ::before {\n                background-color: transparent !important;\n                box-shadow: none !important;\n                outline: none !important;\n            }\n        }\n        ::before {\n            background-color: transparent !important;\n            box-shadow: none !important;\n            outline: none !important;\n        }\n        span {\n            font-size: 0.925rem !important;\n        }\n    }\n"]);return sn=function(){return e},e}var ln=Object(R.a)(rn.a.Group)(sn()),un=function(e){Object(b.a)(n,e);var t=cn(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={selected:"pages"},e.onChange=function(t){var n=e.props,a=n.sitemap,r=n.flows,i=n.history,o=t.target.value;if(e.setState({selected:o}),"pages"===o&&(e.props.switchProductsTab("pages"),e.props.clearSelectedFlow(),i.push("/s/".concat(a.id))),"user-flows"===o)if(e.props.switchProductsTab("user-flows"),I.a.isEmpty(r.byId))i.push("/s/".concat(a.id,"/flows"));else{var c=I.a.sortBy(I()(r.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value(),"updatedAt").reverse();i.push("/s/".concat(a.id,"/flows/").concat(c[0].id))}},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.props.inUserFlows&&(this.props.switchProductsTab("user-flows"),this.setState({selected:"user-flows"}))}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.sitemap,a=t.flows,r=t.history;if(!this.props.inUserFlows&&e.inUserFlows){if("pages"!==this.state.selected&&this.setState({selected:"pages"}),"pages"===n.ui.ProductsTab)return;this.props.switchProductsTab("pages"),this.props.clearSelectedFlow()}if(this.props.inUserFlows&&!e.inUserFlows){if("user-flows"!==this.state.selected&&this.setState({selected:"user-flows"}),"user-flows"===n.ui.ProductsTab)return;if(this.props.switchProductsTab("user-flows"),I.a.isEmpty(a.byId))r.push("/s/".concat(n.id,"/flows"));else{var i=I.a.sortBy(I()(a.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value(),"updatedAt").reverse();r.push("/s/".concat(n.id,"/flows/").concat(i[0].id))}}}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ln,{defaultValue:"pages",value:this.props.sitemap.ui.ProductsTab,onChange:this.onChange},r.a.createElement(rn.a.Button,{value:"pages"},"Pages"),r.a.createElement(rn.a.Button,{value:"user-flows"},"User Flows")))}}]),n}(a.Component),pn=Object(x.g)(Object(s.b)(function(e,t){return Object(j.a)({},e,{inUserFlows:t.location.pathname.includes("/flows")})},function(e){return Object(Z.b)({switchProductsTab:P.X,clearSelectedFlow:on.e},e)})(un)),dn=(n(196),n(128)),mn=(n(101),n(57)),fn=(n(87),n(26)),gn=(n(79),n(25)),hn=(n(894),n(297)),vn=(n(274),n(175)),bn=n(99);function yn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function En(){var e=Object(w.a)(["\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border: 1px solid lightgrey !important;\n  background: white;\n  width: 30px !important;\n  height: 30px !important;\n  .anticon-plus {\n      color: grey;\n      font-size: 16px;\n      vertical-align: unset;\n  }\n"]);return En=function(){return e},e}function On(){var e=Object(w.a)(["\n  margin-right: 0.5rem !important;\n  margin-left: -1.35rem !important;\n\n  .ant-badge-dot {\n    width: 10px;\n    height: 10px;\n    left: 18px;\n    top: 5px;\n  }\n\n  &:hover {\n    .ant-avatar {\n        cursor: pointer;\n        border: 1px solid #00A7E1 !important;\n        path {\n            fill: #00A7E1;\n        }\n    }\n  }\n\n"]);return On=function(){return e},e}var wn=vn.a.Paragraph,xn=Object(R.a)(Ae.a)(On()),jn=Object(R.a)(Q.a)(En()),Sn=At.a.TextArea,Cn=function(e){Object(b.a)(n,e);var t=yn(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleSubmit=function(t){return t.preventDefault(),!e.state.value||I.a.isEmpty(I.a.trim(e.state.value))?e.setState({value:""}):(e.props.saveToFirestore(e.state.value),e.setState({value:""}))},e.handleChange=function(t){e.setState({value:t.target.value})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(Object(g.a)(f.a.mark(function n(){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:e.scrollComponent&&(clearInterval(t),e.scrollComponent.scrollToBottom());case 1:case"end":return n.stop()}},n)})),250)}},{key:"componentDidUpdate",value:function(e){this.props.messages.count>e.messages.count&&this.scrollComponent&&this.scrollComponent.scrollToBottom()}},{key:"render",value:function(){var e=this,t=this.props,n=t.inUserSitemap,a=t.messages,i=t.fullViewing,o=t.ChatDrawer,c=t.handleToggleChat,s=t.handleShowShareModal,u=this.state.value;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{lineHeight:"64px",display:"flex"}},r.a.createElement(xn,{count:An(this.props),dot:!0,onClick:function(){return n?s():c(!o.showing)}},r.a.createElement(jn,{icon:r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(l.a,{type:"plus"}),!n&&r.a.createElement("svg",{style:{width:"1em",height:"1em",verticalAlign:"text-top",overflow:"hidden"},viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("path",{d:"M725.333333 298.666667V213.333333a85.426667 85.426667 0 0 0-85.333333-85.333333H85.333333A85.426667 85.426667 0 0 0 0 213.333333v341.333334a85.426667 85.426667 0 0 0 85.333333 85.333333v106.666667a21.333333 21.333333 0 0 0 36.42 15.086666L243.5 640H256V426.666667c0-70.58 57.42-128 128-128zM170.666667 426.666667a42.666667 42.666667 0 1 1 42.666666-42.666667 42.666667 42.666667 0 0 1-42.666666 42.666667z m768-85.333334H384a85.426667 85.426667 0 0 0-85.333333 85.333334v341.333333a85.426667 85.426667 0 0 0 85.333333 85.333333h204.5l79.08 79.086667a21.333333 21.333333 0 0 0 30.173333 0L776.833333 853.333333H938.666667a85.426667 85.426667 0 0 0 85.333333-85.333333V426.666667a85.426667 85.426667 0 0 0-85.333333-85.333334zM512 640a42.666667 42.666667 0 1 1 42.666667-42.666667 42.666667 42.666667 0 0 1-42.666667 42.666667z m170.666667 0a42.666667 42.666667 0 1 1 42.666666-42.666667 42.666667 42.666667 0 0 1-42.666666 42.666667z m170.666666 0a42.666667 42.666667 0 1 1 42.666667-42.666667 42.666667 42.666667 0 0 1-42.666667 42.666667z",fill:"#a9afb4"})))}))),r.a.createElement(dn.a,{className:"sitemap-chat-drawer",width:300,title:r.a.createElement(K.a,{placement:"bottom",title:r.a.createElement("div",null,i.map(function(e,t){return r.a.createElement("div",{key:e.id},"".concat(e.firstName," ").concat(e.lastName))})),arrowPointAtCenter:!0,overlayClassName:"chat-tooltip",align:{offset:[15,15]}},r.a.createElement(wn,{style:{marginBottom:0},ellipsis:!0},"(".concat(i.length,") "," "," ").concat(i.map(function(e,t){return" ".concat(e.firstName," ").concat(e.lastName)})))),placement:"right",closable:!0,mask:!1,onClose:function(){return c(!1)},visible:o.showing},r.a.createElement("div",null,r.a.createElement(bn.Scrollbars,{ref:function(t){e.scrollComponent=t},autoHide:!0,style:{height:"calc(100vh - 210px)"}},a.data.length>0&&r.a.createElement(kn,{messages:a.data})),r.a.createElement(hn.a,{content:r.a.createElement(Rn,{onChange:this.handleChange,onSubmit:this.handleSubmit,value:u})}))))}}]),n}(a.Component),An=function(e){var t=e.ChatDrawer,n=e.messages;return t.showing?0:0===n.data.length?0:n.data[n.data.length-1].timestamp>t.lastOpen?1:0},kn=function(e){var t=e.messages;return r.a.createElement(fn.a,{style:{paddingTop:18},dataSource:t,itemLayout:"horizontal",renderItem:function(e){return r.a.createElement(hn.a,Object.assign({},e,{style:{paddingLeft:12,paddingRight:18}}))}})},Rn=function(e){var t=e.onChange,n=e.onSubmit,a=e.value;return r.a.createElement("div",null,r.a.createElement(gn.a.Item,{className:"chat-input"},r.a.createElement(Sn,{autosize:{minRows:2,maxRows:4},onChange:t,onPressEnter:n,placeholder:"Type here to chat",value:a})))},Dn=Cn,In=n(51),Tn=n(251);function Pn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}In.extend(Tn);var Nn=function(e){Object(b.a)(n,e);var t=Pn(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleToggleChat=function(t){e.props.toggleChatDrawer(t)},e.handleShowShareModal=function(){e.props.showShareSitemapModal()},e.saveToFirestore=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props,r=a.sitemap,i=a.user,o=Ex.firestore,t.next=4,o.doc("sitemaps/".concat(r.id,"/data/chat")).set({messages:o.FieldValue.arrayUnion({uid:i.id,firstName:i.firstName,lastName:i.lastName,text:n,timestamp:new Date})},{merge:!0}).catch(function(e){console.log(e)});case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inUserSitemap,n=e.fullViewing,a=e.sitemap,i=e.chatData;return r.a.createElement(Dn,{inUserSitemap:t,messages:i,fullViewing:n,handleShowShareModal:this.handleShowShareModal,handleToggleChat:this.handleToggleChat,ChatDrawer:a.ui.ChatDrawer,saveToFirestore:this.saveToFirestore})}}]),n}(a.Component),Ln=function(e){var t=e.firestore,n=e.sitemap;if(!t.data.sitemaps)return{data:[],count:0};if(!t.data.sitemaps[n.id])return{data:[],count:0};if(!t.data.sitemaps[n.id].data)return{data:[],count:0};var a=t.data.sitemaps[n.id].data.chat;if(!a||a&&!a.messages)return{data:[],count:0};for(var i=I.a.cloneDeep(a.messages),o=[],c=0;c<i.length;c++){var s=i[c],l={uid:s.uid,author:"".concat(s.firstName," ").concat(s.lastName,":"),content:[r.a.createElement("p",{key:c},s.text)],timestamp:s.timestamp.toDate(),datetime:In(s.timestamp.toDate()).fromNow()};o[o.length-1]&&o[o.length-1].uid===s.uid?(o[o.length-1].content.push(r.a.createElement("p",{key:c},s.text)),o[o.length-1].timestamp=s.timestamp.toDate(),o[o.length-1].datetime=In(s.timestamp.toDate()).fromNow()):o.push(l)}return{data:I.a.map(o,function(e){return I.a.omit(e,"uid")}),count:i.length}},Fn=Object(Z.d)(Object(Ce.firestoreConnect)(function(e,t){var n=t.getState(),a=n.sitemap,r=n.user;return a.id&&r.id?a.id===r.id?[]:a.editLevel?[{collection:"sitemaps",doc:a.id,subcollections:[{collection:"data",doc:"chat"}]}]:[]:[]}),Object(s.b)(function(e){return Object(j.a)({},e,{inUserSitemap:e.user.id===e.sitemap.id,chatData:Ln(e)})},{toggleChatDrawer:P.Y,showShareSitemapModal:P.V}))(Nn);function zn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Mn(){var e=Object(w.a)(["\n  border: 1px solid lightgrey !important;\n  margin-right: -0.75rem !important;\n  width: 30px !important;\n  height: 30px !important;\n  line-height: 30px !important;\n  &:hover {\n    cursor: pointer;\n    border-color: #00A7E1 !important;\n  }\n"]);return Mn=function(){return e},e}var Bn=Object(R.a)(Q.a)(Mn()),Un=function(e){Object(b.a)(n,e);var t=zn(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1},e.showDrawer=function(){return e.setState({visible:!0})},e.closeDrawer=function(){return e.setState({visible:!1})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.state.visible,n=this.props,a=n.viewing,i=n.fullViewing;return a?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{onClick:function(){e.state.visible?e.closeDrawer():e.showDrawer()},style:{marginRight:24,lineHeight:"64px",display:"flex"}},a.map(function(e){return r.a.createElement(Bn,{src:Object($.a)({user:e}),key:e.id})})),!I.a.isEmpty(a)&&r.a.createElement(Fn,{viewing:a,fullViewing:i}),r.a.createElement(dn.a,{className:"viewing-drawer",title:"Who's viewing",placement:"right",width:300,maskStyle:{transition:"none",animation:"none",opacity:0},onClose:this.closeDrawer,visible:t},r.a.createElement(mn.a,null,r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:a,renderItem:function(e){return r.a.createElement(fn.a.Item,{style:{padding:12,borderBottom:"1px solid #f9f9f9"}},r.a.createElement(fn.a.Item.Meta,{style:{margin:"auto"},avatar:r.a.createElement(Q.a,{src:Object($.a)({user:e})}),title:r.a.createElement("p",{style:{marginTop:6,marginBottom:0}},e.firstName," ",e.lastName)}))},locale:{emptyText:"No other people are viewing this sitemap"}})))):null}}]),n}(a.Component);function Wn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var _n=function(e){Object(b.a)(n,e);var t=Wn(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){this.props.viewing&&0===this.props.viewing.length&&e.viewing&&e.viewing.length>0&&this.props.toggleChatDrawer(!1)}},{key:"render",value:function(){var e=this.props,t=e.viewing,n=e.fullViewing,a=e.ui;return t?r.a.createElement(Un,{viewing:t,fullViewing:n,ui:a}):null}}]),n}(a.Component),Vn=function(e){if(e.user.id===e.sitemap.id)return[e.user];if(!e.firebase)return null;if(!e.firebase.data)return null;if(!e.firebase.data.sitemaps)return null;var t=e.firebase.data.sitemaps[e.sitemap.id];if(!t)return null;var n=t.viewing;return n?I.a.compact(I.a.take(Object.keys(n).map(function(e){return Object(j.a)({id:e},n[e])}).filter(function(e){return e.firstName&&e.lastName?e:null}),6)):null},Gn=function(e){if(e.user.id===e.sitemap.id)return[e.user];if(!e.firebase)return null;if(!e.firebase.data)return null;if(!e.firebase.data.sitemaps)return null;var t=e.firebase.data.sitemaps[e.sitemap.id];if(!t)return null;var n=t.viewing;return n?I.a.compact(Object.keys(n).map(function(e){return Object(j.a)({id:e},n[e])}).filter(function(e){return e.firstName&&e.lastName?e:null})):null},Hn=Object(s.b)(function(e){return Object(j.a)({},e,{viewing:Vn(e),fullViewing:Gn(e)})},{toggleChatDrawer:P.Y})(_n),Yn=(n(192),n(78)),Xn=n(369),Zn=n.n(Xn),Kn=(n(122),n(62)),Qn=(n(150),n(61)),qn=(n(116),n(73)),Jn=(n(169),n(77));function $n(){var e=Object(w.a)(["\n  font-size: 0.9rem !important;\n  font-weight: 600 !important;\n  letter-spacing: -.02rem;\n  float: right;\n  border: none !important;\n"]);return $n=function(){return e},e}function ea(){var e=Object(w.a)(['\nmargin-right: 3px !important;\n.ant-select-selection {\n  border: 1px solid #e8e8e8 !important;\n  color: #7b868c !important;\n  background: transparent !important;\n  min-width: 85px !important;\n}\n.ant-select-selection__rendered {\n    font-size: 0.85rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem;\n    color: #5B6670 !important;\n    text-transform: capitalize;\n    .ant-select-selection-selected-value {\n        &[title="User"] {\n         margin-left: 6px !important;\n      }\n    }\n  }\n']);return ea=function(){return e},e}function ta(){var e=Object(w.a)(["\n.ant-select-selection__rendered {\n    background-color: white !important;\n    line-height: 36px !important;\n    font-size: 0.85rem !important;\n    font-weight: 600 !important;\n    letter-spacing: -.02rem;\n    color: #5B6670 !important;\n      .ant-select-selection-selected-value {\n        margin-right: 0 !important;\n        padding-right: 0px !important;\n      }\n  }\n"]);return ta=function(){return e},e}function na(){var e=Object(w.a)(["\n  padding: 0px 4px !important;\n  margin-bottom: 0px !important;\n    .ant-form-item-control {\n      line-height: 36px !important;\n    }\n"]);return na=function(){return e},e}function aa(){var e=Object(w.a)(["\n  .has-error .ant-input-group-addon  {\n    color: unset !important;\n    border-color: #d9d9d9 !important;\n  }\n"]);return aa=function(){return e},e}function ra(){var e=Object(w.a)(["\n    .ant-form-explain {\n      margin-top: 9px !important;\n    }\n    .ant-row {\n      margin-bottom: 0px !important;\n    }\n    .ant-form-item-children-icon {\n        margin-right: 48px;\n    }\n    input {\n        background-color: white !important;\n        &:hover {\n            background-color: white !important;\n        }\n    }\n    .ant-input-group-addon {\n        background-color: white !important;\n    }\n"]);return ra=function(){return e},e}function ia(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function oa(){var e=Object(w.a)(["\n  max-height: 270px !important;\n  overflow-y: scroll !important;\n  border: none !important;\n  background: transparent !important;\n  .ant-list-item {\n    background: white !important;\n    border: none !important;\n    border-radius: 5px !important;\n    border: 1px solid rgba(0, 0, 0, 0.05) !important;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05) !important;\n    margin-bottom: 9px !important;\n    &.invited {\n        background: #fafafa !important;\n    }\n  }\n  .ant-list-item-meta-title,\n  .ant-list-item-meta-description {\n    font-size: 13px !important;\n    margin-bottom: 0 !important;\n  }\n  .ant-list-item-meta-avatar {\n    margin: auto 12px !important;\n  }\n  .ant-list-item-action {\n    margin-left: 24px !important;\n  }\n  .ant-list-empty-text {\n        font-size: 15px !important;\n        color: #5B6670;\n        background: white !important;\n        border: none !important;\n        border-radius: 5px !important;\n        box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05) !important;\n        margin-bottom: 9px !important;\n  }\n"]);return oa=function(){return e},e}var ca=Jn.a.Option,sa=Object(R.a)(fn.a)(oa()),la=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),ua=function(e){Object(b.a)(n,e);var t=ia(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.isUserSitemap,a=e.addSitemapCollaborator,i=e.handleCollaboratorAccessChange,o=e.removeSitemapCollaborator,c=e.needToUpgrade,s=e.showOrganizationSettingsModal,l=e.error,p=e.clearAddCollaboratorError,d=I.a.isEmpty(t.collaborators)?[]:t.collaborators;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ya,{sitemap:t,isUserSitemap:n,addSitemapCollaborator:a,needToUpgrade:c,showOrganizationSettingsModal:s,error:l,clearAddCollaboratorError:p}),r.a.createElement("h4",{style:{margin:0,marginBottom:0,paddingBottom:18,fontWeight:500}},"Collaborators"),r.a.createElement(sa,{dataSource:d,locale:{emptyText:"No collaborators have been added to this sitemap yet"},renderItem:function(e){return r.a.createElement(fn.a.Item,{style:{padding:"6px 0px"},actions:[r.a.createElement(r.a.Fragment,null,"full"===t.editLevel&&r.a.createElement(ga,{defaultValue:e.invited?"Invited":e.access,dropdownMatchSelectWidth:!1,dropdownRender:function(t){return r.a.createElement("div",{style:{textAlign:"center"}},!e.invited&&t,r.a.createElement(r.a.Fragment,null,!e.invited&&r.a.createElement(wt.a,{style:{margin:0}}),r.a.createElement(u.a,{ghost:!0,className:"no-border no-transition",style:{padding:"6px 15px",cursor:"pointer",color:"#E7004C",fontWeight:500},onClick:function(){return o(e)}},e.invited?"Uninvite":"Remove")))},onChange:function(t){return i({collaborator:e.id,access:t})}},r.a.createElement(ca,{disabled:!1,value:"comment"},"Comment"),r.a.createElement(ca,{disabled:!1,value:"edit"},"Can Edit")))]},r.a.createElement(fn.a.Item.Meta,{style:{fontSize:13},avatar:r.a.createElement(Q.a,{src:Object($.a)({user:e})}),title:r.a.createElement("a",{style:{color:e.invited&&"#7B868C"}},"".concat(e.firstName," ").concat(e.invited?"":e.lastName)),description:e.email}))}}))}}]),n}(a.Component),pa=Object(R.a)(gn.a)(ra()),da=Object(R.a)(gn.a.Item)(aa()),ma=Object(R.a)(gn.a.Item)(na()),fa=Object(R.a)(Jn.a)(ta()),ga=Object(R.a)(Jn.a)(ea()),ha=Object(R.a)(u.a)($n()),va=r.a.createElement("div",null,r.a.createElement("h4",null,"Edit Access"),r.a.createElement("ul",{style:{paddingLeft:18}},r.a.createElement("li",null,"Can add/edit/remove pages"),r.a.createElement("li",null,"Can add/reply to comments"),r.a.createElement("li",null,"Can add/remove covers"),r.a.createElement("li",null,"Can edit user flows")),r.a.createElement("h4",null,"Comment Access"),r.a.createElement("ul",{style:{paddingLeft:18}},r.a.createElement("li",null,"Can add comments"),r.a.createElement("li",null,"Can reply to comments"))),ba=function(e){Object(b.a)(n,e);var t=ia(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var n=e.props.form;n.validateFieldsAndScroll(function(t,a){var r=a.email,i=a.access;t||(e.props.addSitemapCollaborator({collaborator:{email:r,access:i}}),n.resetFields())})},e.checkEmail=function(e,t,n){t&&Object($.d)(t)?n():n("validation-error")},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.form,a=t.sitemap,i=t.isUserSitemap,o=t.error,s=t.needToUpgrade,u=n.getFieldDecorator;return s&&s.maximum?r.a.createElement("div",{style:{textAlign:"center",marginTop:24,marginBottom:9,fontSize:"0.9rem",fontWeight:600}},r.a.createElement("p",{style:{color:"#00A7E1"}},r.a.createElement(l.a,{type:"info-circle",style:{marginRight:12,fontSize:"1rem"}}),"You've hit the maximum number of collaborators allowed.")):a.editLevel?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{margin:0,fontWeight:500,display:"inline-block"}},"Invite Collaborator"),r.a.createElement(qn.a,{content:va},r.a.createElement(l.a,{type:"question-circle",style:{marginLeft:9,verticalAlign:"middle",color:"#7B868C"}})),r.a.createElement("div",{style:{padding:0,paddingTop:12,marginBottom:24}},!i&&!s&&"full"===a.editLevel&&r.a.createElement(pa,{onSubmit:this.handleSubmit,hideRequiredMark:!0,colon:!1},r.a.createElement(At.a.Group,{size:"large"},r.a.createElement(mn.a,null,r.a.createElement(Qn.a,{span:20},r.a.createElement(da,{help:null,hasFeedback:!0},u("email",{rules:[{validator:this.checkEmail,required:!0}]})(r.a.createElement(At.a,{placeholder:"Enter collaborators email address...",size:"large",type:"email",required:!0,onFocus:function(){o&&e.props.clearAddCollaboratorError()},addonAfter:r.a.createElement(ma,{help:null},u("access",{initialValue:"comment"})(r.a.createElement(fa,{showArrow:!1,dropdownAlign:{offset:[-3,3]},dropdownMatchSelectWidth:!1,style:{color:"#5B6670",textTransform:"capitalize"},dropdownClassName:"collaborator-access-select"},r.a.createElement(ca,{key:"comment",value:"comment",label:"comment"},r.a.createElement(K.a,{placement:"right",title:"Collaborator can comment",align:{offset:[10,0]},mouseEnterDelay:1},r.a.createElement("div",null,r.a.createElement(la,{type:"icon-bubble-"})))),r.a.createElement(ca,{key:"edit",value:"edit",label:"edit"},r.a.createElement(K.a,{placement:"right",title:"Collaborator can edit",align:{offset:[10,0]},mouseEnterDelay:1},r.a.createElement("div",null,r.a.createElement(l.a,{type:"edit"})))))))})))),r.a.createElement(Qn.a,{span:4},r.a.createElement(ha,{type:"primary",size:"large",onClick:I.a.debounce(this.handleSubmit,2500,{leading:!0})},"Invite")))),o&&r.a.createElement(Kn.a,{style:{textAlign:"center",marginTop:12},showIcon:!0,message:o,type:"error"})),i&&"full"===a.editLevel&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn.a,{style:{textAlign:"center"},message:r.a.createElement(c.b,{to:"/organizations/new",style:{fontWeight:500,fontSize:"0.9rem"}},"Upgrade to invite collaborators."),type:"info",showIcon:!0})),!i&&s&&"full"===a.editLevel&&r.a.createElement(Kn.a,{style:{textAlign:"center"},message:r.a.createElement(c.b,{to:"/organizations/settings#billing",style:{fontWeight:500,fontSize:"0.9rem"}},"Upgrade your subscription to add more collaborators."),type:"info",showIcon:!0}),"full"!==a.editLevel&&r.a.createElement(Kn.a,{style:{textAlign:"center"},message:r.a.createElement("span",null,"You don't have permission to add collaborators to this sitemap."),type:"info",showIcon:!0}))):null}}]),n}(r.a.Component),ya=gn.a.create({name:"add_collaborators"})(ba),Ea=Object(x.g)(ua),Oa=function(e){var t=e.sitemap.id?e.sitemap.id:e.ui.EditSitemapModal.id;if(e.sitemap.id)return e.sitemap;var n=I.a.filter(e.sitemaps.active.data,{id:t})[0];return n.editLevel="full",n},wa=function(e){if(!e.organization.id)return Sa(e);var t=Aa(e);return t?t.sitemaps&&t.sitemaps.active?t.sitemaps.active.length:0:void 0},xa=function(e){var t=Aa(e);if(t)return t.sitemaps&&t.sitemaps.archived?t.sitemaps.archived.length:0},ja=function(e){return e.user&&e.user.sitemaps&&e.user.sitemaps.collaborating?e.user.sitemaps.collaborating.length:0},Sa=function(e){return e.sitemaps.active.loaded&&e.sitemaps.active.data[0]?1:0},Ca=function(e){var t=e.sitemaps.processing;return t.csv.id?1:t.xml.id?1:t.crawl.id?1:0},Aa=function(e){if(e.firestore.data.teams){var t=e.user;if(e.firestore.data.teams[t.token.team?t.token.team:t.uid])return e.firestore.data.teams[t.token.team?t.token.team:t.uid]}},ka=function(e,t){var n=e.user,a=e.organization,r=e.firestore,i=e.sitemaps,o=i[t],c=o.loaded,s=o.retrieving,l=o.deleting;if(c&&!s&&!l&&r.data.teams&&r.data.teams[n.token.team?n.token.team:n.uid]&&r.data.teams[n.token.team?n.token.team:n.uid].sitemaps&&r.data.teams[n.token.team?n.token.team:n.uid].sitemaps[t]){if(!a.id&&0===i.active.data.length)return[n.id];var u=r.data.teams[n.token.team?n.token.team:n.uid].sitemaps[t],p=I.a.map(i[t].data,"id");return I.a.compact(I.a.difference(u,p))}};function Ra(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Da=function(e){Object(b.a)(n,e);var t=Ra(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleNewCollaborator=function(){var t=Object(g.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.collaborator,t.abrupt("return",e.props.addSitemapCollaborator({sitemap:e.props.sitemap,collaborator:a}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleCollaboratorAccessChange=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.collaborator,r=n.access,t.abrupt("return",e.props.changeSitemapCollaboratorAccess({sitemap:e.props.sitemap,collaborator:a,access:r}));case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleRemoveCollaborator=function(){var t=Object(g.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.props.removeSitemapCollaborator({sitemap:e.props.sitemap,collaborator:n}));case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.sitemap,t=this.props,n=t.organization,a=t.isUserSitemap,i=t.inOrganization,o=t.numberOfCollaborators,c=t.clearAddCollaboratorError,s=t.showOrganizationSettingsModal,l=t.error,u=(i&&n.subscription).plan,p=Ia(o,u);return r.a.createElement(Ea,{sitemap:e,isUserSitemap:a,addSitemapCollaborator:this.handleNewCollaborator,handleCollaboratorAccessChange:this.handleCollaboratorAccessChange,removeSitemapCollaborator:this.handleRemoveCollaborator,error:l,clearAddCollaboratorError:c,needToUpgrade:p,showOrganizationSettingsModal:s})}}]),n}(a.Component),Ia=function(e,t){return!t||!t.id||e>=20&&{maximum:!0}},Ta=Object(Z.d)(Object(s.b)(function(e,t){var n=Oa(e);return Object(j.a)({},e,{sitemap:n,isUserSitemap:n.id===e.user.id,inUserAccount:!e.organization.id,inOrganization:!!e.organization.id,numberOfCollaborators:n.collaborators?n.collaborators.length:0,error:e.sitemap.ui.AddCollaboratorForm.error?e.sitemap.ui.AddCollaboratorForm.error:null})},function(e){return Object(Z.b)({addSitemapCollaborator:P.d,changeSitemapCollaboratorAccess:P.i,removeSitemapCollaborator:P.G,clearAddCollaboratorError:P.k,showOrganizationSettingsModal:F.d},e)}))(Da);function Pa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Na(){var e=Object(w.a)(["\n  float: right;\n  font-size: 0.9rem !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem;\n  margin-top: -5px;\n  &:hover {\n    color: #00A7E1 !important;\n    background: #eeefef !important;\n  }\n  &:active,\n  &:focus {\n    color: #00A7E1 !important;\n  }\n  padding: 0px 9px !important;\n"]);return Na=function(){return e},e}function La(){var e=Object(w.a)(["\n  .ant-modal-content, .ant-modal-body {\n    border-radius: 6px !important;\n  }\n  .ant-modal-title {\n        button {\n          background: transparent;\n            &:hover {\n              background: transparent !important;\n            }\n        }\n  }\n  .ant-modal-header {\n    border-bottom: 1px solid #f5f5f5 !important;\n    padding: 18px 24px !important;\n    border-radius: inherit !important;\n    border-bottom-left-radius: 0px !important;\n    border-bottom-right-radius: 0px !important;\n    background: white !important;\n  }\n  .ant-message {\n    position: absolute !important;\n  }\n  .ant-modal-body {\n    background: #f9f9f9 !important;\n    padding: 18px 24px !important;\n  }\n  .ant-modal-footer {\n    border: none !important;\n    border-top: 1px solid #f5f5f5 !important;\n    padding: 16px !important;\n    background: #f9f9f9;\n  }\n  .ant-modal-close {\n    display: none !important;\n  }\n"]);return La=function(){return e},e}Yn.a.config({maxCount:1,top:48,getContainer:function(){return document.getElementsByClassName("ant-modal")[0]}});var Fa=Object(R.a)(kt.a)(La()),za=Object(R.a)(u.a)(Na()),Ma=function(e){Object(b.a)(n,e);var t=Pa(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={value:null,copied:!1},e.copyLink=function(){Zn()("".concat(window.location.href,"?usp=sharing")),Yn.a.open({content:"Link copied to clipboard.",duration:1.5,icon:r.a.createElement(l.a,{type:"link",style:{color:"#A2A9AD",marginRight:9}})})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.visible,a=e.onCancel;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:"share-sitemap",type:"primary",icon:"usergroup-add",onClick:t},"Share"),r.a.createElement(Fa,{id:"share-sitemap-modal",title:r.a.createElement(r.a.Fragment,null,r.a.createElement(za,{className:"no-border no-transition",icon:"link",onClick:this.copyLink},"Get shareable link"),r.a.createElement("span",{style:{fontWeight:500,fontSize:"1rem",letterSpacing:"-.02rem"}},"Share sitemap with others")),centered:!0,destroyOnClose:!0,wrapClassName:"share-sitemap-modal",bodyStyle:{padding:"0px 20px"},visible:n,closeIcon:null,closable:!0,onCancel:a,footer:null},r.a.createElement(Ta,null)))}}]),n}(a.Component);function Ba(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Ua=function(e){Object(b.a)(n,e);var t=Ba(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleOnClick=function(){e.props.showShareSitemapModal()},e.handleOnCancel=function(){e.setState({visible:!1}),e.props.hideShareSitemapModal()},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.sitemap,t=e.ui.ShareModal.showing;return r.a.createElement(Ma,{sitemap:e,onClick:this.handleOnClick,visible:t,onCancel:this.handleOnCancel})}}]),n}(a.Component),Wa=Object(s.b)(function(e){return Object(j.a)({},e)},function(e){return Object(Z.b)({showShareSitemapModal:P.V,hideShareSitemapModal:P.w},e)})(Ua),_a=(n(324),n(203)),Va=(n(140),n(90)),Ga=n(367),Ha=n.n(Ga),Ya=n(58);function Xa(){var e=Object(w.a)(["\n  margin: 0px !important;\n  margin-top: 6px !important;\n  padding-top: 0px !important;\n  padding-left: 0px !important;\n  padding-right: 0px !important;\n  bottom: 0px !important;\n  background: white !important;\n  &.editing {\n    background: transparent !important;\n    .textarea-with-mentions {\n        margin-top: 9px !important;\n        width: 98% !important;\n    }\n  }\n  .ant-avatar {\n    border: 2px solid #fafafa;\n    float: left;       \n    margin-right: 12px;\n   } \n   .textarea-with-mentions {\n       width: 240px !important;\n       margin-bottom: 12px;\n    }\n"]);return Xa=function(){return e},e}function Za(){var e=Object(w.a)(["\n    &:hover,\n    &:focus,\n    &:active {\n        color: red !important;\n      }\n"]);return Za=function(){return e},e}function Ka(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Qa(){var e=Object(w.a)(["\n.ant-empty-description {\n    margin-top: 12px;\n    padding-bottom: 30px;\n}\n"]);return Qa=function(){return e},e}function qa(){var e=Object(w.a)(["\npadding: 18px !important;\n.ant-result-icon {\n  display: none;\n}\n.ant-result-title {\n    display: none !important;\n}\n.ant-result-extra {\n    margin-top: 0 !important;\n}\nbutton {\n    font-weight: 600;\n    letter-spacing: -.02rem;\n  }\n"]);return qa=function(){return e},e}function Ja(){var e=Object(w.a)(["\nmargin-right: 9px;\n&:hover {\n    .anticon {\n        color: #00A7E1;\n    }\n}\n.anticon {\n    display: flex;\n    font-size: 24px !important; \n    color: #5b6670e6;\n}\n"]);return Ja=function(){return e},e}function $a(){var e=Object(w.a)(["\n  height: 30px !important;\n  padding: 0px 9px !important;\n  font-size: 14px !important;\n  font-weight: 600 !important;\n  letter-spacing: -.02rem;\n  &:not(.editing) {\n    margin-top: 3px;\n    margin-bottom: 9px;\n    &.ant-btn-primary {\n    margin-left: 45px !important;\n    } \n  }\n  &.editing {\n      margin-top: 3px !important;\n      &.ant-btn-primary {\n          margin-left: 0px !important;\n        }\n    }\n"]);return $a=function(){return e},e}function er(){var e=Object(w.a)(["\n  &.parent {\n    border: none !important;\n    .ant-comment-content-author {\n        flex-wrap: nowrap !important;\n    }\n    .ant-comment-content-author-time {\n        color: unset;\n    }\n    .ant-comment-actions {\n        margin-top: 6px;\n        margin-bottom: 0px;\n    }\n    .time {\n        &:hover {\n            color: #00A7E1 !important;\n        }\n        .anticon-down {\n            vertical-align: middle;\n            margin-left: 6px;\n            font-size: 14px;\n        }\n    }\n  }\n  &.child {\n    &:nth-of-type(3) {\n        &:not(.has-editlevel) {\n            margin-top: 9px !important;\n        }\n        margin-top: -9px !important;\n    }\n    background: white;\n    border: 1px solid #e8e8e8 !important;\n    border-radius: 5px;\n    padding: 6px 12px;\n    padding-bottom: 3px;\n    margin-left: 42px;\n    margin-bottom: 9px;\n    .ant-comment-actions {\n        margin-top: 0px;\n        margin-bottom: 0px;\n        .time {\n            font-size: 12px !important;\n        }\n    }\n  }\n   .ant-comment-inner {\n        padding: 6px 0 !important;\n   }\n  .ant-comment-content-author {\n    justify-content: space-between;\n    .ant-comment-content-author-name {\n        color: unset;\n        font-size: 14px;\n        font-weight: 500;\n    }\n  }\n"]);return er=function(){return e},e}function tr(){var e=Object(w.a)(["\nborder: 1px solid #e8e8e8;\nborder-radius: 5px;\npadding: 9px 15px;\nmargin-bottom: 12px;\n&.selected {\n    background: #f0f8ff;\n}\n.page-title {\n    border-bottom: 1px solid hsla(0, 0%, 91%, 0.5);\n    padding-bottom: 6px;\n}\n"]);return tr=function(){return e},e}function nr(){var e=Object(w.a)(["\n  padding: 18px 24px !important;\n  overflow: hidden;\n  overflow-y: scroll;\n  max-height: 455px !important;\n"]);return nr=function(){return e},e}var ar=window.$,rr=Jn.a.Option,ir=Object(R.a)(fn.a)(nr()),or=R.a.div(tr()),cr=R.a.li(er()),sr=Object(R.a)(u.a)($a()),lr=Object(R.a)(u.a)(Ja()),ur=Object(R.a)(Va.a)(qa()),pr=Object(R.a)(De.a)(Qa()),dr=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),mr=function(e){Object(b.a)(n,e);var t=Ka(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputVal:void 0,mentionsSearch:"",replyingToParent:!1,showButtons:!1,editing:void 0,showingEditDropdown:!1},e.handleClickOutside=function(){e.props.sitemap.ui.CommentsPopover.showing&&e.props.togglePopover(!1)},e}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){!this.props.sitemap.ui.CommentsPopover.showing&&e.sitemap.ui.CommentsPopover.showing&&this.setState({showingEditDropdown:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.comments,a=t.sitemap,i=t.handleSelectedPage,o=t.selectedPage,s=t.inUserSitemap,l=a.ui.CommentsPopover;return r.a.createElement(r.a.Fragment,null,r.a.createElement(qn.a,{visible:l.showing,content:r.a.createElement(r.a.Fragment,null,I.a.isEmpty(n)&&!s&&r.a.createElement(pr,{image:De.a.PRESENTED_IMAGE_SIMPLE,description:"No comments yet."}),!I.a.isEmpty(n)&&r.a.createElement(ir,{id:"comments-list",itemLayout:"horizontal",dataSource:n,onClick:function(t){return e.setState({showingEditDropdown:!1})},renderItem:function(t){var n=t.page;return r.a.createElement(or,{className:"".concat(o===n.id?"selected":""),onClick:function(t){setTimeout(function(){var t=e.state,a=t.showButtons,r=t.editing;a||r||i(n.id)},100)}},r.a.createElement("h4",{className:"page-title"},n.name),gr(e,t))},locale:{emptyText:"all"===l.view?"There are no comments on pages in this sitemap yet.":"There are no comments including you in this sitemap yet."}}),s&&a.editLevel&&r.a.createElement(ur,{icon:r.a.createElement(r.a.Fragment,null),title:"",extra:r.a.createElement(c.b,{to:"/organizations/new"},r.a.createElement(u.a,{type:"primary"},"View Paid Plans"))})),title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"title"},s&&a.editLevel?"Upgrade to add page comments":"Page Comments"),!s&&a.editLevel&&r.a.createElement(Jn.a,{className:"no-border ignore-react-onclickoutside",id:"select-comments-view",value:l.view,onSelect:this.props.changeCommentsPopoverView,defaultActiveFirstOption:!1},r.a.createElement(rr,{className:"ignore-react-onclickoutside",value:"mine"},"Including Me"),r.a.createElement(rr,{className:"ignore-react-onclickoutside",value:"all"},"All Comments"))),trigger:"click",overlayClassName:"sitemap-comments-popover ".concat(s?"in-user-sitemap":""," ignore-react-onclickoutside"),popupAlign:{offset:[0,-7]}},r.a.createElement(lr,{className:"no-border",onClick:function(){return e.props.togglePopover(!l.showing)}},r.a.createElement(dr,{type:"icon-bubble-"}))))}}]),n}(a.Component),fr=Object(R.a)(u.a)(Za()),gr=function(e,t){var n=e.state,a=e.props,i=a.user,o=a.sitemap,c=t.page,s=t.comments,p=n.editing,d=n.replyingToParent,m=n.showingEditDropdown;return s.map(function(n,f){var g=f===t.comments.length-1&&t.comments.length>1;return r.a.createElement("div",{key:n.id},r.a.createElement(cr,{className:"".concat(n.parent?"child":"parent"," ").concat(o.editLevel?"has-editlevel":"")},r.a.createElement(hn.a,{actions:[o.editLevel&&1===s.length&&(!d||d!==c.id)&&!p&&r.a.createElement(u.a,{className:"no-border ghost",style:{padding:0,marginRight:6,fontWeight:500,background:"transparent"},onClick:function(){return e.setState({showButtons:c.id,replyingToParent:c.id})}},"Reply"),n.parent&&p!==n.id&&r.a.createElement("span",{className:"time"},n.time,n.user.id===i.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:"no-border",style:{padding:0,marginLeft:18,marginRight:6,fontSize:11,fontWeight:500,background:"transparent"},onClick:function(t){t.preventDefault(),t.stopPropagation(),e.setState({editing:n.id,inputVal:n.comment.string})}},"Edit"),r.a.createElement(fr,{className:"no-border",style:{padding:0,fontSize:11,fontWeight:500,background:"transparent"},onClick:function(e){e.preventDefault(),e.stopPropagation(),Object(Ya.e)(a,c.id,n)}},"Delete")))],author:"".concat(n.user.firstName," ").concat(n.user.lastName),avatar:"removed"!==n.user.id?Object($.a)({user:n.user}):null,content:r.a.createElement(Ha.a,{properties:{target:"_blank",style:{fontWeight:"bold"}}},r.a.createElement("span",{style:{whiteSpace:"pre-wrap",fontSize:14,overflowWrap:"break-word"}},p!==n.id&&n.comment.rendered,o.editLevel&&p&&p===n.id&&r.a.createElement(vr,Object.assign({page:t.page.id,comment:n.id,$this:e},a)))),datetime:r.a.createElement(r.a.Fragment,null,!n.parent&&n.user.id===i.id&&r.a.createElement(q.a,{className:"time ignore-react-onclickoutside",visible:n.id===m,overlay:r.a.createElement(J.a,null,r.a.createElement(J.a.Item,{key:"edit",className:"ignore-react-onclickoutside",onClick:function(t){t.domEvent.preventDefault(),t.domEvent.stopPropagation(),e.setState({showingEditDropdown:!1,editing:n.id,inputVal:n.comment.string})}},"Edit"),r.a.createElement(J.a.Item,{key:"delete",className:"delete ignore-react-onclickoutside",onClick:function(t){t.domEvent.preventDefault(),t.domEvent.stopPropagation(),e.setState({showingEditDropdown:!1}),Object(Ya.e)(a,c.id,n)}},"Delete")),trigger:["click"],placement:"bottomRight",overlayClassName:"comments-parent-dropdown",onClick:function(t){t.preventDefault(),t.stopPropagation(),e.setState({showingEditDropdown:n.id})}},r.a.createElement("a",{className:"ant-dropdown-link",onClick:function(e){e.preventDefault(),e.stopPropagation()},style:{color:"unset"}},n.time,r.a.createElement(l.a,{type:"down"}))),!n.parent&&n.user.id!==i.id&&n.time)})),o.editLevel&&!p&&(g||d===c.id)&&r.a.createElement(cr,{key:"".concat(n.id,"-reply"),className:"child ".concat(o.editLevel?"has-editlevel":"")},r.a.createElement(vr,Object.assign({page:c.id,$this:e},a))))})},hr=R.a.div(Xa()),vr=function(e){Object(b.a)(n,e);var t=Ka(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){yr(".textarea-with-mentions",function(){ar(".textarea-with-mentions textarea").each(function(){Object(Ya.a)(this)}).on("input",function(){Object(Ya.a)(this)})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.$this,a=t.user,i=t.page,o=t.comment,c=n.state,s=c.editing,l=c.showButtons,u=c.inputVal,p=!u,d=!!(l&&l===i||s&&s===o);return r.a.createElement(hr,{className:"".concat(s&&s===o?"editing":"")},(!s||s!==o)&&r.a.createElement(Q.a,{src:Object($.a)({user:a})}),r.a.createElement(_a.a,{notFoundContent:r.a.createElement(r.a.Fragment,null),onSearch:function(e){return n.setState({mentionsSearch:e})},filterOption:function(e,t){return t.children},className:"textarea-with-mentions  ".concat(i," ").concat(s&&s===o?"editing":""),placeholder:s?"":"Reply...",onChange:function(e){return n.setState({inputVal:e})},value:d?u:"",onFocus:function(e){e.preventDefault(),e.stopPropagation(),s||n.setState({showButtons:i}),s&&s!==o&&n.setState({inputVal:void 0,editing:void 0,showButtons:i})}},Object(Ya.j)(this.props)),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(sr,{type:"primary",htmlType:"submit",style:{marginRight:12},className:"".concat(s&&s===o?"editing":""," ").concat(p?"disabled":""),disabled:p,onClick:function(t){t.preventDefault(),t.stopPropagation(),u&&""!==u&&(s?Object(Ya.f)(t,e.props,i,s,u):Object(Ya.g)(t,e.props,i,u)),br(n)}},s?"Save":"Reply"),r.a.createElement(sr,{className:"".concat(s&&s===o?"editing":""),onClick:function(e){e.preventDefault(),e.stopPropagation(),br(n)}},"Cancel")))}}]),n}(a.Component),br=function(e){e.setState({inputVal:"",showButtons:!1,replyingToParent:!1,editing:!1}),Object(Ya.k)()},yr=function e(t,n){ar(t).length?n():setTimeout(function(){e(t,n)},5)},Er=Object(x.g)(Object(et.a)(mr));function Or(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var wr=function(e){Object(b.a)(n,e);var t=Or(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={selectedPage:null},e.handleSelectedPage=function(t){var n=e.props.sitemap,a=n.data.nodes;if("nodes"!==n.format){e.setState({selectedPage:t});var r=I.a.find(a,function(e){return e.id===t});if(!r){var i=en(n.root,t,[]);if("undefined"!==typeof i)return Object(Wt.e)(i,{comments:!0})}r&&(r.goToComments=!0,Object(Wt.k)())}},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.sitemap,n=e.changeCommentsPopoverView;t.editLevel||n("all")}},{key:"componentDidUpdate",value:function(e){!this.props.sitemap.ui.CommentsPopover.showing&&e.sitemap.ui.CommentsPopover.showing&&this.setState({selectedPage:null})}},{key:"render",value:function(){return r.a.createElement(Er,Object.assign({togglePopover:this.props.toggleCommentsPopover,changeCommentsPopoverView:this.props.changeCommentsPopoverView,handleSelectedPage:this.handleSelectedPage,selectedPage:this.state.selectedPage},this.props))}}]),n}(a.Component),xr=Object(s.b)(function(e){var t=e.sitemap.ui.CommentsPopover;return Object(j.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id,members:e.sitemap.members,comments:t.showing?jr(e):[]})},{toggleCommentsPopover:P.Z,changeCommentsPopoverView:P.g})(wr),jr=function(e){var t=e.sitemap,n=e.user,a=t.comments,r=t.members;if(a){var i=t.ui.CommentsPopover.view,o=[];I.a.uniq(I.a.keys(a)).forEach(function(c){var s=a[c];if(s&&("mine"!==i||Sr(s,n.id))){var l,u=I.a.sortBy(Object.keys(s))[0],p=I()(s).map(function(t,n){var a=Object.assign({},t,{id:n});l=!l||n>l?n:l,a.time=Object(Ya.c)(n);var i=Object(Ya.d)(e,a.user,r);return i&&(a.user=i),n!==u&&(a.parent=u),a.comment=Object(Ya.b)(e,a.comment),a}).value(),d=t.pages[c]&&t.pages[c].name,m=I.a.orderBy(p,["id"],["asc"]);o.push({latestTimestamp:l,page:{id:c,name:d},comments:m})}});var c=I.a.orderBy(o,["latestTimestamp"],["desc"]);return c.length>0?c:void 0}},Sr=function(e,t){if(I.a.find(I.a.keys(e),function(n){var a=e[n];if(a.user===t)return n;for(var r,i=/\b[a-zA-Z0-9]{28}\b/gi;r=i.exec(a.comment);)if(r[0]===t)return n}))return!0};function Cr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Ar(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: flex-end;\nmargin-left: 24px !important;\nheight: 60px !important;\n"]);return Ar=function(){return e},e}function kr(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\nwidth: 100%;\nmax-width: 525px;\njustify-content: center;\n"]);return kr=function(){return e},e}function Rr(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: flex-start;\nmargin-right: 30px !important;\n"]);return Rr=function(){return e},e}function Dr(){var e=Object(w.a)(["\n  height: 62px !important;\n  z-index: 2;\n  // background-image: linear-gradient(to top left,#23CDCB,#00A7E1) !important;\n  min-width: 500px;\n  background-color: white;\n  border-bottom: 1px solid #eeefef;\n  padding: 0px 6px !important;\n  position: fixed !important;\n  width: 100% !important;\n  padding-left: 12px !important;\n  padding-right: 22px !important;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n\n  .menu-button {\n      margin-left: 4px !important;\n\n      &.light,\n      &.sitemap {\n          margin-left: -1px !important;\n          width: 85px;\n      }\n  }\n\n"]);return Dr=function(){return e},e}var Ir=d.a.Header,Tr=Object(R.a)(Ir)(Dr()),Pr=R.a.div(Rr()),Nr=R.a.div(kr()),Lr=R.a.div(Ar()),Fr=function(e){Object(b.a)(n,e);var t=Cr(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.ui;return t.id?r.a.createElement(Tr,{className:"sitemap-navbar ".concat(n.navbar.hidden?"hidden":"")},r.a.createElement(Pr,null,r.a.createElement(X,{style:{logo:"light"}}),r.a.createElement(Ct,{style:{margin:"0px 16px",float:"left",left:-6}}),r.a.createElement(pn,null),r.a.createElement(Mt,null)),r.a.createElement(Nr,null,"pages"===this.props.sitemap.ui.ProductsTab&&r.a.createElement(an,null)),r.a.createElement(Lr,null,t.editLevel&&r.a.createElement(Hn,null),r.a.createElement(xr,null),r.a.createElement(Wa,null),r.a.createElement(Ct,{style:{margin:"0px 16px"}}),r.a.createElement(Ot,null))):null}}]),n}(a.Component),zr=Object(x.g)(Object(s.b)(function(e,t){return Object(j.a)({},e)})(Fr));function Mr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Br(){var e=Object(w.a)(["\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n"]);return Br=function(){return e},e}var Ur=Object(R.a)(Va.a)(Br()),Wr=function(e){Object(b.a)(n,e);var t=Mr(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Rarchy - Upgrade Sitemaps Limit"}},{key:"render",value:function(){var e=this.props,t=e.inUserAccount,n=e.inOrganization,a=e.organization,i=e.importing,o=_r({inOrganization:n,organization:a});return r.a.createElement("div",{style:{display:i?"block":"flex",margin:"auto",marginTop:i?"calc(33vh - 138px)":"auto"}},r.a.createElement(Ur,{title:o.title,subTitle:o.subTitle,extra:r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/organizations/new"},r.a.createElement(u.a,{type:"primary",size:"large",key:"console",style:{fontWeight:600,fontSize:"1rem",letterSpacing:"-.02rem"}},"View Paid Plans"))),n&&r.a.createElement(c.b,{to:"/organizations/settings#billing"},r.a.createElement(u.a,{type:"primary",size:"large",key:"console",style:{fontWeight:600,fontSize:"1rem",letterSpacing:"-.02rem"}},"Modify your plan")),r.a.createElement(c.b,{to:"/sitemaps",style:{marginLeft:12}},r.a.createElement(u.a,{size:"large",key:"console",style:{fontWeight:600,fontSize:"1rem",letterSpacing:"-.02rem"}},"Go to Sitemaps")))}))}}]),n}(a.Component),_r=function(e){var t,n,a=e.inOrganization,r=e.organization;a?r.subscription.plan.id.startsWith("freelance")?t="Upgrade your plan to create unlimited sitemaps":(t="You have hit the fair use policy of unlimited sitemaps",n="Please get in touch with us if you need to create more sitemaps"):(t="You have hit the sitemaps limit in your personal account",n="Upgrade to a paid subscription to create more sitemaps");return{title:t,subtitle:n}},Vr=Object(s.b)(function(e){return Object(j.a)({},e,{inUserAccount:!e.organization.id,inOrganization:!!e.organization.id})})(Wr);function Gr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Hr(){var e=Object(w.a)(["\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n"]);return Hr=function(){return e},e}var Yr=Object(R.a)(Va.a)(Hr()),Xr=function(e){Object(b.a)(n,e);var t=Gr(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Rarchy - Sitemaps Fair Use Policy Limit"}},{key:"render",value:function(){var e=this.props.importing;return r.a.createElement("div",{style:{display:e?"block":"flex",margin:"auto",marginTop:e?"calc(33vh - 138px)":"auto"}},r.a.createElement(Yr,{title:"You have hit our sitemaps fair use policy limit",subTitle:"Please archive existing sitemaps in order to create new active sitemaps.",extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/tickets/submit"},r.a.createElement(u.a,{type:"primary",size:"large",key:"console",style:{fontWeight:600,fontSize:"1rem",letterSpacing:"-.02rem"}},"Contact Support")))}))}}]),n}(a.Component),Zr=Object(s.b)(function(e){return Object(j.a)({},e)})(Xr),Kr=n(174),Qr=n.n(Kr),qr=n(972),Jr=n.n(qr);function $r(){var e=Object(w.a)(["\n  width: 100% !important;\n  font-weight: 600 !important;\n  margin-top: 12px;\n  font-size: 1rem !important;\n"]);return $r=function(){return e},e}function ei(){var e=Object(w.a)(["\n  margin: auto !important;\n  width: 425px;\n  padding: 0px 12px !important;\n"]);return ei=function(){return e},e}var ti=Object(R.a)(gn.a)(ei()),ni=Object(R.a)(u.a)($r());function ai(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function ri(){var e=Object(w.a)(["\n  margin-bottom: 6px !important; \n  font-weight: 500; \n  color: #5B6670;\n  letter-spacing: .-02rem !important;\n"]);return ri=function(){return e},e}function ii(){var e=Object(w.a)(["\n  display: flex;\n  margin: auto;\n  height: 48px !important;\n  margin-bottom: 24px !important;\n"]);return ii=function(){return e},e}var oi=R.a.img(ii()),ci=Object(R.a)(gn.a.Item)(ri()),si=function(e){Object(b.a)(n,e);var t=ai(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(t,n){t||e.props.LogInWithEmailAndPassword(n)})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:document.title="Rarchy - Login";case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.auth.isError&&this.props.clearAuthErrors()}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props,n=t.firebase,a=t.auth,i=t.loggedIn;return n?i?r.a.createElement(x.a,{to:a.redirectUser?a.redirectUser:"/sitemaps"}):r.a.createElement(ti,{onSubmit:this.handleSubmit,className:"login-form",id:"login"},r.a.createElement(oi,{src:Qr.a}),r.a.createElement(ci,{hasFeedback:!0,help:null,label:"Email Address",colon:!1,required:!1},e("email",{rules:[{required:!0,message:"Please input your email!"}]})(r.a.createElement(At.a,{type:"email",size:"large"}))),r.a.createElement(ci,{hasFeedback:!0,help:null,colon:!1,required:!1,label:"Password"},e("password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(At.a.Password,{size:"large"}))),r.a.createElement(ci,null,r.a.createElement(c.b,{to:"/login/forgot",style:Object(Re.a)({fontSize:13,fontWeight:500},"fontSize","0.875rem")},"Forgot your password?"),a.isError&&r.a.createElement(Kn.a,{message:li(a.isError),type:"error",style:{margin:"12px 0px",fontSize:14}}),r.a.createElement(ni,{type:"primary",htmlType:"submit",loading:a.loggingIn,className:"login-form-button",size:"large"},a.loggingIn?"":"Login")),r.a.createElement("div",{style:{textAlign:"center",marginTop:18,paddingBottom:18,fontWeight:500,fontSize:"0.875rem"}},"Don't have an account yet?",r.a.createElement(c.b,{style:{marginLeft:8,fontWeight:500},to:"/signup"},"Sign up for free"))):null}}]),n}(a.Component),li=function(e){switch(e.code){case"auth/wrong-password":return"The password you've entered is invalid";case"auth/user-not-found":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"We couldn't find your account. "),r.a.createElement(c.b,{to:"/signup"},"Sign Up"));case"auth/invalid-email":return"Your email address is invalid";case"auth/user-disabled":return"Your account has been disabled. Please contact us for assistance";default:return"There was an error. Please check your details and try again"}},ui=Object(s.b)(function(e){return Object(j.a)({},e,{loggedIn:e.firebase.auth.isLoaded&&!e.firebase.profile.isEmpty})},{LogInWithEmailAndPassword:S.a,clearAuthErrors:S.b})(gn.a.create()(si));function pi(){var e=Object(w.a)(["\n  width: 100% !important;\n  font-weight: 500 !important;\n  margin-top: 12px;\n"]);return pi=function(){return e},e}function di(){var e=Object(w.a)(["\n  margin: auto !important;\n  width: 425px;\n  padding: 0px 12px !important;\n"]);return di=function(){return e},e}var mi=Object(R.a)(gn.a)(di()),fi=Object(R.a)(u.a)(pi());function gi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function hi(){var e=Object(w.a)(["\n  display: flex;\n  margin: auto;\n  height: 48px !important;\n  margin-bottom: 24px !important;\n"]);return hi=function(){return e},e}var vi=gn.a.Item,bi=R.a.img(hi()),yi=function(e){Object(b.a)(n,e);var t=gi(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={email:"",requesting:!1,requested:!1,alert:{error:null}},e.checkEmail=function(e,t,n){t&&Object($.d)(t)?n():n("validation-error")},e.handleSubmit=function(t){t.preventDefault();var n=Object(Ce.getFirebase)().auth();e.props.form.validateFieldsAndScroll(function(t,a){var i=a.email;t||(e.setState({requesting:!0,alert:{error:null}}),n.sendPasswordResetEmail(i).then(function(){e.setState({requesting:!1,requested:!0})}).catch(function(t){switch(t.code){case"auth/invalid-email":e.setState({alert:{error:"This email address isn't valid. Please try again."}});break;case"auth/user-not-found":e.setState({alert:{error:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"We couldn't find your account. "),r.a.createElement(c.b,{to:"/signup"},"Sign Up"))}});break;default:e.setState({alert:{error:r.a.createElement("span",null,"We couldn't reset your password. Please try again. ")}})}e.setState({requesting:!1})}))})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Rarchy - Forgot Password"}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{style:{overflow:"hidden",overflowY:"scroll",width:"100%",margin:"auto",display:"flex"}},r.a.createElement(mi,{onSubmit:this.handleSubmit,hideRequiredMark:!0,colon:!1,className:"forgot-password-form"},r.a.createElement(bi,{src:Qr.a}),!this.state.requested&&r.a.createElement(vi,{hasFeedback:!0,help:null,label:"Email address",style:{marginBottom:12,fontWeight:500}},e("email",{rules:[{validator:this.checkEmail,required:!0,message:"Please input your email!"}]})(r.a.createElement(At.a,{type:"email",size:"large"}))),this.state.alert.error&&r.a.createElement(Kn.a,{style:{marginTop:12},message:this.state.alert.error,type:"error"}),!this.state.requested&&r.a.createElement(vi,null,r.a.createElement(fi,{type:"primary",htmlType:"submit",loading:this.state.requesting,className:"login-form-button",size:"large"},this.state.requesting?"":"Reset Password")),this.state.requested&&r.a.createElement(Kn.a,{style:{marginTop:32,marginBottom:32,textAlign:"center"},message:"We've sent you an email with reset instructions.",type:"success"}),r.a.createElement("div",{style:{textAlign:"center",marginBottom:18}},"Go back to",r.a.createElement(c.b,{style:{marginLeft:6},to:"/login"},"rarchy.com/login"))))}}]),n}(a.Component),Ei=Object(s.b)(function(e){return e},{})(gn.a.create()(yi)),Oi=n(154),wi=n.n(Oi);function xi(){var e=Object(w.a)(["\n  width: 100% !important;\n  font-weight: 500 !important;\n  margin-top: 12px;\n"]);return xi=function(){return e},e}function ji(){var e=Object(w.a)(["\n  margin: auto !important;\n  width: 425px;\n  padding: 0px 12px !important;\n"]);return ji=function(){return e},e}var Si=Object(R.a)(gn.a)(ji()),Ci=Object(R.a)(u.a)(xi());function Ai(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function ki(){var e=Object(w.a)(["\n  display: flex;\n  margin: auto;\n  height: 48px !important;\n  margin-bottom: 24px !important;\n"]);return ki=function(){return e},e}var Ri=gn.a.Item,Di=R.a.img(ki()),Ii=function(e){Object(b.a)(n,e);var t=Ai(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={email:"",code:null,resetting:!1,reset:!1,alert:{error:null}},e.checkPassword=function(e,t,n){t&&t.length>=6?n():n("validation-error")},e.handleSubmit=function(t){t.preventDefault();var n=Object(Ce.getFirebase)().auth();e.props.form.validateFieldsAndScroll(function(t,a){var i=a.password;t||(e.setState({resetting:!0,alert:{error:null}}),n.confirmPasswordReset(e.state.code,i).then(function(){e.setState({resetting:!1,reset:!0})}).catch(function(t){switch(t.code){case"auth/expired-action-code":e.setState({alert:{error:r.a.createElement(r.a.Fragment,null," ",r.a.createElement("span",null,"Your reset code has expired. ")," ",r.a.createElement(c.b,{to:"/login/forgot"},"Try reset again."))}});break;case"auth/invalid-action-code":e.setState({alert:{error:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Your reset code is invalid. "),r.a.createElement(c.b,{to:"/login/forgot"},"Try reset again."))}});break;case"auth/user-disabled":e.setState({alert:{error:"Your account has been disabled."}});break;case"auth/user-not-found":e.setState({alert:{error:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"We couldn't find your account. "),r.a.createElement(c.b,{to:"/signup"},"Sign Up"))}});break;case"auth/weak-password":e.setState({alert:{error:"New password needs to be greater than 6 characters"}});break;default:e.setState({alert:{error:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"We couldn't reset your password. "),r.a.createElement(c.b,{to:"/login/forgot"},"Try reset again."))}})}e.setState({resetting:!1})}))})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Rarchy - Reset Password",this.props.firebase.auth.isLoaded&&!this.props.firebase.profile.isEmpty&&this.props.logOut(this.props.history);var e=wi.a.parse(this.props.location.search);this.setState({code:e.oobCode})}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement("div",{style:{overflow:"hidden",overflowY:"scroll",width:"100%",margin:"auto",display:"flex"}},r.a.createElement(Si,{onSubmit:this.handleSubmit,hideRequiredMark:!0,colon:!1},r.a.createElement(Di,{src:Qr.a}),!this.state.reset&&r.a.createElement(Ri,{help:null,label:"New Password",style:{marginBottom:12,fontWeight:500}},e("password",{rules:[{required:!0}]})(r.a.createElement(At.a.Password,{type:"password",size:"large"}))),this.state.alert.error&&r.a.createElement(Kn.a,{style:{marginTop:12},message:this.state.alert.error,type:"error"}),!this.state.reset&&r.a.createElement(Ri,null,r.a.createElement(Ci,{type:"primary",htmlType:"submit",loading:this.state.resetting,className:"login-form-button",size:"large"},this.state.resetting?"Saving":"Save New Password")),this.state.reset&&r.a.createElement(Kn.a,{style:{marginTop:32,marginBottom:32,textAlign:"center"},message:"We've reset your password successfully.",type:"success"}),r.a.createElement("div",{style:{textAlign:"center",marginBottom:18}},"Go back to",r.a.createElement(c.b,{style:{marginLeft:6},to:"/login"},"rarchy.com/login"))))}}]),n}(a.Component),Ti=Object(x.g)(Object(s.b)(function(e){return e},{logOut:S.d})(gn.a.create()(Ii)));function Pi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Ni=function(e){Object(b.a)(n,e);var t=Pi(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={mode:null,code:null},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=wi.a.parse(this.props.location.search);this.setState({mode:e.mode,code:e.oobCode})}},{key:"render",value:function(){return"resetPassword"===this.state.mode?r.a.createElement(Ti,this.props):null}}]),n}(a.Component);function Li(){var e=Object(w.a)(["\n  min-width: 100%;\n  font-weight: 600 !important;\n  margin-top: 24px !important;\n  font-size: 1rem !important;\n"]);return Li=function(){return e},e}function Fi(){var e=Object(w.a)(["\n  margin: auto !important;\n  width: 425px;\n  padding: 0px 12px !important;\n  h1 {\n    margin-bottom: 24px !important;\n    text-align: center !important;\n    font-weight: 500 !important;\n    font-size: 0.95rem !important;\n    letter-spacing: -.02rem !important;\n    color: #5B6670 !important;\n  }\n"]);return Fi=function(){return e},e}var zi=Object(R.a)(gn.a)(Fi()),Mi=Object(R.a)(u.a)(Li());function Bi(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Ui(){var e=Object(w.a)(["\n  margin-bottom: 6px !important; \n  font-weight: 500; \n  color: #5B6670;\n  letter-spacing: .-02rem !important;\n"]);return Ui=function(){return e},e}function Wi(){var e=Object(w.a)(["\n  display: flex;\n  margin: auto;\n  height: 48px !important;\n  margin-bottom: 24px !important;\n"]);return Wi=function(){return e},e}var _i=R.a.img(Wi()),Vi=Object(R.a)(gn.a.Item)(Ui()),Gi=function(e){Object(b.a)(n,e);var t=Bi(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={emailProvided:null},e.checkNames=function(e,t,n){t&&t.length>0&&t.length<50?n():n("validation-error")},e.checkEmail=function(e,t,n){t&&Object($.d)(t)?n():n("validation-error")},e.checkPassword=function(e,t,n){t&&t.length>=6?n():n("validation-error")},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(t,n){t||e.props.signUpWithEmailAndPassword(n)})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Rarchy - Sign Up";var e=wi.a.parse(this.props.location.search);this.setState({emailProvided:e.email})}},{key:"componentWillUnmount",value:function(){I.a.isEmpty(this.props.auth.isError)||this.props.clearAuthErrors()}},{key:"render",value:function(){var e=this.props,t=e.firebase,n=e.auth,a=e.form.getFieldDecorator;return t?t.auth.isLoaded&&!t.profile.isEmpty?r.a.createElement(x.a,{to:n.redirectUser?n.redirectUser:"/sitemaps"}):r.a.createElement(zi,{hideRequiredMark:!0,colon:!1,onSubmit:this.handleSubmit,className:"signup-form",id:"signup"},r.a.createElement(_i,{src:Qr.a}),r.a.createElement("h1",null,Hi(this.state,n)),r.a.createElement(mn.a,null,r.a.createElement(Qn.a,{span:12,style:{paddingLeft:0,paddingRight:12,marginBottom:0}},r.a.createElement(Vi,{hasFeedback:!0,help:null,label:"First Name",required:!0},a("firstName",{rules:[{validator:this.checkNames,required:!0,message:"Please input your first name!"}]})(r.a.createElement(At.a,{type:"text",size:"large"})))),r.a.createElement(Qn.a,{span:12,style:{paddingLeft:0,paddingRight:0,marginBottom:0}},r.a.createElement(Vi,{hasFeedback:!0,label:"Last Name",help:null},a("lastName",{rules:[{validator:this.checkNames,required:!0,message:"Please input your last name!"}]})(r.a.createElement(At.a,{type:"text",size:"large"}))))),r.a.createElement(Vi,{help:null,hasFeedback:!0,label:"Email address"},a("email",{initialValue:this.state.emailProvided,rules:[{validator:this.checkEmail,required:!0,message:"Please input your email address!"}]})(r.a.createElement(At.a,{type:"email",size:"large"}))),r.a.createElement(Vi,{help:null,label:"Password",hasFeedback:!0},a("password",{rules:[{validator:this.checkPassword,required:!0,message:"Please input your password!"}]})(r.a.createElement(At.a.Password,{size:"large"}))),r.a.createElement(Vi,null,n.isError&&r.a.createElement(Kn.a,{message:Yi(n.isError),type:"error",style:{marginTop:12,fontSize:13}}),r.a.createElement(Mi,{type:"primary",htmlType:"submit",className:"signup-form-button",size:"large",loading:n.signingUp},n.signingUp?"":"Sign up for free"),r.a.createElement("div",{style:{textAlign:"center",marginTop:12,fontWeight:500,fontSize:"0.875rem"}},"Already signed up? ",r.a.createElement(c.b,{style:{marginLeft:8,fontWeight:500},to:"/login"},"Login")))):null}}]),n}(a.Component),Hi=function(e,t){if(e.emailProvided)return"We just need a few more details to create your account";var n=t.redirectUser;return n&&n.includes("crawl")?"Sign up for a free account to start the website crawler":"Create your free account"},Yi=function(e){switch(e.code){case"auth/email-already-in-use":return"You already have an account with us. Please log in.";case"auth/wrong-password":return"The password you've entered is invalid";case"auth/user-not-found":return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"We couldn't find your account. "),r.a.createElement(c.b,{to:"/signup"},"Sign Up"));case"auth/invalid-email":return"Your email address is invalid";case"auth/user-disabled":return"Your account has been disabled. Please contact us for assistance";case"auth/weak-password":return"Your password should be at least 6 characters";default:return"There was an error. Please check your details and try again"}},Xi=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{isError:e.auth.isError})},{signUpWithEmailAndPassword:S.f,clearAuthErrors:S.b})(gn.a.create()(Gi))),Zi=function(){return r.a.createElement(Xi,{style:{overflow:"hidden",overflowY:"scroll"}})};function Ki(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Qi(){var e=Object(w.a)(["\nfont-weight: 600;\nmargin-bottom: 0;\ndisplay: inline-block;\nfont-size: 1.5rem;\nletter-spacing: -.03em;\ntext-align: center !important;\n"]);return Qi=function(){return e},e}var qi=R.a.h2(Qi()),Ji=function(e){Object(b.a)(n,e);var t=Ki(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="New Organization - Rarchy",Dt.a.getInstance().logEvent("VIEWED_NEW_ORGANIZATION_PAGE")}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderBottom:"1px solid #eeefef",padding:"24px",textAlign:"center",position:"sticky",top:0,zIndex:1,background:"white"}},r.a.createElement(qi,null,"Choose the plan that's right for you"),r.a.createElement("div",{style:{fontSize:16,marginTop:15,marginBottom:6,fontWeight:600,color:"#00A7E1"}},"Enjoy 20% off any plan for the first 3 months!")),r.a.createElement("div",{style:{background:"#f9f9f9"}},r.a.createElement("div",{id:"pricing-table"},r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"pricing-comparison-wrapper"},r.a.createElement("div",{className:"pricing-comparison-header"},r.a.createElement("div",{className:"pricing-comparison-plan"},r.a.createElement("div",{className:"card pricing-comparison-card first"},r.a.createElement("div",{className:"card-body pricing-comparison-card-body"},r.a.createElement("div",{className:"pricing-plan-header"},r.a.createElement("h6",{className:"pricing-plan-heading pricing-comparison-heading"},"Freelance"),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("div",{className:"h6-small",style:{textDecoration:"line-through",fontStyle:"italic"}},"$"),r.a.createElement("div",{className:"h6-small",style:{fontSize:28,marginRight:12,textDecoration:"line-through",fontStyle:"italic"}},"19"),r.a.createElement("div",{className:"h6-small"},"$"),r.a.createElement("div",{className:"price-number large-heading",style:{fontSize:44}},"15")),r.a.createElement("div",{className:"text-small"},"USD - billed monthly")),r.a.createElement(c.b,{to:"/organizations/new/confirm#freelance",className:"button button-outline pricing-comparison-button w-button"},"Select Plan")))),r.a.createElement("div",{className:"pricing-comparison-plan"},r.a.createElement("div",{className:"card pricing-comparison-card second"},r.a.createElement("div",{className:"card-body pricing-comparison-card-body"},r.a.createElement("div",{className:"pricing-plan-header"},r.a.createElement("h6",{className:"pricing-plan-heading pricing-comparison-heading"},"Team"),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("div",{className:"h6-small",style:{textDecoration:"line-through",fontStyle:"italic"}},"$"),r.a.createElement("div",{className:"h6-small",style:{fontSize:28,marginRight:12,textDecoration:"line-through",fontStyle:"italic"}},"59"),r.a.createElement("div",{className:"h6-small"},"$"),r.a.createElement("div",{className:"price-number large-heading",style:{fontSize:44}},"49")),r.a.createElement("div",{className:"text-small"},"USD - billed monthly")),r.a.createElement(c.b,{to:"/organizations/new/confirm#team",className:"button button-outline pricing-comparison-button w-button"},"Select Plan")))),r.a.createElement("div",{className:"pricing-comparison-plan"},r.a.createElement("div",{className:"card pricing-comparison-card third"},r.a.createElement("div",{className:"card-body pricing-comparison-card-body"},r.a.createElement("div",{className:"pricing-plan-header"},r.a.createElement("h6",{className:"pricing-plan-heading pricing-comparison-heading"},"Agency"),r.a.createElement("div",{className:"price-wrapper"},r.a.createElement("div",{className:"h6-small",style:{textDecoration:"line-through",fontStyle:"italic"}},"$"),r.a.createElement("div",{className:"h6-small",style:{fontSize:28,marginRight:12,textDecoration:"line-through",fontStyle:"italic"}},"149"),r.a.createElement("div",{className:"h6-small"},"$"),r.a.createElement("div",{className:"price-number large-heading",style:{fontSize:44}},"119")),r.a.createElement("div",{className:"text-small"},"USD - billed monthly")),r.a.createElement(c.b,{to:"/organizations/new/confirm#agency",className:"button button-outline pricing-comparison-button w-button"},"Select Plan"))))),r.a.createElement(Ie.a,{style:{marginTop:96,borderRadius:5,border:0,boxShadow:"0 1px 5px rgba(0, 0, 0, 0.05)",padding:"24px 12px"}},r.a.createElement("h6",{className:"pricing-comparison-section-title",style:{marginTop:0}},"Account"),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Users")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"1")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Teams")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"-")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Daily Backups")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"}))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Support")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Basic")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Priority")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"High Priority"))),r.a.createElement("div",{className:"pricing-comparison-row"}),r.a.createElement("h6",{className:"pricing-comparison-section-title"},"Sitemaps"),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Active Sitemaps")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Sitemap Pages")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Website Crawler")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"250 Pages")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5,000 Pages")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5,000 Pages"))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Import from CSV/XML")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5,000 Pages")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5,000 Pages")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"5,000 Pages"))),r.a.createElement("div",{className:"pricing-comparison-row pricing-comparison-row-last"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Archived Sitemaps")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"}))),r.a.createElement("h6",{className:"pricing-comparison-section-title"},"Sitemap Editor"),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Comments")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"}))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Sitemap Export")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"}))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Custom Covers")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"})),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("img",{src:"https://uploads-ssl.webflow.com/5ed772462a2a14f0657fc5c6/5ed772462a2a14d3c47fc645_Check-Circle-Green.svg",alt:"check-circle",className:"check-circle"}))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Autocapture Covers (monthly)")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"1,000")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"3,000")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"10,000"))),r.a.createElement("div",{className:"pricing-comparison-row pricing-comparison-row-last"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"Collaborators")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))),r.a.createElement("h6",{className:"pricing-comparison-section-title"},"User Flows"),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"User Flows")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))),r.a.createElement("div",{className:"pricing-comparison-row"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"User Flow Pages")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))),r.a.createElement("div",{className:"pricing-comparison-row pricing-comparison-row-last"},r.a.createElement("div",{className:"pricing-comparison-cell pricing-comparison-heading-cell"},r.a.createElement("h6",{className:"pricing-comparison-cell-heading h6-small"},"User Flow Elements")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited")),r.a.createElement("div",{className:"pricing-comparison-cell"},r.a.createElement("div",null,"Unlimited"))))))))))}}]),n}(a.Component),$i=Object(s.b)(function(e){return e})(Ji),eo=(n(336),n(157)),to=(n(198),n(124)),no=n(158);function ao(){var e=Object(w.a)(["\n  .ant-collapse-content-box {\n    padding: 18px 24px !important;\n    p:last-child {\n      margin-bottom: 0px !important;\n    }\n  }\n"]);return ao=function(){return e},e}function ro(){var e=Object(w.a)(["\n  border: 1px solid #e8e8e8 !important;\n  border-radius: 0px !important;\n  border-left: 0px !important;\n  border-right: 0px !important;\n  .ant-collapse-header {\n    background: white !important;\n    border-radius: 0px !important;\n    padding: 8px 12px 8px 18px !important;\n    .anticon {\n      right: 18px !important;\n      left: unset !important;\n    }\n  }\n  .ant-collapse-content {\n    border-top: 1px solid #e8e8e8;\n    border-radius: 0px !important;\n    // background: #fcfcfc;\n  }\n  .ant-collapse-item {\n    border-bottom: none !important;\n    border-radius: 0px !important;\n  }\n"]);return ro=function(){return e},e}function io(){var e=Object(w.a)(["\n  font-size: 15px;\n  margin: 0px;\n  margin-right: 16px;\n  color: #00A7E1 !important;\n"]);return io=function(){return e},e}function oo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function co(){var e=Object(w.a)(["\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n  button {\n    font-weight: 600;\n    letter-spacing: -.02rem;\n  }\n"]);return co=function(){return e},e}function so(){var e=Object(w.a)(["\n"]);return so=function(){return e},e}function lo(){var e=Object(w.a)(["\n  border-radius: 3px !important;\n"]);return lo=function(){return e},e}function uo(){var e=Object(w.a)(["\n  position: sticky !important;\n  top: 15px;\n  margin: auto;\n  margin-bottom: 48px !important;\n  box-shadow: 0 2px 8px #eeefef !important;\n  // border: 1px solid #e8e8e8;\n  .ant-card-body {\n    padding: 0 !important;\n  }\n  border-radius: 5px !important;\n"]);return uo=function(){return e},e}function po(){var e=Object(w.a)(["\n  margin: auto;\n  margin-bottom: 18px !important;\n  box-shadow: 0 2px 8px #eeefef !important;\n   // border: 1px solid #e8e8e8;\n  .ant-form-item {\n    padding-bottom: 0px !important;\n    margin-bottom: 18px;\n  }\n  @media (min-width: 768px) {\n    margin-bottom: 48px !important;\n  }\n  border-radius: 5px !important;\n"]);return po=function(){return e},e}function mo(){var e=Object(w.a)(["\n  display: block !important;\n  width: 100%;\n  padding: 10px 12px !important;\n  border-bottom: 1px solid #dfe3e8;\n  border-radius: 2px;\n  // selected\n  &.ant-radio-wrapper-checked {\n    background: aliceblue;\n  }\n"]);return mo=function(){return e},e}function fo(){var e=Object(w.a)(["\n  width: 100%;\n  border-top: 1px solid #dfe3e8;\n  border-left: 1px solid #dfe3e8;\n  border-right: 1px solid #dfe3e8;\n  border-radius: 2px;\n"]);return fo=function(){return e},e}function go(){var e=Object(w.a)(["\n  padding: 0px !important;\n  margin-bottom: 12px !important;\n  .ant-page-header-heading-title {\n    display: none !important;\n  }\n  font-weight: 500;\n"]);return go=function(){return e},e}function ho(){var e=Object(w.a)(["\n  margin: auto;\n  margin-bottom: 18px !important;\n  box-shadow: 0 2px 8px #eeefef !important;\n   //  border: 1px solid #e8e8e8;\n  .ant-card-body {\n    padding: 18px 24px !important;\n  }\n  border-radius: 5px !important;\n"]);return ho=function(){return e},e}function vo(){var e=Object(w.a)(["\n  padding: 18px 0px !important;\n"]);return vo=function(){return e},e}function bo(){var e=Object(w.a)(["\n  margin: auto !important;\n  margin-top: 12px !important;\n  margin-bottom: 36px !important;\n  max-width: 880px;\n  @media (min-width: 768px) {\n    margin-top: 18px !important;\n  }\n"]);return bo=function(){return e},e}var yo=window.$,Eo=Jn.a.Option,Oo=Object(R.a)(mn.a)(bo()),wo=Object(R.a)(to.a)(vo()),xo=Object(R.a)(Ie.a)(ho()),jo=Object(R.a)(to.a)(go()),So=Object(R.a)(rn.a.Group)(fo()),Co=Object(R.a)(rn.a)(mo()),Ao=Object(R.a)(Ie.a)(po()),ko=Object(R.a)(Ie.a)(uo()),Ro=Object(R.a)(At.a)(lo()),Do=Object(R.a)(Jn.a)(so()),Io=Object(R.a)(Va.a)(co()),To=function(e){Object(b.a)(a,e);var t=oo(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={stripe:{instance:null,el:null},ip:null,alert:{error:null},organization:{id:Ex.firestore.collection("organizations").doc().id},creating:null,created:null},e.onSelectedPlanChange=function(t){e.setState({plan:Object(j.a)({},e.state.plan,{name:t.target.value,id:Uo[t.target.value].stripeId})})},e.onCountrySelect=function(t){e.props.form.setFieldsValue({country:t}),e.setState({country:t})},e.handleSubmit=function(t){t.preventDefault(),e.setState({alert:{error:null}}),e.props.form.validateFieldsAndScroll(function(){var n=Object(g.a)(f.a.mark(function n(a,r){var i,o,c,s,l,u,p,d,m;return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a){n.next=40;break}return i=e.state,o=i.stripe,c=i.plan,s=i.ip,l=i.organization,r=Object(j.a)({},r,{plan:c.id,ip:s,orgId:l.id,user:e.props.firebase.auth.uid}),e.setState({creating:"Confirming plan",organization:{id:l.id,name:r.orgName}}),n.next=6,o.instance.createToken(o.el,{name:"".concat(r.firstName," ").concat(r.lastName),address_zip:r.postcode,address_country:r.country});case 6:if(!(u=n.sent).error){n.next=9;break}return n.abrupt("return",e.setState({creating:!1}));case 9:return p=Object(Ce.getFirebase)(),n.prev=10,n.next=13,p.functions().httpsCallable("stripe-createSubscription")(Object(j.a)({},u,r));case 13:if("incomplete"!==(d=n.sent).data.status){n.next=29;break}if("requires_payment_method"!==d.data.payment_intent.status){n.next=17;break}return n.abrupt("return",e.setState({creating:!1,alert:{error:"We couldn't charge your card. Please try again."}}));case 17:if("requires_action"!==d.data.payment_intent.status){n.next=29;break}return n.next=20,o.instance.handleCardPayment(d.data.payment_intent.client_secret);case 20:if(!(m=n.sent).error){n.next=25;break}return n.abrupt("return",e.setState({creating:!1,alert:{error:m.error.message}}));case 25:return window.dataLayer.push({event:"new_organization_signup",new_plan_id:c.id.split("-")[0],new_plan_amount:Uo[e.state.plan.name].welcomePrice}),Dt.a.getInstance().logEvent("NEW_SUBSCRIPTION",{id:c.id.split("-")[0],amount:Uo[e.state.plan.name].welcomePrice}),n.abrupt("return",e.setState({creating:"Creating Account"}));case 28:case 29:if("active"!==d.data.status){n.next=33;break}return window.dataLayer.push({event:"new_organization_signup",new_plan_id:c.id.split("-")[0],new_plan_amount:Uo[e.state.plan.name].welcomePrice}),Dt.a.getInstance().logEvent("NEW_SUBSCRIPTION",{id:c.id.split("-")[0],amount:Uo[e.state.plan.name].welcomePrice}),n.abrupt("return",e.setState({creating:"Creating Account"}));case 33:return n.abrupt("return",e.setState({creating:!1,alert:{error:t.message}}));case 36:return n.prev=36,n.t0=n.catch(10),console.error(n.t0),n.abrupt("return",e.setState({creating:!1,alert:{error:n.t0.message}}));case 40:case"end":return n.stop()}},n,null,[[10,36]])}));return function(e,t){return n.apply(this,arguments)}}())},e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.location.hash.substring(1)?this.props.location.hash.substring(1):"freelance";this.setState({plan:Object(j.a)({},this.state.plan,{name:t,id:Uo[t].stripeId})}),window.Stripe?this.setState({stripe:{instance:window.Stripe("pk_live_T2wjRbYp3dLV5XeXDwJNDCrh00VgeDKk9o")}}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:{instance:window.Stripe("pk_live_T2wjRbYp3dLV5XeXDwJNDCrh00VgeDKk9o")}})}),document.title="Confirm Plan - New Organization - Rarchy",Dt.a.getInstance().logEvent("VIEWED_NEW_ORGANIZATION_CONFIRM_PAGE"),Bo(this)}},{key:"componentDidUpdate",value:function(e){Mo(this,this.props,e)}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator;return this.state.plan?this.state.created?r.a.createElement("div",{style:{display:"flex",margin:"auto"}},r.a.createElement(Io,{status:"success",title:"Your new organization account has been created.",subTitle:"Thanks for waiting - we're delighted to have you on board.",extra:[r.a.createElement(u.a,{type:"primary",size:"large",key:"console",onClick:function(){return e.props.switchAccount(e.state.organization.id,e.props.history)}},"Go to ".concat(this.state.organization.name))]})):r.a.createElement(r.a.Fragment,null,r.a.createElement(bn.Scrollbars,{autoHide:!0,style:{height:"100vh",background:"#f9f9f9"}},r.a.createElement(Oo,{className:"checkout",type:"flex",justify:"center",gutter:36},r.a.createElement(Qn.a,{span:24,style:{marginBottom:12}},r.a.createElement(wo,{onBack:function(){e.props.history.push("/organizations/new")},subTitle:"Pick a plan"}),r.a.createElement("h2",{style:{borderBottom:"1px solid #e8e8e8",paddingBottom:12}},"Confirm plan")),r.a.createElement(Qn.a,{xs:24,sm:24,md:15,lg:15,xl:15},r.a.createElement(xo,{bordered:!1},r.a.createElement(jo,{subTitle:"Choose your plan"}),r.a.createElement(So,{onChange:this.onSelectedPlanChange,value:this.state.plan.name},r.a.createElement(Co,{value:"freelance"},r.a.createElement("span",{style:{marginLeft:8,fontWeight:500}},"Freelance"),r.a.createElement("span",{style:{float:"right",marginRight:8}},"$".concat(Uo.freelance.price," USD"))),r.a.createElement(Co,{value:"team"},r.a.createElement("span",{style:{marginLeft:8,fontWeight:500}},"Team"),r.a.createElement("span",{style:{float:"right",marginRight:8}},"$".concat(Uo.team.price," USD"))),r.a.createElement(Co,{value:"agency"},r.a.createElement("span",{style:{marginLeft:8,fontWeight:500}},"Agency"),r.a.createElement("span",{style:{float:"right",marginRight:8}},"$".concat(Uo.agency.price," USD"))))),r.a.createElement(Ao,{bordered:!1},r.a.createElement(gn.a,{layout:"vertical",onSubmit:this.handleSubmit},r.a.createElement(wt.a,{style:{fontSize:14,color:"#8d8d8d",marginTop:0,fontWeight:400}},"Company Details"),r.a.createElement(gn.a.Item,{hasFeedback:!0,colon:!1,required:!1,label:"Company Name",help:null},t("orgName",{rules:[{required:!0}]})(r.a.createElement(Ro,{placeholder:"Acme Corp"}))),r.a.createElement(gn.a.Item,{hasFeedback:!0,colon:!1,required:!1,label:"Company Website",help:null,style:{marginBottom:24}},t("orgWebsite",{rules:[{required:!0}]})(r.a.createElement(Ro,{placeholder:"https://www.mywebsite.com"}))),r.a.createElement(wt.a,{style:{fontSize:14,color:"#8d8d8d",fontWeight:400}},"Billing Details"),r.a.createElement(mn.a,null,r.a.createElement(Qn.a,{xs:24,sm:24,md:12,lg:12,xl:12},r.a.createElement(gn.a.Item,{hasFeedback:!0,colon:!1,required:!1,className:"half-form-left",label:"First Name",help:null},t("firstName",{initialValue:this.props.firebase.profile.firstName,rules:[{required:!0}]})(r.a.createElement(Ro,{placeholder:"Enter your first name..."})))),r.a.createElement(Qn.a,{xs:24,sm:24,md:12,lg:12,xl:12},r.a.createElement(gn.a.Item,{hasFeedback:!0,colon:!1,required:!1,className:"half-form-right",label:"Last Name",help:null},t("lastName",{initialValue:this.props.firebase.profile.lastName,rules:[{required:!0}]})(r.a.createElement(Ro,{placeholder:"Enter your last name..."}))))),r.a.createElement(gn.a.Item,{hasFeedback:!0,colon:!1,required:!1,label:"Billing Email",help:null},t("email",{initialValue:this.props.firebase.profile.email,rules:[{required:!0}]})(r.a.createElement(Ro,{placeholder:"Enter your billing email..."}))),r.a.createElement(mn.a,null,r.a.createElement(Qn.a,{xs:24,sm:24,md:12,lg:12,xl:12},r.a.createElement(gn.a.Item,{required:!1,className:"half-form-left",label:"Country",help:null},t("country",{rules:[{required:!0}]})(r.a.createElement(Do,{size:"large",showSearch:!0,placeholder:"Country",optionFilterProp:"children",onSelect:this.onCountrySelect},Wo.map(function(e){return r.a.createElement(Eo,{value:e.code,key:e.code},e.name)}))))),r.a.createElement(Qn.a,{xs:24,sm:24,md:12,lg:12,xl:12},r.a.createElement(gn.a.Item,{hasFeedback:!0,colon:!1,required:!1,className:"half-form-left",label:"Postal / Zip Code",help:null},t("postcode",{rules:[{required:!0}]})(r.a.createElement(Ro,{placeholder:"Postal / Zip Code"})))))),r.a.createElement(wt.a,{style:{fontSize:14,color:"#8d8d8d",fontWeight:400}},"Payment Details"),r.a.createElement(no.StripeProvider,{stripe:this.state.stripe.instance},r.a.createElement("div",{className:"Checkout"},r.a.createElement(no.Elements,{fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Open+Sans"}]},r.a.createElement(no.CardElement,Object.assign({onReady:function(t){return e.setState({stripe:Object(j.a)({},e.state.stripe,{el:t})})},hidePostalCode:!0},{style:{base:{color:"#000000a6",border:"1px solid lightgrey",fontSize:"14px",lineHeight:"1.75em",height:"36px",letterSpacing:"0.025em",fontFamily:"Open Sans","::placeholder":{color:"#bfbfbf"},padding:"24px"},invalid:{color:"red"}}}))))),r.a.createElement("div",{style:{marginTop:18,fontSize:13,fontStyle:"italic"}},"All major cards accepted",r.a.createElement("img",{style:{height:24,float:"right"},src:n(338)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(339)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(340)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(341)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(342)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(343)})))),r.a.createElement(Qn.a,{xs:24,sm:24,md:9,lg:9,xl:9},r.a.createElement(ko,{bordered:!1},r.a.createElement(mn.a,{style:{padding:"12px 18px"}},r.a.createElement("h3",null,"".concat(this.state.plan.name.charAt(0).toUpperCase()+this.state.plan.name.slice(1)," \n                plan")),r.a.createElement("p",{style:{marginBottom:0}},"$".concat(Uo[this.state.plan.name].price," USD - billed monthly"))),r.a.createElement(No,{defaultActiveKey:["1"]},r.a.createElement(Lo,{header:"Plan Details",key:"1"},r.a.createElement("p",null,r.a.createElement(Po,{type:"check"}),1===Uo[this.state.plan.name].users?"Just You":"".concat(Uo[this.state.plan.name].users," Users")),r.a.createElement("p",null,r.a.createElement(Po,{type:"check"}),"".concat(Uo[this.state.plan.name].teams," Teams")),r.a.createElement("p",null,r.a.createElement(Po,{type:"check"}),"".concat(Uo[this.state.plan.name].sitemaps," Sitemaps")),r.a.createElement("p",null,r.a.createElement(Po,{type:"check"}),"Unlimited User Flows"))),r.a.createElement(mn.a,{style:{padding:"12px 18px"}},r.a.createElement("span",{style:{fontWeight:500}},"Billed today:"),r.a.createElement("span",{style:{float:"right",fontWeight:500}},"$".concat(Uo[this.state.plan.name].welcomePrice.toFixed(2)," USD*")),r.a.createElement("div",{style:{textAlign:"center",marginTop:12,fontWeight:400,fontSize:13}},r.a.createElement(Po,{type:"check",style:{margin:0,marginRight:9}}),"  20% off for the first 3 months"),r.a.createElement(u.a,{type:"primary",htmlType:"submit",style:{width:"100%",marginTop:16,marginBottom:4,fontSize:15,fontWeight:500},onClick:this.handleSubmit,loading:!!this.state.creating,size:"large"},this.state.creating?this.state.creating:"Confirm plan"),!this.state.creating&&r.a.createElement("div",{style:{textAlign:"center",marginTop:12,fontWeight:400,fontSize:13}},"* plus local applicable taxes"),this.state.creating&&r.a.createElement(Kn.a,{style:{marginTop:12,textAlign:"center"},message:"Please do not leave this page."}),this.state.alert.error&&r.a.createElement(Kn.a,{style:{marginTop:12},message:this.state.alert.error,type:"error"}))))))):null}}]),a}(a.Component),Po=Object(R.a)(l.a)(io()),No=Object(R.a)(eo.a)(ro()),Lo=Object(R.a)(eo.a.Panel)(ao()),Fo=gn.a.create({name:"new_organization"})(To),zo=Object(x.g)(Object(s.b)(function(e){return e},{switchAccount:S.g})(Fo)),Mo=function(e,t,n){var a=e.state.organization.id;if(t.user&&n.user){var r=I.a.difference(t.user.organizations,n.user.organizations);I.a.isEmpty(r)||a!==r[0]||e.setState({creating:!1,created:!0})}},Bo=function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:yo.get("https://api.ipdata.co?api-key=92f5a8bf047f25865d5c22f00cdc32c0e335a7bbe8a251dbffc2b11b",function(e){var n=e.country_code,a=e.ip;t.props.form.setFieldsValue({country:n}),t.setState({ip:a,country:n})},"jsonp");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Uo={freelance:{stripeId:"freelance-19",price:19,welcomePrice:15,users:1,teams:"No",sitemaps:5,pages:"Unlimited",crawlerLimit:"250"},team:{stripeId:"team-59",price:59,welcomePrice:49,users:5,teams:5,sitemaps:"Unlimited",pages:"Unlimited",crawlerLimit:"5,000"},agency:{stripeId:"agency",price:149,welcomePrice:119,users:"Unlimited",teams:"Unlimited",sitemaps:"Unlimited",pages:"Unlimited",crawlerLimit:"5,000"}},Wo=[{name:"Afghanistan",code:"AF"},{name:"\xc5land Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"Andorra",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT",eu:!0},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE",eu:!0},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG",eu:!0},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Croatia",code:"HR",eu:!0},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY",eu:!0},{name:"Czech Republic",code:"CZ",eu:!0},{name:"Denmark",code:"DK",eu:!0},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE",eu:!0},{name:"Ethiopia",code:"ET"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI",eu:!0},{name:"France",code:"FR",eu:!0},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE",eu:!0},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR",eu:!0},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU",eu:!0},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE",eu:!0},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT",eu:!0},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Latvia",code:"LV",eu:!0},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT",eu:!0},{name:"Luxembourg",code:"LU",eu:!0},{name:"Macao",code:"MO"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT",eu:!0},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL",eu:!0},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL",eu:!0},{name:"Portugal",code:"PT",eu:!0},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO",eu:!0},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK",eu:!0},{name:"Slovenia",code:"SI",eu:!0},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE",eu:!0},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB",eu:!0},{name:"United States",code:"US"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}],_o=n(973),Vo=n.n(_o);function Go(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Ho(){var e=Object(w.a)(["\n    height: calc(100vh - 54px);\n    padding: 24px !important;\n    display: flex !important;\n    margin: auto !important;\n    h2 {\n        text-align: center;\n        margin-bottom: 12px;\n    }\n    p {\n        text-align: center;\n        max-width: 500px;\n        margin-bottom: 18px;\n    }\n    img {\n        width: 200px;\n        text-align: center;\n        margin: auto;\n        display: flex;\n        margin-top: 24px;\n        margin-bottom: 42px;\n    }\n    button {\n        font-weight: 500;\n    }\n"]);return Ho=function(){return e},e}var Yo=Object(R.a)(Qn.a)(Ho()),Xo=!1,Zo=function(e){Object(b.a)(a,e);var t=Go(a);function a(e){var n;return Object(h.a)(this,a),(n=t.call(this,e)).toggleVisible=function(){n.setState({visible:!n.state.visible})},n.handleSubmit=Object(g.a)(f.a.mark(function e(){var t,a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.organization,a=n.state.stripe,n.setState({saving:!0,error:null}),e.next=5,a.instance.createToken(a.el);case 5:if(!(r=e.sent).error){e.next=8;break}return e.abrupt("return",n.setState({saving:!1}));case 8:return e.next=10,Ex.firebase.functions().httpsCallable("stripe-createSubscription")({id:t.id,token:r}).catch(function(e){return n.setState({error:e.message,saving:!1})});case 10:if(i=e.sent){e.next=13;break}return e.abrupt("return");case 13:if("requires_payment_method"!==i.data.payment_intent.status){e.next=15;break}return e.abrupt("return",n.setState({saving:!1,error:"We couldn't charge your card. Please try again."}));case 15:if("requires_action"!==i.data.payment_intent.status){e.next=21;break}return e.next=18,a.instance.handleCardPayment(i.data.payment_intent.client_secret);case 18:if(!(o=e.sent).error){e.next=21;break}return e.abrupt("return",n.setState({saving:!1,error:o.error.message}));case 21:window.dataLayer.push({event:"new_organization_signup",new_plan_id:t.subscription.plan.id.split("-")[0],new_plan_amount:t.subscription.plan.amount/100});case 22:case"end":return e.stop()}},e)})),n.state={stripe:{instance:null,el:null},saving:!1,error:!1,visible:!1},n}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;if(window.Stripe?this.setState({stripe:{instance:window.Stripe("pk_live_T2wjRbYp3dLV5XeXDwJNDCrh00VgeDKk9o")}}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:{instance:window.Stripe("pk_live_T2wjRbYp3dLV5XeXDwJNDCrh00VgeDKk9o")}})}),!Xo){var t=this.props.organization.subscription.plan;window.dataLayer.push({event:"new_trialed_visit",new_plan_id:t.id.split("-")[0]}),Xo=!0}}},{key:"componentDidUpdate",value:function(){"active"===this.props.organization.subscription.status&&this.props.history.push("/sitemaps")}},{key:"render",value:function(){var e=this,t=this.props.organization.subscription.plan.id.split("-")[0];return r.a.createElement(mn.a,null,r.a.createElement(Yo,{span:24},r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement("h2",null,"Your free trial of our ".concat(t.charAt(0).toUpperCase()+t.slice(1)," plan is now over.")),r.a.createElement("img",{alt:"",src:Vo.a}),r.a.createElement("p",{style:{fontWeight:500,marginTop:-6}},"Enter your payment details to continue using your organization account."),r.a.createElement(qn.a,{content:r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{style:{fontSize:14,color:"#8d8d8d",fontWeight:400,marginTop:0}}," ","Add your payment details"),r.a.createElement(no.StripeProvider,{stripe:this.state.stripe.instance},r.a.createElement("div",{className:"Checkout"},r.a.createElement(no.Elements,{fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Open+Sans"}]},r.a.createElement(no.CardElement,Object.assign({onReady:function(t){return e.setState({stripe:Object(j.a)({},e.state.stripe,{el:t})})},hidePostalCode:!0},{style:{base:{color:"#000000a6",border:"1px solid lightgrey",fontSize:"14px",lineHeight:"1.75em",height:"36px",letterSpacing:"0.025em",fontFamily:"Open Sans","::placeholder":{color:"#bfbfbf"},padding:"24px"},invalid:{color:"red"}}}))))),r.a.createElement("div",{style:{marginTop:18,fontSize:13,fontStyle:"italic"}},"All major cards accepted",r.a.createElement("img",{style:{height:24,float:"right"},src:n(338)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(339)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(340)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(341)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(342)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(343)})),r.a.createElement("div",{style:{width:"100%",textAlign:"right",display:"inline-block"}},!this.state.saving&&r.a.createElement(u.a,{style:{marginTop:18,fontWeight:500,fontSize:14,marginRight:12},onClick:this.toggleVisible},"Cancel"),r.a.createElement(u.a,{loading:this.state.saving,type:"primary",style:{marginTop:18,fontWeight:500,fontSize:14},onClick:this.handleSubmit},this.state.saving?"Confirming":"Confirm Subscription")),this.state.error&&r.a.createElement(Kn.a,{style:{marginTop:12},message:this.state.error,type:"error"})),trigger:"click",visible:this.state.visible,overlayClassName:"trialed-payment-card-popover",placement:"top",onClick:function(e){e.preventDefault(),e.stopPropagation()}},r.a.createElement(u.a,{type:"primary",size:"large",style:{width:"100%"},onClick:this.toggleVisible},"Add Payment Details")))))}}]),a}(a.Component),Ko=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e)})(Zo)),Qo=n(974),qo=n.n(Qo);function Jo(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function $o(){var e=Object(w.a)(["\nmax-width: 500px;\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n"]);return $o=function(){return e},e}function ec(){var e=Object(w.a)(["\nfont-weight: 600;\nmargin-bottom: 0;\ndisplay: inline-block;\nfont-size: 1.2rem;\nletter-spacing: -.03em;\ntext-align: center !important;\n"]);return ec=function(){return e},e}var tc=R.a.h2(ec()),nc=Object(R.a)(Va.a)($o()),ac=function(e){Object(b.a)(n,e);var t=Jo(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={submitted:!1},e}return Object(v.a)(n,[{key:"componentWillUnmount",value:function(){this.setState({submitted:!1})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderBottom:"1px solid #eeefef",padding:24,textAlign:"center"}},r.a.createElement(tc,null,"Submit a Ticket")),this.state.submitted&&r.a.createElement("div",{style:{display:"flex",margin:"auto"}},r.a.createElement(nc,{title:"Your ticket has been submitted",subTitle:"We will get back to you as soon as possible",extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/sitemaps"},r.a.createElement(u.a,{size:"large",type:"primary"},r.a.createElement("span",{style:{fontSize:"0.95rem",fontWeight:600,letterSpacing:"-.02rem"}},"Back to sitemaps"))))})),!this.state.submitted&&r.a.createElement("div",{style:{padding:36,minWidth:600,margin:"auto"}},r.a.createElement(qo.a,{portalId:"2019947",formId:"5af1bfa2-e096-4240-93a8-86595a3f65f5",onFormSubmitted:function(){e.setState({submitted:!0})},loading:r.a.createElement("div",{style:{display:"flex",margin:"auto"}},r.a.createElement(O.a,{className:"center",indicator:r.a.createElement(l.a,{type:"loading",style:{width:52,height:52,fontSize:52},spin:!0})}))})))}}]),n}(a.Component),rc=n(975),ic=n.n(rc);function oc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function cc(){var e=Object(w.a)(["\ndisplay: flex;\nmargin: auto;\nmargin-bottom: 18px;\nline-height: 30px;\nspan {\n  color: white !important;\n  font-weight: 500;\n}\n"]);return cc=function(){return e},e}function sc(){var e=Object(w.a)(["\nwidth: 100% !important;\ntext-align: left !important;\npadding: 12px !important;\nline-height: 22px !important;\nheight: auto !important;\nfont-size: 0.95rem !important;\nfont-weight: 500 !important;\nletter-spacing: -.02rem !important;\ncolor: #5B6670;\n&:hover {\n  color: #323E48 !important;\n}\nborder: 0px !important;\n  box-shadow: none !important;\n  .ant-select-selection {\n    border: 0px;\n    box-shadow: none !important;\n    margin-right: 6px !important;\n}\n// border-top: 1px solid #e8e8e8 !important;\n"]);return sc=function(){return e},e}function lc(){var e=Object(w.a)(["\n  width: auto;\n  max-width: 260px !important;\n  font-size: 15px !important;\n  margin-left: 12px !important;\n  @media (max-width: 992px) {\n    margin-left: 0px !important;\n  }\n  .ant-select-selection {\n      background: transparent !important;\n      // color: white !important;\n      .ant-select-selection-selected-value {\n        // color: white !important;\n        font-weight: 500 !important;\n        letter-spacing: -.02em !important;\n        font-size: 1rem !important;\n        margin-right: 6px !important;\n      }\n      .anticon {\n      // color: white;\n      }\n  }\n"]);return lc=function(){return e},e}var uc=Jn.a.Option,pc=r.a.createElement(l.a,{type:"loading",style:{fontSize:32,height:32,width:32},spin:!0}),dc=Object(R.a)(Jn.a)(lc()),mc=Object(R.a)(u.a)(sc()),fc=Object(R.a)(u.a)(cc()),gc=function(e){Object(b.a)(n,e);var t=oc(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).mapTeams=function(t,n){if(Object.keys(n.byId).length<=0)return null;var a=I.a.map(I()(n.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value()).sort(function(e,t){return e.name.toLowerCase()>t.name.toLowerCase()?1:-1}),i=I.a.findIndex(a,function(t){return t.id===e.props.user.token.team});return a.splice(0,0,a.splice(i,1)[0]),a.map(function(e){return e.id&&e.member?r.a.createElement(uc,{key:e.id,style:{padding:"8px 12px",paddingRight:28,fontSize:"0.95rem",fontWeight:500,letterSpacing:"-.02rem"}},r.a.createElement("span",null,e.name),e.id===t&&r.a.createElement(l.a,{type:"check",style:{float:"right",marginTop:3,top:9,position:"absolute",right:9}})):null})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inUserAccount,n=e.inOrganization,a=e.organization,i=e.team,o=e.teams,s=e.loaded,u=e.onVisibleChange,p=e.onChange,d=e.user;return r.a.createElement(dc,{onDropdownVisibleChange:u,value:t||n&&a.subscription.plan.id.startsWith("freelance")?"Select a team...":i.name,onChange:p,className:"no-border teams-dropdown",menuItemSelectedIcon:r.a.createElement(l.a,{type:"plus"}),defaultActiveFirstOption:!1,notFoundContent:r.a.createElement(r.a.Fragment,null),dropdownClassName:"teams-list",dropdownRender:function(e){return r.a.createElement(r.a.Fragment,null,o.length>=1&&r.a.createElement("h4",{style:{padding:"4px 12px",margin:0,color:"#5B6670",fontSize:"0.95rem",fontWeight:600,letterSpacing:"-.02rem",background:"#fafafa"}},"Select Team"),e,(t||a.subscription.plan.id.startsWith("freelance"))&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:ic.a,style:{width:"70%",display:"flex",margin:"auto",marginTop:0,marginBottom:18}}),r.a.createElement("h4",{style:{textAlign:"center",marginBottom:18,marginTop:12,fontSize:13}},"Available in Team & Agency plans"),r.a.createElement(c.b,{to:t?"/organizations/new/confirm#team":"/organizations/settings#billing"},r.a.createElement(fc,{type:"primary"},t?"Upgrade":"Upgrade Plan"))),n&&!a.subscription.plan.id.startsWith("freelance")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{style:{margin:0,paddingBottom:0}}),r.a.createElement(c.b,{to:"/teams/new"},r.a.createElement(mc,{icon:"plus",style:{fontSize:"0.9rem"}},"Create new team"))))}},!s&&r.a.createElement(uc,{key:"loader",style:{display:"flex"}},r.a.createElement(O.a,{indicator:pc,style:{margin:"auto",height:48,paddingTop:8}})),n&&!a.subscription.plan.id.startsWith("freelance")&&this.mapTeams(d.token.team,o))}}]),n}(a.Component),hc=Object(x.g)(gc);function vc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var bc=function(e){Object(b.a)(n,e);var t=vc(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).switchTeams=function(){var t=Object(g.a)(f.a.mark(function t(n,a){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a.key!==e.props.user.token.team){t.next=2;break}return t.abrupt("return",!1);case 2:r={id:a.key,name:a.props.children},e.props.switchTeam(r.id,e.props.history);case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.ui,a=e.teams,i=a.byId[t.token.team];if(!t.token.team||!i)return null;var o=n.sideMenu.collapsed?"collapsed":null;return r.a.createElement(hc,Object.assign({team:i,teams:a,loaded:!0,onChange:this.switchTeams,collapsed:o},this.props))}}]),n}(a.Component),yc=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inUserAccount:!e.organization.id,inOrganization:!!e.organization.id})},{switchTeam:S.h})(bc)),Ec=(n(1484),n(483));function Oc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function wc(){var e=Object(w.a)(["\nmin-height: 300px !important;\n&:not(.empty) {\n  height: calc(100vh - 600px) !important;\n}\noverflow: hidden;\noverflow-y: scroll;\n&.empty {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.ant-list-item {\n  padding: 12px 6px;\n  text-align: left;\n  font-weight: 500;\n  border-bottom: 1px solid rgba(232, 232, 232, 0.66);\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n}\n"]);return wc=function(){return e},e}function xc(){var e=Object(w.a)(["\npadding: 0px 0px 12px 6px;\nborder-bottom: 1px solid rgba(232, 232, 232, 0.66);\n.ant-page-header-heading-title {\n  font-size: 17px !important;\n}\n"]);return xc=function(){return e},e}function jc(){var e=Object(w.a)(["\n    font-size: 1rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem !important;\n"]);return jc=function(){return e},e}function Sc(){var e=Object(w.a)(["\ndisplay: inline-flex !important;\n.ant-steps-icon {\n  margin-right: 6px;\n}\n&.starting-avatar {\n  .ant-steps-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n}\n&.error {\n  .ant-steps-icon {\n    color: #E7004C !important;\n  }\n  .ant-steps-item-title {\n    color: #E7004C !important;\n  }\n}\n"]);return Sc=function(){return e},e}function Cc(){var e=Object(w.a)(["\n  .ant-result-title {\n    margin-top: 36px !important;\n    margin-bottom: 36px !important;\n    color: #5B6670 !important;\n    font-size: 1rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem !important;\n  }\n  .ant-result-success {\n    padding: 0 !important;\n  }\n  .anticon-exclamation-circle {\n    color: #E7004C !important;\n  }\n"]);return Cc=function(){return e},e}function Ac(){var e=Object(w.a)([" \n  border: none !important;\n  border-radius: 5px !important;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);\n  .ant-card-body {\n    padding: 0px; \n  }\n  #processing-status {\n    display: flex;\n    align-items: center;\n    padding: 18px 24px;\n    padding-left: 30px;\n    border-bottom: 1px solid #e8e8e8;\n    justify-content: space-between;\n    #processing-status-start {\n      display: flex;\n      align-items: center;\n      a {\n        font-weight: 500 !important;\n      }\n    }\n    #processing-status-end {\n      display: flex;\n      align-items: center;\n      font-weight: 500;\n    }\n  }\n  #processing-urls {\n    margin: 24px;\n    &:not(.processed) {\n      margin-top: 12px; \n    }\n    &.processed {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    min-height: 330px;\n  }\n"]);return Ac=function(){return e},e}var kc=Ec.a.Step,Rc=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),Dc=Object(R.a)(Ie.a)(Ac()),Ic=Object(R.a)(Va.a)(Cc()),Tc=Object(R.a)(kc)(Sc()),Pc=Object(R.a)(u.a)(jc()),Nc=Object(R.a)(to.a)(xc()),Lc=Object(R.a)(fn.a)(wc()),Fc=function(e){Object(b.a)(n,e);var t=Oc(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e.componentWillUnmount=function(){e.props.processing.processed&&e.props.clearProcessedSitemap()},e}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.processing,n=e.processing;t.processed&&!n.processed&&(t.error?window.dataLayer.push({event:"created_sitemap_error",pages_count:t.urls?t.urls.length:0,sitemap_domain:t.domain}):window.dataLayer.push({event:"created_sitemap",sitemap_type:t.type,pages_count:t.urls?t.urls.length:0,sitemap_domain:t.domain}),Ex.getState().organization.id||Ex.dispatch(Object(N.s)()))}},{key:"render",value:function(){var e=this.props,t=e.processing,n=e.clearProcessedSitemap,a=t.processed,i=t.domain&&t.domain.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").split("/")[0];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Dc,{title:r.a.createElement(Ec.a,null,r.a.createElement(Tc,{className:"starting-avatar",status:a||t?"finish":"wait",title:"Starting",icon:r.a.createElement(Q.a,{src:Object($.b)(t),size:"small",onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,Object(j.a)({},t,{name:t.domain}))),!1}})}),r.a.createElement(Tc,{status:t.id&&"process"!==Mc(t)&&!a?"process":"finish",title:"crawl"===t.type?"Crawling":"Importing",icon:t.id&&"process"!==Mc(t)&&!a?r.a.createElement(l.a,{type:"loading"}):Bc(t.type)}),r.a.createElement(Tc,{status:Mc(t),title:"Creating",icon:"process"===Mc(t)?r.a.createElement(l.a,{type:"loading"}):r.a.createElement(l.a,{type:"plus-circle"})}),r.a.createElement(Tc,{className:t.error&&"error",status:a?"finish":"wait",title:t.error?"Error":"Completed",icon:r.a.createElement(l.a,{type:t.error?"exclamation-circle":"check-circle"})}))},r.a.createElement("div",{id:"processing-urls",className:"".concat(a?"processed":"")},r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Nc,{onBack:null,title:"Pages",subTitle:zc(this.state,t),extra:[t&&r.a.createElement("div",{key:"update",style:{fontWeight:500,marginTop:6}},"pages"!==this.state.screen?!a&&"".concat(t.update,"..."):"".concat(t.urls&&t.urls.length>1?t.urls.length:0," Pages"))]}),r.a.createElement(Lc,{className:(!t.urls||t.urls.length<=1)&&"empty",locale:{emptyText:r.a.createElement(De.a,{image:De.a.PRESENTED_IMAGE_SIMPLE,description:"No pages found yet"})},dataSource:t.urls&&t.urls.length>1?Object(p.a)(t.urls).sort():[],renderItem:function(e){return r.a.createElement(fn.a.Item,{key:e},e)}})),a&&!t.error&&r.a.createElement(Ic,{status:"success",title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Created visual sitemap for")," ",r.a.createElement("span",{style:{color:"#00A7E1"}},i)),extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{key:"sitemap",to:"/s/".concat(t.id),style:{marginRight:18}},r.a.createElement(Pc,{type:"primary",size:"large"},"Go to sitemap")),r.a.createElement(Pc,{size:"large",onClick:n},"Create another"))}),a&&t.error&&r.a.createElement(Ic,{title:t.error,extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(Pc,{onClick:n,type:"primary",key:"try-again",size:"large"},"Try again"))})))))}}]),n}(r.a.Component),zc=function(e,t){var n=e.screen;return!t||"pages"===n||t.error?"":t.urls?t.urls.length<=1?"(0)":"(".concat(t.urls.length,")"):"(0)"},Mc=function(e){return e.error?"wait":e.processed?"finish":e.update?e.update&&!e.update.includes("Creating")?"wait":"process":"wait"},Bc=function(e){switch(e){case"csv":return r.a.createElement(l.a,{type:"file-text"});case"xml":return r.a.createElement(Rc,{type:"icon-filexml"});case"crawl":return r.a.createElement(Rc,{type:"icon-crawler"})}},Uc=Object(x.g)(Fc),Wc=function(e,t,n){if(e.firestore){var a=e.firestore.ordered;if(a){var r=t.firestore.ordered.sitemaps_processing,i=r&&r[0],o=a.sitemaps_processing,c=o&&o[0];if(c)return JSON.stringify(c)!==JSON.stringify(i)?{sitemap:c}:void 0}}},_c=function(e){if(e.firestore){var t=e.firestore.ordered;if(t){var n=t.sitemaps_processing,a=n&&n[0];if(a)if(!a.processed)if(In((new Date).getTime()).diff(In(a.createdAt.toDate()),"seconds")>Vc(a))return!0}}},Vc=function(e){return"crawl"===e.type?504:66},Gc=function(e,t){var n=e.organization,a=e.history,r=e.tab,i=wa(e)+function(e){if(!e.organization.id)return Ca(e);var t=Aa(e);return t?t.sitemaps&&t.sitemaps.processing?t.sitemaps.processing.length:0:void 0}(e);if(!n.id)return 1===i&&(!r&&a&&a.push("/sitemaps/upgrade"),{upgrade:!0});var o=n.subscription.plan;return o.id.startsWith("freelance")?i>=5&&(!r&&a&&a.push("/sitemaps/upgrade"),{upgrade:!0}):o.id.startsWith("team")||o.id.startsWith("agency")?i>=50&&(!r&&a&&a.push("/sitemaps/limit"),{limit:!0}):(!r&&a&&a.push("/sitemaps/upgrade"),{upgrade:!0})},Hc=n(95),Yc=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,r,i,o;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.user,a=t.organization,r=t.history,i=Object(Hc.getFirestore)(),!Gc(t)){e.next=4;break}return e.abrupt("return",r.push("/sitemaps/upgrade"));case 4:if(a.id||r.push("/s/".concat(n.id,"#new")),!a.id){e.next=10;break}return e.next=8,i.collection("sitemaps").doc();case 8:o=e.sent,r.push("/s/".concat(o.id,"#new"));case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function Xc(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Zc(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: flex-end;\nmargin-left: 24px !important;\n"]);return Zc=function(){return e},e}function Kc(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: flex-start;\nmargin-right: 32px !important;\n"]);return Kc=function(){return e},e}function Qc(){var e=Object(w.a)(["\n  display: inline-flex;\n  align-items: center;\n  margin-right: 12px;\n  line-height: 1 !important;\n  padding: 0px 8px !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02em !important;\n  font-size: 0.95rem !important;\n  height: 32px;\n  span {\n    margin-left: 7px;\n    margin-right: 5px;\n  }\n  .anticon {\n    display: inline-flex;\n    align-items: center;\n    line-height: unset;\n  }\n"]);return Qc=function(){return e},e}function qc(){var e=Object(w.a)(["\n  display: inline-flex;\n  align-items: center;\n  margin-right: -4px;\n  margin-left: 10px;\n  background: transparent !important;\n  .anticon {\n    color: #5c6671;\n    font-size: 20px;\n    vertical-align: middle;\n    display: inline-flex;\n    &:hover,\n    &:focus,\n    &:active {\n      color: #00A7E1;\n    }\n  }\n"]);return qc=function(){return e},e}function Jc(){var e=Object(w.a)(["\n  padding: 10px !important;\n  &.help-support {\n    padding: 5px 9px 5px 0px !important;\n    a {\n      margin: 0 !important;\n    }\n  }\n  font-weight: 500 !important;\n  font-size: 0.95rem !important;\n  letter-spacing: -.02rem !important;\n  span {\n    color: #5B6670;\n  }\n  .anticon {\n    margin-left: 8px;\n    margin-right: 16px !important;\n  }\n  &:hover {\n    background: transparent !important;\n    span {\n      &:hover {\n       color: #1D252C !important;\n        .anticon {\n          color: #00A7E1;\n        }\n      }\n    }\n  }\n"]);return Jc=function(){return e},e}function $c(){var e=Object(w.a)(["\n  .ant-dropdown-menu-item-group-title {\n    font-size: 13px;\n    padding: 5px 18px;\n  }\n  .ant-dropdown-menu-item-group-list {\n    margin: 0px;\n  }"]);return $c=function(){return e},e}function es(){var e=Object(w.a)(["\n  height: 62px !important;\n  z-index: 2;\n  // background-image: linear-gradient(to top left,#23CDCB,#00A7E1) !important;\n  min-width: 500px;\n  overflow-x: scroll;\n  background-color: white;\n  border-bottom: 1px solid #eeefef;\n  padding: 0px 6px !important;\n  position: fixed !important;\n  padding-left: 12px !important;\n  padding-right: 22px !important;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  width: calc(100% - 244px) !important;\n  transition: width 0.1s !important;\n  &.collapsed {\n    width: 100% !important;\n    .teams-dropdown {\n      margin-left: 0px !important;\n    }\n  }\n"]);return es=function(){return e},e}var ts=d.a.Header,ns=Object(R.a)(ts)(es()),as=Object(R.a)(J.a.ItemGroup)($c()),rs=Object(R.a)(J.a.Item)(Jc()),is=Object(R.a)(u.a)(qc()),os=Object(R.a)(u.a)(Qc()),cs=R.a.div(Kc()),ss=R.a.div(Zc()),ls=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_fy6g283ufu.js"}),us=function(e){Object(b.a)(n,e);var t=Xc(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.user,i=t.browser;return n.id?null:r.a.createElement(ns,{className:ps(this.props)&&"collapsed"},r.a.createElement(cs,null,ps(this.props)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(X,{style:{logo:"light"}})),i.greaterThan.extraSmall&&r.a.createElement(yc,null)),r.a.createElement(ss,null,r.a.createElement(q.a,{overlayClassName:"new-dropdown",overlay:r.a.createElement(J.a,{style:{width:188,top:12}},r.a.createElement(as,{key:"build",title:"Build Sitemap"},r.a.createElement(rs,{key:"new",onClick:function(){return Yc(e.props)}},r.a.createElement("span",null,r.a.createElement(l.a,{type:"plus",style:{marginRight:15}}),"New Sitemap"))),r.a.createElement(as,{key:"import",title:"Import Sitemap"},r.a.createElement(rs,{key:"crawl"},r.a.createElement(c.b,{to:"/sitemaps/crawl"},r.a.createElement("span",{style:{color:"unset"}},r.a.createElement(ls,{type:"icon-crawler"}),"Crawl Website"))),r.a.createElement(rs,{key:"xml"},r.a.createElement(c.b,{to:"/sitemaps/xml"},r.a.createElement("span",null,r.a.createElement(ls,{type:"icon-filexml"}),"Import from XML"))),r.a.createElement(rs,{key:"file"},r.a.createElement(c.b,{to:"/sitemaps/csv"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"file-text"}),"Import from CSV")))),r.a.createElement(J.a.Divider,null),r.a.createElement(rs,null,r.a.createElement(c.b,{to:"/teams/new"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"usergroup-add"}),"New Team"))),r.a.createElement(rs,null,r.a.createElement(c.b,{to:"/organizations/new"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"plus"}),"New Organization")))),trigger:["click"],placement:"bottomCenter"},r.a.createElement(os,{id:"new-button",type:"primary",icon:"plus"},"New")),r.a.createElement(q.a,{trigger:["click"],overlay:r.a.createElement(J.a,{style:{verticalAlign:"middle",top:12}},r.a.createElement(rs,{className:"help-support",key:"knowledgebase",style:{padding:"5px 9px 5px 0px"}},r.a.createElement("a",{href:"https://help.rarchy.com/knowledge",target:"_blank"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"file-text",style:{marginTop:3}}),"Help & support"))),r.a.createElement(rs,{className:"help-support",key:"feedback",style:{padding:"5px 9px 5px 0px"}},r.a.createElement("a",{href:"https://rarchy.nolt.io",target:"_blank"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"notification",style:{marginTop:3}}),"Leave Feedback"))),r.a.createElement(rs,{className:"help-support",key:"ticket",style:{padding:"5px 9px 5px 0px"}},r.a.createElement(c.b,{to:"/tickets/submit"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"mail",style:{marginTop:3}}),"Submit a ticket")))),placement:"bottomRight"},r.a.createElement(is,{className:"no-border",icon:"question-circle"})),I.a.isEmpty(a.organizations)&&r.a.createElement(c.b,{to:"/organizations/new",style:{display:"inline-flex",alignItems:"center"}},r.a.createElement(os,{style:{borderColor:"#00A7E1",color:"#00A7E1",marginRight:3,marginLeft:12}},"Upgrade")),r.a.createElement(Ct,{style:{marginLeft:15,marginRight:21}}),r.a.createElement(Ot,null)))}}]),n}(r.a.Component),ps=function(e){var t=e.ui,n=e.browser;return!(!t.sideMenu.collapsed||!n.greaterThan.medium)||!!n.lessThan.large},ds=Object(x.g)(us);function ms(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var fs=function(e){Object(b.a)(n,e);var t=ms(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return this.props.firebase.auth.isEmpty?null:r.a.createElement(ds,this.props)}}]),n}(a.PureComponent),gs=Object(s.b)(function(e){return Object(j.a)({},e)})(fs),hs=function(){return r.a.createElement(gs,null)};function vs(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function bs(){var e=Object(w.a)(["\n  color: #c1c5c8 !important;\n  border: 1px solid #c1c5c8 !important;\n  width: 100% !important;\n  font-size: 0.95rem !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem;\n  &:hover {\n    color: #eeefef !important;\n    border: 1px solid #eeefef !important;\n  }\n  span { vertical-align: text-bottom; }\n  .anticon { \n    vertical-align: baseline !important;\n    margin-right: 3px !important;\n  }\n"]);return bs=function(){return e},e}function ys(){var e=Object(w.a)(["\n  max-width: 210px !important;\n  padding: 10px !important;\n  font-weight: 500 !important;\n  font-size: 0.95rem !important;\n  letter-spacing: -.02rem !important;\n  span {\n    color: #5B6670;\n  }\n  .anticon {\n    margin-left: 8px;\n    margin-right: 16px !important;\n  }\n  &:hover {\n    background: transparent !important;\n    span {\n      &:hover {\n       color: #1D252C !important;\n        .anticon {\n          color: #00A7E1;\n        }\n      }\n    }\n  }\n"]);return ys=function(){return e},e}function Es(){var e=Object(w.a)(["\n.ant-dropdown-menu-item-group-title {\n  font-size: 13px;\n  padding: 5px 18px;\n}\n.ant-dropdown-menu-item-group-list {\n  margin: 0px;\n}\n"]);return Es=function(){return e},e}var Os=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),ws=Object(R.a)(J.a.ItemGroup)(Es()),xs=Object(R.a)(J.a.Item)(ys()),js=Object(R.a)(u.a)(bs()),Ss=function(e){Object(b.a)(n,e);var t=vs(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this;return r.a.createElement(q.a,{overlayClassName:"create-sitemap-dropdown",overlay:r.a.createElement(J.a,{style:{marginTop:4},onClick:function(e){return e.domEvent.stopPropagation()}},r.a.createElement(ws,{key:"build",title:"Build Sitemap"},r.a.createElement(xs,{key:"new",onClick:function(){return Yc(e.props)}},r.a.createElement("span",null,r.a.createElement(l.a,{type:"plus",style:{marginRight:15}}),"New Sitemap"))),r.a.createElement(ws,{key:"import",title:"Import Sitemap"},r.a.createElement(xs,{key:"crawl"},r.a.createElement(c.b,{to:"/sitemaps/crawl"},r.a.createElement("span",{style:{color:"unset"}},r.a.createElement(Os,{type:"icon-crawler"}),"Crawl Website"))),r.a.createElement(xs,{key:"xml"},r.a.createElement(c.b,{to:"/sitemaps/xml"},r.a.createElement("span",null,r.a.createElement(Os,{type:"icon-filexml"}),"Import from XML"))),r.a.createElement(xs,{key:"file"},r.a.createElement(c.b,{to:"/sitemaps/csv"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"file-text"}),"Import from CSV"))))),trigger:["click"],placement:"bottomRight"},r.a.createElement(js,{ghost:!0,icon:"plus"},"Create Sitemap"))}}]),n}(r.a.Component),Cs=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inUserAccount:!e.organization.id,inOrganization:!!e.organization.id})})(Ss));function As(){var e=Object(w.a)(["\n  position: absolute !important;\n  top: 8px;\n  right: 16px;\n  .ant-badge-count {\n    background: #343d48;\n    box-shadow: none !important;\n    color: #b0b4b8 !important;\n  }\n  z-index: 0;\n"]);return As=function(){return e},e}var ks=Object(R.a)(Ae.a)(As());var Rs=function(e){var t=wa(e),n=e.organization;return n.id?n.id&&n.subscription.plan.id.startsWith("freelance")?"".concat(t||"-"," of 5"):"".concat(wa(e)):"".concat(t," of 1")},Ds=Object(x.g)(function(e){e.inOrganization,e.staticContext;var t=Object(Bt.a)(e,["inOrganization","staticContext"]);return r.a.createElement(J.a.SubMenu,Object.assign({},t,{className:"sitemaps-menu main",key:"sitemaps",title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:500,color:"#CFD2D3",letterSpacing:"0.015em"}},"Sitemaps"))}),r.a.createElement(J.a.Item,null,r.a.createElement(Cs,null)),r.a.createElement(J.a.Item,{style:{marginTop:6}},r.a.createElement(c.b,{style:{marginLeft:6},to:"/sitemaps",onClick:function(){Ex.dispatch(Object(N.y)("active"))}},r.a.createElement("span",null,"Active Sitemaps"),r.a.createElement(ks,{className:"active-sitemaps-badge",showZero:!0,count:Rs(e)}))),r.a.createElement(J.a.Item,null,r.a.createElement(c.b,{style:{marginLeft:6},to:"/sitemaps#shared"},r.a.createElement("span",null,"Shared with me"),r.a.createElement(ks,{className:"collaborating-sitemaps-badge",showZero:!0,count:ja(e)}))))});function Is(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Ts=function(e){Object(b.a)(n,e);var t=Is(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){}},{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.staticContext,Object(Bt.a)(e,["dispatch","staticContext"]));return r.a.createElement(Ds,t)}}]),n}(a.Component),Ps=Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id})})(Ts);function Ns(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Ls(){var e=Object(w.a)(["\nli.ant-menu-item {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  &:hover {\n    color: white !important;\n    background: #2a3e4b !important;\n    .anticon-arrow-right {\n      display: flex;\n      color: white;\n    }\n  }\n  .anticon {\n      margin-right: 3px;\n  }\n  .anticon-arrow-right {\n    display: none;\n  }\n  .anticon-lock {\n    color: #ffffff59 !important;\n    }\n  }\n}\n"]);return Ls=function(){return e},e}function Fs(){var e=Object(w.a)(["\ndisplay: flex !important;\nalign-items: center;\njustify-content: flex-start;\npadding: 18px;\nheight: 40px;\ncolor: rgba(255, 255, 255, 0.65);\nfont-size: 0.9rem;\n&:hover {\n  color: white;\n}\n"]);return Fs=function(){return e},e}function zs(){var e=Object(w.a)(["\n  background: rgba(255, 255, 255, 0.1) !important;\n  min-width: 188px !important;\n  max-width: 188px !important;\n  margin: 0px !important;\n  padding: 0px !important;\n  margin-top: 18px !important;\n  margin-left: 27px !important;\n  &.create-another-team {\n    background: rgba(255, 255, 255, 0.15) !important;\n    margin-top: 12px !important;\n    margin-left: 18px !important;\n    margin-bottom: 3px !important;\n    max-width: 198px !important;\n  }\n"]);return zs=function(){return e},e}function Ms(){var e=Object(w.a)(["\ncolor: rgba(255, 255, 255, 0.65);\npadding-left: 30px !important;\n&:hover {\n  color: white;\n  .anticon {\n    color: rgba(255, 255, 255, 0.65);\n  }\n}\nletter-spacing: -.01em;\nfont-weight: 500;\ndisplay: block;\n"]);return Ms=function(){return e},e}function Bs(){var e=Object(w.a)(["\n  background: transparent !important;\n  font-weight: 500 !important;\n  font-size: 0.9rem !important;\n  letter-spacing: -.02rem !important;\n  .ant-collapse-item {\n    border-bottom: 0px solid #343d488c !important;\n    &:last-child {\n      border-bottom: none !important;\n      margin-bottom: 8px;\n    }\n  }\n  .ant-collapse-header {\n    color: #b0b4b8 !important;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    &:hover {\n      color: white !important;\n      .not-selected {\n        display: block !important;\n      }\n    }\n    padding: 9px 16px 9px 16px !important;\n    .ant-collapse-arrow {\n      svg {\n        transform: rotate(90deg);\n      }\n    }\n  }\n  .ant-collapse-item-active {\n    .ant-collapse-arrow {\n      svg {\n        transform: rotate(-90deg) !important;\n      }\n    }\n  }\n  .ant-collapse-content-box {\n    color: #b0b4b8 !important;\n    white-space: nowrap !important;\n    padding: 8px 16px !important;\n  }\n  .ant-collapse-arrow {\n    margin-top: 1px !important;\n    margin-left: 4px !important;\n    svg {\n      font-size: 10px !important;\n      margin-bottom: 1px !important;\n    }\n  }\n  .edit-team-menu {\n    position: absolute;\n    height: 32px !important;\n    right: 9px;\n    top: 6px;\n    border-radius: 50%;\n    font-size: 14px;\n    background: transparent !important;\n    color: #cfd2d3 !important;\n    &:hover {\n      color: white !important;\n      .not-selected {\n        display: inline-block;\n      }\n    }\n    &.not-selected {\n      display: none;\n    }\n    .anticon-lock {\n      color: #ffffff59;\n    }\n  }\n  ul#teams$Menu {\n    overflow: scroll;\n    max-height: 44.5vh !important;\n  }\n"]);return Bs=function(){return e},e}function Us(){var e=Object(w.a)(["\n  margin-right: 7px !important;\n  background: rgba(255, 255, 255, 0.15) !important;\n  &:hover {\n    &:not(.upgrade) {\n      background: rgba(255, 255, 255, 0.66) !important;\n    }\n    &.upgrade {\n      .anticon {\n        color: white;\n      }\n    }\n    cursor: pointer !important;\n  }\n  &:last-child {\n    margin-right: 0px !important;\n  }\n  font-size: 0.8em !important;\n    &.upgrade {\n    .anticon {\n      color: #b0b4b880;\n    }\n  }\n"]);return Us=function(){return e},e}function Ws(){var e=Object(w.a)(["\nul {\n  overflow: scroll;\n  // margin-bottom: 140px !important;\n // max-height: 44.5vh !important;\n}\nborder-bottom: none !important;\n"]);return Ws=function(){return e},e}var _s=J.a.SubMenu,Vs=Object(R.a)(_s)(Ws()),Gs=Object(R.a)(Q.a)(Us()),Hs=Object(R.a)(eo.a)(Bs()),Ys=Object(R.a)(c.b)(Ms()),Xs=Object(R.a)(wt.a)(zs()),Zs=Object(R.a)(c.b)(Fs()),Ks=Object(R.a)(J.a)(Ls()),Qs=eo.a.Panel,qs=n(895),Js=function(e){Object(b.a)(n,e);var t=Ns(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=(t.staticContext,t.teams,t.firebase,t.users,t.switchTeam,t.history,t.inUserAccount,t.inOrganization,Object(Bt.a)(t,["staticContext","teams","firebase","users","switchTeam","history","inUserAccount","inOrganization"]));return r.a.createElement(Vs,Object.assign({},n,{key:"teams",className:"teams-menu main",title:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:500,color:"#CFD2D3",letterSpacing:"0.015em"}},"Teams"),r.a.createElement(K.a,{title:"New Team",placement:"right",mouseEnterDelay:1,align:{offset:[16,0]},overlayClassName:"side-menu-tooltip ".concat(qs()&&"hidden")},r.a.createElement(l.a,{type:"plus",style:{fontSize:16,right:8,position:"absolute",top:10},onClick:function(t){t.stopPropagation(),e.props.history.push("/teams/new")}})))}),r.a.createElement(el,this.props))}}]),n}(a.Component),$s=Object(x.g)(Js),el=function(e){Object(b.a)(n,e);var t=Ns(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:["new"].concat(Object(p.a)(I.a.keys(e.props.teams.byId)))},e}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.user;t.token&&t.token.team!==e.user.token.team&&this.setState({open:this.props.user.token.team})}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.teams,i=t.users,o=t.switchTeam,c=t.history,s=t.inUserAccount,p=t.inOrganization,d=t.organization,m=I()(a.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value().sort(function(e,t){return e.member<t.member?1:e.member>t.member?-1:e.name.toLowerCase()<t.name.toLowerCase()?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:0}),f=I.a.findIndex(m,function(e){return e.id===n.token.team});m.splice(0,0,m.splice(f,1)[0]);var g=a.loading,h=a.loaded;return r.a.createElement(r.a.Fragment,null,!g&&h&&(s||d.subscription.plan.id.startsWith("freelance"))&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Hs,{bordered:!1,activeKey:this.props.user.token.team},m.map(function(t){return t&&t.id?r.a.createElement(Qs,{key:t.id,showArrow:!1,header:r.a.createElement(Ys,{to:s?"/organizations/new":"/organizations/settings#billing"},r.a.createElement(l.a,{type:"usergroup-add",style:{marginLeft:-21,marginRight:13}}),"Upgrade to create Teams")},tl(Object(j.a)({user:n,users:i,team:t,upgrade:!0},e.props))):null})),r.a.createElement(Xs,null)),!g&&h&&p&&!d.subscription.plan.id.startsWith("freelance")&&r.a.createElement(Hs,{bordered:!1,activeKey:n.token.team},m.map(function(t){return t&&t.id&&t.id===n.token.team?r.a.createElement(Qs,{header:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",width:166}},r.a.createElement("span",{style:{color:t.member?"unset":"#596873"}},t.name)),r.a.createElement(K.a,{title:"Settings",placement:"right",mouseEnterDelay:1,align:{offset:[6,0]},overlayClassName:"side-menu-tooltip ".concat(qs()&&"hidden")},r.a.createElement(u.a,{className:"edit-team-menu no-border selected",icon:"setting",onClick:function(e){e.stopPropagation(),t.id===n.token.team&&c.push("/teams/settings")}}))),key:t.id,showArrow:!1},tl(Object(j.a)({user:n,users:i,team:t},e.props))):null})),r.a.createElement(Ks,{mode:"inline",theme:"dark"},m.map(function(e){return e&&e.id&&e.id!==n.token.team?r.a.createElement(J.a.Item,{key:e.id,onClick:function(){e.member&&o(e.id,c)},title:e.member?"Switch Team":"Not a member of this team"},r.a.createElement("span",{style:{overflow:"hidden",textOverflow:"ellipsis",color:e.member?"unset":"#596873",maxWidth:180}},e.name),e.member&&r.a.createElement(l.a,{className:"edit-team-menu no-border not-selected",type:"arrow-right"}),!e.member&&r.a.createElement(l.a,{className:"no-border",type:"lock"})):null})),!g&&h&&p&&!d.subscription.plan.id.startsWith("freelance")&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Xs,{className:"create-another-team"}),r.a.createElement(Zs,{to:"/teams/new"},r.a.createElement(l.a,{type:"usergroup-add",style:{marginRight:9}}),"Create new team")))}}]),n}(a.Component),tl=function(e){var t=e.user,n=e.team,a=e.upgrade,i=e.inUserAccount,o=t.id===n.id?{loaded:!0,byId:Object(Re.a)({},t.id,Object(j.a)({},t))}:e.users;if(o.loaded){for(var c=I.a.compact(I()(o.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value().map(function(o){if(!o.invited)return!n.members||n.members.indexOf(o.id)>-1?r.a.createElement(Gs,{style:{marginRight:7},key:o.id,src:Object($.a)(t.id===o.id?{user:t}:{user:o}),size:"small",onClick:function(){if(a)return e.history.push(i?"/organizations/new":"/organizations/settings#billing");n.id===t.token.team&&e.history.push("/teams/settings")}}):null})),s=7-c.length,u=[],p=0;p<s;p++)u.push(r.a.createElement(Gs,{key:"placeholder-".concat(p),size:"small",className:a&&"upgrade",onClick:function(){if(a)return e.history.push(i?"/organizations/new":"/organizations/settings#billing");n.id===t.token.team&&e.history.push("/teams/settings")}},a&&r.a.createElement(l.a,{type:"user"})));if(s<=0){for(var d=0;d<Math.abs(s-1);d++)c.pop();u.push(r.a.createElement(Gs,{key:"placeholder-".concat(0),size:"small",onClick:function(){if(a)return e.history.push(i?"/organizations/new":"/organizations/settings#billing");n.id===t.token.team&&e.history.push("/teams/settings")}},"+".concat(Math.abs(s-1))))}return I.a.merge([c,u])}};function nl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var al=function(e){Object(b.a)(n,e);var t=nl(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.staticContext,Object(Bt.a)(e,["dispatch","staticContext"]));return r.a.createElement($s,t)}}]),n}(a.Component),rl=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inUserAccount:!e.organization.id,inOrganization:!!e.organization.id})},{switchTeam:S.h})(al));function il(){var e=Object(w.a)(["\n  border-top: 1px solid #343d48 !important;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  background: #051c2d !important;\n  z-index: 10 !important;\n"]);return il=function(){return e},e}function ol(){var e=Object(w.a)(["\n  position: absolute !important;\n  top: 8px !important;\n  border: none !important;\n  color: #b0b4b8 !important;\n  background: rgba(255, 255, 255, 0.15) !important;\n  &:hover {\n    color: #32c1ff !important;\n  }\n  border-radius: 10px !important;\n  font-size: 12px !important;\n  font-weight: 500 !important;\n  height: 24px !important;\n  line-height: 22px !important;\n  padding: 0px 6px !important;\n"]);return ol=function(){return e},e}function cl(){var e=Object(w.a)(["\n  margin-right: 7px !important;\n  background: rgba(255, 255, 255, 0.15) !important;\n  &:hover {\n    background: rgba(255, 255, 255, 0.5) !important;\n  }\n  font-size: 0.8em !important;\n"]);return cl=function(){return e},e}var sl=Object(R.a)(Q.a)(cl()),ll=Object(R.a)(u.a)(ol()),ul=Object(R.a)(J.a.SubMenu)(il()),pl=n(895);var dl=function(e){var t=e.users,n=e.currentUser,a=e.history,i=I.a.compact(I()(t.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value().map(function(e){return!e.id||e.invited?null:r.a.createElement(sl,{style:{marginRight:7},key:e.id,src:Object($.a)(e.id===n.id?{user:n}:{user:e}),size:"small",onClick:function(){return a.push("/organizations/settings#users")}})})),o=7-i.length,c=[];if(o<=0){for(var s=0;s<Math.abs(o-1);s++)i.pop();return c.push(r.a.createElement(sl,{key:"placeholder-".concat(0),size:"small",onClick:function(){return a.push("/organizations/settings#users")}},"+".concat(Math.abs(o-1)))),I.a.merge([i,c])}for(var l=0;l<o;l++)c.push(r.a.createElement(sl,{key:"placeholder-".concat(l),size:"small",onClick:function(){return a.push("/organizations/settings#users")}}));if(c.length>3){for(var u=0;u<3;u++)c.pop();c.push(r.a.createElement(ll,{key:"invite",onClick:function(){return a.push("/organizations/settings#users")}},"Invite People"))}return I.a.merge([i,c])},ml=Object(x.g)(function(e){var t=e.organization,n=e.users,a=(e.showOrganizationSettingsModal,e.history),i=e.user,o=(e.staticContext,Object(Bt.a)(e,["organization","users","showOrganizationSettingsModal","history","user","staticContext"]));return t.id?r.a.createElement(ul,Object.assign({},o,{className:"organization-menu",key:"organization",title:r.a.createElement("span",{style:{fontWeight:500,color:"#CFD2D3",letterSpacing:"0.015em",paddingRight:20}},t.name,r.a.createElement(K.a,{title:"Organization Settings",placement:"right",mouseEnterDelay:.5,align:{offset:[16,0]},overlayClassName:"side-menu-tooltip ".concat(pl()&&"hidden")},r.a.createElement(l.a,{type:"setting",style:{fontSize:14,right:6,position:"absolute",top:10},onClick:function(e){e.stopPropagation(),a.push("/organizations/settings")}})))}),r.a.createElement(J.a.Item,{className:"organization-users",style:{paddingRight:0}},dl({users:n,currentUser:i,organization:t,history:a})),r.a.createElement(J.a.Item,{style:{marginTop:9,marginBottom:12}},r.a.createElement("div",{style:{textTransform:"capitalize",display:"inline-block",width:"75%"}},"".concat(t.subscription.plan.id.split("-")[0]," Plan")),r.a.createElement(ll,{key:"modify",onClick:function(){a.push("/organizations/settings#billing")}},"Modify")),I.a.isEmpty(t.subscription.paymentCard)&&"trialing"===t.subscription.status&&r.a.createElement(J.a.Item,{style:{marginTop:9,marginBottom:12}},r.a.createElement(c.b,{style:{color:"#00A7E1",fontWeight:600,fontSize:"0.9rem"},to:"/organizations/settings#billing"},"Start your monthly subscription"))):null}),fl=n(176);function gl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var hl=function(e){Object(b.a)(n,e);var t=gl(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.staticContext,e.getUsers,Object(Bt.a)(e,["dispatch","staticContext","getUsers"]));return r.a.createElement(ml,t)}}]),n}(a.Component),vl=Object(s.b)(function(e){return e},{getUsers:fl.b,showOrganizationSettingsModal:F.d})(hl);function bl(){var e=Object(w.a)(["\n  border-top: 1px solid #343d48 !important;\n  position: absolute;\n  width: 100%;\n  bottom: 0;\n  background: #051c2d !important;\n"]);return bl=function(){return e},e}function yl(){var e=Object(w.a)(["\n  top: 1px !important;\n  border: none !important;\n  color: #b0b4b8 !important;\n  background: rgba(255, 255, 255, 0.15) !important;\n  a {\n    color: #b0b4b8 !important;\n  }\n  &:hover {\n    color: white !important;\n    a {\n      color: white !important;\n    }\n  }\n  border-radius: 10px !important;\n  font-size: 12px !important;\n  font-weight: 500 !important;\n  height: 24px !important;\n  line-height: 22px !important;\n  padding: 0px 6px !important;\n  .anticon {\n    font-size: 12px !important;\n    vertical-align: middle !important;\n    margin-right: 5px !important;\n    margin-left: 2px !important;\n  }\n  span {\n    margin-left: 0 !important;\n    margin-right: 5px !important;\n  }\n"]);return yl=function(){return e},e}function El(){var e=Object(w.a)(["\n  margin-right: 7px !important;\n  background: rgba(255, 255, 255, 0.15) !important;\n  &:hover {\n    background: rgba(255, 255, 255, 0.5) !important;\n  }\n  font-size: 0.8em !important;\n"]);return El=function(){return e},e}var Ol=Object(R.a)(Q.a)(El()),wl=Object(R.a)(u.a)(yl()),xl=Object(R.a)(J.a.SubMenu)(bl());var jl=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ol,{style:{marginRight:7},key:e.id,src:Object($.a)({user:e}),size:"small"}),I.a.isEmpty(e.organizations)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ol,{key:"placeholder-0",size:"small"}),r.a.createElement(Ol,{key:"placeholder-1",size:"small"}),r.a.createElement(Ol,{key:"placeholder-2",size:"small"}),r.a.createElement(wl,{key:"invite",icon:"usergroup-add"},r.a.createElement(c.b,{to:"/organizations/new"},"Upgrade"))),!I.a.isEmpty(e.organizations)&&r.a.createElement(q.a,{overlay:r.a.createElement(Se,null),placement:"topRight",trigger:["click"],align:{offset:[0,-10]}},r.a.createElement(wl,{key:"invite",icon:"user",style:{float:"right",marginTop:5}},"Switch Account")))},Sl=function(e){var t=e.user;return r.a.createElement(xl,Object.assign({},e,{key:"account",title:r.a.createElement("span",{style:{fontWeight:500,color:"#CFD2D3",letterSpacing:"0.015em"}},"Personal Account")}),r.a.createElement(J.a.Item,{style:{margin:0,marginBottom:12}},jl(t)),r.a.createElement(J.a.Item,{style:{margin:0,marginBottom:12,marginTop:9}},r.a.createElement(c.b,{to:"/profile"},r.a.createElement(l.a,{type:"user",style:{fontSize:15}}),"Profile & Settings")))};function Cl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Al=function(e){Object(b.a)(n,e);var t=Cl(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=(e.dispatch,e.staticContext,Object(Bt.a)(e,["dispatch","staticContext"]));return r.a.createElement(Sl,t)}}]),n}(a.Component),kl=Object(s.b)(function(e){return e})(Al);function Rl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Dl(){var e=Object(w.a)(["\n  padding: 18px 0px !important;\n  .ant-menu-submenu-title {\n    display: none;\n  }\n  .ant-btn {\n    background: transparent; \n    color: #c1c5c8 !important;\n    border: 1px solid #c1c5c8 !important;\n    width: 100% !important;\n    font-size: 0.95rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem;\n    &:hover {\n      color: #eeefef !important;\n      border: 1px solid #eeefef !important;\n    }\n    span { vertical-align: text-bottom; }\n  }\n"]);return Dl=function(){return e},e}function Il(){var e=Object(w.a)(["\n  border: none !important;\n  height: calc(100vh - 60px);\n  overflow: auto;\n  left: 0;\n  width: auto !important;\n"]);return Il=function(){return e},e}var Tl=Object(R.a)(J.a)(Il()),Pl=Object(R.a)(J.a.SubMenu)(Dl()),Nl=function(e){Object(b.a)(n,e);var t=Rl(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inOrganization;return e.user.id?r.a.createElement(Tl,{selectable:!1,className:"sidebar-menu",theme:"dark",mode:"inline",forceSubMenuRender:!1,defaultOpenKeys:["sign-up","create-new","sitemaps","teams","account","organization"]},r.a.createElement(Ps,{className:"sitemaps-menu main",key:"sitemaps"}),r.a.createElement(rl,{key:"teams",className:"teams-menu main"}),!t&&r.a.createElement(kl,{key:"account",className:"account-menu main"}),t&&r.a.createElement(vl,{key:"organization",className:"organization-menu main"})):r.a.createElement(Tl,{selectable:!1,className:"sidebar-menu",theme:"dark",mode:"inline",forceSubMenuRender:!1,defaultOpenKeys:["sign-up"]},r.a.createElement(Pl,{key:"sign-up"},r.a.createElement(J.a.Item,null,r.a.createElement(u.a,null,r.a.createElement(c.b,{to:"/signup"},"Create a Free Account")))))}}]),n}(a.Component),Ll=Object(x.g)(Nl);function Fl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var zl=function(e){Object(b.a)(n,e);var t=Fl(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=!!this.props.organization.id;return r.a.createElement(Ll,Object.assign({toggleDrawer:this.props.toggleDrawer,inOrganization:e},this.props))}}]),n}(a.Component),Ml=Object(s.b)(function(e){return Object(j.a)({},e)},{toggleDrawer:F.e})(zl),Bl=n(976),Ul=n.n(Bl),Wl=n(977),_l=n.n(Wl);function Vl(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Gl(){var e=Object(w.a)(["\n   // height: 24px;\n   // margin-left: 12px;\n   // margin-bottom: 4px;\n   // margin-right: 12px;\n    float: left;\n    height: 28px;\n    margin-top: 9px;\n    margin-left: 18px;\n    margin-bottom: 2px;\n    margin-right: 18px; \n   padding: 2px 0px;\n"]);return Gl=function(){return e},e}function Hl(){var e=Object(w.a)(["\n  height: 40px;\n  margin-left: 6px;\n  margin-top: 10px;\n  margin-right: 72px;\n"]);return Hl=function(){return e},e}function Yl(){var e=Object(w.a)(["\n  display: flex;\n  height: 63px;\n  top: 0 !important;\n  z-index: 999999 !important;\n  border-bottom: 1px solid #343d47;\n"]);return Yl=function(){return e},e}var Xl=Object(R.a)("div")(Yl()),Zl=R.a.img(Hl()),Kl=R.a.img(Gl()),Ql=function(e){Object(b.a)(n,e);var t=Vl(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.style;return r.a.createElement(Xl,{className:"menu-logo dark"},r.a.createElement(c.b,{to:"/"},r.a.createElement(Zl,{src:Ul.a})),r.a.createElement(X,{style:e}))}}]),n}(a.Component);a.Component;function ql(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Jl=function(e){Object(b.a)(n,e);var t=ql(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(Ql,this.props)}}]),n}(a.Component),$l=Object(s.b)(function(e){return e})(Jl);function eu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function tu(){var e=Object(w.a)(["\n  height: calc(100vh);\n  background: #1e2835 !important;\n"]);return tu=function(){return e},e}var nu=d.a.Sider,au=Object(R.a)(nu)(tu()),ru=function(e){Object(b.a)(n,e);var t=eu(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e=this.props.ui.sideMenu;return r.a.createElement(au,{trigger:null,className:"main-nav",collapsible:!0,collapsed:e.collapsed,width:244,collapsedWidth:0},r.a.createElement($l,{style:{logo:"dark"}}),r.a.createElement(bn.Scrollbars,{style:{height:"calc(100vh - 60px)"}},r.a.createElement(Ml,null)))}}]),n}(a.Component),iu=function(e){Object(b.a)(n,e);var t=eu(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.ui.sideDrawer;return r.a.createElement(r.a.Fragment,null,r.a.createElement(dn.a,{width:244,className:"main-nav responsive-drawer",placement:"left",closable:!1,onClose:this.props.toggleDrawer,visible:!e.collapsed,style:{zIndex:2}},r.a.createElement($l,{style:{logo:"dark"}}),r.a.createElement(bn.Scrollbars,{style:{height:"calc(100vh - 60px)"}},r.a.createElement(Ml,null))))}}]),n}(a.Component);function ou(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var cu=function(e){Object(b.a)(n,e);var t=ou(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.browser,n=e.sitemap;return e.firebase.auth.isEmpty&&!n.id?null:t.lessThan.large||n.id?r.a.createElement(iu,this.props):r.a.createElement(ru,this.props)}}]),n}(a.Component),su=Object(s.b)(function(e){return e},{toggleDrawer:F.e})(cu),lu=function(){return r.a.createElement(su,null)},uu=(n(181),n(92));function pu(){var e=Object(w.a)(["\n    text-align: center;\n    .ant-tabs-bar {\n        background: white;\n        border-bottom: 1px solid #e9eef1;\n    }\n    .ant-tabs-tab {\n        font-size: 15px;\n        font-weight: 600 !important;\n        padding: 6px !important;\n        padding-left: 0 !important;\n        padding-right: 0 !important;\n        color: #222222 !important;\n        opacity: 0.5;\n        animation: none !important;\n        transition: none !important;\n        &:hover {\n            opacity: 1;\n        }\n    }\n    .ant-tabs-tab-active {\n        color: #00A7E1 !important;\n        opacity: 1;\n        &:hover {\n            opacity: 1;\n        }\n    }\n    &.width-1160 {\n        .ant-tabs-content {\n            min-width: 1160px !important;\n            max-width: 1160px !important;\n        }\n    }\n    .ant-tabs-content {\n        display: block !important;\n        width: 100% !important;\n        margin: auto !important;\n        padding: 0px 12px !important;\n        margin-top: -16px !important;\n        height: calc(100vh - 136px) !important;\n    }\n"]);return pu=function(){return e},e}function du(){var e=Object(w.a)(["\n    font-weight: 600;\n    text-transform: capitalize;\n    font-size: 1.2rem;\n    letter-spacing: -.03em;\n    margin: 0;\n    padding: 12px 0px 3px 0px;\n    text-align: center;\n    background: white;\n"]);return du=function(){return e},e}function mu(){var e=Object(w.a)(["\n    background: #f9f9f9 !important;\n"]);return mu=function(){return e},e}var fu=R.a.div(mu()),gu=R.a.h2(du()),hu=Object(R.a)(uu.a)(pu());function vu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function bu(){var e=Object(w.a)(["\n  font-size: 14px;\n  font-weight: 400;\n  letter-spacing: 0rem !important;\n  padding: 0px 18px;\n  padding-right: 6px !important;\n  margin: 0px;\n  margin-top: 12px !important;\n  margin-bottom: 30px !important;\n  li {\n    margin-bottom: 12px;\n    color: #5b6670;\n  }\n"]);return bu=function(){return e},e}function yu(){var e=Object(w.a)(["\n  text-align: left;\n  // box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);\n  background: transparent !important;\n  font-weight: 500;\n  font-size: 1rem;\n  color: #7B868C; \n  letter-spacing: -.02rem; \n"]);return yu=function(){return e},e}function Eu(){var e=Object(w.a)(["\nmargin-top: 15px;\nbackground: transparent !important;\nborder: none !important;\n.ant-collapse-header {\n    padding: 16px !important;\n    padding-left: 24px !important;\n    .ant-collapse-arrow {\n        left: 0px !important;\n    }\n}\n.ant-collapse-content {\n    background: transparent !important;\n}\n.ant-collapse-content-box {\n    padding: 0 !important;\n    padding-left: 24px !important;\n}\nmargin-bottom: 9px !important;\n"]);return Eu=function(){return e},e}var Ou=eo.a.Panel,wu=At.a.TextArea,xu=Object(R.a)(eo.a)(Eu()),ju=Object(R.a)(Ou)(yu()),Su=R.a.ul(bu()),Cu=function(e){Object(b.a)(n,e);var t=vu(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return r.a.createElement(r.a.Fragment,null,r.a.createElement(xu,{bordered:!1},r.a.createElement(ju,{header:"Options",key:"options",style:{marginTop:24}},r.a.createElement(mn.a,{gutter:16},r.a.createElement(Qn.a,{span:12},r.a.createElement(gn.a.Item,{label:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Include URLs")),help:null,colon:!1},e("include",{rules:[{required:!1}]})(r.a.createElement(wu,{placeholder:"Comma-separated (regex supported)",autoSize:{minRows:1,maxRows:4}})))),r.a.createElement(Qn.a,{span:12},r.a.createElement(gn.a.Item,{label:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"Exclude URLs")),help:null,colon:!1},e("exclude",{rules:[{required:!1}]})(r.a.createElement(wu,{placeholder:"Comma-separated (regex supported)",autoSize:{minRows:1,maxRows:4}})))))),r.a.createElement(ju,{header:"Authentication",key:"authentication"},r.a.createElement(mn.a,{gutter:16},r.a.createElement("div",{style:{marginTop:12,marginLeft:9,fontSize:14,marginBottom:12}},"HTTP Basic Auth"),r.a.createElement(Qn.a,{span:12},r.a.createElement(gn.a.Item,{help:null,colon:!1},e("username",{rules:[{required:!1}]})(r.a.createElement(At.a,{placeholder:"Username",autoComplete:"new-password"})))),r.a.createElement(Qn.a,{span:12},r.a.createElement(gn.a.Item,{help:null,colon:!1},e("password",{rules:[{required:!1}]})(r.a.createElement(At.a.Password,{placeholder:"Password",visibilityToggle:!0,autoComplete:"new-password"})))))),r.a.createElement(ju,{header:"About our crawler",key:"about"},r.a.createElement(Su,null,r.a.createElement("li",null,"We are polite crawlers - we auto-throttle based on avg. page latency."),r.a.createElement("li",null,"We will always use the user-agent ",r.a.createElement("span",{style:{color:"#00A7E1"}}," Rarchy/bot (+https://www.rarchy.com)"),"."),r.a.createElement("li",null,"We will always respect a websites robots.txt file."),r.a.createElement("li",null,"In order to keep our crawler fast, we only scrape the links from pages - nothing else."),r.a.createElement("li",null,"This crawler is ",r.a.createElement("span",{style:{fontWeight:600}},"not")," intended to be used as a substitute for Deep Crawl / Screaming Frog etc.")))))}}]),n}(r.a.Component);function Au(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function ku(){var e=Object(w.a)([" \n  border: none !important;\n  border-radius: 5px !important;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);\n  .ant-card-body {\n      padding: 12px 0px; \n  }\n  &.about-crawler {\n    .ant-card-body {\n      padding: 0px 24px; \n    }\n  }\n"]);return ku=function(){return e},e}function Ru(){var e=Object(w.a)(["\n  input {\n    font-size: 15px !important;\n    padding-right: 118px !important;\n  }\n  .ant-input-suffix {\n    right: 0 !important;\n  }\n"]);return Ru=function(){return e},e}function Du(){var e=Object(w.a)(["\n  .ant-form-explain {\n    display: none !important;\n  }\n  .ant-form-item {\n    margin-bottom: 0px !important;\n  }\n"]);return Du=function(){return e},e}function Iu(){var e=Object(w.a)(["\n  margin: auto;\n  padding: 24px;\n  min-width: 750px !important;\n  max-width: 750px !important;\n  &.processing {\n    // min-width: unset !important;\n  }\n"]);return Iu=function(){return e},e}function Tu(){var e=Object(w.a)(["\n  height: calc(100vh - 138px) !important;\n  width: unset;\n  > div {\n    margin: auto;\n    display: flex;\n  }\n  background: #f9f9f9;\n"]);return Tu=function(){return e},e}var Pu=Object(R.a)(bn.Scrollbars)(Tu()),Nu=Object(R.a)("div")(Iu()),Lu=Object(R.a)(gn.a)(Du()),Fu=Object(R.a)(At.a)(Ru()),zu=Object(R.a)(Ie.a)(ku()),Mu=function(e){Object(b.a)(n,e);var t=Au(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.form,a=e.processing,i=e.clearProcessedSitemap,o=e.inOrganization,s=e.canFullCrawl,l=e.hitSitemapsLimit,p=n.getFieldDecorator;if(!a.id){if(l&&l.upgrade)return r.a.createElement(Vr,{importing:!0});if(l&&l.limit)return r.a.createElement(Zr,{importing:!0})}return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pu,null,r.a.createElement(Nu,{className:a.id&&"processing"},a.id&&r.a.createElement(Uc,{processing:a,clearProcessedSitemap:i}),!a.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(zu,{style:{background:"transparent",boxShadow:"none"}},r.a.createElement(Lu,{onSubmit:t},r.a.createElement(gn.a.Item,{style:{display:"inline-block",width:"100%",marginBottom:12}},p("url",{rules:[{required:!0,message:" "}]})(r.a.createElement(Fu,{placeholder:"https://www.yourwebsite.com",size:"large",style:{borderRadius:"3px 3px 3px 3px",height:46,fontWeight:500,marginBottom:6},suffix:r.a.createElement(u.a,{type:"primary",htmlType:"submit",style:{right:0,display:"inline-block",borderRadius:"0px 3px 3px 0px",height:46,boxShadow:"none",fontSize:"1rem",fontWeight:600,letterSpacing:"-.02rem",padding:"0px 24px"}},Bc("crawl"),r.a.createElement("span",{style:{marginLeft:12}},"Crawl"))})))),!s&&r.a.createElement(Kn.a,{style:{marginTop:18,textAlign:"center"},message:r.a.createElement(c.b,{style:{marginBottom:0,fontWeight:500,fontSize:"0.875rem",display:"flex",justifyContent:"center"},to:o?"/organizations/settings#billing":"/organizations/new"},"Up to ".concat(o?250:50," pages crawled. Upgrade to the Team or Agency plans to crawl up to 5,000 pages")),showIcon:!0,type:"info"}),r.a.createElement(Cu,this.props))))))}}]),n}(r.a.Component),Bu=n(978);function Uu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Wu=function(e){Object(b.a)(n,e);var t=Uu(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(){var t=Object(g.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!e.props.sitemaps.processing.crawl.id){t.next=4;break}return t.abrupt("return",!1);case 4:e.props.form.validateFieldsAndScroll(function(){var t=Object(g.a)(f.a.mark(function t(n,a){var r,i,o,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r={},a.include&&(r.include=a.include.replace(/\n/g,",").split(",")),a.exclude&&(r.exclude=a.exclude.replace(/\n/g,",").split(",")),i=a.username,(o=a.password)&&(c=(c=Bu.AES.encrypt(o,"199019922095")).toString(),r.authentication={username:i,pass:c}),!n){t.next=7;break}return t.abrupt("return",console.log("ERROR",n));case 7:e.startCrawl(a.url,r);case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}());case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.startCrawl=function(t,n){var a=e.props,r=a.processNewSitemap,i=a.inUserAccount,o=a.user,c=Object(Hc.getFirestore)();r({type:"crawl",url:t,options:n,file:null,update:"Starting crawl"},(i?c.doc("sitemaps_processing/".concat(o.id)):c.collection("sitemaps_processing").doc()).id),Dt.a.getInstance().logEvent("NEW_SITEMAP_CRAWL")},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(t=wi.a.parse(this.props.location.search)).url&&this.startCrawl(t.url),_c(this.props)&&this.props.clearProcessedCrawl();case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){("crawl"===this.props.tab&&(document.title="Crawl Website - Rarchy"),"crawl"===this.props.tab&&this.props.tab!==e.tab)&&(_c(this.props)&&this.props.clearProcessedCrawl());if("crawl"!==this.props.tab&&"crawl"===e.tab){var t=this.props.sitemaps.processing.crawl;t&&"crawl"===t.type&&t.processed&&this.props.clearProcessedCrawl()}var n=Wc(this.props,e);n&&n.sitemap&&"crawl"===n.sitemap.type&&this.props.processingCrawl(n.sitemap)}},{key:"componentWillUnmount",value:function(){var e=this.props.sitemaps.processing.crawl;e&&"crawl"===e.type&&e.processed&&this.props.clearProcessedCrawl()}},{key:"render",value:function(){var e=this.props,t=e.form,n=e.sitemaps,a=e.inOrganization,i=e.canFullCrawl,o=e.ui,c=n.processing.crawl;return r.a.createElement(Mu,{ui:o,form:t,inOrganization:a,canFullCrawl:i,onSubmit:this.handleSubmit,processing:c,clearProcessedSitemap:this.props.clearProcessedCrawl,hitSitemapsLimit:this.props.hitSitemapsLimit})}}]),n}(r.a.Component),_u=Object(x.g)(gn.a.create({name:"crawl"})(Wu)),Vu=Object(Z.d)(Object(Ce.firestoreConnect)(function(e,t){var n=t.getState().user;return[{collection:"sitemaps_processing",where:[["createdBy","==",n.id],["team","==",n.token.team],["type","==","crawl"]],limit:1}]}),Object(s.b)(function(e){return Object(j.a)({},e,{userId:e.user.id,teamId:e.user.token.team,inUserAccount:!e.organization.id,inOrganization:!!e.organization.id,canFullCrawl:!!e.organization.id&&!e.organization.subscription.plan.id.startsWith("freelance"),hitSitemapsLimit:Gc(e)})},{processNewSitemap:N.i,processingCrawl:N.m,processedCrawl:N.j,clearProcessedCrawl:N.c}))(_u),Gu=(n(335),n(202));function Hu(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Yu(){var e=Object(w.a)([" \n  border: none !important;\n  border-radius: 5px !important;\n  background: transparent !important;\n  // box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);\n  &.input {\n    .ant-card-body {\n      padding: 24px 0px; \n    }\n  }\n  &.upload {\n    .ant-card-body {\n      padding: 0px; \n    }\n  }\n"]);return Yu=function(){return e},e}function Xu(){var e=Object(w.a)(["\n  input {\n    font-size: 15px !important;\n    padding-right: 90px !important;\n  }\n  .ant-input-suffix {\n    right: 0 !important;\n  }\n"]);return Xu=function(){return e},e}function Zu(){var e=Object(w.a)(["\n  // border: none !important;\n  border-radius: 5px !important;\n  .ant-upload {\n    min-height: 250px !important;\n    padding: 0 !important;\n    background: white !important;\n  }\n"]);return Zu=function(){return e},e}function Ku(){var e=Object(w.a)(["\n  .ant-form-explain {\n    display: none !important;\n  }\n  .ant-form-item {\n    margin-bottom: 12px !important;\n  }\n"]);return Ku=function(){return e},e}function Qu(){var e=Object(w.a)(["\n  margin: auto;\n  padding: 24px;\n  min-width: 750px !important;\n  max-width: 750px !important;\n  &.processing {\n    // min-width: unset !important;\n  }\n"]);return Qu=function(){return e},e}function qu(){var e=Object(w.a)(["\n  height: calc(100vh - 138px) !important;\n  width: unset;\n  > div {\n    margin: auto;\n    display: flex;\n  }\n"]);return qu=function(){return e},e}var Ju=Gu.a.Dragger,$u=Object(R.a)(bn.Scrollbars)(qu()),ep=Object(R.a)("div")(Qu()),tp=Object(R.a)(gn.a)(Ku()),np=Object(R.a)(Ju)(Zu()),ap=Object(R.a)(At.a)(Xu()),rp=Object(R.a)(Ie.a)(Yu()),ip=function(e){Object(b.a)(n,e);var t=Hu(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).uploadProps={name:"xml",accept:"xml",action:function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),beforeUpload:function(e,t){if(t.length>1)return!1},onStart:function(){e.props.uploadingXmlFile()},onProgress:function(t){e.props.uploadingXmlFileProgress(t)},onSuccess:function(){var t=Object(g.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:setTimeout(function(){return e.props.uploadedXmlFile()},500),a={type:"xml",file:!0,url:null,options:null,update:"Reading your XML sitemap"},e.props.processNewSitemap(a,n),Dt.a.getInstance().logEvent("NEW_SITEMAP_XML_UPLOAD");case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onError:function(t){e.props.uploadingXmlFileError(t),console.log("onError",t)}},e.customRequest=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i,o,c,s,l,u,p;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n.file,r=n.onError,i=n.onSuccess,o=n.onProgress,c=e.props,s=c.inUserAccount,l=c.userId,u=Object(Hc.getFirestore)(),p=s?u.doc("sitemaps_processing/".concat(l)):u.collection("sitemaps_processing").doc(),Object(Ce.getFirebase)().storage().ref().child("sitemaps_processing/xml/".concat(p.id,".xml")).put(a).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);o(t=t<1?1:t)},function(e){r(e)},function(){i(p.id)});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSubmit,n=e.form,a=e.processing,i=e.clearProcessedSitemap,o=e.inUserAccount,s=e.hitSitemapsLimit,p=n.getFieldDecorator;if(!a.id){if(s&&s.upgrade)return r.a.createElement(Vr,{importing:!0});if(s&&s.limit)return r.a.createElement(Zr,{importing:!0})}return r.a.createElement($u,null,r.a.createElement(ep,{className:a.id&&"processing"},a.id&&r.a.createElement(Uc,{processing:a,clearProcessedSitemap:i}),!a.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(rp,{style:{marginBottom:24,background:"transparent",boxShadow:"none"},className:"input"},r.a.createElement(tp,{onSubmit:t,className:"extract-xml"},r.a.createElement(gn.a.Item,{style:{display:"inline-block",width:"100%",marginBottom:0}},p("url",{rules:[{required:!0,message:" ",validator:function(e,t,n){Object($.e)(t)||n("dynamic error"),n()}}]})(r.a.createElement(ap,{placeholder:"https://www.mywebsite.com/sitemap.xml",size:"large",style:{borderRadius:"3px 0px 0px 3px",height:46,fontWeight:500},suffix:r.a.createElement(u.a,{type:"primary",htmlType:"submit",style:{right:0,display:"inline-block",borderRadius:"0px 3px 3px 0px",height:46,boxShadow:"none",fontWeight:600,fontSize:"1rem",letterSpacing:"-.02rem"}},Bc("xml"),r.a.createElement("span",{style:{marginLeft:12}},"Import"))})))),r.a.createElement("p",{style:{fontSize:13,color:"#7B868C",marginBottom:-12}},"* Don't know the sitemap URL? Use your website instead and we'll try and find it for you!"),o&&r.a.createElement(Kn.a,{style:{marginTop:36,textAlign:"center",marginBottom:-12},message:r.a.createElement(c.b,{style:{fontWeight:500,fontSize:"0.9rem",display:"block",textAlign:"center"},to:"/organizations/new"},"Limited to first 50 pages. Upgrade to one of our paid plans to import up to 5,000 pages."),showIcon:!0,type:"info"})),r.a.createElement("div",{style:{marginBottom:24,fontSize:13,color:"#323E48"}},r.a.createElement(wt.a,{style:{color:"#5B6670"}},"or import from file")),r.a.createElement(rp,{className:"upload"},r.a.createElement(np,Object.assign({customRequest:this.customRequest},this.uploadProps,{accept:".xml",showUploadList:!1,disabled:a.file.uploading}),r.a.createElement(mn.a,null,r.a.createElement(Qn.a,{span:24},r.a.createElement(Ie.a,{style:{border:"none",margin:"auto",padding:24}},r.a.createElement("div",{style:{margin:"auto",fontSize:13}},a.file.uploading&&!a.file.uploaded&&r.a.createElement(ke.a,{type:"circle",percent:a.file.progress,width:112,strokeWidth:4,className:"sitemap-circle-upload-progress"}),!a.file.uploading&&!a.file.uploaded&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"cloud-upload",style:{color:"#00A7E1",fontSize:60,marginBottom:18}}),r.a.createElement("p",{style:{marginBottom:8,fontSize:"1rem",fontWeight:500,letterSpacing:"-.02rem"}},"Drag and drop an XML sitemap file to upload"),r.a.createElement("a",{style:{fontSize:"1rem",fontWeight:500,letterSpacing:"-.02rem",color:"#00A7E1"}},"or browse instead"),r.a.createElement("p",{className:"ant-upload-hint",style:{marginTop:12}},"XML files only. 5mb max file size.")))))))))))}}]),n}(r.a.Component);function op(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var cp=function(e){Object(b.a)(n,e);var t=op(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={lastImported:null},e.handleSubmit=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i,o,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),!e.props.sitemaps.processing.xml.id){t.next=4;break}return t.abrupt("return",!1);case 4:a=e.props,r=a.userId,i=a.inUserAccount,o=a.form,c=a.processNewSitemap,o.validateFieldsAndScroll(function(){var e=Object(g.a)(f.a.mark(function e(t,n){var a,o,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=2;break}return e.abrupt("return",console.log("ERROR",t));case 2:a=Object(Hc.getFirestore)(),o=n.url,s=i?a.doc("sitemaps_processing/".concat(r)):a.collection("sitemaps_processing").doc(),c({type:"xml",url:o,file:null,options:null,update:"Retrieving sitemap"},s.id),Dt.a.getInstance().logEvent("NEW_SITEMAP_XML_URL");case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}());case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:_c(this.props)&&this.props.clearProcessedXml();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){("xml"===this.props.tab&&(document.title="Import from XML - Rarchy"),"xml"===this.props.tab)&&(_c(this.props)&&this.props.clearProcessedXml());if("xml"!==this.props.tab&&"xml"===e.tab){var t=this.props.sitemaps.processing.xml;t&&"xml"===t.type&&t.processed&&this.props.clearProcessedXml()}var n=Wc(this.props,e);if(n&&n.sitemap&&"xml"===n.sitemap.type)return this.props.processingXml(n.sitemap)}},{key:"componentWillUnmount",value:function(){var e=this.props.sitemaps.processing.xml;e&&"xml"===e.type&&e.processed&&this.props.clearProcessedXml()}},{key:"render",value:function(){var e=this.props,t=e.form,n=e.sitemaps,a=e.inUserAccount,i=e.userId,o=e.processNewSitemap,c=e.uploadingXmlFile,s=e.uploadingXmlFileProgress,l=e.uploadedXmlFile,u=e.uploadingXmlFileError,p=n.processing.xml;return r.a.createElement(ip,{onSubmit:this.handleSubmit,form:t,userId:i,processNewSitemap:o,inUserAccount:a,uploadingXmlFile:c,uploadingXmlFileProgress:s,uploadedXmlFile:l,uploadingXmlFileError:u,processing:p,clearProcessedSitemap:this.props.clearProcessedXml,hitSitemapsLimit:this.props.hitSitemapsLimit})}}]),n}(r.a.Component),sp=Object(x.g)(gn.a.create({name:"extract_xml"})(cp)),lp=Object(Z.d)(Object(Ce.firestoreConnect)(function(e,t){var n=t.getState().user;return[{collection:"sitemaps_processing",where:[["createdBy","==",n.id],["team","==",n.token.team],["type","==","xml"]],limit:1}]}),Object(s.b)(function(e){return Object(j.a)({},e,{userId:e.user.id,teamId:e.user.token.team,inUserAccount:!e.organization.id,inOrganization:!!e.organization.id,hitSitemapsLimit:Gc(e)})},{processNewSitemap:N.i,uploadingXmlFile:N.E,uploadingXmlFileProgress:N.G,uploadedXmlFile:N.A,uploadingXmlFileError:N.F,processingXml:N.o,processedXml:N.l,clearProcessedXml:N.e}))(sp);function up(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function pp(){var e=Object(w.a)(["\n    // border: none !important;\n    border-radius: 5px !important;\n    .ant-upload {\n        min-height: 250px !important;\n        padding: 0 !important;\n        background: white !important;\n    }\n"]);return pp=function(){return e},e}function dp(){var e=Object(w.a)([" \n  background: transparent !important;\n  border: none !important;\n  border-radius: 5px !important;\n  // box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05); \n  min-width: 750px !important;\n  max-width: 750px !important;\n  margin: auto !important;\n  .ant-card-body {\n    padding: 0px; \n  }\n"]);return dp=function(){return e},e}function mp(){var e=Object(w.a)(["\n  margin: auto;\n  padding: 24px;\n  min-width: 750px !important;\n  max-width: 750px !important;\n  &.processing {\n    // min-width: unset !important;\n  }\n"]);return mp=function(){return e},e}function fp(){var e=Object(w.a)(["\n  height: calc(100vh - 138px) !important;\n  width: unset;\n  > div {\n    margin: auto;\n    display: flex;\n  }\n"]);return fp=function(){return e},e}var gp=Gu.a.Dragger,hp=Object(R.a)(bn.Scrollbars)(fp()),vp=Object(R.a)("div")(mp()),bp=Object(R.a)(Ie.a)(dp()),yp=Object(R.a)(gp)(pp()),Ep=function(e){Object(b.a)(n,e);var t=up(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.uploadProps,n=e.customRequest,a=e.processing,i=e.clearProcessedSitemap,o=e.inUserAccount,s=e.hitSitemapsLimit;if(!a.id){if(s&&s.upgrade)return r.a.createElement(Vr,{importing:!0});if(s&&s.limit)return r.a.createElement(Zr,{importing:!0})}return r.a.createElement(hp,null,r.a.createElement(vp,{className:a.id&&"processing"},a.id&&r.a.createElement(Uc,{processing:a,clearProcessedSitemap:i}),!a.id&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bp,{bordered:!1},r.a.createElement(yp,Object.assign({customRequest:n},t,{accept:".csv, .txt",showUploadList:!1,disabled:a.uploading}),r.a.createElement(mn.a,null,r.a.createElement(Qn.a,{span:24},r.a.createElement(Ie.a,{style:{border:"none",margin:"auto",padding:24}},r.a.createElement("div",{style:{margin:"auto",fontSize:13}},a.uploading&&!a.uploaded&&r.a.createElement(ke.a,{type:"circle",percent:a.progress,width:112,strokeWidth:4,className:"sitemap-circle-upload-progress"}),!a.uploading&&!a.uploaded&&r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"cloud-upload",style:{color:"#00A7E1",fontSize:60,marginBottom:18}}),r.a.createElement("p",{style:{marginBottom:8,fontSize:"1rem",fontWeight:500,letterSpacing:"-.02rem"}},"Drag and drop a file to upload"),r.a.createElement("a",{style:{fontSize:"1rem",fontWeight:500,letterSpacing:"-.02rem",color:"#00A7E1"}},"or browse instead"),r.a.createElement("p",{className:"ant-upload-hint",style:{marginTop:18}},"CSV/TXT files only. 5mb max file size."))))))),!a.uploading&&!a.uploaded&&r.a.createElement("p",{className:"ant-upload-hint",style:{marginTop:30,fontSize:15,fontWeight:500}},r.a.createElement(c.b,{to:"/files/Rarchy - Example Import CSV Format.csv",target:"_blank",download:!0},"View example file"))),o&&r.a.createElement(Kn.a,{style:{marginTop:24,textAlign:"center",width:750},message:r.a.createElement(c.b,{style:{fontWeight:500,fontSize:"0.9rem",display:"block",textAlign:"center"},to:"/organizations/new"},"Limited to first 50 pages. Upgrade to one of our paid plans to import up to 5,000 pages."),showIcon:!0,type:"info"}))))}}]),n}(r.a.Component);function Op(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var wp=function(e){Object(b.a)(n,e);var t=Op(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){_c(a.props)&&a.props.clearProcessedCsv()},a.uploadProps={name:"csv",accept:".csv, .txt",action:function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),beforeUpload:function(e,t){var n=1===t.length,a=e.type.includes("text"),r=e.size/1024/1024<5;return n&&a&&r},onStart:function(){a.props.uploadingCsvFile()},onProgress:function(e){a.props.uploadingCsvFileProgress(e)},onSuccess:function(e){setTimeout(function(){a.props.uploadedCsvFile();a.props.processNewSitemap({type:"csv",url:null,file:null,options:null,update:"Processing your file"},e),Dt.a.getInstance().logEvent("NEW_SITEMAP_CSV_IMPORT")},1e3)},onError:function(e){a.props.uploadingCsvFileError(e)}},a.customRequest=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r,i,o,c,s,l,u,p;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.file,r=t.onError,i=t.onSuccess,o=t.onProgress,c=a.props,s=c.inUserAccount,l=c.userId,u=Object(Hc.getFirestore)(),p=s?u.doc("sitemaps_processing/".concat(l)):u.collection("sitemaps_processing").doc(),Object(Ce.getFirebase)().storage().ref().child("sitemaps_processing/csv/".concat(p.id,".csv")).put(n).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);o(t=t<1?1:t)},function(e){r(e)},function(){i(p.id)});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.state={lastImported:null},a}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){("csv"===this.props.tab&&(document.title="Import from CSV - Rarchy"),"csv"===this.props.tab&&this.props.tab!==e.tab)&&(_c(this.props)&&this.props.clearProcessedCsv());if("csv"!==this.props.tab&&"csv"===e.tab){var t=this.props.sitemaps.processing.csv;t&&"csv"===t.type&&t.processed&&this.props.clearProcessedCsv()}var n=Wc(this.props,e);n&&n.sitemap&&"csv"===n.sitemap.type&&this.props.processingCsv(n.sitemap)}},{key:"componentWillUnmount",value:function(){var e=this.props.sitemaps.processing.csv;e&&"csv"===e.type&&e.processed&&this.props.clearProcessedCsv()}},{key:"render",value:function(){var e=this.props,t=e.sitemaps,n=e.inUserAccount,a=t.processing.csv;return r.a.createElement(Ep,{uploadProps:this.uploadProps,customRequest:this.customRequest,uploadingCsvFile:N.B,uploadingCsvFileProgress:N.D,uploadedCsvFile:N.z,uploadingCsvFileError:N.C,processing:a,clearProcessedSitemap:this.props.clearProcessedCsv,inUserAccount:n,hitSitemapsLimit:this.props.hitSitemapsLimit})}}]),n}(r.a.Component),xp=Object(x.g)(Object(Z.d)(Object(Ce.firestoreConnect)(function(e,t){var n=t.getState().user;return[{collection:"sitemaps_processing",where:[["createdBy","==",n.id],["team","==",n.token.team],["type","==","csv"]],limit:1}]}),Object(s.b)(function(e){return Object(j.a)({},e,{userId:e.user.id,inUserAccount:!e.organization.id,hitSitemapsLimit:Gc(e)})},{processNewSitemap:N.i,uploadingCsvFile:N.B,uploadingCsvFileProgress:N.D,uploadedCsvFile:N.z,uploadingCsvFileError:N.C,processingCsv:N.n,processedCsv:N.k,clearProcessedCsv:N.d}))(wp));function jp(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Sp=uu.a.TabPane,Cp=function(e){Object(b.a)(n,e);var t=jp(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={tab:"crawl"},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.history.location.pathname.split("/").pop();this.setState({tab:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.history.location.pathname.split("/").pop();t&&t!==this.state.tab&&this.setState({tab:t})}},{key:"render",value:function(){var e=this;return r.a.createElement(fu,null,r.a.createElement(gu,null,"Import Sitemap"),r.a.createElement(hu,{activeKey:this.state.tab,animated:!0,onChange:function(t){e.setState({tab:t}),e.props.history.push("/sitemaps/".concat(t))}},r.a.createElement(Sp,{tab:"Crawl Website",key:"crawl"},r.a.createElement(Vu,{tab:this.state.tab})),r.a.createElement(Sp,{tab:"XML Sitemap",key:"xml"},r.a.createElement(lp,{tab:this.state.tab})),r.a.createElement(Sp,{tab:"CSV File",key:"csv"},r.a.createElement(xp,{tab:this.state.tab}))))}}]),n}(a.Component),Ap=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id})},{})(Cp)),kp=(n(389),n(179)),Rp=n(201),Dp=n.n(Rp),Ip=n(86),Tp=n.n(Ip);function Pp(){var e=Object(w.a)(["\n  font-size: 0.85rem;\n  font-weight: 500;\n  margin-bottom: 0px;\n  display: block; \n  text-align: left;\n  color: #5b6670 !important;\n  &.no-description {\n    color: #7B868C !important;\n    font-weight: 400;\n    font-style: italic;\n  }\n"]);return Pp=function(){return e},e}function Np(){var e=Object(w.a)(["\n  margin-right: 18px !important;\n  img {\n    object-fit: contain !important;\n  }\n  background: transparent !important;\n  text-transform: uppercase;\n"]);return Np=function(){return e},e}function Lp(){var e=Object(w.a)(["\n  max-width: 210px !important;\n  padding: 10px !important;\n  font-weight: 500 !important;\n  font-size: 0.95rem !important;\n  letter-spacing: -.02rem !important;\n  span {\n    color: #5B6670;\n  }\n  .anticon {\n    margin-left: 8px;\n    margin-right: 16px !important;\n  }\n  &:hover {\n    background: transparent !important;\n    span {\n      &:hover {\n       color: #1D252C !important;\n        .anticon {\n          color: #00A7E1;\n        }\n      }\n    }\n  }"]);return Lp=function(){return e},e}function Fp(){var e=Object(w.a)(["\n.ant-dropdown-menu-item-group-title {\n  font-size: 13px;\n  padding: 5px 18px;\n}\n.ant-dropdown-menu-item-group-list {\n  margin: 0px;\n}\n"]);return Fp=function(){return e},e}function zp(){var e=Object(w.a)(["\n  height: calc(100vh - 225px) !important;\n  &.sitemaps-is-empty {\n    height: calc(100vh - 225px) !important;\n    > div {\n      display: flex;\n      margin: auto;\n      .ant-list {\n        display: flex;\n        margin: auto;\n      }\n    }\n  }\n"]);return zp=function(){return e},e}function Mp(){var e=Object(w.a)(["\n  font-weight: 500;\n  .ant-dropdown-menu-item {\n    padding: 6px 18px;\n    font-weight: 500;\n    &.delete {\n      color: #e7004c !important;\n    }\n  }\n"]);return Mp=function(){return e},e}function Bp(){var e=Object(w.a)(["\n  font-size: 24px !important;\n  margin: auto !important;\n  margin-right: -6px !important;\n  width: 42px !important;\n  height: 36px !important;\n  display: flex;\n  visibility: hidden;\n  align-items: center;\n  justify-content: center;\n  border-radius: 5px;\n  &:hover {\n    color: #00A7E1 !important;\n    background: aliceblue !important;\n  }\n  &.header {\n    svg {\n      float: left;\n      position: relative;\n    }\n  }\n"]);return Bp=function(){return e},e}function Up(){var e=Object(w.a)(["\n  padding: 0px 10px !important;\n  @media (max-width: 576px) {\n    padding: 0px 5px !important;\n  }\n  color: #7b868c;\n  font-size: 13px;\n  border-bottom: 0 !important;\n  span {\n    font-weight: 600;\n    color: #5B6670;\n    font-size: 0.95rem !important;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n  }\n  &:hover {\n    cursor: pointer;\n  }\n  .ant-col {\n    padding: 12px 0px;\n    @media (max-width: 576px) {\n      padding: 10px !important;\n    }\n  }\n  .anticon {\n    margin-top: 3px !important;\n  }\n"]);return Up=function(){return e},e}function Wp(){var e=Object(w.a)(["\n  display: flex;\n  // justify-content: space-between;\n  font-size: 0.9rem !important;\n  padding: 0px 24px !important;\n  height: 80px;\n  border-radius: 5px;\n  margin-bottom: 12px;\n  @media (max-width: 576px) {\n    padding: 12px 5px !important;\n  }\n  background: white;\n  margin-top: none !important;\n  border-top: 0 !important;\n  box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05) !important;\n  &:hover {\n    cursor: pointer;\n    .menu {\n      visibility: visible;\n    }\n  }\n  font-size: 0.85rem;\n  color: #5b6670;\n  .ant-col {\n    display: flex;\n    overflow: hidden !important;\n    text-overflow: ellipsis !important;\n    white-space: nowrap !important;\n    &:last-child {\n      text-overflow: initial !important;\n      @media (max-width: 576px) {\n        width: 22px !important;\n      }\n    }\n  }\n  .sitemap-name {\n    text-overflow: ellipsis;\n    overflow: hidden;\n    font-weight: 500 !important;\n    color: #00a7e1 !important;\n    &.archived {\n      color: #5B6670 !important;\n    }\n    font-size: 0.975rem !important;\n    letter-spacing: -.02rem !important;\n    div {\n      display: inline-block !important;\n      overflow: hidden !important;\n      text-overflow: ellipsis !important;\n      vertical-align: bottom !important;\n      &:hover {\n        text-decoration: underline !important;\n      }\n    }\n    &:hover {\n      .anticon {\n        display: inline-block;\n        vertical-align: middle !important;\n      }\n    }\n    .anticon {\n      color: #c1c5c8 !important;\n      vertical-align: text-top !important;\n      display: none;\n      &:hover {\n        color: #5b6670 !important;\n      }\n    }\n  }\n  .sitemap-domain {\n    display: block;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    color: #919191;\n    font-size: 0.9rem !important;\n    letter-spacing: -.02rem !important;\n    div {\n      display: inline-block !important;\n      overflow: hidden !important;\n      text-overflow: ellipsis !important;\n      vertical-align: bottom !important;\n    }\n    &:hover {\n      .anticon {\n        display: inline-block;\n      }\n    }\n    .anticon {\n      font-size: 12px !important;\n      margin-right: 6px !important;\n      color: #929292 !important;\n    }\n  }\n  &.loader {\n    padding: 6px 10px !important;\n  }\n\n  &.grid {\n    height: 220px;\n    padding: 12px !important;\n    .top-row {\n      display: inline-flex;\n      .ant-avatar {\n        margin: 3px 12px 0px -24px !important;\n      }\n      .menu.grid {\n        position: absolute;\n        top: 12px;\n        right: 24px;\n      }\n    }\n  }\n"]);return Wp=function(){return e},e}function _p(){var e=Object(w.a)(["\n  background: #EEEFEF !important;\n  // margin-left: -12px !important;\n  // margin-right: 3px !important;\n  margin-right: -0.5rem;\n  color: #00A7E1 !important;\n  font-weight: 500;\n  &:hover {\n    background: #e0e0e0 !important;\n  }\n"]);return _p=function(){return e},e}function Vp(){var e=Object(w.a)(["\n  padding: 0px 24px !important;\n  min-width: 1100px !important;\n  width: 100% !important;\n  margin: auto !important;\n  margin-top: 0px !important;\n  background: white !important;\n"]);return Vp=function(){return e},e}Object(R.a)("div")(Vp());var Gp=Object(R.a)(Q.a)(_p()),Hp=Object(R.a)(fn.a.Item)(Wp()),Yp=(Object(R.a)(fn.a.Item)(Up()),Object(R.a)(l.a)(Bp())),Xp=Object(R.a)(J.a)(Mp()),Zp=Object(R.a)(bn.Scrollbars)(zp()),Kp=Object(R.a)(J.a.ItemGroup)(Fp()),Qp=Object(R.a)(J.a.Item)(Lp()),qp=(Object(R.a)(Q.a)(Np()),vn.a.Paragraph),Jp=Object(R.a)(qp)(Pp()),$p=function(e){var t=e.view,n=e.sitemapsCount;return r.a.createElement(r.a.Fragment,null,"list"===t&&r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:Object(p.a)(Array(n).keys()),renderItem:function(){return r.a.createElement(mn.a,{style:{width:"100%",margin:0},gutter:16},r.a.createElement(Hp,{className:"grow",style:{background:"white"}},r.a.createElement(Tp.a,{circle:!0,height:36,width:36}),r.a.createElement("div",{style:{marginTop:6,marginLeft:24,width:233,display:"block",overflow:"hidden",textAlign:"left"}},r.a.createElement(Tp.a,null),r.a.createElement("div",{style:{marginTop:3}},r.a.createElement(Tp.a,{width:150,height:10}))),r.a.createElement("div",{style:{marginTop:-3,marginLeft:40,width:100}},r.a.createElement(Tp.a,{width:50,height:7.5}),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(Tp.a,null))),r.a.createElement("div",{style:{marginTop:-3,marginLeft:24,width:100}},r.a.createElement(Tp.a,{width:50,height:7.5}),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(Tp.a,null))),r.a.createElement("div",{style:{marginTop:-3,marginLeft:0,width:150}},r.a.createElement(Tp.a,{width:75,height:7.5}),r.a.createElement("div",{style:{marginTop:-5,marginLeft:6}},r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})))),r.a.createElement("div",{style:{marginTop:-3,marginLeft:18,width:320}},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(Tp.a,{width:70,height:7.5})),r.a.createElement(Tp.a,null))))}}),"grid"===t&&r.a.createElement(fn.a,{grid:{gutter:16,column:3},dataSource:Object(p.a)(Array(n).keys()),renderItem:function(){return r.a.createElement(Hp,{className:"grow grid",style:{background:"white"}},r.a.createElement("div",{className:"top-row",style:{marginLeft:-24}},r.a.createElement(Tp.a,{circle:!0,height:36,width:36}),r.a.createElement("div",{style:{marginTop:3,marginLeft:9,width:250,display:"block",overflow:"hidden",textAlign:"left"}},r.a.createElement(Tp.a,null),r.a.createElement("div",{style:{marginTop:3}},r.a.createElement(Tp.a,{width:150,height:10})))),r.a.createElement("div",{style:{marginTop:24,marginLeft:15,width:320}},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(Tp.a,{width:70,height:7.5})),r.a.createElement(Tp.a,null)),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:27}},r.a.createElement("div",{style:{marginLeft:15,width:150}},r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(Tp.a,{width:75,height:7.5})),r.a.createElement("div",{style:{marginTop:-5,marginLeft:-3,textAlign:"left"}},r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})),r.a.createElement("div",{style:{display:"inline-block",marginRight:"-.25rem"}},r.a.createElement(Tp.a,{circle:!0,width:25,height:25})))),r.a.createElement("div",{style:{marginTop:3,marginLeft:0,width:100}},r.a.createElement(Tp.a,{width:50,height:7.5}),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(Tp.a,null))),r.a.createElement("div",{style:{marginTop:3,marginLeft:24,marginRight:12,width:100}},r.a.createElement(Tp.a,{width:50,height:7.5}),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(Tp.a,null)))))}}))},ed=function(e){var t=e.sitemap,n=e.showEditSitemapModal,a=t.collaborators;a||(a=[]);for(var i=I.a.compact(a.map(function(e){return e?r.a.createElement(Gp,{className:"avatar-md avatar-border",key:e.id,src:Object($.a)({user:e}),onClick:function(){n&&n(Object(j.a)({},t,{tab:"collaborators"}))}}):null})),o=5-i.length,c=[],s=0;s<o;s++)c.push(r.a.createElement(Gp,{className:"avatar-md avatar-border",key:"placeholder-".concat(s),onClick:function(){n&&n(Object(j.a)({},t,{tab:"collaborators"}))}}));if(o<=0){for(var l=0;l<Math.abs(o-1);l++)i.pop();i.push(r.a.createElement(Gp,{className:"avatar-md avatar-border",key:"placeholder-0",onClick:function(){n&&n(Object(j.a)({},t,{tab:"collaborators"}))}},"+".concat(Math.abs(o-1))))}return I.a.merge([i,c])};function td(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function nd(){var e=Object(w.a)(["\n  color: #00A7E1 !important;\n  font-size: 1.1rem !important;\n  letter-spacing: -.02rem !important;\n  font-weight: 600 !important;\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return nd=function(){return e},e}function ad(){var e=Object(w.a)(["\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return ad=function(){return e},e}var rd=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),id=kt.a.confirm;kp.a.config({placement:"bottomLeft"});var od=kp.a,cd=kp.a,sd=Object(R.a)(c.b)(ad()),ld=R.a.a(nd()),ud=function(e){Object(b.a)(n,e);var t=td(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).menu=function(t){var n=e.props,a=n.inOrganization,i=n.showEditSitemapModal;return r.a.createElement(Xp,null,r.a.createElement(J.a.Item,{key:"view"},r.a.createElement("a",{style:{textAlign:"center"},onClick:function(){e.props.history.push("/s/"+t.id)}},"View")),r.a.createElement(J.a.Item,{key:"edit"},r.a.createElement("a",{style:{textAlign:"center"},onClick:function(){i(t)}},"Edit")),a&&r.a.createElement(J.a.Item,{key:t.id,onClick:function(n){e.props.archiveSitemaps({sitemapId:t.id}),od.open({message:r.a.createElement("span",null,"Sitemap was archived.",r.a.createElement("a",{onClick:function(){e.props.restoreSitemaps({sitemapId:t.id}),od.destroy(),cd.open({message:r.a.createElement("span",null,"Sitemap restored."),duration:2,className:"sitemap-archived-notification restored"})}},"Undo")),duration:3,className:"sitemap-archived-notification"})}},r.a.createElement("a",{className:"red",style:{textAlign:"center"}},"Archive")),!a&&r.a.createElement(J.a.Item,{className:"delete",key:"delete",onClick:function(){return e.showConfirm()}},r.a.createElement("a",{style:{textAlign:"center"},className:"red"},"Delete")))},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Active Sitemaps - Rarchy";var e=this.props,t=e.organization,n=e.sitemaps.active.loaded;if(!n)return this.props.setActiveSitemaps();if(t.id&&n){var a=ka(this.props,"active");I.a.isEmpty(a)||this.props.retrieveActiveSitemaps(a)}}},{key:"showConfirm",value:function(){var e=this.props.deleteUserSitemap;id({title:"Are you sure you wish to delete this sitemap?",content:"This sitemap will be deleted immediately and forever.",okText:"Delete",width:450,onOk:function(){e()},className:"delete-sitemap-confirmation centered-modal ".concat(!this.props.ui.sideMenu.collapsed&&"sidemenu-showing"),icon:"exclamation-circle"})}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemaps,a=t.browser,i=t.organization,o=t.showEditSitemapModal,s=t.activeSitemapsCount,u=n.active,p=u.loaded,d=u.data,m=u.loading,f=!m&&(p&&d.length<1||s<1);return r.a.createElement(Zp,{className:f&&"sitemaps-is-empty"},f&&r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:[],locale:{emptyText:r.a.createElement("div",null,r.a.createElement("div",{style:{marginBottom:24}},r.a.createElement(q.a,{overlayClassName:"create-sitemap-dropdown",overlay:r.a.createElement(J.a,{style:{marginBottom:6,marginTop:24},onClick:function(e){return e.domEvent.stopPropagation()}},r.a.createElement(Kp,{key:"build",title:"Build Sitemap"},r.a.createElement(Qp,{key:"new",onClick:function(){return Yc(e.props)}},r.a.createElement("span",null,r.a.createElement(l.a,{type:"plus"}),"New Sitemap"))),r.a.createElement(Kp,{key:"import",title:"Import Sitemap"},r.a.createElement(Qp,{key:"crawl"},r.a.createElement(c.b,{to:"/sitemaps/crawl"},r.a.createElement("span",{style:{color:"unset"}},r.a.createElement(rd,{type:"icon-crawler"}),"Crawl Website"))),r.a.createElement(Qp,{key:"xml"},r.a.createElement(c.b,{to:"/sitemaps/xml"},r.a.createElement("span",null,r.a.createElement(rd,{type:"icon-filexml"}),"Import from XML"))),r.a.createElement(Qp,{key:"file"},r.a.createElement(c.b,{to:"/sitemaps/csv"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"file-text"}),"Import from CSV"))))),trigger:["click"],placement:"bottomRight"},r.a.createElement(ld,null,"Create your first sitemap"))),r.a.createElement("img",{alt:"",src:Dp.a,style:{width:"25%",marginBottom:24}}))}}),m&&!f&&r.a.createElement($p,{view:n.view,sitemapsCount:i.id?s:1}),p&&!f&&"list"===n.view&&r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:d||[],renderItem:function(t){return t&&r.a.createElement(mn.a,{style:{width:"100%",margin:0},gutter:16},r.a.createElement(Hp,{className:"grow",style:{background:"white"}},r.a.createElement(Q.a,{size:"large",src:Object($.b)(t),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,t)),!1},style:{margin:"0px 24px 0px 0px"}}),r.a.createElement("div",{style:{width:250,display:"block",overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(sd,{to:"/s/".concat(t.id),className:"sitemap-name"},t.name),r.a.createElement("div",{className:"sitemap-domain"},t.domain.replace(/(^\w+:|^)\/\//,""))),r.a.createElement("div",{style:{marginLeft:24,width:100}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",justifyContent:"center"}},"Created"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.created).format("LLL")},In(t.created).format("ll"))),r.a.createElement("div",{style:{marginLeft:24,width:100}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",justifyContent:"center"}},"Modified"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.modified).format("LLL")},In(t.modified).fromNow())),r.a.createElement("div",{style:{marginLeft:0,width:150}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-1,marginBottom:4,display:"flex",justifyContent:"center"}},"Shared with"),r.a.createElement("div",null,ed({sitemap:t,showEditSitemapModal:o}))),r.a.createElement("div",{style:{marginLeft:18,width:300}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:6,marginBottom:6,display:"flex",justifyContent:"flex-start"}},"Description"),r.a.createElement(Jp,{title:t.description,ellipsis:!0,className:!t.description&&"no-description"},t.description?t.description:"Add a short description about this project")),r.a.createElement(q.a,{overlay:e.menu(t),trigger:["click"],placement:"bottomRight"},r.a.createElement(Yp,{className:"menu",type:(a.greaterThan.small,"more")}))))}}),p&&!f&&"grid"===n.view&&r.a.createElement(fn.a,{grid:{gutter:16,column:3},dataSource:d||[],renderItem:function(t){return t&&r.a.createElement(Hp,{className:"grow grid",style:{background:"white"}},r.a.createElement("div",{className:"top-row"},r.a.createElement(Q.a,{size:"large",src:Object($.b)(t),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,t)),!1},style:{margin:"0px 24px 0px 0px"}}),r.a.createElement("div",{style:{width:250,display:"block",overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(sd,{to:"/s/".concat(t.id),className:"sitemap-name"},t.name),r.a.createElement("div",{className:"sitemap-domain"},t.domain.replace(/(^\w+:|^)\/\//,""))),r.a.createElement(q.a,{overlay:e.menu(t),trigger:["click"],placement:"bottomRight"},r.a.createElement(Yp,{className:"menu grid",type:"more"}))),r.a.createElement("div",{style:{marginLeft:12,marginTop:30,width:300}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",alignContent:"start"}},"Description"),r.a.createElement(Jp,{title:t.description,ellipsis:!0,className:!t.description&&"no-description"},t.description?t.description:"Add a short description about this project")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:24}},r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:3,display:"flex",alignItems:"flex-start"}},"Shared with"),r.a.createElement("div",{style:{display:"flex",alignContent:"start",marginLeft:-3}},ed({sitemap:t,showEditSitemapModal:o}))),r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:8}},"Created"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.created).format("LLL")},In(t.created).format("ll"))),r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:8}},"Modified"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.modified).format("LLL")},In(t.modified).fromNow()))))}}))}}]),n}(a.Component),pd=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id,activeSitemapsCount:wa(e)})},{setActiveSitemaps:N.s,archiveSitemaps:N.a,restoreSitemaps:N.p,retrieveActiveSitemaps:N.q,deleteUserSitemap:N.f,sortActiveSitemaps:N.v,showEditSitemapModal:F.c})(ud));function dd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function md(){var e=Object(w.a)(["\n  &:hover {\n  }\n"]);return md=function(){return e},e}var fd=R.a.span(md()),gd=function(e){Object(b.a)(n,e);var t=dd(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).menu=function(t){var n=e.props.browser;return r.a.createElement(Xp,{style:{textAlign:"center"}},r.a.createElement(J.a.Item,{key:"restore#".concat(t.id),onClick:function(){Gc(e.props)||(e.props.restoreSitemaps({sitemapId:t.id}),kp.a.open({message:r.a.createElement("span",null,"Sitemap was restored.",r.a.createElement("a",{onClick:function(){e.props.history.push("/s/".concat(t.id)),kp.a.destroy()}},"View")),duration:3,className:"sitemap-archived-notification"}))}},r.a.createElement("a",null,"Restore")),n.lessThan.medium&&r.a.createElement(J.a.Item,{key:"collaborators"},"Collaborators"))},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){if(document.title="Archived Sitemaps - Rarchy",!this.props.sitemaps.archived.loaded)return this.props.setArchivedSitemaps();var e=ka(this.props,"archived");I.a.isEmpty(e)||this.props.retrieveArchivedSitemaps(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemaps,a=t.browser,i=t.archivedSitemapsCount,o=n.archived,c=o.loaded,s=o.data,l=o.loading,u=c&&s.length<1||i<1;return r.a.createElement(Zp,{className:u&&"sitemaps-is-empty"},u&&r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:[],locale:{emptyText:r.a.createElement("div",null,r.a.createElement("img",{alt:"",src:Dp.a,style:{width:"25%",marginBottom:24}}),r.a.createElement("div",{style:{fontSize:16,color:"#7B868C"}},"You don't have any archived sitemaps"))}}),l&&!u&&r.a.createElement($p,{view:n.view,sitemapsCount:i}),c&&!u&&"list"===n.view&&r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:s||[],renderItem:function(t){return t&&r.a.createElement(mn.a,{style:{width:"100%",margin:0},gutter:16},r.a.createElement(Hp,{className:"grow",style:{background:"white"}},r.a.createElement(Q.a,{size:"large",src:Object($.b)(t),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,t)),!1},style:{margin:"0px 24px 0px 0px"}}),r.a.createElement("div",{style:{width:250,display:"block",overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(fd,{className:"sitemap-name"},t.name),r.a.createElement("div",{className:"sitemap-domain"},t.domain.replace(/(^\w+:|^)\/\//,""))),r.a.createElement("div",{style:{marginLeft:24,width:100}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",justifyContent:"center"}},"Archived"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.archived).format("LLL")},In(t.archived).format("ll"))),r.a.createElement("div",{style:{marginLeft:24,width:100}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",justifyContent:"center"}},"Deleting"),r.a.createElement("div",{className:"red",style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.deleting).format("LLL")},In(t.deleting).fromNow())),r.a.createElement("div",{style:{marginLeft:0,width:150}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-1,marginBottom:4,display:"flex",justifyContent:"center"}},"Shared with"),r.a.createElement("div",null,ed({sitemap:t}))),r.a.createElement("div",{style:{marginLeft:18,width:300}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:6,marginBottom:6,display:"flex",justifyContent:"flex-start"}},"Description"),r.a.createElement(Jp,{title:t.description,ellipsis:!0,className:!t.description&&"no-description"},t.description?t.description:"-")),r.a.createElement(q.a,{overlay:e.menu(t),trigger:["click"],placement:"bottomRight"},r.a.createElement(Yp,{className:"menu",type:(a.greaterThan.small,"more")}))))}}),c&&!u&&"grid"===n.view&&r.a.createElement(fn.a,{grid:{gutter:16,column:3},dataSource:s||[],renderItem:function(t){return t&&r.a.createElement(Hp,{className:"grow grid",style:{background:"white"}},r.a.createElement("div",{className:"top-row"},r.a.createElement(Q.a,{size:"large",src:Object($.b)(t),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,t)),!1},style:{margin:"0px 24px 0px 0px"}}),r.a.createElement("div",{style:{width:250,display:"block",overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(fd,{className:"sitemap-name"},t.name),r.a.createElement("div",{className:"sitemap-domain"},t.domain.replace(/(^\w+:|^)\/\//,""))),r.a.createElement(q.a,{overlay:e.menu(t),trigger:["click"],placement:"bottomRight"},r.a.createElement(Yp,{className:"menu grid",type:"more"}))),r.a.createElement("div",{style:{marginLeft:12,marginTop:30,width:300}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",alignContent:"start"}},"Description"),r.a.createElement(Jp,{title:t.description,ellipsis:!0,className:!t.description&&"no-description"},t.description?t.description:"-")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:24}},r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:3,display:"flex",alignItems:"flex-start"}},"Shared with"),r.a.createElement("div",{style:{display:"flex",alignContent:"start",marginLeft:-3}},ed({sitemap:t}))),r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:8}},"Archived"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.archived).format("LLL")},In(t.archived).format("ll"))),r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:8}},"Deleting"),r.a.createElement("div",{className:"red",style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.deleting).format("LLL")},In(t.deleting).fromNow()))))}}))}}]),n}(a.Component),hd=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id,archivedSitemapsCount:xa(e)})},{setArchivedSitemaps:N.t,retrieveArchivedSitemaps:N.r,restoreSitemaps:N.p,sortArchivedSitemaps:N.w})(gd));function vd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function bd(){var e=Object(w.a)(["\n  &:hover {\n    text-decoration: underline;\n  }\n"]);return bd=function(){return e},e}var yd=Object(R.a)(c.b)(bd()),Ed=function(e){Object(b.a)(n,e);var t=vd(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).menu=function(t){return r.a.createElement(Xp,null,r.a.createElement(J.a.Item,{key:"view"},r.a.createElement("a",{style:{textAlign:"center"},onClick:function(){e.props.history.push("/s/"+t.id)}},"View")))},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){if(document.title="Sitemaps (Shared with me) - Rarchy",!this.props.sitemaps.shared.loaded)return this.props.setCollaboratingSitemaps()}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemaps,a=t.browser,i=t.sharedSitemapsCount,o=n.shared,c=o.loaded,s=o.data,l=o.loading,u=c&&s.length<1||i<1;return r.a.createElement(Zp,{className:u&&"sitemaps-is-empty"},u&&r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:[],locale:{emptyText:r.a.createElement("div",null,r.a.createElement("img",{alt:"",src:Dp.a,style:{width:"25%",marginBottom:24}}),r.a.createElement("div",{style:{fontSize:16,color:"#7B868C"}},"You aren't collaborating on any sitemaps"))}}),l&&!u&&r.a.createElement($p,{view:n.view,sitemapsCount:i}),c&&!u&&"list"===n.view&&r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:s||[],renderItem:function(t){return t&&r.a.createElement(mn.a,{style:{width:"100%",margin:0},gutter:16},r.a.createElement(Hp,{className:"grow",style:{background:"white"}},r.a.createElement(Q.a,{size:"large",src:Object($.b)(t),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,t)),!1},style:{margin:"0px 24px 0px 0px"}}),r.a.createElement("div",{style:{width:250,display:"block",overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(yd,{to:"/s/".concat(t.id),className:"sitemap-name"},t.name),r.a.createElement("div",{className:"sitemap-domain"},t.domain.replace(/(^\w+:|^)\/\//,""))),r.a.createElement("div",{style:{marginLeft:24,width:100}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",justifyContent:"center"}},"Created"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.created).format("LLL")},In(t.created).format("ll"))),r.a.createElement("div",{style:{marginLeft:24,width:100}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",justifyContent:"center"}},"Modified"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.modified).format("LLL")},In(t.modified).fromNow())),r.a.createElement("div",{style:{marginLeft:0,width:150}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-1,marginBottom:4,display:"flex",justifyContent:"center"}},"Shared with"),r.a.createElement("div",null,ed({sitemap:t}))),r.a.createElement("div",{style:{marginLeft:18,width:300}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:6,marginBottom:6,display:"flex",justifyContent:"flex-start"}},"Description"),r.a.createElement(Jp,{title:t.description,ellipsis:!0,className:!t.description&&"no-description"},t.description?t.description:"Add a short description about this project")),r.a.createElement(q.a,{overlay:e.menu(t),trigger:["click"],placement:"bottomRight"},r.a.createElement(Yp,{className:"menu",type:(a.greaterThan.small,"more")}))))}}),c&&!u&&"grid"===n.view&&r.a.createElement(fn.a,{grid:{gutter:16,column:3},dataSource:s||[],renderItem:function(t){return t&&r.a.createElement(Hp,{className:"grow grid",style:{background:"white"}},r.a.createElement("div",{className:"top-row"},r.a.createElement(Q.a,{size:"large",src:Object($.b)(t),onError:function(e){return e&&(e.persist(),e.target.src=Object($.c)(e,t)),!1},style:{margin:"0px 24px 0px 0px"}}),r.a.createElement("div",{style:{width:250,display:"block",overflow:"hidden",textAlign:"left",textOverflow:"ellipsis",whiteSpace:"nowrap"}},r.a.createElement(yd,{to:"/s/".concat(t.id),className:"sitemap-name"},t.name),r.a.createElement("div",{className:"sitemap-domain"},t.domain.replace(/(^\w+:|^)\/\//,""))),r.a.createElement(q.a,{overlay:e.menu(t),trigger:["click"],placement:"bottomRight"},r.a.createElement(Yp,{className:"menu grid",type:"more"}))),r.a.createElement("div",{style:{marginLeft:12,marginTop:30,width:300}},r.a.createElement("span",{style:{fontSize:13,fontWeight:500,color:"#919191",marginTop:-6,marginBottom:6,display:"flex",alignContent:"start"}},"Description"),r.a.createElement(Jp,{title:t.description,ellipsis:!0,className:!t.description&&"no-description"},t.description?t.description:"Add a short description about this project")),r.a.createElement("div",{style:{display:"flex",justifyContent:"space-around",marginTop:24}},r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:3,display:"flex",alignItems:"flex-start"}},"Shared with"),r.a.createElement("div",{style:{display:"flex",alignContent:"start",marginLeft:-3}},ed({sitemap:t}))),r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:8}},"Created"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.created).format("LLL")},In(t.created).format("ll"))),r.a.createElement("div",null,r.a.createElement("div",{style:{fontSize:13,fontWeight:500,color:"#919191",marginBottom:8}},"Modified"),r.a.createElement("div",{style:{fontSize:"0.85rem",fontWeight:500,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:In(t.modified).format("LLL")},In(t.modified).fromNow()))))}}))}}]),n}(a.Component),Od=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{sharedSitemapsCount:ja(e)})},{setCollaboratingSitemaps:N.u})(Ed));function wd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function xd(){var e=Object(w.a)(["\n  &.sort-sitemaps-select {\n    .ant-select-selection {\n      border-color: white;\n      box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1) !important;\n      font-weight: 500;\n    }\n  }\n"]);return xd=function(){return e},e}function jd(){var e=Object(w.a)(["\n    display: flex !important;\n    justify-content: flex-end !important;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.1);\n    border-radius: 5px;\n    .ant-radio-button-wrapper-checked {\n      &:hover {\n        color: white !important;\n      }\n      background-color: #00A7E1 !important;\n      border-color: #00A7E1 !important;\n      box-shadow: none !important;\n      &:focus-within {\n        box-shadow: none !important;\n        outline: none !important;\n      }\n    }\n    .ant-radio-button-wrapper {\n      border: none !important;\n      &:not(.ant-radio-button-wrapper-checked) {\n        &:hover {\n         path {\n          color: #00A7E1 !important;\n        }\n      }\n     }\n  }\n"]);return jd=function(){return e},e}function Sd(){var e=Object(w.a)(["\n    display: flex;\n    width: 100%;\n    margin: auto;\n    padding: 24px 0px;\n    flex: auto;\n    justify-content: flex-end;\n"]);return Sd=function(){return e},e}var Cd=Jn.a.Option,Ad=R.a.div(Sd()),kd=Object(R.a)(rn.a.Group)(jd()),Rd=Object(R.a)(Jn.a)(xd()),Dd=function(e){Object(b.a)(n,e);var t=wd(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSort=function(t){switch(e.props.sitemaps.tab){case"active":e.props.sortActiveSitemaps(t);break;case"archived":e.props.sortArchivedSitemaps(t);break;case"shared":e.props.sortCollaboratingSitemaps(t)}},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemaps,n=e.changeSitemapsView;return t?r.a.createElement(Ad,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Rd,{optionLabelProp:"label",className:"sort-sitemaps-select",value:t[t.tab].sortBy,style:{width:135,marginRight:24},onChange:this.handleSort},"archived"!==t.tab&&r.a.createElement(Cd,{key:"modifiedTimestamp",value:"modifiedTimestamp",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Modified")},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Modified")),"archived"!==t.tab&&r.a.createElement(Cd,{key:"createdTimestamp",value:"createdTimestamp",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Created")},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12,visiblity:"hidden"}}),"Created")),"archived"===t.tab&&r.a.createElement(Cd,{key:"deletingTimestamp",value:"deletingTimestamp",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Deleting")},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Deleting")),"archived"===t.tab&&r.a.createElement(Cd,{key:"archivedTimestamp",value:"archivedTimestamp",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Archived")},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12,visiblity:"hidden"}}),"Archived")),r.a.createElement(Cd,{key:"name",value:"name",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Name")},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Name")),r.a.createElement(Cd,{key:"domain",value:"domain",label:r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Domain")},r.a.createElement(r.a.Fragment,null,r.a.createElement(l.a,{type:"sort-ascending",style:{marginRight:12}}),"Domain"))),r.a.createElement(kd,{value:t.view,buttonStyle:"solid",onChange:function(e){return n(e.target.value)}},r.a.createElement(rn.a.Button,{value:"list"},r.a.createElement(l.a,{type:"unordered-list"})),r.a.createElement(rn.a.Button,{value:"grid"},r.a.createElement(l.a,{type:"appstore"}))))):null}}]),n}(a.Component),Id=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e)},{changeSitemapsView:N.b,sortActiveSitemaps:N.v,sortArchivedSitemaps:N.w,sortCollaboratingSitemaps:N.x})(Dd));function Td(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Pd=uu.a.TabPane,Nd=function(e){Object(b.a)(n,e);var t=Td(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){window.dataLayer.push({event:"sitemaps_view",sitemaps:{view:this.props.sitemapsView}})}},{key:"componentDidUpdate",value:function(e){var t=this.props.history.location.hash;if(t){var n=t.substring(1);"shared"===n&&"shared"!==e.sitemaps.tab&&this.props.switchSitemapsTab(n)}}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemaps,a=t.inOrganization;return r.a.createElement(fu,null,r.a.createElement(gu,null,r.a.createElement(r.a.Fragment,null,"active"===n.tab&&"Active Sitemaps","archived"===n.tab&&"Archived Sitemaps","shared"===n.tab&&"Shared with me")),r.a.createElement(hu,{className:"width-1160",activeKey:n.tab,animated:!0,onChange:function(t){"shared"===n.tab&&e.props.history.push("/sitemaps"),e.props.switchSitemapsTab(t)}},r.a.createElement(Pd,{tab:"Active",key:"active"},r.a.createElement(Id,null),"active"===n.tab&&r.a.createElement(pd,null)),a&&r.a.createElement(Pd,{tab:"Archived",key:"archived"},r.a.createElement(Id,null),"archived"===n.tab&&r.a.createElement(hd,null)),r.a.createElement(Pd,{tab:"Shared with me",key:"shared"},r.a.createElement(Id,null),"shared"===n.tab&&r.a.createElement(Od,null))))}}]),n}(a.Component),Ld=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id})},{switchSitemapsTab:N.y})(Nd));function Fd(){var e=Object(w.a)(["\n  margin: 0 !important;\n  color: #646464 !important;\n  font-size: 15px !important;\n"]);return Fd=function(){return e},e}function zd(){var e=Object(w.a)(["\n  margin: 0 !important;\n  color: #646464;\n  font-size: 15px !important;\n"]);return zd=function(){return e},e}function Md(){var e=Object(w.a)(["\n  margin: 0 !important;\n  border: 0 !important;\n  top: 0px !important;\n  padding: 0 11px !important;\n  height: 35px;\n  line-height: 35px;\n  border-radius: 3px;\n  vertical-align: unset !important;\n  &:hover {\n    // background: #f0f8ff !important;\n    color: #00a7e1 !important;\n    border: 0 !important;\n    .anticon {\n      color: #43A1EC !important;\n    }\n  }\n"]);return Md=function(){return e},e}var Bd=Object(R.a)(u.a)(Md()),Ud=Object(R.a)(l.a)(zd()),Wd=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),_d=Object(R.a)(Wd)(Fd()),Vd=n(137),Gd=n.n(Vd);function Hd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Yd=function(e){Object(b.a)(n,e);var t=Hd(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleUndoRedoKeydown=function(t){return 90===t.which&&t.ctrlKey||t.metaKey&&!t.shiftKey&&90===t.which?Xd(Object(j.a)({},e.props)):89===t.which&&t.ctrlKey||t.metaKey&&t.shiftKey&&90===t.which?Zd(Object(j.a)({},e.props)):void 0},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleUndoRedoKeydown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleUndoRedoKeydown,!1)}},{key:"render",value:function(){var e=this,t=this.props.sitemap;if(!t)return null;var n=t.history,a="full"===t.editLevel||"edit"===t.editLevel,i=n.undo.length>0?"":"disabled",o=n.redo.length>0?"":"disabled";return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{placement:"bottom",title:"Undo",align:{offset:[0,12]},mouseEnterDelay:1},r.a.createElement(Bd,{className:"ant-menu-item ".concat(i," undo-redo"),onClick:function(){if(a)return Xd(Object(j.a)({},e.props))}},r.a.createElement(_d,{type:"icon-undo"}))),r.a.createElement(K.a,{placement:"bottom",title:"Redo",align:{offset:[0,12]},mouseEnterDelay:1},r.a.createElement(Bd,{className:"ant-menu-item ".concat(o," undo-redo"),onClick:function(){if(a)return Zd(Object(j.a)({},e.props))}},r.a.createElement(_d,{type:"icon-redo"}))))}}]),n}(a.Component),Xd=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,r,i,o,c,s,l,u,p,d,m,g,h,v;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(Hc.getFirestore)(),a=t.sitemap,r=t.inUserSitemap,i=a.history,o=i.undo[i.undo.length-1]){e.next=6;break}return e.abrupt("return");case 6:return c=o.action,e.next=9,Object(Wt.b)(a.section?a.section:a.root);case 9:s=e.sent,l={},u={},p={},d={},m={},g={},e.t0=c,e.next="rename"===e.t0?15:"add"===e.t0?18:"remove"===e.t0?21:"clone"===e.t0?27:"reorder"===e.t0?31:34;break;case 15:return l[o.node]={name:o.data.oldName},d={id:(new Date).getTime(),data:[{id:o.node,name:o.data.oldName}]},e.abrupt("break",35);case 18:return delete s[o.node],d={id:(new Date).getTime(),data:[{action:"remove",id:o.node}]},e.abrupt("break",35);case 21:return l=Qd(o.data),d={id:(new Date).getTime(),data:o.data},u=qd(o.data),m={id:(new Date).getTime(),data:u},r||(p=Jd(o.data),g={id:(new Date).getTime(),data:p}),e.abrupt("break",35);case 27:return d={id:(new Date).getTime(),data:[]},m={id:(new Date).getTime(),data:[]},o.data.forEach(function(e){delete s[e.id],d.data.push({action:"remove",id:e.id}),e.cover&&m.data.push(Object(Re.a)({},e.id,n.FieldValue.delete()))}),e.abrupt("break",35);case 31:return l=Qd(o.prevData),d={id:(new Date).getTime(),data:o.prevData},e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:return h=I.a.sortBy(I()(I.a.merge(s,l)).map(function(e,t){return e.id=t,e}).value(),"index"),h=Object(Wt.f)(h),e.next=39,Object(Wt.c)(h);case 39:v=e.sent,a.section?t.setSection(v):t.setRoot(v),t.undoPageChange(),setTimeout(function(){t.addPageChange({change:d}),I.a.isEmpty(m.data)||t.addCoversChange({change:m,covers:Gd.a.all(m.data)}),I.a.isEmpty(g.data)||t.addCommentsChange({change:g})},500);case 43:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Zd=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,r,i,o,c,s,l,u,p,d,m,g;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(Hc.getFirestore)(),a=t.sitemap,r=t.inUserSitemap,i=a.history,o=i.redo[i.redo.length-1]){e.next=6;break}return e.abrupt("return");case 6:return c=o.action,e.next=9,Object(Wt.b)(a.section?a.section:a.root);case 9:s=e.sent,l={},u={},p={},d={},e.t0=c,e.next="rename"===e.t0?15:"add"===e.t0?18:"remove"===e.t0?21:"clone"===e.t0?26:"reorder"===e.t0?31:34;break;case 15:return l[o.node]={name:o.data.newName},u={id:(new Date).getTime(),data:[{id:o.node,name:o.data.newName}]},e.abrupt("break",35);case 18:return l=Qd(o.data),u={id:(new Date).getTime(),data:o.data},e.abrupt("break",35);case 21:return u={id:(new Date).getTime(),data:[]},p={id:(new Date).getTime(),data:[]},d={id:(new Date).getTime(),data:[]},o.data.forEach(function(e){delete s[e.id],u.data.push({action:"remove",id:e.id}),e.cover&&!I.a.isEmpty(p.data)&&p.data.push(Object(Re.a)({},e.id,n.FieldValue.delete())),r||e.comments&&!I.a.isEmpty(d.data)&&d.data.push(Object(Re.a)({},e.id,n.FieldValue.delete()))}),e.abrupt("break",35);case 26:return l=Qd(o.data),u={id:(new Date).getTime(),data:o.data},p={id:(new Date).getTime(),data:[]},o.data.forEach(function(e){e.cover&&p.data.push(Object(Re.a)({},e.id,e.cover))}),e.abrupt("break",35);case 31:return l=Qd(o.data),u={id:(new Date).getTime(),data:o.data},e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:return m=I.a.sortBy(I()(I.a.merge(s,l)).map(function(e,t){return e.id=t,e}).value(),"index"),m=Object(Wt.f)(m),e.next=39,Object(Wt.c)(m);case 39:g=e.sent,a.section?t.setSection(g):t.setRoot(g),t.redoPageChange(),setTimeout(function(){t.addPageChange({change:u}),I.a.isEmpty(p.data)||t.addCoversChange({change:p,covers:Gd.a.all(p.data)}),I.a.isEmpty(d.data)||t.addCommentsChange({change:d})},500);case 43:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Kd=Object(s.b)(function(e){return Object(j.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id})},function(e){return Object(Z.b)({addPageChange:P.c,addCoversChange:P.b,addCommentsChange:P.a,undoPageChange:P.gb,redoPageChange:P.F,setRoot:P.M,setSection:P.N},e)})(Yd),Qd=function(e){return I.a.chain(e).keyBy("id").mapValues(function(e){return I.a.omitBy(I.a.omit(e,["action","id","cover","comments"]),I.a.isUndefined)}).value()},qd=function(e){return I.a.compact(e.filter(function(e){return e.cover?e:null})).map(function(e){return Object(Re.a)({},e.id,e.cover)})},Jd=function(e){return I.a.compact(e.filter(function(e){return e.comments?e:null})).map(function(e){return Object(Re.a)({},e.id,e.comments)})};function $d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var em=function(e){Object(b.a)(n,e);var t=$d(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleUndoRedoKeydown=function(t){return 90===t.which&&t.ctrlKey||t.metaKey&&!t.shiftKey&&90===t.which?tm(Object(j.a)({},e.props)):89===t.which&&t.ctrlKey||t.metaKey&&t.shiftKey&&90===t.which?nm(Object(j.a)({},e.props)):void 0},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleUndoRedoKeydown,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleUndoRedoKeydown,!1)}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.flows;if(!n)return null;var i=a.history,o="full"===n.editLevel||"edit"===n.editLevel,c=i.undo.length>0?"":"disabled",s=i.redo.length>0?"":"disabled";return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{placement:"bottom",title:"Undo",align:{offset:[0,12]},mouseEnterDelay:1},r.a.createElement(Bd,{className:"ant-menu-item ".concat(c," undo-redo"),onClick:function(){if(o)return tm(Object(j.a)({},e.props))}},r.a.createElement(_d,{type:"icon-undo"}))),r.a.createElement(K.a,{placement:"bottom",title:"Redo",align:{offset:[0,12]},mouseEnterDelay:1},r.a.createElement(Bd,{className:"ant-menu-item ".concat(s," undo-redo"),onClick:function(){if(o)return nm(Object(j.a)({},e.props))}},r.a.createElement(_d,{type:"icon-redo"}))))}}]),n}(a.Component),tm=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,r,i,o,c,s,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.flows,r=a.history,i=r.undo[r.undo.length-1]){e.next=5;break}return e.abrupt("return");case 5:o=i.action,c={},e.t0=o,e.next="rename"===e.t0?10:"reposition"===e.t0?13:"new-symbol"===e.t0?16:"new-symbol-and-connector"===e.t0?19:"symbol-change"===e.t0?22:"wireframe-change"===e.t0?25:"page-change"===e.t0?28:"delete-symbol"===e.t0?31:"connector-change"===e.t0?36:39;break;case 10:return s=Object(Re.a)({},i.node,{text:i.data.oldText?i.data.oldText:""}),c={id:(new Date).getTime(),data:[{id:i.node,text:i.data.oldText}]},e.abrupt("break",39);case 13:return s=Object(Re.a)({},i.node,{x:i.data.oldX,y:i.data.oldY}),c={id:(new Date).getTime(),data:[{id:i.node,x:i.data.oldX,y:i.data.oldY}]},e.abrupt("break",39);case 16:return s=Object(Re.a)({},i.node,void 0),c={id:(new Date).getTime(),data:[{id:i.node}]},e.abrupt("break",39);case 19:return n={},Object(Re.a)(n,i.nodes.symbol,void 0),Object(Re.a)(n,i.nodes.connector,i.data.oldConnector),s=n,c={id:(new Date).getTime(),data:[Object(j.a)({id:i.nodes.symbol},i.data.oldSymbol),Object(j.a)({id:i.nodes.connector},i.data.oldConnector)]},e.abrupt("break",39);case 22:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.oldSymbol)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.oldSymbol)]},e.abrupt("break",39);case 25:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.oldWireframe)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.oldWireframe)]},e.abrupt("break",39);case 28:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.oldPage)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.oldPage)]},e.abrupt("break",39);case 31:return s=Object(j.a)(Object(Re.a)({},i.node,Object(j.a)({},i.data.oldSymbol)),i.data.oldConnectors),l=[Object(j.a)({id:i.node},i.data.oldSymbol)],I.a.keys(i.data.oldConnectors).forEach(function(e){return l.push(Object(j.a)({id:e},i.data.oldConnectors[e]))}),c={id:(new Date).getTime(),data:l},e.abrupt("break",39);case 36:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.oldConnector)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.oldConnector)]},e.abrupt("break",39);case 39:t.updatedFlowsData(s),t.undoFlowsUserChange(),setTimeout(function(){return t.addFlowsChange({change:c})},500);case 43:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),nm=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,r,i,o,c,s,l;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.flows,r=a.history,i=r.redo[r.redo.length-1]){e.next=5;break}return e.abrupt("return");case 5:o=i.action,c={},e.t0=o,e.next="rename"===e.t0?10:"reposition"===e.t0?13:"new-symbol"===e.t0?16:"new-symbol-and-connector"===e.t0?19:"symbol-change"===e.t0?22:"wireframe-change"===e.t0?25:"page-change"===e.t0?28:"delete-symbol"===e.t0?31:"connector-change"===e.t0?36:39;break;case 10:return s=Object(Re.a)({},i.node,{text:i.data.newText}),c={id:(new Date).getTime(),data:[{id:i.node,text:i.data.newText}]},e.abrupt("break",39);case 13:return s=Object(Re.a)({},i.node,{x:i.data.newX,y:i.data.newY}),c={id:(new Date).getTime(),data:[{id:i.node,x:i.data.newX,y:i.data.newY}]},e.abrupt("break",39);case 16:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.newSymbol)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.newSymbol)]},e.abrupt("break",39);case 19:return n={},Object(Re.a)(n,i.nodes.symbol,Object(j.a)({},i.data.newSymbol)),Object(Re.a)(n,i.nodes.connector,Object(j.a)({},i.data.newConnector)),s=n,c={id:(new Date).getTime(),data:[Object(j.a)({id:i.nodes.symbol},i.data.newSymbol),Object(j.a)({id:i.nodes.connector},i.data.newConnector)]},e.abrupt("break",39);case 22:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.newSymbol)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.newSymbol)]},e.abrupt("break",39);case 25:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.newWireframe)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.newWireframe)]},e.abrupt("break",39);case 28:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.newPage)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.newPage)]},e.abrupt("break",39);case 31:return s=i.data.newSymbol,l=[],I.a.keys(i.data.newSymbol).forEach(function(e){var t=i.data.newSymbol[e];if(I.a.isEmpty(t))return l.push({id:e});t.connectors&&l.push(Object(j.a)({id:e},t))}),c={id:(new Date).getTime(),data:l},e.abrupt("break",39);case 36:return s=Object(Re.a)({},i.node,Object(j.a)({},i.data.newConnector)),c={id:(new Date).getTime(),data:[Object(j.a)({id:i.node},i.data.newConnector)]},e.abrupt("break",39);case 39:t.updatedFlowsData(s),t.redoFlowsUserChange(),setTimeout(function(){return t.addFlowsChange({change:c})},500);case 43:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),am=Object(s.b)(function(e){return Object(j.a)({},e)},function(e){return Object(Z.b)({undoFlowsUserChange:on.B,redoFlowsUserChange:on.s,addFlowsChange:on.a,updatedFlowsData:on.C},e)})(em),rm=n(21),im=n(71),om=n(178),cm=(n(237),n(103)),sm=n(980),lm=n.n(sm),um=(n(453),n(225));function pm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function dm(){var e=Object(w.a)(["\n    font-weight: 500;\n    &:hover {\n        text-decoration: underline;\n    }\n"]);return dm=function(){return e},e}function mm(){var e=Object(w.a)(["\nmargin-bottom: 15px !important;\n.ant-tree-title {\n    float: left !important;\n}\n"]);return mm=function(){return e},e}var fm=Object(R.a)(um.a)(mm()),gm=R.a.a(dm()),hm=function(e){Object(b.a)(n,e);var t=pm(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this;return this.props.treeData?r.a.createElement(r.a.Fragment,null,r.a.createElement(fm,{checkable:!0,selectable:!1,onCheck:this.props.handleOnPageCheck,checkedKeys:this.props.checkedPages,defaultExpandedKeys:["select-all"],showLine:!0,blockNode:!0,autoExpandParent:!1,className:"hide-file-icon",style:{maxHeight:225,overflow:"scroll"}},this.props.treeData),r.a.createElement(gm,{onClick:function(){return e.props.toggleWithoutCovers(!e.props.withoutCovers)}},this.props.withoutCovers?"Show all pages":"Only show pages without covers")):"loading tree"}}]),n}(a.Component);function vm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var bm=um.a.TreeNode,ym=function(e){Object(b.a)(n,e);var t=vm(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={treeData:null,withoutCovers:!1},e.toggleWithoutCovers=function(t){e.setState({treeData:Em(e.props,t),withoutCovers:t}),e.props.handleOnPageCheck(wm(e.props,t))},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.setState({treeData:Em(this.props)}),I.a.includes(this.props.checkedPages,"select-all")&&this.props.handleOnPageCheck(wm(this.props))}},{key:"render",value:function(){return r.a.createElement(hm,Object.assign({treeData:this.state.treeData,withoutCovers:this.state.withoutCovers,toggleWithoutCovers:this.toggleWithoutCovers,handleOnPageCheck:this.props.handleOnPageCheck,checkedPages:this.props.checkedPages},this.props))}}]),n}(a.Component),Em=function(e,t){var n=e.sitemap;return r.a.createElement(bm,{title:"Select All",key:"select-all"},function(e,t){function n(a){if(!a.overflow)return r.a.createElement(bm,{title:a.name,key:a.id,disabled:!(!t||t&&!Om(e,a.id)),checkable:!(t&&(!t||Om(e,a.id)))},a.children&&I.a.compact(a.children.map(n)),a._children&&I.a.compact(a._children.map(n)))}var a=e.section?e.section.children.map(function(e){return n(e)}):e.root.children.map(function(e){return n(e)});return a.unshift(r.a.createElement(bm,{title:e.section?e.section.name:e.root.name,key:e.section?e.section.id:e.root.id,disabled:!(!t||t&&!Om(e,e.section?e.section.id:e.root.id)),checkable:!(t&&(!t||Om(e,e.section?e.section.id:e.root.id)))})),a}(n,t))},Om=function(e,t){return!I.a.isEmpty(e.covers.pages[t])&&!I.a.isEmpty(e.covers.pages[t].devices)};var wm=function(e,t){var n=e.sitemap,a=[];return function e(r){r.overflow||((!t||t&&!Om(n,r.id))&&a.push(r.id),r.children&&r.children.map(e),r._children&&r._children.map(e))}(n.section?n.section:n.root),a},xm=Object(s.b)(function(e){return Object(j.a)({},e)})(ym);function jm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Sm(){var e=Object(w.a)(["\nmargin-left: 15px;\nmargin-right: 15px;\nfont-size: 15px;\n"]);return Sm=function(){return e},e}function Cm(){var e=Object(w.a)(["\ndisplay: flex;\nfont-weight: 500;\npadding-left: 6px !important;\npadding-right: 18px !important;\nborder: none !important;\n&:hover {\n    cursor: pointer;\n    .ant-typography {\n        color: #00A7E1 !important;\n        text-decoration: underline !important;\n    }\n}\na {\n    color: unset !important;\n}\n"]);return Cm=function(){return e},e}function Am(){var e=Object(w.a)(["\nmax-height: 210px;\noverflow: scroll;\nmargin: -12px -18px !important;\nmargin-bottom: 6px !important;\nborder-bottom: 1px solid #e8e8e8;\npadding: 0px !important;\npadding-bottom: 6px !important;\n"]);return Am=function(){return e},e}var km=Object(R.a)(Vt.a)(Am()),Rm=R.a.div(Cm()),Dm=Object(R.a)(l.a)(Sm()),Im=function(e){Object(b.a)(n,e);var t=jm(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=Pm(this.props);return I.a.isEmpty(e)?r.a.createElement(De.a,{image:De.a.PRESENTED_IMAGE_SIMPLE}):r.a.createElement(km,{height:e.length*e<300?36*e.length:300,itemCount:e.length,itemSize:36,arrowRender:null},function(t){var n=t.index,a=t.style;return r.a.createElement(Rm,{className:"ant-list-item",style:a},r.a.createElement(r.a.Fragment,null,Tm(e[n]),r.a.createElement(vn.a.Text,{ellipsis:!0,style:{width:"85%",textAlign:"left"}},r.a.createElement("a",{href:e[n].url,target:"_blank"},e[n].name))))})}}]),n}(a.Component),Tm=function(e){return e.captured?r.a.createElement(Dm,{type:"check-circle",style:{color:"#52c41a"}}):e.error?r.a.createElement(Dm,{type:"close-circle",style:{color:"#E7004C"}}):e.capturing?r.a.createElement(Dm,{type:"sync",style:{color:"rgba(0, 167, 225, 0.9)"},spin:!0}):r.a.createElement(Dm,{type:"hourglass",style:{color:"#e8e8e8"}})},Pm=function(e){var t=e.filter,n=e.autocapturing,a=e.autocaptured;if("captured"===t)return I.a.isEmpty(a.pages)?[]:I.a.sortBy(I()(a.pages).map(function(e,t){return Object.assign({},e,{id:t})}).value(),["index"]);if("errors"===t)return I.a.isEmpty(a.pages)?[]:I.a.sortBy(I()(a.pages).map(function(e,t){return Object.assign({},e,{id:t})}).value(),["index"]).filter(function(e){return e.error});if("pending"===t){var r=I.a.isEmpty(n.pages)?[]:I.a.sortBy(I()(n.pages).map(function(e,t){return Object.assign({},e,{id:t})}).value(),["index"]);return I.a.take(r,!n.batch||n.batch&&!n.batch.retrying?10:n.batch.retrying).map(function(e){return e.capturing=!0,e}),r}if("all"===t){var i=Object(j.a)({},n.pages,a.pages),o=I.a.isEmpty(i)?[]:I.a.sortBy(I()(i).map(function(e,t){return Object.assign({},e,{id:t})}).value(),["index"]);return I.a.take(o.filter(function(e){return!e.error&&!e.captured}),!n.batch||n.batch&&!n.batch.retrying?10:n.batch.retrying).map(function(e){return e.capturing=!0,e}),o}return[]};function Nm(){var e=Object(w.a)(["\n  font-size: 52px !important;\n  width: 52px !important;\n  height: 52px !important;\n"]);return Nm=function(){return e},e}function Lm(){var e=Object(w.a)(["\n  font-size: 0.95rem !important;\n  font-weight: 500 !important;\n  border: none !important;\n  background: #E7004C !important;\n  width: 100% !important;\n"]);return Lm=function(){return e},e}function Fm(){var e=Object(w.a)(["\n    border-bottom: 1px solid #e8e8e8;\n    padding: 0 !important;\n    padding-bottom: 6px !important;\n    margin: 0 !important;\n    margin-top: -6px !important;\n    margin-bottom: 18px !important;\n    &.pages {\n      margin-bottom: 0px !important;\n      .ant-page-header-heading-sub-title {\n        float: right;\n        margin-right: 0px;\n      }\n    }\n    .ant-page-header-back {\n        margin: 8px 0px;\n        margin-right: 16px;\n        font-size: 16px !important;\n        color: #323E48 !important;\n    }\n    &.autocapturing {\n        .ant-page-header-heading-title {\n          h4 {\n            margin-bottom: 0 !important;\n          }\n          .ant-select-selection {\n            margin-right: 0 !important;\n            font-weight: 500 !important;\n          }\n          float: unset !important;\n          padding-right: 0px !important;\n      }\n    }\n    .ant-page-header-heading-title {\n        font-size: 16px !important;\n        color: #323E48 !important;\n    }\n"]);return Fm=function(){return e},e}function zm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}In.extend(Tn);var Mm=Jn.a.Option,Bm=function(e){Object(b.a)(n,e);var t=zm(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.handleVisibleChange,a=e.autocapturing,i=I.a.isEmpty(a.pages)?0:I()(a.pages).map(function(e,t){return Object.assign({},e,{id:t})}).value().length;return r.a.createElement(hv,{value:null,buttonStyle:"solid",onChange:n},r.a.createElement(K.a,{placement:"bottom",title:"Autocapture Covers",align:{offset:[0,6]},mouseEnterDelay:2},r.a.createElement(qn.a,{visible:t,content:r.a.createElement(Vm,this.props),trigger:"click",placement:"bottom"},r.a.createElement(rn.a.Button,{value:"autocapture"},r.a.createElement(l.a,{type:!I.a.isEmpty(a)&&i>0?"sync":"camera",spin:!I.a.isEmpty(a)&&i>0,style:{fontSize:19,color:!I.a.isEmpty(a)&&"rgba(0, 167, 225, 0.9)"}})))))}}]),n}(a.PureComponent),Um=Object(R.a)(to.a)(Fm()),Wm=Object(R.a)(u.a)(Lm()),_m=Object(R.a)(l.a)(Nm()),Vm=function(e){Object(b.a)(n,e);var t=zm(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={fullPage:!0,lazyload:!1,waitForFiveSeconds:!1,hidden:null,filter:"all"},e.setFullPage=function(){var t=JSON.parse(localStorage.getItem("".concat(e.props.sitemap.id,"#fullpage")));e.setState({fullpage:!1!==t})},e.onFullPageChange=function(t){e.setState({fullpage:t.target.checked},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#fullpage"),t.target.checked)})},e.setLazyLoad=function(){var t=JSON.parse(localStorage.getItem("".concat(e.props.sitemap.id,"#lazyload")));e.setState({lazyload:!!t})},e.onLazyLoadChange=function(t){e.setState({lazyload:t.target.checked},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#lazyload"),t.target.checked)})},e.setWaitForFiveSeconds=function(){var t=JSON.parse(localStorage.getItem("".concat(e.props.sitemap.id,"#wait-for-five-seconds")));e.setState({waitForFiveSeconds:!!t})},e.onWaitForFiveSecondsChange=function(t){e.setState({waitForFiveSeconds:t.target.checked},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#wait-for-five-seconds"),t.target.checked)})},e.setHiddenElements=function(){var t=localStorage.getItem("".concat(e.props.sitemap.id,"#hidden"));e.setState({hidden:t})},e.onHiddenElementsChange=function(t){t.persist(),e.setState({hidden:t.target.value},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#hidden"),t.target.value)})},e.handlePreview=function(){var t=e.props.handlePreviewCapture,n=e.state;t({preview:!0,fullpage:n.fullpage,lazyload:n.lazyload,waitForFiveSeconds:n.waitForFiveSeconds,hidden:n.hidden}),e.props.handleScreenChange("preview")},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.setFullPage(),this.setLazyLoad(),this.setWaitForFiveSeconds(),this.setHiddenElements()}},{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.inUserAccount,i=t.inOrganization,o=t.pagesRemaining,s=t.screen,p=t.autocapturing,d=t.isAutoCapturing,m=i?n.subscription:{},f=m.status,g=m.plan,h=m.current_period_end,v=I.a.isEmpty(p.pages)?0:I()(p.pages).map(function(e,t){return Object.assign({},e,{id:t})}).value().length,b=Gm(this.props);return r.a.createElement("div",{style:{minWidth:b,maxWidth:b,textAlign:"center"}},!d&&"start"===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{style:{marginTop:-3,marginBottom:12}},"Autocapture Covers"),r.a.createElement(wt.a,{style:{marginTop:12,marginBottom:15}}),r.a.createElement("p",{style:{fontSize:13,marginBottom:12}},"We'll capture full-page screenshots of all your pages for you."),r.a.createElement("img",{style:{width:120,display:"flex",margin:"auto",marginTop:24,marginBottom:24},alt:"",src:lm.a}),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,"* not available in free accounts"),r.a.createElement(c.b,{to:"/organizations/new"},r.a.createElement(u.a,{type:"primary",style:{width:"100%",fontWeight:500,fontSize:"0.95rem",marginTop:6,marginBottom:12}},"Upgrade"))),i&&"trialing"===f&&r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{fontWeight:500,fontSize:13,marginBottom:6}},"* not available in free trial"),r.a.createElement(c.b,{to:"/organizations/settings#billing"},r.a.createElement(u.a,{type:"primary",style:{width:"100%",fontWeight:500,fontSize:"0.95rem",marginTop:6,marginBottom:12}},"Start Subscription"))),i&&"active"===f&&r.a.createElement(u.a,{type:"primary",style:{width:"100%",fontWeight:500,fontSize:"0.95rem",marginBottom:12},onClick:function(){return e.props.handleScreenChange("review")}},"Start"),r.a.createElement("a",{style:{fontSize:14},href:"https://help.rarchy.com/knowledge/how-to-autocapture-covers",target:"_blank",rel:"noopener noreferrer"},"Learn more")),!d&&"review"===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(Um,{onBack:function(){return e.props.handleScreenChange("start")},title:"Settings"}),r.a.createElement("div",{style:{marginBottom:12}},r.a.createElement(cm.a,{checked:this.state.fullpage,onChange:this.onFullPageChange,style:{fontWeight:500,marginBottom:12,float:"left",marginLeft:0}},"Full Page"),r.a.createElement(cm.a,{checked:this.state.lazyload,onChange:this.onLazyLoadChange,style:{fontWeight:500,marginBottom:18,float:"left",marginLeft:14}},"Lazy Load"),r.a.createElement(cm.a,{checked:this.state.waitForFiveSeconds,onChange:this.onWaitForFiveSecondsChange,style:{fontWeight:500,marginBottom:18,float:"left",marginLeft:0,width:"100%",textAlign:"left"}},"Wait For 5 Seconds"),r.a.createElement(wt.a,{style:{marginTop:12,marginBottom:15}}),r.a.createElement("p",{style:{fontWeight:500,textAlign:"left"}},"Hide Elements",r.a.createElement(qn.a,{content:r.a.createElement("div",null,r.a.createElement("p",{style:{fontWeight:500,marginBottom:0}},"Input ",r.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors",target:"_blank",rel:"noopener noreferrer"},"CSS Selectors")," separated by commas."))},r.a.createElement(l.a,{type:"question-circle",style:{marginLeft:9,color:"#7B868C"}}))),r.a.createElement(At.a,{type:"text",placeholder:".overlay, #modal",value:this.state.hidden,onChange:function(t){return e.onHiddenElementsChange(t)}})),r.a.createElement("a",{style:{fontWeight:500,fontSize:"0.95rem"},onClick:this.handlePreview},"Preview Capture")),r.a.createElement(wt.a,{style:{marginTop:12,marginBottom:15}}),r.a.createElement(u.a,{type:"primary",style:{width:"100%",fontWeight:500,fontSize:"0.95rem"},onClick:function(){return e.props.handleScreenChange("pages")}},"Next")),!d&&"preview"===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Um,{onBack:function(){return e.props.handleScreenChange("review")},title:"Preview"}),r.a.createElement("div",{style:{maxHeight:225,overflowY:"scroll",marginBottom:12}},!this.props.previewImage&&r.a.createElement("div",{style:{height:175,display:"flex",margin:"auto",marginTop:-12}},r.a.createElement(O.a,{className:"center",indicator:r.a.createElement(_m,{type:"loading",spin:!0})})),this.props.previewImage&&r.a.createElement("img",{src:"data:image/png;base64,".concat(this.props.previewImage),style:{width:"100%"},alt:""})),this.props.previewImage&&r.a.createElement("a",{style:{fontWeight:500},onClick:function(){Ex.dispatch(Object(P.S)(null,"data:image/png;base64,".concat(e.props.previewImage)))},alt:""},"View in full screen")),!d&&"pages"===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Um,{className:"pages",onBack:function(){return e.props.handleScreenChange("review")},title:"Select Pages",subTitle:"".concat(I.a.filter(this.props.checkedPages,function(e){return"select-all"!==e}).length," selected")}),r.a.createElement(xm,{handleOnPageCheck:this.props.handleOnPageCheck,checkedPages:this.props.checkedPages}),r.a.createElement(wt.a,{style:{marginTop:12,marginBottom:15}}),r.a.createElement("div",{style:{fontSize:14,marginBottom:12}},o," autocaptured covers remaining.",r.a.createElement(qn.a,{content:r.a.createElement("div",null,r.a.createElement("p",{style:{textAlign:"center",marginBottom:0}},"Your monthly allowance of ",r.a.createElement("span",{style:{fontWeight:500}},Hm[g.id])," autocaptured covers refreshes ",r.a.createElement("span",{style:{fontWeight:500}},In(new Date(1e3*h)).fromNow()),".")),placement:"topRight",overlayStyle:{maxWidth:250}},r.a.createElement(l.a,{type:"question-circle",style:{fontSize:12,marginLeft:9,color:"#7B868C"}}))),r.a.createElement(u.a,{type:"primary",className:I.a.isEmpty(this.props.checkedPages)?"disabled":"",disabled:I.a.isEmpty(this.props.checkedPages),style:{width:"100%",fontWeight:500,fontSize:"0.95rem"},onClick:function(){I.a.isEmpty(e.props.checkedPages)||(I.a.filter(e.props.checkedPages,function(e){return"select-all"!==e}).length>o?e.props.handleScreenChange("upgrade"):e.props.handleNew(e.state))}},"Confirm & Start")),!d&&"upgrade"===s&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Um,{className:"upgrade",onBack:function(){return e.props.handleScreenChange("pages")},title:"Upgrade Plan"}),r.a.createElement("div",{style:{marginBottom:12,fontWeight:500}},"Allowance will be exceeded!"),r.a.createElement("div",{style:{marginBottom:12}},r.a.createElement(c.b,{to:"/organizations/settings#billing",style:{fontWeight:500}},"Upgrade your plan")," to increase the number of autocaptures you can request this period, or wait until your next refresh ",In(new Date(1e3*h)).fromNow(),".")),d&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Um,{className:"autocapturing",onBack:null,title:r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{style:{display:"inline-block",float:"left",marginBottom:0}},v>0?"Autocapturing...":"Autocaptured"),r.a.createElement(Jn.a,{style:{display:"inline-block",float:"right",marginRight:-6,marginTop:2},dropdownStyle:{minWidth:100,textAlign:"center"},className:"no-border",defaultValue:"all",onSelect:function(t){return e.setState({filter:t})}},r.a.createElement(Mm,{value:"all"},"Show All"),r.a.createElement(Mm,{value:"pending"},"Pending"),r.a.createElement(Mm,{value:"captured"},"Captured"),r.a.createElement(Mm,{value:"errors"},"Errors")))}),r.a.createElement(Im,Object.assign({filter:this.state.filter},this.props)),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ke.a,{style:{justifyContent:"space-between",marginTop:6},percent:Math.round(100*(p.total-v)/p.total),showInfo:!1}),r.a.createElement("span",{style:{justifyContent:"space-between",marginLeft:21,marginTop:8,fontWeight:600,color:"#a0a0a0",fontSize:13}},"".concat(p.total-v,"/").concat(p.total))),0===v&&r.a.createElement(Wm,{style:{marginTop:15,marginBottom:12},type:"primary",onClick:this.props.handleStopped},"Finish"),v>0&&r.a.createElement(Wm,{style:{marginTop:15,marginBottom:12},type:"danger",onClick:this.props.handleStopped,loading:this.props.stopped},this.props.stopped?"Stopping":"Stop"),r.a.createElement("a",{style:{fontSize:15,fontWeight:500},onClick:this.props.handleVisibleChange},"Close this window")))}}]),n}(a.PureComponent),Gm=function(e){var t=e.screen,n=e.isAutoCapturing;return"pages"===t?325:n?350:225},Hm={freelance:1e3,team:3e3,agency:1e4},Ym=Object(x.g)(Bm);function Xm(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Zm=function(e){Object(b.a)(n,e);var t=Xm(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,screen:"start",checkedPages:["select-all"],previewImage:null,emailOnComplete:!0,stopped:!1},e.handleVisibleChange=function(){return e.setState({visible:!e.state.visible})},e.handleScreenChange=function(t){e.setState({screen:t})},e.handleNew=function(t){var n=t.fullpage,a=t.lazyload,r=t.waitForFiveSeconds,i=t.hidden,o=e.props,c=o.user,s=o.sitemap,l=o.organization,u=Km(s.id),p=ef(e.state.checkedPages);try{Ex.firestore.doc("sitemaps/".concat(s.id,"/data/autocapturing")).set({createdAt:new Date,createdBy:c.id,organization:l.id,email:e.state.emailOnComplete,device:u,pages:p,fullpage:n,lazyload:a,waitForFiveSeconds:r,hidden:i,total:I.a.keys(p).length})}catch(d){console.error(d)}},e.handlePreviewCapture=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({previewImage:null}),a=e.props.sitemap,r=Km(a.id),t.next=5,Ex.firebase.functions().httpsCallable("sitemaps-covers-getCoverFromWebsite")(Object(j.a)({sitemap:a.id},n,{url:a.domain,device:r}));case 5:(i=t.sent).data.image&&e.setState({previewImage:i.data.image});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleOnPageCheck=function(t){return e.setState({checkedPages:t})},e.handleEmailOnComplete=function(){e.setState({emailOnComplete:!e.state.emailOnComplete})},e.handleStopped=function(){var t=e.props,n=t.sitemap;t.autocapturing.stopped||Ex.firestore.doc("sitemaps/".concat(n.id,"/data/autocapturing")).set({stopped:!0},{merge:!0})},e}return Object(v.a)(n,[{key:"componentDidUpdate",value:function(e){if(I.a.isEmpty(this.props.autocapturing)&&!I.a.isEmpty(e.autocapturing))return this.setState({screen:"start"})}},{key:"render",value:function(){return r.a.createElement(Ym,Object.assign({visible:this.state.visible,handleVisibleChange:this.handleVisibleChange,screen:this.state.screen,handleScreenChange:this.handleScreenChange,handlePreviewCapture:this.handlePreviewCapture,previewImage:this.state.previewImage,handleOnPageCheck:this.handleOnPageCheck,checkedPages:this.state.checkedPages,handleNew:this.handleNew,emailOnComplete:this.state.emailOnComplete,handleEmailOnComplete:this.handleEmailOnComplete,stopped:this.props.autocapturing.stopped,handleStopped:this.handleStopped,isAutoCapturing:!I.a.isEmpty(this.props.autocapturing),isAutoCaptured:!I.a.isEmpty(this.props.autocaptured)},this.props))}}]),n}(a.Component),Km=function(e){var t=localStorage.getItem("".concat(e,"#device"));return t||(localStorage.setItem("".concat(e,"#device"),"desktop"),"desktop")},Qm=function(e){var t=e.organization;return t.id&&t.subscription?t.subscription.autocaptures_remaining:0},qm=function(e){var t=e.sitemap,n=e.firestore;if(!t.id)return{};if(!n)return{};if(!n.data.sitemaps)return{};if(!n.data.sitemaps[t.id])return{};if(!n.data.sitemaps[t.id].data)return{};if(!n.data.sitemaps[t.id].data.autocapturing)return{};var a=n.data.sitemaps[t.id].data.autocapturing;return 1===Object.keys(a).length&&"overflow"===Object.keys(a)[0]?{}:n.data.sitemaps[t.id].data.autocapturing},Jm=function(e){var t=e.sitemap,n=e.firestore;if(!t.id)return{};if(!n)return{};if(!n.data.sitemaps)return{};if(!n.data.sitemaps[t.id])return{};if(!n.data.sitemaps[t.id].data)return{};if(!n.data.sitemaps[t.id].data.autocaptured)return{};var a=n.data.sitemaps[t.id].data.autocaptured;return 1===Object.keys(a).length&&"overflow"===Object.keys(a)[0]?{}:n.data.sitemaps[t.id].data.autocaptured},$m=Object(s.b)(function(e){return Object(j.a)({},e,{inUserAccount:!e.organization.id,inOrganization:!!e.organization.id,autocapturing:qm(e),autocaptured:Jm(e),pagesRemaining:Qm(e)})},{captureCoverFromWebsite:P.f})(Zm),ef=function(e){var t=Ex.getState().sitemap,n=t.root,a=t.section,r={},i={},o=0;return function n(c){c.parent?i[c.id]=i[c.parent.id]+"/"+c.name.replace(/\s/g,"-").toLowerCase():i[c.id]=t.domain+(a?"/"+c.name.replace(/\s/g,"-").toLowerCase():""),I.a.includes(e,c.id)&&(r[c.id]={name:c.name,url:c.url?c.url:i[c.id],index:o++}),c.children&&c.children.forEach(n),c._children&&c._children.forEach(n)}(a||n),r};function tf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var nf=function(e){Object(b.a)(n,e);var t=tf(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={background:"white",mouseover:null},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.userId,a=t.editLevel,i=t.handleViewChange,o=t.handleCoversChange,c=t.showCovers,s=t.covers,u=t.format,p=t.handleDeviceChange,d=this.state.mouseover;return r.a.createElement(r.a.Fragment,null,r.a.createElement(hv,{value:u,buttonStyle:"solid"},r.a.createElement(rn.a.Button,{value:"tree-vertical",onClick:function(e){return i("tree-vertical")},onMouseEnter:function(){return e.setState({mouseover:"tree-vertical"})},onMouseLeave:function(){return e.setState({mouseover:null})}},r.a.createElement("div",null,r.a.createElement(om.e,{scale:.7,className:"".concat("tree-vertical"===u?"selected":""," ").concat("tree-vertical"===d?"mouseover":"")}))),r.a.createElement(rn.a.Button,{value:"tree-vertical-matrix",onClick:function(e){return i("tree-vertical-matrix")},onMouseEnter:function(){return e.setState({mouseover:"tree-vertical-matrix"})},onMouseLeave:function(){return e.setState({mouseover:null})}},r.a.createElement("div",null,r.a.createElement(om.f,{scale:.7,className:"".concat("tree-vertical-matrix"===u?"selected":""," ").concat("tree-vertical-matrix"===d?"mouseover":"")}))),r.a.createElement(rn.a.Button,{value:"tree",onClick:function(e){return i("tree")},onMouseEnter:function(){return e.setState({mouseover:"tree"})},onMouseLeave:function(){return e.setState({mouseover:null})}},r.a.createElement(om.a,{scale:.7,className:"".concat("tree"===u?"selected":""," ").concat("tree"===d?"mouseover":"")})),r.a.createElement(rn.a.Button,{value:"indent",onClick:function(e){return i("indent")},onMouseEnter:function(){return e.setState({mouseover:"indent"})},onMouseLeave:function(){return e.setState({mouseover:null})}},r.a.createElement(om.b,{scale:.75,className:"".concat("indent"===u?"selected":""," ").concat("indent"===d?"mouseover":"")})),r.a.createElement(rn.a.Button,{value:"nodes",onClick:function(e){return i("nodes")},onMouseEnter:function(){return e.setState({mouseover:"nodes"})},onMouseLeave:function(){return e.setState({mouseover:null})}},r.a.createElement(om.c,{scale:.75,className:"".concat("nodes"===u?"selected":""," ").concat("nodes"===d?"mouseover":"")}))),r.a.createElement(Ct,{style:{margin:"0px 12px"}}),r.a.createElement(hv,{value:c,buttonStyle:"solid"},r.a.createElement(K.a,{placement:"bottom",title:"Show Covers",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:!0,onClick:function(e){return o(!0)}},r.a.createElement(l.a,{type:"file-image"}))),r.a.createElement(K.a,{placement:"bottom",title:"Hide Covers",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:!1,onClick:function(e){return o(!1)}},r.a.createElement(l.a,{type:"file-excel"})))),c&&n&&"full"===a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,{style:{margin:"0px 12px"}}),r.a.createElement($m,null)),c&&"nodes"!==u&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,{style:{margin:"0px 12px"}}),r.a.createElement(hv,{buttonStyle:"solid",value:s.device,onChange:p},r.a.createElement(K.a,{placement:"bottom",title:"Desktop",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"desktop"},r.a.createElement(l.a,{type:"desktop"}))),r.a.createElement(K.a,{placement:"bottom",title:"Tablet",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"tablet"},r.a.createElement(l.a,{type:"tablet"}))),r.a.createElement(K.a,{placement:"bottom",title:"Mobile",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"mobile"},r.a.createElement(l.a,{type:"mobile"}))))),r.a.createElement(Ct,{style:{margin:"0px 12px"}}))}}]),n}(a.Component),af=n(29),rf=n(115);function of(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var cf=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sitemap,(a=t.format)!==n.format){e.next=3;break}return e.abrupt("return");case 3:"nodes"===n.format&&rf.i&&rf.i.stop(),t.setFormat(a),localStorage.setItem("".concat(n.id,"#format"),a),n.root&&("nodes"!==n.format&&af.e&&af.e.clear(),Object(Ya.i)(),Object(rm.a)(),Object(Wt.k)({noTransition:!0}));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),sf=function(e){Object(b.a)(n,e);var t=of(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleViewChange=function(t){cf(Object(j.a)({},e.props,{format:t}))},e.handleCoversChange=function(t){var n=e.props.sitemap;t?e.props.showCovers(n.id):e.props.hideCovers(n.id),localStorage.setItem("".concat(n.id,"#showCovers"),t),Object(Ya.i)(),Object(Wt.k)({noTransition:!0})},e.handleDeviceChange=function(t){var n=t.target.value;Object(Ya.i)(),e.props.switchCoversDevice(n)},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.sitemap,t=e.format,n=e.showCovers,a=e.covers,i=e.color,o=e.colors,c=e.pallette;return r.a.createElement(nf,{userId:this.props.user.id,sitemapId:this.props.sitemap.id,editLevel:this.props.sitemap.editLevel,handleViewChange:this.handleViewChange,handleCoversChange:this.handleCoversChange,format:t,covers:a,color:i,colors:o,pallette:c,showCovers:n,handleDeviceChange:this.handleDeviceChange,loaded:this.props.sitemap.loaded})}}]),n}(a.Component),lf=Object(s.b)(function(e){return e},function(e){return Object(Z.b)({setFormat:P.K,showCovers:P.P,hideCovers:P.p,switchCoversDevice:P.W,setRoot:P.M},e)})(sf),uf=n(982),pf=(n(1604),n(981)),df=n.n(pf);function mf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function ff(){var e=Object(w.a)(["\n  width: 156px !important;\n  height: 156px !important;\n  .react-colorful__saturation {\n    border: none;\n    border-radius: 3px 3px 0 0;\n  }\n  .react-colorful__pointer {\n    width: 15px;\n    height: 15px;\n    border: 1px solid #fff;\n  }\n  .react-colorful__hue {\n    height: 18px;\n    border-radius: 0 0 3px 3px;\n  }\n"]);return ff=function(){return e},e}function gf(){var e=Object(w.a)(["\n  margin-top: 6px;\n  margin-bottom: 12px;\n  .ant-input-group-addon {\n    height: 30px;\n    width: 30px;\n    padding: 0;\n    background-color: ","\n  }\n    .ant-input-group-addon {\n      button {\n      &:hover {\n        box-shadow: "," 0px 0px 6px !important;\n      }\n    }\n  }\n"]);return gf=function(){return e},e}function hf(){var e=Object(w.a)(["\n  width: 24px; \n  height: 24px;\n  border-radius: 3px !important;\n  &:hover {\n    cursor: pointer;\n    box-shadow: "," 0px 0px 2px !important;\n  }\n"]);return hf=function(){return e},e}function vf(){var e=Object(w.a)(["\n  line-height: 35px !important;\n  height: 35px !important;\n  color: #5B6670 !important;\n  font-weight: 500 !important;\n  font-size: 0.9rem;\n  letter-spacing: -0.02rem !important;\n  &:hover {\n    color: #00a7e1 !important;\n    .anticon {\n      color: "," !important;\n    }\n  }\n  &:focus {\n    color: currentColor !important;\n  }\n  .anticon {\n    color: ",";\n    font-size: 18px !important;\n    vertical-align: middle;\n  }\n"]);return vf=function(){return e},e}var bf=Object(R.a)(u.a)(vf(),function(e){return e.color},function(e){return"#00A7E1"===e.color?"#6f7982":e.color}),yf=R.a.div(hf(),function(e){return e.color}),Ef=Object(R.a)(At.a)(gf(),function(e){return e.color},function(e){return e.color}),Of=Object(R.a)(uf.a)(ff()),wf=function(e){Object(b.a)(n,e);var t=mf(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handlePickerChange=function(t){e.props.handlePalletteChange({header:t.toUpperCase()})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.handleToggle,n=e.visible,a=e.colors,i=e.pallette,o=e.inputValue,c=e.handleInputChange,s=e.handlePalletteChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement(q.a,{overlayStyle:{width:180},overlay:r.a.createElement(J.a,{className:"ignore-react-onclickoutside"},r.a.createElement("div",{style:{padding:12}},a.map(function(e,t){return r.a.createElement(yf,{key:t,color:e,style:{backgroundColor:e,display:"inline-block",marginRight:(t+1)%5===0?0:9,marginBottom:6,boxShadow:e===i.header?"".concat(e," 0px 0px 4px"):"none"},onClick:function(){return s({header:e})},className:"ignore-react-onclickoutside"})}),r.a.createElement(wt.a,{style:{margin:"6px 0px"}}),r.a.createElement(Ef,{className:"small-input ignore-react-onclickoutside",addonBefore:r.a.createElement(u.a,{ghost:!0,className:"no-border ignore-react-onclickoutside",style:{height:28}}),value:o,size:"small",color:i.header,onChange:function(e){c(e.target.value),df()(e.target.value)&&s({header:e.target.value})}}),r.a.createElement(Of,{color:i.header,onChange:this.handlePickerChange}))),trigger:["click"],placement:"bottomCenter",visible:n},r.a.createElement(bf,{color:"#00A7E1",icon:"bg-colors",className:"no-border",onClick:function(){return t()}})),r.a.createElement(Ct,null))}}]),n}(a.Component);function xf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var jf=["#66BBFF","#EA4335","#FF6D02","#F1C232","#46BDC6","#33A853","#4A86E8","#664EA7","#9B9B9B","#4A4A4A"],Sf=function(e){Object(b.a)(n,e);var t=xf(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:null},e.handleToggle=function(){return e.props.togglePalletteDropdown(!e.props.sitemap.ui.PalletteDropdown.showing)},e.handlePalletteChange=function(t){e.props.changePallette(t),e.setState({inputValue:t.header})},e.handleInputChange=function(t){e.setState({inputValue:t})},e.handleClickOutside=function(){e.props.sitemap.ui.PalletteDropdown.showing&&e.handleToggle()},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.setState({inputValue:this.props.sitemap.pallette.header})}},{key:"componentDidUpdate",value:function(e){var t=this.props.sitemap.pallette.header;t!==e.sitemap.pallette.header&&t!==this.state.inputValue&&this.setState({inputValue:t})}},{key:"render",value:function(){var e=this.props.sitemap,t=e.ui,n=e.pallette,a=this.props,i=a.canEdit,o=a.inDemoProject;return i||o?r.a.createElement(wf,{handleToggle:this.handleToggle,visible:t.PalletteDropdown.showing,colors:jf,pallette:n,inputValue:this.state.inputValue,handleInputChange:this.handleInputChange,handlePalletteChange:this.handlePalletteChange}):null}}]),n}(a.Component),Cf=Object(s.b)(function(e){return Object(j.a)({},e,{inDemoProject:"fuy2mjJWjKIof5oiacCs"===e.sitemap.id,canEdit:"full"===e.sitemap.editLevel||"edit"===e.sitemap.editLevel})},{togglePalletteDropdown:P.db,changePallette:P.h})(Object(et.a)(Sf));function Af(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function kf(){var e=Object(w.a)(["\n  width: 120px;\n  &.ant-select-open {\n    width: 350px;\n    .anticon-switcher {\n      display: none;\n    }\n      .ant-select-selection {\n    &:hover {\n      .ant-select-selection-selected-value {\n        color: #5B6670 !important;\n      }\n      }\n    }\n  }\n  .ant-select-selection {\n    height: 34px !important;\n    &:hover {\n      .ant-select-selection-selected-value {\n          color: #00a7e1 !important;\n      }\n    }\n  }\n  .ant-select-selection__rendered {\n    line-height: 34px !important;\n  }\n  .anticon-switcher {\n    margin-right: 12px;\n    transform: rotate(180deg) scaleX(-1);\n    display: inline-block;\n    color: #5B6670 !important;\n  }\n  display: inline-block;\n  .ant-select-selection-selected-value {\n    color: #5B6670 !important;\n    font-weight: 500 !important;\n    font-size: 0.9rem;\n    letter-spacing: -0.02rem !important;\n    &:hover {\n      color: #00a7e1 !important;\n    }\n  }\n  &:hover {\n    .anticon {\n      color: #00a7e1 !important;\n    }\n  }\n  span[class$='indicatorSeparator'] {\n    display: none !important;\n  }\n\n  > div:first-of-type {\n    line-height: 19px;\n    border: none !important;\n    box-shadow: none !important;\n    border-radius: 4px;\n    &:hover,\n    &:active,\n    &:focus {\n      border: none !important;\n      box-shadow: none !important;\n      cursor: pointer;\n    }\n    &:hover {\n     // background: #f0f8ff !important;\n    }\n    div[class$='placeholder'],\n    div[class$='-singleValue'] {\n      color: #646464 !important;\n      > div:first-of-type {\n        text-overflow: ellipsis;\n        overflow: hidden;\n      }\n    }\n    div:last-child {\n      &:hover {\n        cursor: pointer !important;\n      }\n    }\n  }\n"]);return kf=function(){return e},e}var Rf=Jn.a.Option,Df=Object(R.a)(Jn.a)(kf()),If=function(e){Object(b.a)(n,e);var t=Af(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={open:!1},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.handleOpen,i=t.sections,o=t.handleChange;return n.id?r.a.createElement(Df,{onDropdownVisibleChange:function(t){a(t),e.setState({open:t})},showSearch:!0,value:this.state.open?"Select a section...":"Section",filterOption:function(e,t){if(t.props.children[0].props.children)return t.props.children[0].props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:function(e){return o(e)},dropdownClassName:"sitemap-sections-dropdown"},r.a.createElement(Rf,{key:"Section",value:"Section",className:"hidden",style:{fontSize:"0.9rem"}},r.a.createElement(l.a,{type:"switcher"}),"Section"),Tf({sections:i})):null}}]),n}(a.Component),Tf=function(e){return e.sections.map(function(e){return r.a.createElement(Rf,{key:e.id,value:e.id,style:{borderBottom:"home"===e.id?"1px solid #f1f1f1":"none"}},r.a.createElement("div",{style:{textOverflow:"ellipsis",float:"left",overflow:"hidden",whiteSpace:"nowrap",width:250}},e.name),r.a.createElement("div",{style:{float:"right",maxWidth:70,color:"#A9A9A9",fontSize:12}},"".concat(e.childrenCount," pages")))})},Pf=If;function Nf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Lf=function(e){Object(b.a)(n,e);var t=Nf(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={sections:[]},e.handleOpen=function(){e.setState({sections:zf(e.props.sitemap)})},e.handleChange=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("home"!==n){t.next=2;break}return t.abrupt("return",e.props.unsetSection());case 2:return a=e.props.sitemap.root,r=I.a.find(a.children,["id",n]),t.next=6,Object(Wt.c)(Object(Wt.h)(r));case 6:i=t.sent,e.props.initSection(i);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(Pf,Object.assign({handleOpen:this.handleOpen,handleChange:this.handleChange,sections:this.state.sections},this.props))}}]),n}(a.Component),Ff=Object(s.b)(function(e){return e},function(e){return Object(Z.b)({initSection:P.y,unsetSection:P.hb},e)})(Lf);function zf(e){var t=e.root,n=e.pages,a=[];return t.children&&0!==t.children.length?(t.children.forEach(function(e){(e.children||e._children)&&(e.childrenCount=function e(t){var n=0;var a=t.children||t._children;Array.isArray(a)&&(n+=a.length,a.forEach(function(t){var a=t.children||t._children;Array.isArray(a)&&(n+=e(t))}));return n}(e),a.push(e))}),(a=I.a.sortBy(a,"name")).unshift({id:"home",name:"All",childrenCount:Object.keys(n).length}),a):[]}function Mf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Bf(){var e=Object(w.a)(["\n  padding: 12px !important;\n  display: flex;\n  align-items: center;\n  &.ant-dropdown-menu-item-disabled {\n    opacity: 0.5;\n  }\n  .anticon {\n    margin-right: 12px !important;\n  }\n  font-size: 0.9rem;\n  &:hover {\n      background-color: aliceblue !important;\n    }\n  &:last-child {\n    border-bottom: none !important;\n    &:hover {\n      border-bottom: none !important;\n    }\n  }\n  &.link {\n    a {\n      color: #00A7E1 !important;\n      &:hover {\n        text-decoration: underline;\n      }\n    }\n  }\n"]);return Bf=function(){return e},e}function Uf(){var e=Object(w.a)(["\n  line-height: 34px !important;\n  height: 34px !important;\n  color: #5B6670 !important;\n  font-weight: 500 !important;\n  font-size: 0.9rem;\n  letter-spacing: -0.02rem !important;\n  &:hover {\n    // background: #f0f8ff !important;\n    color: #00a7e1 !important;\n  }\n  &:focus {\n    color: currentColor !important;\n  }\n  &:hover {\n    .anticon {\n      color: #00a7e1 !important;\n    }\n  }\n  .anticon {\n    color: #5B6670 !important;\n    font-size: 16px !important;\n    vertical-align: middle;\n  }\n"]);return Uf=function(){return e},e}var Wf=Object(R.a)(u.a)(Uf()),_f=Object(R.a)(J.a.Item)(Bf()),Vf=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),Gf=function(e){Object(b.a)(n,e);var t=Mf(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.inDemoProject,a=e.inUserSitemap,i=e.handleExport;return t.editLevel||n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,null),r.a.createElement(q.a,{overlay:r.a.createElement(J.a,{style:{padding:0},onClick:function(e){return i(e.key,t.name)}},r.a.createElement(_f,{disabled:a,key:"svg"},r.a.createElement(l.a,{type:"file-image"}),"Export to SVG"),r.a.createElement(_f,{disabled:a,key:"pdf"},r.a.createElement(l.a,{type:"file-pdf"}),"Export to PDF"),r.a.createElement(_f,{disabled:a,key:"xml"},r.a.createElement(Vf,{type:"icon-filexml"}),"Export to XML"),r.a.createElement(_f,{disabled:a,key:"csv"},r.a.createElement(l.a,{type:"file-text"}),"Export to CSV"),a&&r.a.createElement(_f,{className:"link"},r.a.createElement(c.b,{to:"/organizations/new"},"Upgrade to Export"))),trigger:["click"],placement:"bottomCenter",overlayStyle:{top:24}},r.a.createElement(Wf,{icon:"cloud-download",className:"no-border",disabled:"full"!==t.editLevel&&"edit"!==t.editLevel},"Export"))):null}}]),n}(a.Component),Hf=n(374),Yf=n.n(Hf),Xf=n(18),Zf=n(11),Kf=n(69);function Qf(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function qf(){var e=Object(w.a)(["\n    font-weight: 500 !important;\n"]);return qf=function(){return e},e}function Jf(){var e=Object(w.a)(["\n    padding: 9px !important;\n    border-bottom: 1px solid rgba(211, 211, 211, 0.55);\n    .ant-page-header-heading-title {\n        font-size: 16px !important;\n        padding-left: 9px;\n    }\n    .ant-page-header-back {\n        display: none;\n    }\n    button {\n        background: transparent !important;\n        &:hover {\n            background: transparent !important;\n        }\n    }\n"]);return Jf=function(){return e},e}var $f=Object(R.a)(to.a)(Jf()),eg=Object(R.a)(rn.a)(qf()),tg=window.PDFDocument,ng=window.blobStream,ag=function(e){Object(b.a)(n,e);var t=Qf(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onSizeChange=function(e){return a.setState({size:e.target.value},function(){return rg(a.state,a.props)})},a.onLayoutChange=function(e){return a.setState({layout:e.target.value},function(){return rg(a.state,a.props)})},a.onNameChange=function(e){return a.setState({name:e.target.checked},function(){return rg(a.state,a.props)})},a.onWebsiteChange=function(e){return a.setState({website:e.target.checked},function(){return rg(a.state,a.props)})},a.state={size:"A4",layout:"landscape",name:!0,website:!0},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){rg(this.state,this.props)}},{key:"render",value:function(){var e=this.props,t=e.hideExportPDFDrawer,n=e.sitemap;return r.a.createElement(dn.a,{className:"export-pdf-drawer",title:"Export PDF",placement:"right",visible:!0},r.a.createElement("div",{style:{height:"100vh",minWidth:window.innerWidth-275,maxWidth:window.innerWidth-275,position:"absolute",left:0}},r.a.createElement("iframe",{id:"export-pdf-preview",title:"Export PDF",width:"100%",height:"100%"})),r.a.createElement("div",{style:{height:"100vh",minWidth:275,maxWidth:275,position:"absolute",right:0,background:"white",borderLeft:"1px solid #d3d3d38c"}},r.a.createElement($f,{onBack:function(){return null},title:"Export to PDF",extra:[r.a.createElement(u.a,{className:"no-background no-border",key:"close",icon:"close",onClick:t})]}),r.a.createElement("div",{style:{padding:18}},r.a.createElement("h3",{style:{marginBottom:12}},"Display"),r.a.createElement(cm.a,{style:{fontWeight:500},checked:this.state.name,onChange:this.onNameChange},"Name"),r.a.createElement(cm.a,{style:{fontWeight:500},checked:this.state.website,onChange:this.onWebsiteChange},"Website")),r.a.createElement("div",{style:{padding:18}},r.a.createElement("h3",null,"Size"),r.a.createElement(rn.a.Group,{onChange:this.onSizeChange,value:this.state.size},r.a.createElement(eg,{value:"A1"},"A1"),r.a.createElement(eg,{value:"A2"},"A2"),r.a.createElement(eg,{value:"A3"},"A3"),r.a.createElement(eg,{value:"A4"},"A4"))),r.a.createElement("div",{style:{padding:18}},r.a.createElement("h3",null,"Layout"),r.a.createElement(rn.a.Group,{onChange:this.onLayoutChange,value:this.state.layout},r.a.createElement(eg,{value:"portrait"},"Portrait"),r.a.createElement(eg,{value:"landscape"},"Landscape"))),r.a.createElement("div",{style:{padding:18,position:"absolute",width:"100%",bottom:0,borderTop:"1px solid #d3d3d38c"}},r.a.createElement(u.a,{type:"primary",size:"large",style:{fontWeight:500,width:"100%"},onClick:function(){var e=document.getElementById("export-pdf-preview").src,t=document.createElement("a");document.body.appendChild(t),t.style="display: none",t.href=e,t.download="".concat(n.name,".pdf"),t.click(),window.URL.revokeObjectURL(e)}},"Download PDF"))))}}]),n}(a.Component),rg=function(){var e=Object(g.a)(f.a.mark(function e(t,n){var a,r,i,o,c,s,l,u,d,m,h,v,b,y,E,O,w,x,j,S;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.sitemap,r=t.size,i=t.layout,o=og[r].layout[i],c=o.width,s=o.height,l=new window.C2S(c,s),Object(Kf.d)(null,null,l),u=l.getSvg(),"nodes"===a.format){e.next=11;break}for(d=u.getElementsByTagName("*"),m=0,h=d.length;m<h;m++)"image"===(v=d[m]).tagName&&"225"===v.getAttribute("width")&&(y=(b=v).nextSibling,E=y.transform.baseVal[0].matrix.e,O=y.transform.baseVal[0].matrix.f,b.setAttribute("x",E),b.setAttribute("y",O));return e.next=11,Promise.all(Object(p.a)(u.getElementsByTagName("image")).map(function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,i,o,c,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.href.baseVal.includes("svg")){e.next=16;break}return e.next=3,fetch(t.href.baseVal,{cache:"force-cache"});case 3:return r=e.sent,e.next=6,r.text();case 6:i=e.sent,(o=(new DOMParser).parseFromString(i,"application/xml")).documentElement.setAttribute("x",t.getAttribute("x")-2.5),o.documentElement.setAttribute("y",t.getAttribute("y")),o.documentElement.setAttribute("width",230),o.documentElement.setAttribute("height",230),t.parentNode.insertBefore(o.documentElement,t),t.remove(),e.next=25;break;case 16:if(a.showCovers){e.next=18;break}return e.abrupt("return");case 18:return e.next=20,fetch(t.href.baseVal,{cache:"force-cache"});case 20:return c=e.sent,e.next=23,c.blob();case 23:return s=e.sent,e.abrupt("return",new Promise(function(e,n){var a=new FileReader;a.addEventListener("load",function(){t.setAttributeNS(null,"href",a.result),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.result),e(a.result)},!1),a.onerror=function(){return n(void 0)},a.readAsDataURL(s)}));case 25:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 11:w=ig(t,a),(x=u.getElementsByTagName("g")[1])&&x.setAttribute("transform","translate(".concat(w.translate.x,",").concat(w.translate.y,") scale(").concat(w.translate.k,")")),(j=new tg({compress:!1,size:t.size,layout:t.layout})).info.Title="".concat(a.name,".pdf"),Yf()(j,u,w.x,w.y,{useCSS:!0}),t.name&&(j.fontSize(16),j.text(a.name,25,25)),t.website&&(t.name?(j.moveDown(),j.fontSize(12),j.fillColor("grey")):j.fontSize(16),j.text(a.domain)),(S=j.pipe(ng())).on("finish",function(){document.getElementById("export-pdf-preview").src=S.toBlobURL("application/pdf")}),j.end();case 26:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ig=function(e,t){var n=e.size,a=e.layout,r=og[n].layout[a],i=r.width,o=r.height,c=t.data.nodes,s=Math.min.apply(Math,c.map(function(e){return Object(Xf.d)(e)})),l=Math.max.apply(Math,c.map(function(e){return Object(Xf.d)(e)})),u=Math.min.apply(Math,c.map(function(e){return Object(Xf.e)(e)})),p=Math.max.apply(Math,c.map(function(e){return Object(Xf.e)(e)}));"nodes"!==t.format&&(l+=225,u-=t.showCovers?112.5:29,p+=t.showCovers?112.5:29);var d=s,m=u,f=l-s,g=p-u,h=("nodes"!==t.format?.85:.8)/Math.max(f/i,g/o),v=Zf.zoomIdentity;return{translate:v=(v=(v=v.translate(i/2,o/2)).scale(h)).translate(-d-f/2,-m-g/2),x:.125*i,y:.12*o}},og={A1:{layout:{portrait:{width:1684,height:2384},landscape:{width:2384,height:1684}}},A2:{layout:{portrait:{width:1191,height:1684},landscape:{width:1684,height:1191}}},A3:{layout:{portrait:{width:842,height:1191},landscape:{width:1191,height:842}}},A4:{layout:{portrait:{width:595,height:842},landscape:{width:842,height:595}}}};function cg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var sg=function(e){Object(b.a)(n,e);var t=cg(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(ag,{sitemap:this.props.sitemap,hideExportPDFDrawer:this.props.hideExportPDFDrawer})}}]),n}(a.Component),lg=Object(s.b)(function(e){return Object(j.a)({},e)},{hideExportPDFDrawer:P.r})(sg),ug=n(983);Yn.a.config({getContainer:function(){return document.body}});var pg=function(e){var t=Ex.getState().sitemap,n=t.root,a=dg(n),i={filename:e,fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,useTextFile:!1,useBom:!0,headers:["ID","Page Name","Slug","Parent ID","Parent Name","Parent Slug","URL"]},o=new ug.ExportToCsv(i);o.generateCsv(a);var c=o.generateCsv(a,!0),s=new Blob([c],{type:"text/csv;charset=utf8;"}),l=Ex.firebase.storage().ref().child("/sitemaps/".concat(t.id,"/exports/").concat(t.id,".csv"));l.put(s).then(function(e){l.getDownloadURL().then(function(e){if(e)return Yn.a.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:500,marginLeft:12,marginRight:12}},"Export complete."),r.a.createElement("a",{style:{fontWeight:500},href:e},"Download Again")),3)})})},dg=function(e){var t=[];return function e(n){n.overflow?n.overflow.forEach(function(e){t.push({id:"".concat(n.id),name:e,slug:"".concat(e.replace(/\s/g,"-").toLowerCase()),parentId:n.parent.id,parentName:n.parent.name,parentSlug:n.parent?"".concat(n.parent.name.replace(/\s/g,"-").toLowerCase()):"",url:Object(P.n)(Object.assign(n,{name:e}))})}):t.push({id:n.id,name:n.name,slug:n.parent?"".concat(n.name.replace(/\s/g,"-").toLowerCase()):"",parentId:n.parent?n.parent.id:"",parentName:n.parent?n.parent.name:"",parentSlug:n.parent?"".concat(n.parent.name.replace(/\s/g,"-").toLowerCase()):"",url:Object(P.n)(n)}),n.children&&n.children.forEach(e),n._children&&n._children.forEach(e)}(e),t};Yn.a.config({getContainer:function(){return document.body}});var mg=function(e){for(var t=Ex.getState().sitemap,n=Og(),a='\x3c!-- Created using Rarchy.com --\x3e <urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd">',i=0;i<n.length;i++){var o=n[i].replace(/&/g,"amp;");a+="<url>",a+="<loc>"+encodeURI(o)+"</loc>",a+="</url>"}a+="</urlset>";var c="data:text/xml,",s=encodeURI(c+=a),l=document.createElement("a");l.href=s,l.download="".concat(e,".xml"),document.body.appendChild(l),l.click(),document.body.removeChild(l);var u=Ex.firebase.storage().ref().child("/sitemaps/".concat(t.id,"/exports/").concat(t.id,".xml"));u.putString(s,"data_url").then(function(e){u.getDownloadURL().then(function(e){if(e)return Yn.a.success(r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{style:{fontWeight:500,marginLeft:12,marginRight:12}},"Export complete."),r.a.createElement("a",{style:{fontWeight:500},href:e,onClick:function(e){e.preventDefault(),l.click()}},"Download Again")),3)})})};Yn.a.config({getContainer:function(){return document.body}});var fg=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,r,i,o,c,s,l,u,d,m,h,v,b,y,E,O,w,x,j,S;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ex.getState(),a=n.sitemap,r=gg(a),i=r.width,o=r.height,c=new window.C2S(i,o),Object(Kf.d)(null,null,c),s=c.getSvg(),"nodes"===a.format){e.next=11;break}for(l=s.getElementsByTagName("*"),u=0,d=l.length;u<d;u++)(m=l[u])&&("image"===m.tagName&&"225"===m.getAttribute("width")&&(v=(h=m).nextSibling,b=v.transform.baseVal[0].matrix.e,y=v.transform.baseVal[0].matrix.f,h.setAttribute("x",b),h.setAttribute("y",y)),"rect"===m.tagName&&"transparent"===m.getAttribute("fill")&&m.remove());return e.next=11,Promise.all(Object(p.a)(s.getElementsByTagName("image")).map(function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,i,o,c,s,l,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.href.baseVal.includes("svg")){e.next=18;break}return e.next=3,fetch(t.href.baseVal,{cache:"force-cache"});case 3:return r=e.sent,e.next=6,r.text();case 6:i=e.sent,o=(new DOMParser).parseFromString(i,"application/xml"),(c=I.a.find(o.documentElement.childNodes,function(e){return"g"===e.tagName})).setAttribute("transform","translate(".concat(parseInt(t.getAttribute("x"))+2,", ").concat(t.getAttribute("y"),") scale(0.65)")),c.firstChild.setAttribute("d",c.firstChild.getAttribute("d").replace("338V","343.5V")),c.firstChild.setAttribute("transform","translate(-2.5)"),t.parentNode.insertBefore(c,t),(s=I.a.find(o.documentElement.childNodes,function(e){return"defs"===e.tagName}))&&t.parentNode.insertBefore(s,t),t.remove(),e.next=27;break;case 18:if(a.showCovers){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,fetch(t.href.baseVal,{cache:"force-cache"});case 22:return l=e.sent,e.next=25,l.blob();case 25:return u=e.sent,e.abrupt("return",new Promise(function(e,n){var a=new FileReader;a.addEventListener("load",function(){t.setAttributeNS(null,"href",a.result),t.removeAttribute("xlink:href"),e(a.result)},!1),a.onerror=function(){return n(void 0)},a.readAsDataURL(u)}));case 27:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 11:E=hg(a,{width:i,height:o}),(O=s.getElementsByTagName("g")[1])&&O.setAttribute("transform","translate(".concat(E.translate.x,",").concat(E.translate.y,") scale(").concat(E.translate.k,")")),w=s.outerHTML.replaceAll('stroke="transparent"','stroke="none"'),x=new Blob([w],{type:"image/svg+xml;charset=utf-8"}),j=URL.createObjectURL(x),(S=document.createElement("a")).href=j,S.download="".concat(t,".svg"),document.body.appendChild(S),S.click(),document.body.removeChild(S);case 25:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),gg=function(e){var t=e.data.nodes,n=Math.min.apply(Math,t.map(function(e){return Object(Xf.d)(e)})),a=Math.max.apply(Math,t.map(function(e){return Object(Xf.d)(e)})),r=Math.min.apply(Math,t.map(function(e){return Object(Xf.e)(e)})),i=Math.max.apply(Math,t.map(function(e){return Object(Xf.e)(e)}));return n-=250,a+=250,r-=e.showCovers?225:70,{width:a-n,height:(i+=e.showCovers?225:70)-r}},hg=function(e,t){var n=t.width,a=t.height,r=e.data.nodes,i=Math.min.apply(Math,r.map(function(e){return Object(Xf.d)(e)})),o=Math.max.apply(Math,r.map(function(e){return Object(Xf.d)(e)})),c=Math.min.apply(Math,r.map(function(e){return Object(Xf.e)(e)})),s=Math.max.apply(Math,r.map(function(e){return Object(Xf.e)(e)}));o+=250;var l=i-=250,u=c-=e.showCovers?225:70,p=o-i,d=(s+=e.showCovers?225:70)-c,m=Zf.zoomIdentity;return{translate:m=(m=(m=m.translate(n/2,a/2)).scale(1)).translate(-l-p/2,-u-d/2)}},vg=n(482);Yn.a.config({getContainer:function(){return document.body},top:120});var bg=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,i,o,c,s,l,u,d,m,h,v,b,y,E,O,w;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Ex.getState(),a=n.sitemap,i=yg(a),o=i.width,c=i.height,s=new window.C2S(o,c),Object(Kf.d)(null,null,s),l=s.getSvg(),"nodes"===a.format){e.next=11;break}for(u=l.getElementsByTagName("*"),d=0,m=u.length;d<m;d++)"image"===(h=u[d]).tagName&&"225"===h.getAttribute("width")&&(b=(v=h).nextSibling,y=b.transform.baseVal[0].matrix.e,E=b.transform.baseVal[0].matrix.f,v.setAttribute("x",y),v.setAttribute("y",E));return e.next=11,Promise.all(Object(p.a)(l.getElementsByTagName("image")).map(function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,i,o,c,s,l,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.href.baseVal.includes("svg")){e.next=18;break}return e.next=3,fetch(t.href.baseVal,{cache:"force-cache"});case 3:return r=e.sent,e.next=6,r.text();case 6:i=e.sent,o=(new DOMParser).parseFromString(i,"application/xml"),(c=I.a.find(o.documentElement.childNodes,function(e){return"g"===e.tagName})).setAttribute("transform","translate(".concat(parseInt(t.getAttribute("x"))+2,", ").concat(t.getAttribute("y"),") scale(0.65)")),c.firstChild.setAttribute("d",c.firstChild.getAttribute("d").replace("338V","343.5V")),c.firstChild.setAttribute("transform","translate(-2.5)"),t.parentNode.insertBefore(c,t),(s=I.a.find(o.documentElement.childNodes,function(e){return"defs"===e.tagName}))&&t.parentNode.insertBefore(s,t),t.remove(),e.next=27;break;case 18:if(a.showCovers){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,fetch(t.href.baseVal,{cache:"force-cache"});case 22:return l=e.sent,e.next=25,l.blob();case 25:return u=e.sent,e.abrupt("return",new Promise(function(e,n){var a=new FileReader;a.addEventListener("load",function(){t.setAttributeNS(null,"href",a.result),t.removeAttribute("xlink:href"),e(a.result)},!1),a.onerror=function(){return n(void 0)},a.readAsDataURL(u)}));case 27:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()));case 11:O=Eg(a,{width:o,height:c}),(w=l.getElementsByTagName("g")[1])&&w.setAttribute("transform","translate(".concat(O.translate.x,",").concat(O.translate.y,") scale(").concat(O.translate.k,")")),Object(vg.svgAsPngUri)(l).then(function(){var e=Object(g.a)(f.a.mark(function e(n){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:6===n.length?Yn.a.info({content:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginTop:6,fontWeight:500}},"This sitemap is too large for exporting to PNG"),r.a.createElement("div",{style:{marginTop:6,fontWeight:500}},r.a.createElement("a",{onClick:function(){fg(t),Yn.a.destroy()}},"Export to SVG instead")))}):Object(vg.saveSvgAsPng)(l,"".concat(t,".png"));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),yg=function(e){var t=e.data.nodes,n=Math.min.apply(Math,t.map(function(e){return Object(Xf.d)(e)})),a=Math.max.apply(Math,t.map(function(e){return Object(Xf.d)(e)})),r=Math.min.apply(Math,t.map(function(e){return Object(Xf.e)(e)})),i=Math.max.apply(Math,t.map(function(e){return Object(Xf.e)(e)}));return n-=250,a+=250,r-=e.showCovers?225:70,{width:a-n,height:(i+=e.showCovers?225:70)-r}},Eg=function(e,t){var n=t.width,a=t.height,r=e.data.nodes,i=Math.min.apply(Math,r.map(function(e){return Object(Xf.d)(e)})),o=Math.max.apply(Math,r.map(function(e){return Object(Xf.d)(e)})),c=Math.min.apply(Math,r.map(function(e){return Object(Xf.e)(e)})),s=Math.max.apply(Math,r.map(function(e){return Object(Xf.e)(e)}));o+=250;var l=i-=250,u=c-=e.showCovers?225:70,p=o-i,d=(s+=e.showCovers?225:70)-c,m=Zf.zoomIdentity;return{translate:m=(m=(m=m.translate(n/2,a/2)).scale(1)).translate(-l-p/2,-u-d/2)}},Og=function(){var e=Ex.getState().sitemap,t=e.root,n=[],a={};return function t(r){r.parent?a[r.id]=a[r.parent.id]+"/"+r.name.replace(/\s/g,"-").toLowerCase():a[r.id]=e.domain,n.push(r.url?r.url:a[r.id]),r.overflow&&r.overflow.forEach(function(e){n.push(a[r.parent.id]+"/"+e.replace(/\s/g,"-").toLowerCase())}),r.children&&r.children.forEach(t),r._children&&r._children.forEach(t)}(t),n};function wg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var xg=function(e){Object(b.a)(n,e);var t=wg(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleExport=function(){var t=Object(g.a)(f.a.mark(function t(n,a){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.props.inUserSitemap){t.next=2;break}return t.abrupt("return");case 2:t.t0=n,t.next="pdf"===t.t0?5:"png"===t.t0?8:"svg"===t.t0?12:"xml"===t.t0?16:"csv"===t.t0?19:22;break;case 5:return e.props.showExportPDFDrawer(rm.e),Dt.a.getInstance().logEvent("EXPORTED_SITEMAP_TO_PDF"),t.abrupt("break",23);case 8:return t.next=10,bg(a);case 10:return Dt.a.getInstance().logEvent("EXPORTED_SITEMAP_TO_PNG"),t.abrupt("break",23);case 12:return t.next=14,fg(a);case 14:return Dt.a.getInstance().logEvent("EXPORTED_SITEMAP_TO_SVG"),t.abrupt("break",23);case 16:return mg(a),Dt.a.getInstance().logEvent("EXPORTED_SITEMAP_TO_XML"),t.abrupt("break",23);case 19:return pg(a),Dt.a.getInstance().logEvent("EXPORTED_SITEMAP_TO_CSV"),t.abrupt("break",23);case 22:return t.abrupt("break",23);case 23:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.exportPDFDrawerShowing;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gf,{inUserSitemap:this.props.inUserSitemap,inDemoProject:this.props.inDemoProject,sitemap:this.props.sitemap,handleExport:this.handleExport}),e&&r.a.createElement(lg,null))}}]),n}(a.Component),jg=Object(s.b)(function(e){return Object(j.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id,inDemoProject:"fuy2mjJWjKIof5oiacCs"===e.sitemap.id,exportPDFDrawerShowing:e.sitemap.ui.ExportPDFDrawer.showing})},{showExportPDFDrawer:P.R})(xg),Sg=(n(452),n(254));function Cg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Ag(){var e=Object(w.a)(["\nmargin-right: 6px !important;\n"]);return Ag=function(){return e},e}function kg(){var e=Object(w.a)(["\nposition: absolute !important;\nleft: 8px !important;\nwidth: 250px !important;\ninput {\n    height: 33px !important;\n}\n.ant-input-suffix {\n    &:hover {\n        cursor: pointer;\n        path { fill: #2ED9C3; }\n    }\n}\n"]);return kg=function(){return e},e}function Rg(){var e=Object(w.a)(["\n    float: right !important;\n    position: absolute !important;\n    right: 50px !important;\n    top: 13px !important;\n    height: 1.2em !important;\n"]);return Rg=function(){return e},e}function Dg(){var e=Object(w.a)(["\n    max-width: 266px !important;\n    margin-right: -12px !important;\n    .ant-select-selection {\n        background: transparent !important;\n    }\n    &.ant-select-open {\n        min-width: 266px !important;\n    }\n    .ant-select-selection__rendered {\n        margin-left: 6px !important;\n    }\n    .ant-select-selection-selected-value {\n        color: #5b6670 !important;\n        margin-right: 12px !important;\n        font-weight: 500 !important;\n        letter-spacing: -.02em !important;\n        font-size: 0.9rem !important;\n    }\n    .ant-select-arrow {\n        right: 4px;\n    }\n"]);return Dg=function(){return e},e}function Ig(){var e=Object(w.a)(["\n    margin-bottom: 5px !important;\n    margin-top: -1px !important;\n    font-weight: 500 !important;\n    font-size: 0.9rem !important;\n    letter-spacing: -.02rem !important;\n    padding-left: 12px !important;\n    width: 100% !important;\n    text-align: left !important;\n"]);return Ig=function(){return e},e}var Tg=window.$,Pg=vn.a.Paragraph,Ng=Jn.a.Option,Lg=Object(R.a)(u.a)(Ig()),Fg=Object(R.a)(Jn.a)(Dg()),zg=Object(R.a)(wt.a)(Rg()),Mg=Object(R.a)(At.a)(kg()),Bg=Object(R.a)(om.d)(Ag()),Ug={deleteVisible:!1,renaming:!1},Wg=function(e){Object(b.a)(n,e);var t=Cg(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).renameInput=null,a.state=Ug,a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.props.flows.loaded||this.props.getUserFlows(this.props.flowId);case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.flows,a=t.sitemap,i=t.history,o=n.ui.FlowsSelect.showing,c=n.byId[n.selected],s=I.a.sortBy(I()(this.props.flows.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value(),"updatedAt").reverse();return r.a.createElement("div",{style:{display:"inline-flex",alignItems:"center"},onClick:function(){o||e.props.showFlowsSelect()}},r.a.createElement(Bg,{scale:.66,verticalAlign:"-0.5em",margin:"0px 6px 0px 0px"}),r.a.createElement(Fg,{showSearch:!0,placeholder:n.loading?"Loading User Flows...":"Select a User Flow...",notFoundContent:"No user flows found",value:n.loading?"Loading User Flows...":c&&c.name?c.name:"Select a user flow...",optionLabelProp:"label",dropdownMatchSelectWidth:!0,optionFilterProp:"children",filterOption:function(e,t){return t.props.children[0].props.children.toLowerCase().indexOf(e.toLowerCase())>=0},onDropdownVisibleChange:function(t){t&&e.setState(Object(j.a)({},Ug))},onPopupScroll:I.a.debounce(function(){e.state.renaming&&e.setState({renaming:null})},50,{leading:!0}),dropdownRender:function(t){return r.a.createElement("div",{onMouseDown:function(e){e.preventDefault()}},t,("full"===a.editLevel||"edit"===a.editLevel)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{style:{margin:"4px 0"}}),r.a.createElement(Lg,{className:"no-border",icon:"plus",onClick:function(){e.props.hideFlowsSelect(),i.push("/s/".concat(a.id,"/flows/new"))}},"New User Flow")),e.state.renaming&&r.a.createElement(Mg,{value:e.state.renaming.name,style:{top:e.state.renaming.top},ref:function(t){return e.renameInput=t},onClick:function(t){return e.renameInput.focus()},onChange:function(t){return e.setState({renaming:Object(j.a)({},e.state.renaming,{name:t.target.value})})},placeholder:e.state.renaming.name,suffix:r.a.createElement(l.a,{type:"check",style:{color:"rgba(0,0,0,.45)"},onClick:function(){e.state.renaming.name!==n.byId[e.state.renaming.id].name&&e.props.renameUserFlow(e.state.renaming.name,e.state.renaming.id),e.setState({renaming:null})}})}))},showArrow:!0,defaultActiveFirstOption:!1,dropdownClassName:"user-flows-dropdown",className:"no-border",open:o},s.map(function(t){return t.error?null:r.a.createElement(Ng,{key:t.id,label:t.id,id:t.id,className:a.editLevel},r.a.createElement(Pg,{ellipsis:!0,style:{marginBottom:0,color:e.state.renaming?t.id!==e.state.renaming.id?"#5B6670":"white":"#5B6670"},onClick:function(){e.props.hideFlowsSelect(t),e.setState({renaming:null}),setTimeout(function(){i.push("/s/".concat(a.id,"/flows/").concat(t.id))},50)}},t.name),("full"===a.editLevel||"edit"===a.editLevel)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(zg,{type:"vertical"}),r.a.createElement(Sg.a,{visible:e.state.deleteVisible===t.id,overlayClassName:"delete-user-flow-dropdown",title:"Warning! This user flow will be permanently deleted.",okText:"Delete",placement:"bottomRight",overlayStyle:{zIndex:999999,maxWidth:255,fontWeight:500},icon:r.a.createElement(l.a,{type:"exclamation-circle-o",style:{color:"#E7004C"},onMouseDown:function(e){return e.preventDefault()}}),onCancel:function(t){t.stopPropagation(),e.setState({deleteVisible:!1})},onConfirm:function(){var n=Object(g.a)(f.a.mark(function n(r){return f.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:r.stopPropagation(),e.setState({deleteVisible:!1}),setTimeout(function(){e.props.deleteUserFlow(t.id,a.id,i)},50);case 3:case"end":return n.stop()}},n)}));return function(e){return n.apply(this,arguments)}}()},r.a.createElement(u.a,{onClick:function(n){n.preventDefault(),n.nativeEvent.stopImmediatePropagation(),n.stopPropagation(),e.setState({deleteVisible:t.id,renaming:null})},className:"no-border",icon:"delete",size:"small",style:{top:9,float:"right",position:"absolute",right:6,backgroundColor:"aliceblue"},title:"Delete"})),r.a.createElement(u.a,{className:"no-border",icon:"edit",size:"small",style:{top:9,float:"right",position:"absolute",right:28,backgroundColor:"aliceblue"},title:"Rename",onClick:function(n){var a=Tg("#".concat(t.id)).offset(),r=Tg("#".concat(t.id)).parent().offset();n.stopPropagation(),e.setState({renaming:{id:t.id,name:t.name,top:a.top-r.top},deleteVisible:!1})}})))})),r.a.createElement(wt.a,{type:"vertical",style:{margin:"0px 18px",height:"1.5em"}}))}}]),n}(a.Component);function _g(e){var t=/[^\/]*$/.exec(e.location.pathname)[0];if(20===t.length)return t}var Vg=Object(x.g)(Object(s.b)(function(e,t){return Object(j.a)({},e,{flowId:_g(t)})},{getUserFlows:on.g,initUserFlow:on.n,showFlowsSelect:on.z,hideFlowsSelect:on.m,renameUserFlow:on.t,deleteUserFlow:on.f})(Wg));function Gg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Hg(){var e=Object(w.a)(["\n  stroke: #5b6670e6 !important;\n  &:hover {\n    stroke: #00a7e1 !important;\n  }\n"]);return Hg=function(){return e},e}function Yg(){var e=Object(w.a)(["\n  font-size: 18px !important;\n  display: flex;\n"]);return Yg=function(){return e},e}var Xg=Object(R.a)(l.a)(Yg()),Zg=R.a.svg(Hg()),Kg=function(e){Object(b.a)(n,e);var t=Gg(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={defaultSymbol:"action"},e.changeDefaultSymbol=function(t){localStorage.setItem("userFlowDefaultSymbol",t.target.value),e.setState({defaultSymbol:t.target.value})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userFlowDefaultSymbol");e||(e=localStorage.setItem("userFlowDefaultSymbol","action")),this.setState({defaultSymbol:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(hv,{value:this.state.defaultSymbol,buttonStyle:"solid",id:"toolbar-symbols",onChange:this.changeDefaultSymbol},r.a.createElement(K.a,{placement:"bottom",title:"Page",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"page",style:{padding:0}},r.a.createElement(Xg,{id:"page",className:"new-shape",type:"file-image"}))),r.a.createElement(K.a,{placement:"bottom",title:"Start / End",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"startEnd",style:{padding:0}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Zg,{id:"startEnd",className:"new-shape",viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3.5,height:26},r.a.createElement("rect",{x:"2",y:"18",width:"59",height:"31",rx:"15",style:{fill:"white",strokewidth:3.5}}))))),r.a.createElement(K.a,{placement:"bottom",title:"Decision",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"decision",style:{padding:0}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Zg,{id:"decision",className:"new-shape",viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3.5,height:26},r.a.createElement("path",{d:"M32.5 15.5l-30 17 30 17 30-17z"}))))),r.a.createElement(K.a,{placement:"bottom",title:"Action",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{id:"action",value:"action",style:{padding:0}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Zg,{id:"action",className:"new-shape",viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3.5,height:26},r.a.createElement("path",{fill:"#fff",strokeWidth:3.5,d:"M5 17.5h55v30h-55z"}))))),r.a.createElement(K.a,{placement:"bottom",title:"Document",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"document",style:{padding:0}},r.a.createElement("div",{style:{display:"flex",marginTop:1}},r.a.createElement(Zg,{id:"document",className:"new-shape",viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3.5,height:26},r.a.createElement("path",{d:"M1.5 15.5h60v29.376c-30-12.006-30 12.346-60-2.13z",style:{strokewidth:3.5,fill:"white"}}))))),r.a.createElement(K.a,{placement:"bottom",title:"Input / Output",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(rn.a.Button,{value:"inputOutput",style:{padding:0}},r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(Zg,{id:"inputOutput",className:"new-shape",viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3.5,height:26},r.a.createElement("path",{d:"M1.5 46.5l8-30h52l-8 30z",style:{strokewidth:3.5,fill:"white"}})))))),r.a.createElement(wt.a,{type:"vertical",style:{margin:"0px 18px",height:"1.5em"}}))}}]),n}(a.Component),Qg=n(294),qg=n(295);function Jg(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var $g=function(e){Object(b.a)(n,e);var t=Jg(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={connectorType:"solid"},e.changeConnectorType=function(t){localStorage.setItem("userFlowConnectorType",t.target.value),e.setState({connectorType:t.target.value})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("userFlowConnectorType");e||(e=localStorage.setItem("userFlowConnectorType","solid")),this.setState({connectorType:e})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(hv,{value:this.state.connectorType,buttonStyle:"solid",style:{marginRight:12},onChange:this.changeConnectorType},r.a.createElement(rn.a.Button,{value:"solid",style:{padding:0}},r.a.createElement("span",{style:{transform:"scale(1)"}},r.a.createElement(Qg.a,{width:25,style:{transform:"rotate(-45deg)"},transform:"rotate(-45)"}))),r.a.createElement(rn.a.Button,{value:"dash",style:{padding:0}},r.a.createElement("span",{style:{transform:"scale(1)"}},r.a.createElement(qg.a,{width:25,style:{transform:"rotate(-45deg)"},transform:"rotate(-45)"})))),r.a.createElement(wt.a,{type:"vertical",style:{margin:"0px 18px",marginLeft:12,height:"1.5em"}}))}}]),n}(a.Component),eh=Object(s.b)(function(e){return e})($g);function th(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function nh(){var e=Object(w.a)(["\n  // font-weight: 400 !important;\n  line-height: 36px !important;\n  height: 36px !important;\n  padding: 0px 9px !important;\n  color: #5B6670 !important;\n  font-weight: 500 !important;\n  letter-spacing: -0.02rem !important;\n  &:hover {\n    color: #00a7e1 !important;\n  }\n  &:focus {\n    color: currentColor !important;\n  }\n  &:hover {\n    .anticon {\n      color: #00a7e1 !important;\n    }\n  }\n  .anticon {\n    color: #5B6670 !important;\n  }\n"]);return nh=function(){return e},e}var ah=Object(R.a)(u.a)(nh()),rh=function(e){Object(b.a)(n,e);var t=th(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.inDemoProject,i=t.inUserSitemap,o=t.handleExport;return"full"===n.editLevel||"edit"===n.editLevel||a?r.a.createElement(r.a.Fragment,null,i&&r.a.createElement(ah,{icon:"file-pdf",className:"no-border",disabled:"full"!==n.editLevel&&"edit"!==n.editLevel,onClick:function(){Yn.a.config({top:120,getContainer:function(){return document.body}}),Yn.a.info(r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{style:{fontWeight:500,marginBottom:6},href:"/organizations/new",onClick:function(t){t.preventDefault(),Yn.a.destroy(),e.props.history.push("/organizations/new")}},"Upgrade to a paid plan to export")),5,function(){Yn.a.destroy()})}},"Export"),!i&&r.a.createElement(ah,{icon:"file-pdf",className:"no-border",disabled:"full"!==n.editLevel&&"edit"!==n.editLevel,onClick:function(){return o(n.name)}},"Export")):null}}]),n}(a.Component),ih=Object(x.g)(rh);function oh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function ch(){var e=Object(w.a)(["\n    font-weight: 500 !important;\n"]);return ch=function(){return e},e}function sh(){var e=Object(w.a)(["\n    padding: 9px !important;\n    border-bottom: 1px solid rgba(211, 211, 211, 0.55);\n    .ant-page-header-heading-title {\n        font-size: 16px !important;\n        padding-left: 9px;\n    }\n    .ant-page-header-back {\n        display: none;\n    }\n    button {\n        background: transparent !important;\n        &:hover {\n            background: transparent !important;\n        }\n    }\n"]);return sh=function(){return e},e}var lh=Object(R.a)(to.a)(sh()),uh=Object(R.a)(rn.a)(ch()),ph=window.PDFDocument,dh=window.blobStream,mh=function(e){Object(b.a)(n,e);var t=oh(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).onSizeChange=function(e){return a.setState({size:e.target.value},function(){return fh(a.state,a.props)})},a.onLayoutChange=function(e){return a.setState({layout:e.target.value},function(){return fh(a.state,a.props)})},a.onNameChange=function(e){return a.setState({name:e.target.checked},function(){return fh(a.state,a.props)})},a.onWebsiteChange=function(e){return a.setState({sitemap:e.target.checked},function(){return fh(a.state,a.props)})},a.state={size:"A4",layout:"landscape",name:!0,sitemap:!0},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){fh(this.state,this.props)}},{key:"componentWillUnmount",value:function(){var e=this.props.flows.ui.ExportPDFDrawer.transform,t=Zf.zoomIdentity;t=(t=t.translate(e.translateX,e.translateY)).scale(e.scaleX),im.d.transform(Zf.select("#svg-main"),t)}},{key:"render",value:function(){var e=this.props,t=e.hideExportPDFDrawer,n=e.flows,a=n.byId[n.selected];return r.a.createElement(dn.a,{className:"export-pdf-drawer",title:"Export PDF",placement:"right",visible:!0},r.a.createElement("div",{style:{height:"100vh",minWidth:window.innerWidth-275,maxWidth:window.innerWidth-275,position:"absolute",left:0}},r.a.createElement("iframe",{id:"export-pdf-preview",title:"Export PDF",width:"100%",height:"100%"})),r.a.createElement("div",{style:{height:"100vh",minWidth:275,maxWidth:275,position:"absolute",right:0,background:"white",borderLeft:"1px solid #d3d3d38c"}},r.a.createElement(lh,{onBack:function(){return null},title:"Export to PDF",extra:[r.a.createElement(u.a,{className:"no-background no-border",key:"close",icon:"close",onClick:t})]}),r.a.createElement("div",{style:{padding:18}},r.a.createElement("h3",{style:{marginBottom:12}},"Display"),r.a.createElement(cm.a,{style:{fontWeight:500},checked:this.state.name,onChange:this.onNameChange},"Name"),r.a.createElement(cm.a,{style:{fontWeight:500},checked:this.state.sitemap,onChange:this.onSitemapChange},"Sitemap Name")),r.a.createElement("div",{style:{padding:18}},r.a.createElement("h3",null,"Size"),r.a.createElement(rn.a.Group,{onChange:this.onSizeChange,value:this.state.size},r.a.createElement(uh,{value:"A1"},"A1"),r.a.createElement(uh,{value:"A2"},"A2"),r.a.createElement(uh,{value:"A3"},"A3"),r.a.createElement(uh,{value:"A4"},"A4"))),r.a.createElement("div",{style:{padding:18}},r.a.createElement("h3",null,"Layout"),r.a.createElement(rn.a.Group,{onChange:this.onLayoutChange,value:this.state.layout},r.a.createElement(uh,{value:"portrait"},"Portrait"),r.a.createElement(uh,{value:"landscape"},"Landscape"))),r.a.createElement("div",{style:{padding:18,position:"absolute",width:"100%",bottom:0,borderTop:"1px solid #d3d3d38c"}},r.a.createElement(u.a,{type:"primary",size:"large",style:{fontWeight:500,width:"100%"},onClick:function(){var e=document.getElementById("export-pdf-preview").src,t=document.createElement("a");document.body.appendChild(t),t.style="display: none",t.href=e,t.download="".concat(a.name,".pdf"),t.click(),window.URL.revokeObjectURL(e)}},"Download PDF"))))}}]),n}(a.Component),fh=function(){var e=Object(g.a)(f.a.mark(function e(t,n){var a,r,i,o,c,s,l,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.sitemap,r=n.flows,i=r.byId[r.selected],e.next=4,gh(t);case 4:return o=e.sent,c=document.getElementById("user-flows-container"),s=c.cloneNode(!0),e.next=9,Promise.all(Object(p.a)(s.getElementsByTagName("image")).map(function(){var e=Object(g.a)(f.a.mark(function e(t){var n,r,i,o,c;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.href.baseVal.includes(".svg")){e.next=11;break}return e.next=3,fetch(t.href.baseVal,{cache:"force-cache"});case 3:return n=e.sent,e.next=6,n.text();case 6:r=e.sent,i=(new DOMParser).parseFromString(r,"application/xml"),t.href.baseVal.includes("header.")?(i.documentElement.setAttribute("width",a.showCovers?227.5:228),i.documentElement.setAttribute("height",20),i.documentElement.setAttribute("x",a.showCovers?-1:-1.5),i.documentElement.setAttribute("y",a.showCovers?-1:-1.2),t.parentNode.insertBefore(i.documentElement,t)):a.showCovers&&(i.documentElement.setAttribute("width",224),i.documentElement.setAttribute("height",224),t.parentNode.insertBefore(i.documentElement,t)),e.next=20;break;case 11:if(a.showCovers){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,fetch(t.href.baseVal,{cache:"force-cache"});case 15:return o=e.sent,e.next=18,o.blob();case 18:return c=e.sent,e.abrupt("return",new Promise(function(e,n){var a=new FileReader;a.addEventListener("load",function(){t.setAttributeNS(null,"href",a.result),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a.result),e(a.result)},!1),a.onerror=function(){return n(void 0)},a.readAsDataURL(c)}));case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 9:(l=new ph({compress:!1,size:t.size,layout:t.layout})).info.Title="".concat(i.name,".pdf");try{Yf()(l,s.outerHTML,o.x,o.y,{useCSS:!1})}catch(d){console.error(d)}t.name&&(l.fontSize(16),l.text(i.name,25,25)),t.sitemap&&(t.name?(l.moveDown(),l.fontSize(12),l.fillColor("grey")):l.fontSize(16),l.text(a.name)),(u=l.pipe(dh())).on("finish",function(){document.getElementById("export-pdf-preview").src=u.toBlobURL("application/pdf")}),l.end();case 19:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),gh=function(e){var t=e.size,n=e.layout,a=hh[t].layout[n],r=a.width,i=a.height,o=Zf.select("#user-flows-container").node().getBBox(),c=Math.min(r/o.width,i/o.height);c*=.9;var s=Zf.zoomIdentity;return s=(s=(s=s.translate(r/2,i/2)).scale(c)).translate(-o.x-o.width/2,-o.y-o.height/2),im.d.transform(Zf.select("#svg-main"),s),{x:.125*r,y:.12*i}},hh={A1:{layout:{portrait:{width:1684,height:2384},landscape:{width:2384,height:1684}}},A2:{layout:{portrait:{width:1191,height:1684},landscape:{width:1684,height:1191}}},A3:{layout:{portrait:{width:842,height:1191},landscape:{width:1191,height:842}}},A4:{layout:{portrait:{width:595,height:842},landscape:{width:842,height:595}}}};function vh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var bh=function(e){Object(b.a)(n,e);var t=vh(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(mh,{sitemap:this.props.sitemap,flows:this.props.flows,hideExportPDFDrawer:this.props.hideExportPDFDrawer})}}]),n}(a.Component),yh=Object(s.b)(function(e){return Object(j.a)({},e)},{hideExportPDFDrawer:on.i})(bh),Eh=n(177);function Oh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var wh=function(e){Object(b.a)(n,e);var t=Oh(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleExport=function(){var t=Object(g.a)(f.a.mark(function t(n,a){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.props.flows.selected&&(r=Object(Eh.b)(Zf.select("#user-flows-container").attr("transform")),e.props.showExportPDFDrawer(r),Dt.a.getInstance().logEvent("EXPORTED_SITEMAP_TO_PDF"));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.exportPDFDrawerShowing;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ih,{inUserSitemap:this.props.inUserSitemap,inDemoProject:this.props.inDemoProject,sitemap:this.props.sitemap,flows:this.props.flows,handleExport:this.handleExport}),e&&r.a.createElement(yh,null))}}]),n}(a.Component),xh=Object(s.b)(function(e){return Object(j.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id,inDemoProject:"fuy2mjJWjKIof5oiacCs"===e.sitemap.id,exportPDFDrawerShowing:e.flows.ui.ExportPDFDrawer.showing})},{showExportPDFDrawer:on.v})(wh),jh=n(375);function Sh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Ch=function(e){Object(b.a)(n,e);var t=Sh(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.lastEdited,n=e.sitemap,a=e.stopped;return r.a.createElement(jh.Detector,{render:function(e){var i=e.online;return r.a.createElement("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"flex-end",whiteSpace:"nowrap",margin:"0px 6px"},title:Ah({stopped:a,sitemap:n,online:i})},r.a.createElement("a",{className:"sitemap-last-edited ".concat((!i||a)&&"offline")},r.a.createElement(r.a.Fragment,null,i&&!a&&t,(!i||a)&&"Changes will not be saved")))}})}}]),n}(a.Component),Ah=function(e){var t=e.stopped,n=e.sitemap,a=e.online;return t?"The autosave has been disabled":t||n.editLevel?!t&&n.editLevel&&a?"All changes are saved automatically":t||!n.editLevel||a?void 0:"Your internet connection is offline":"You are not a member of this sitemap"},kh=Ch;function Rh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Dh=function(e){Object(b.a)(n,e);var t=Rh(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,lastEdited:null,stopped:null},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){if(!this.props.sitemap.editLevel)return this.setState({lastEdited:"View only"});this.setState({lastEdited:"All changes saved"}),Lh(this,5e3)}},{key:"componentDidUpdate",value:function(e){if(this.props.sitemap.editLevel&&!this.state.stopped)return Ih(this.props)>=5&&(kt.a.warning({title:"We're having issues saving your changes and had to disable autosaving",content:r.a.createElement("p",{style:{marginTop:24,fontWeight:500,marginBottom:0}},"Please refresh the page and try making any edits again. We apologise for any inconvenience.")}),Fh(this)),Th(this.props,e)?this.setState({lastEdited:"Saving changes..."}):Ph(this.props,e)?this.setState({lastEdited:"All changes saved"}):Nh(this.props,e)?this.setState({lastEdited:"Saving changes..."}):void 0}},{key:"componentWillUnmount",value:function(){Fh(this)}},{key:"render",value:function(){var e=this.props.sitemap,t=this.state,n=t.visible,a=t.lastEdited,i=t.stopped;return r.a.createElement(kh,{sitemap:e,visible:n,lastEdited:a,stopped:i})}}]),n}(a.Component),Ih=function(e){var t=e.sitemap.changes,n=t.pages,a=t.covers,r=t.comments;return n.errorCount+a.errorCount+r.errorCount},Th=function(e,t){return!!(e.sitemap.changes.pages.saving&&!t.sitemap.changes.pages.saving||e.sitemap.changes.covers.saving&&!t.sitemap.changes.covers.saving||e.sitemap.changes.comments.saving&&!t.sitemap.changes.comments.saving)},Ph=function(e,t){var n=e.sitemap.changes;return!!(!n.pages.saving&&!n.pages.error&&t.sitemap.changes.pages.saving||!n.covers.saving&&!n.covers.error&&t.sitemap.changes.covers.saving||!n.comments.saving&&!n.comments.error&&t.sitemap.changes.comments.saving)},Nh=function(e,t){return e.sitemap.changes.pages.data.length>t.sitemap.changes.pages.data.length||e.sitemap.changes.covers.data.length>t.sitemap.changes.covers.data.length||e.sitemap.changes.comments.data.length>t.sitemap.changes.comments.data.length},Lh=function(e,t){e.autosaveInterval=setInterval(function(){e.props.sitemap.editLevel?zh(e):Fh(e)},t)},Fh=function(e){clearInterval(e.autosaveInterval),e.setState({stopped:!0})},zh=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Ex.getState(),a=n.sitemap,I.a.isEmpty(a.changes.pages.data)||a.changes.pages.saving||t.props.savePageChanges(),I.a.isEmpty(a.changes.covers.data)||a.changes.covers.saving||t.props.saveCoverChanges(),I.a.isEmpty(a.changes.comments.data)||a.changes.comments.saving||t.props.saveCommentsChanges();case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Mh=Object(s.b)(function(e){return e},function(e){return Object(Z.b)({savePageChanges:P.J,saveCoverChanges:P.I,saveCommentsChanges:P.H},e)})(Dh);function Bh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Uh=function(e){Object(b.a)(n,e);var t=Bh(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.lastEdited,n=e.sitemap,a=e.stopped;return r.a.createElement(jh.Detector,{render:function(e){var i=e.online;return r.a.createElement("div",{style:{display:"inline-flex",alignItems:"center",justifyContent:"flex-end",whiteSpace:"nowrap",margin:"0px 6px"}},r.a.createElement(K.a,{placement:"bottom",title:r.a.createElement(r.a.Fragment,null,a&&"The autosave has been disabled",!a&&!n.editLevel&&"You are not a member of this sitemap",!a&&n.editLevel&&i&&"All changes are saved automatically",!a&&n.editLevel&&!i&&"Your internet connection is offline"),mouseEnterDelay:.5},r.a.createElement("a",{className:"sitemap-last-edited ".concat((!i||a)&&"offline")},r.a.createElement(r.a.Fragment,null,i&&!a&&t,(!i||a)&&"Changes will not be saved"))))}})}}]),n}(a.Component);function Wh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var _h=function(e){Object(b.a)(n,e);var t=Wh(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,lastEdited:null,stopped:null},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){if(!this.props.sitemap.editLevel)return this.setState({lastEdited:"View only"});this.setState({lastEdited:"All changes saved"}),Xh(this,5e3)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.sitemap,a=t.flows,i=a.byId[a.selected],o=e.flows.byId[a.selected];if(n.editLevel&&!this.state.stopped)return i&&o&&i.updatedAt!==o.updatedAt&&this.setState({lastEdited:"All changes saved"}),Vh(this.props)>=5&&(kt.a.warning({title:"We're having issues saving your changes and had to disable autosaving",content:r.a.createElement("p",{style:{marginTop:24,fontWeight:500,marginBottom:0}},"Please refresh the page and try making any edits again. We apologise for any inconvenience.")}),Zh(this)),Gh(this.props,e)?this.setState({lastEdited:"Saving changes..."}):Hh(this.props,e)?this.setState({lastEdited:"All changes saved"}):Yh(this.props,e)?this.setState({lastEdited:"Saving changes..."}):void 0}},{key:"componentWillUnmount",value:function(){Zh(this)}},{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.flows,a=this.state,i=a.visible,o=a.lastEdited,c=a.stopped;return r.a.createElement(Uh,{sitemap:t,flows:n,visible:i,lastEdited:o,stopped:c})}}]),n}(a.Component),Vh=function(e){return e.flows.changes.errorCount},Gh=function(e,t){return!(!e.flows.changes.saving||t.flows.changes.saving)},Hh=function(e,t){var n=e.flows.changes;return!(n.saving||n.error||!t.flows.changes.saving)},Yh=function(e,t){return e.flows.changes.data.length>t.flows.changes.data.length},Xh=function(e,t){e.autosaveInterval=setInterval(function(){e.props.sitemap.editLevel?Kh(e):Zh(e)},t)},Zh=function(e){clearInterval(e.autosaveInterval),e.setState({stopped:!0})},Kh=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Ex.getState(),a=n.flows,I.a.isEmpty(a.changes.data)||a.changes.saving||t.props.saveFlowsChanges();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Qh=Object(s.b)(function(e){return e},function(e){return Object(Z.b)({saveFlowsChanges:on.u},e)})(_h);function qh(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Jh(){var e=Object(w.a)(["\n    padding: 0 7px !important;\n"]);return Jh=function(){return e},e}var $h=Object(R.a)(Bd)(Jh()),ev=l.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),tv=function(e){Object(b.a)(n,e);var t=qh(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={expand:!0,collapse:!1},e.handleOnClick=function(){var t=e.props.sitemap;e.state.expand?(e.setState({expand:!1,collapse:!0}),av(t)):(e.setState({expand:!0,collapse:!1}),nv(t))},e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{placement:"bottom",title:"".concat(this.state.expand?"Expand":"Collapse"," All"),align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement($h,{onClick:this.handleOnClick},r.a.createElement(ev,{type:"icon-".concat(this.state.expand?"expand":"collapse"),style:{color:"#646464",fontSize:19,verticalAlign:"middle"}}))))}}]),n}(a.Component),nv=function(e){!function t(n){if(n.children)if(n.parent){localStorage.removeItem("".concat(e.id,"#").concat(n.id)),n._children=n.children;for(var a=0,r=n._children.length;a<r;a++)localStorage.removeItem("".concat(e.id,"#").concat(n._children[a].id)),t(n._children[a]);n.children=null}else for(var i=0,o=n.children.length;i<o;i++)localStorage.removeItem("".concat(e.id,"#").concat(n.children[i].id)),t(n.children[i])}(e.section?e.section:e.root),Object(rm.a)(),Object(Wt.k)({noTransition:!0})},av=function(e){!function t(n){if(n.parent){if(n._children){n.children=n._children;for(var a=0,r=n.children.length;a<r;a++)localStorage.setItem("".concat(e.id,"#").concat(n.children[a].id),!0),t(n.children[a]);n._children=null}}else if(n.children)for(var i=0,o=n.children.length;i<o;i++)localStorage.setItem("".concat(e.id,"#").concat(n.children[i].id),!0),t(n.children[i])}(e.section?e.section:e.root),Object(rm.a)(),Object(Wt.k)({noTransition:!0})},rv=tv;function iv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var ov=function(e){Object(b.a)(n,e);var t=iv(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(rv,this.props)}}]),n}(a.Component),cv=Object(s.b)(function(e){return e})(ov);function sv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function lv(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: flex-end;\nmargin-left: 24px !important;\n"]);return lv=function(){return e},e}function uv(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\nwidth: 100%;\njustify-content: flex-start;\nline-height: 44px !important;\n"]);return uv=function(){return e},e}function pv(){var e=Object(w.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: flex-start;\nmargin-right: 12px !important;\n"]);return pv=function(){return e},e}function dv(){var e=Object(w.a)(["\n  display: inline-flex !important;\n  align-items: center;\n  margin-left: 0px !important;\n  color: #5b6670e6;\n  .ant-radio-button-wrapper {\n    display: inline-flex;\n    align-items: center;\n    height: 36px !important;\n    line-height: unset !important;\n    padding: 0 6px !important;\n    border: none !important;\n    color: #5b6670e6 !important;\n    :not(:last-child) {\n      border-right: none !important;\n    }\n    &:focus-within {\n      outline: none !important;\n    }\n    &:before {\n      display: none !important;\n    }\n    &:hover {\n      animation-duration: 0s;\n      transition-duration: 0s;\n      // background: #f0f8ff !important;\n      color: #00a7e1 !important;\n    }\n    span {\n      display: inline-flex;\n      align-items: center;\n      .anticon {\n        font-size: 1.25em;\n        display: inline-flex;\n        line-height: unset !important;\n      }\n    }\n  }\n  .ant-radio-button-wrapper-checked {\n    color: #00a7e1 !important;\n    background: transparent !important;\n    box-shadow: none !important;\n    svg {\n      path {\n        stroke: #00a7e1 !important;\n      }\n    }\n  }\n"]);return dv=function(){return e},e}function mv(){var e=Object(w.a)(["\n  width: 100% !important;\n  display: inline-flex;\n  align-items: center;\n  margin-top: 62px !important;\n  &.navbar-hidden {\n      margin-top: 0px !important;\n  }\n  background: white !important;\n  padding: 0 !important;\n  padding-left: 18px !important;\n  padding-right: 12px !important;\n  // box-shadow: 0 2px 8px #eeefef;\n  border-bottom: 1px solid #f1f1f1;\n  box-shadow: 0 0px 1px rgba(238, 239, 239, 0.5);\n  height: 45px !important;\n  z-index: 1 !important;\n"]);return mv=function(){return e},e}var fv=d.a.Header,gv=Object(R.a)(fv)(mv()),hv=Object(R.a)(rn.a.Group)(dv()),vv=R.a.div(pv()),bv=R.a.div(uv()),yv=R.a.div(lv()),Ev=function(e){Object(b.a)(n,e);var t=sv(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searched:null},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.flows,a=e.ui,i=e.showFlows,o=n.selected&&!I.a.isEmpty(n.byId[n.selected])?n.byId[n.selected]:{};return r.a.createElement(gv,{className:"sitemap-toolbar ".concat(a.navbar.hidden&&"navbar-hidden"," no-select")},r.a.createElement(vv,null,r.a.createElement(K.a,{placement:"bottom",title:"Zoom Out",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(Bd,{onClick:i?im.f:rm.g},r.a.createElement(Ud,{type:"zoom-out"}))),r.a.createElement(K.a,{placement:"bottom",title:"Zoom In",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(Bd,{onClick:i?im.e:rm.f},r.a.createElement(Ud,{type:"zoom-in"}))),r.a.createElement(K.a,{placement:"bottom",title:"Center",align:{offset:[0,6]},mouseEnterDelay:1},r.a.createElement(Bd,{onClick:i?im.a:rm.a},r.a.createElement(_d,{type:"icon-target"}))),!i&&r.a.createElement(cv,this.props),!i&&r.a.createElement(Kd,this.props),i&&r.a.createElement(am,this.props),r.a.createElement(Ct,{style:{marginLeft:15}})),!i&&r.a.createElement(bv,null,r.a.createElement(lf,null),r.a.createElement(Cf,null),r.a.createElement(Ff,null),r.a.createElement(jg,null)),i&&r.a.createElement(r.a.Fragment,null,r.a.createElement(bv,null,r.a.createElement(Vg,null),r.a.createElement(Kg,null),r.a.createElement(eh,null),r.a.createElement(xh,null))),r.a.createElement(yv,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(Ct,null),t.loaded&&(i?o.loaded&&r.a.createElement(Qh,null):r.a.createElement(Mh,null)),r.a.createElement(K.a,{placement:"left",title:"Hide Navbar",align:{offset:[-10,0]},mouseEnterDelay:.5},r.a.createElement(Bd,{className:"no-border ".concat(this.props.ui.navbar.hidden?"rotate-180":""),style:{color:"#919191",fontSize:16},onClick:this.props.toggleSitemapsNavbar},r.a.createElement(Ud,{type:"up"}))))))}}]),n}(a.Component),Ov=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{showFlows:"user-flows"===e.sitemap.ui.ProductsTab})},{toggleSitemapsNavbar:F.g})(Ev)),wv=n(54),xv=n(199);function jv(){var e=Object(w.a)(["\n.ant-result-subtitle {\n    margin-top: 60px !important;\n    margin-bottom: 36px !important;\n    color: #5B6670 !important;\n    font-size: 1.25rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem !important;\n  }\n  .anticon-exclamation-circle {\n    color: #E7004C !important;\n  }\n  button {\n    font-weight: 600;\n    letter-spacing: -.02rem;\n  }\n"]);return jv=function(){return e},e}function Sv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Cv(){var e=Object(w.a)(["\n  width: 100px;\n  color: #5c6671;\n  z-index: 9999;\n  margin-left: 30px;\n  margin-bottom: 30px; \n  position: fixed;\n  bottom: 0;\n  font-weight: 500;\n  &:hover {\n    color: #00A7E1;\n  }\n"]);return Cv=function(){return e},e}function Av(){var e=Object(w.a)(["\n  font-size: 52px !important;\n  width: 52px !important;\n  height: 52px !important;\n"]);return Av=function(){return e},e}var kv=Object(R.a)(l.a)(Av()),Rv=R.a.a(Cv()),Dv=function(){var e=Object(g.a)(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sitemap,(a=t.firebase.auth).uid){e.next=4;break}return e.abrupt("return");case 4:if(r=n.id===a.uid,!n.id||r||!n.editLevel){e.next=8;break}return e.next=8,Ex.firebase.database().ref("/sitemaps/".concat(n.id,"/viewing/").concat(a.uid,"/")).remove();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Iv=function(e){Object(b.a)(n,e);var t=Sv(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).getSitemap=function(){var t=e.props,n=t.initSitemap,a=t.initNewSitemap,r=e.props.match.params.sitemapId;"#new"===e.props.location.hash?a(r):n(r)},e.onUnload=function(t){delete t.returnValue;var n=e.props.match.params.sitemapId;Dt.a.getInstance().logEvent("LEFT_SITEMAP",{id:n})},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark(function e(){var t,n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,n=t.toggleDrawer,a=t.toggleMenu,n(!0),a(!0),window.addEventListener("beforeunload",this.onUnload),this.getSitemap();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.sitemap,n=e.leftSitemap;(0,e.toggleDrawer)(!0),window.removeEventListener("beforeunload",this.onUnload),n(t.id),Dv(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props.leftSitemap,n=e.match.params.sitemapId,a=this.props.match.params.sitemapId;a!==n&&(t(a),Dv(e),this.getSitemap());var r=this.props.sitemap;"#new"!==this.props.location.hash||!r.loaded||r.new||e.sitemap.loaded||this.props.history.push(window.location.pathname)}},{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.flows,a=e.flowId;return t.error?r.a.createElement("div",{style:{display:"flex",margin:"auto"}},Lv(t.error)):t.loaded&&t.covers.loaded?a&&n.byId[n.selected]&&!n.byId[n.selected].loaded||n.loading?Tv():r.a.createElement(r.a.Fragment,null,r.a.createElement(Ov,null),r.a.createElement(wv.c,null),r.a.createElement("div",{id:"context-menu-mask",onClick:function(){return Object(xv.a)()},style:{display:t.ui.ContextMenuDropdown.showing?"block":"none"}}),r.a.createElement(Rv,{href:"https://rarchy.nolt.io",target:"_blank"},r.a.createElement("span",null,r.a.createElement(l.a,{type:"notification",style:{marginRight:9}}),r.a.createElement("span",null,"Feedback?")))):Tv()}}]),n}(a.PureComponent),Tv=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ov,null),r.a.createElement("div",{style:{background:"rgb(249 249 249 / 0.5)",width:"100%",height:"100vh",display:"flex",margin:"auto",marginTop:0,position:"fixed"}},r.a.createElement(O.a,{className:"center",indicator:r.a.createElement(kv,{type:"loading",spin:!0})})))};function Pv(e){var t=/[^\/]*$/.exec(e.location.pathname)[0];if(20===t.length)return t}var Nv=Object(R.a)(Va.a)(jv()),Lv=function(e){return"not-found"===e?r.a.createElement(Nv,{status:"404",subTitle:"We couldn't find this sitemap",extra:r.a.createElement(c.b,{to:"/sitemaps"},r.a.createElement(u.a,{size:"large",type:"primary"},"Back to Rarchy"))}):"archived"===e?r.a.createElement(Nv,{status:"403",subTitle:"This sitemap has been archived",extra:r.a.createElement(c.b,{to:"/sitemaps"},r.a.createElement(u.a,{size:"large",type:"primary"},"Back to Rarchy"))}):"permission-denied"===e?r.a.createElement(Nv,{status:"403",subTitle:"You don't have permission to access this sitemap",extra:r.a.createElement(c.b,{to:"/sitemaps"},r.a.createElement(u.a,{size:"large",type:"primary"},"Back to Rarchy"))}):r.a.createElement(Nv,{status:"404",subTitle:"We are having trouble accessing this sitemap",extra:r.a.createElement(c.b,{to:"/sitemaps"},r.a.createElement(u.a,{size:"large",type:"primary"},"Back to Rarchy"))})},Fv=Object(Z.d)(Object(Ce.firebaseConnect)(function(e,t){var n=t.getState(),a=n.sitemap,r=n.user;return a.id&&r.id?["sitemaps/".concat(a.id,"/viewing")]:[]}),Object(Ce.firestoreConnect)(function(e,t){var n=t.getState(),a=n.sitemap,r=n.user;if(!a.id||!r.id)return[];if(a.id===r.id)return[];var i=function(e){return{collection:"sitemaps",doc:a.id,subcollections:a.id===r.id?[]:[{collection:"data",doc:e}]}};return[{collection:"sitemaps",doc:a.id},i("pages"),i("covers"),i("autocapturing"),i("autocaptured"),i("comments")]}),Object(s.b)(function(e,t){return Object(j.a)({},e,{flowId:Pv(t)})},function(e){return Object(Z.b)({initNewSitemap:P.x,initSitemap:P.z,leftSitemap:P.A,toggleMenu:F.f,toggleDrawer:F.e},e)}))(Iv);function zv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Mv(){var e=Object(w.a)(["\n    margin-right: 24px;\n    div.ant-upload {\n        border-radius: 50% !important;\n        width: 60px !important;\n        height: 60px !important;\n        margin-bottom: 0px;\n        border: 1px solid #e8e8e8;\n        &:hover {\n            border-color: #00A7E1;\n        }\n    }\n    span.ant-upload {\n        padding: 0px !important;\n        width: 60px !important;\n        height: 60px !important;\n    }\n    width: 60px !important;\n    float: left;\n"]);return Mv=function(){return e},e}function Bv(){var e=Object(w.a)(["\n    width: 60px !important;\n    height: 60px !important;\n"]);return Bv=function(){return e},e}var Uv=Object(R.a)(Q.a)(Bv()),Wv=Object(R.a)(Gu.a)(Mv()),_v=function(e){Object(b.a)(n,e);var t=zv(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.removeImage,a=e.visible,i=e.loading,o=e.customRequest,c=e.uploadProps,s=e.toggleVisible;return r.a.createElement(Wv,Object.assign({name:"avatar",listType:"picture-card",showUploadList:!1,customRequest:o},c),t.photoURL&&r.a.createElement(qn.a,{content:r.a.createElement(J.a,null,r.a.createElement(J.a.Item,null,"Upload image"),r.a.createElement(J.a.Item,{onClick:function(e){e.domEvent.stopPropagation(),n()}},"Remove image")),trigger:"click",visible:a,onBlur:s,placement:"bottom",overlayClassName:"image-options",onClick:function(e){e.preventDefault(),e.stopPropagation()}},r.a.createElement(Uv,{onClick:s,src:t.photoURL,onError:n})),!t.photoURL&&r.a.createElement(l.a,{type:i?"loading":"camera",style:{fontSize:20,verticalAlign:"sub",color:"#00A7E1"}}))}}]),n}(a.Component);function Vv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Gv=function(e){Object(b.a)(n,e);var t=Vv(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,loading:!1},e.uploadProps={name:"profile",accept:".png,.jpg,.jpeg",action:function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),beforeUpload:function(e,t){var n=1===t.length,a="image/jpeg"===e.type||"image/png"===e.type,r=e.size/1024/1024<5;return n&&a&&r},onStart:function(){e.setState({loading:!0})},onSuccess:function(){var t=Object(g.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.setState({loading:!1});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onError:function(t){e.setState({loading:!1})}},e.customRequest=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n.file,r=n.onSuccess,Yv(a,function(){var t=Object(g.a)(f.a.mark(function t(n){var i,o,c,s,l,u,p;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=n.size<a.size?n:a,o=e.props.user,c=Ex.firebase,s=c.storage().ref(),l=s.child("users/".concat(o.id,"/profile.png")),t.next=7,l.put(i,{customMetadata:{userId:o.id}}).catch(function(e){return console.error(e)});case 7:if((u=t.sent)&&"success"===u.state){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,l.getDownloadURL();case 12:return p=t.sent,t.prev=13,t.next=16,c.updateProfile({photoURL:p});case 16:return t.next=18,c.updateAuth({photoURL:p});case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(13),console.error(t.t0);case 23:r(null,a);case 24:case"end":return t.stop()}},t,null,[[13,20]])}));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.toggleVisible=function(){e.setState({visible:!e.state.visible})},e.removeImage=Object(g.a)(f.a.mark(function t(){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ex.firebase,t.next=3,n.updateProfile({photoURL:null});case 3:return t.next=5,n.updateAuth({photoURL:null});case 5:e.toggleVisible();case 6:case"end":return t.stop()}},t)})),e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(_v,Object.assign({visible:this.state.visible,toggleVisible:this.toggleVisible,uploadProps:this.uploadProps,loading:this.state.loading,customRequest:this.customRequest,removeImage:this.removeImage},this.props))}}]),n}(a.Component),Hv=Object(s.b)(function(e){return Object(j.a)({},e)})(Gv),Yv=function(e,t){var n=new FileReader;n.readAsDataURL(e),n.onload=function(e){var a=new Image;a.src=e.target.result,a.onload=function(){var e=document.createElement("canvas");e.width=128,e.height=128;var n=e.getContext("2d");n.drawImage(a,0,0,128,128),n.canvas.toBlob(function(e){var n=new File([e],"profile",{type:"image/jpeg",lastModified:Date.now()});t(n)},"image/jpeg",1)},n.onerror=function(e){return console.error(e)}}};function Xv(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Zv(){var e=Object(w.a)(["\nmargin-top: 15px !important;\nmargin-bottom: 36px !important;\nfont-size: 1.5rem !important;\nwhite-space: nowrap;\noverflow: hidden;\ntext-overflow: ellipsis;\n// text-align: right;\n"]);return Zv=function(){return e},e}function Kv(){var e=Object(w.a)(["\n    .ant-form-item {\n        margin-bottom: 12px;\n    }\n    .ant-form-item-label {\n        line-height: 32px;\n        font-weight: 500;\n        letter-spacing: -.02rem;\n        label { \n            color: #5B6670;\n        }\n    }\n"]);return Kv=function(){return e},e}var Qv=Object(R.a)(gn.a)(Kv()),qv=R.a.h2(Zv()),Jv=function(e){Object(b.a)(n,e);var t=Xv(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,saving:!1},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(){var t=Object(g.a)(f.a.mark(function t(n,a){var r,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=7;break}return r=a.firstName,i=a.lastName,e.setState({saving:!0}),e.toggleVisible(),t.next=6,Ex.firestore.set({collection:"users",doc:e.props.user.id},{firstName:r,lastName:i},{merge:!0});case 6:e.setState({saving:!1});case 7:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},e.toggleVisible=function(){e.setState({visible:!e.state.visible})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.form,a=n.getFieldDecorator,i=n.getFieldError,o=n.isFieldTouched,c=o("firstName")&&i("firstName"),s=o("lastName")&&i("lastName");return r.a.createElement(r.a.Fragment,null,r.a.createElement(qv,null,r.a.createElement("span",{style:{marginRight:12}},t.firstName," ",t.lastName),r.a.createElement(qn.a,{visible:this.state.visible,content:r.a.createElement(Qv,{onSubmit:this.handleSubmit},r.a.createElement(gn.a.Item,{validateStatus:c?"error":"",help:c||"",label:"First name",colon:!1,required:!1},a("firstName",{rules:[{required:!0,message:"Please input your username!"}],initialValue:t.firstName})(r.a.createElement(At.a,{placeholder:"First Name"}))),r.a.createElement(gn.a.Item,{style:{marginRight:0},validateStatus:s?"error":"",help:s||"",label:"Last name",colon:!1,required:!1},a("lastName",{rules:[{required:!0,message:"Please input your username!"}],initialValue:t.lastName})(r.a.createElement(At.a,{placeholder:"Last Name"}))),r.a.createElement(gn.a.Item,{style:{textAlign:"right",marginRight:0}},r.a.createElement(u.a,{style:{marginTop:0,marginRight:12,fontWeight:500,letterSpacing:"-.02rem",fontSize:"0.95rem"},onClick:this.toggleVisible},"Cancel"),r.a.createElement(u.a,{type:"primary",style:{marginTop:0,fontWeight:500,letterSpacing:"-.02rem",fontSize:"0.95rem"},htmlType:"submit",loading:this.state.saving},this.state.saving?"Saving":"Save"))),trigger:"click",onClick:this.toggleVisible},r.a.createElement(l.a,{type:"edit",style:{color:"#00A7E1",fontSize:15}}))))}}]),n}(a.Component),$v=gn.a.create({name:"name-form"})(Jv);function eb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var tb=function(e){Object(b.a)(n,e);var t=eb(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement($v,this.props)}}]),n}(a.Component),nb=Object(s.b)(function(e){return Object(j.a)({},e)})(tb);function ab(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function rb(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n}\n"]);return rb=function(){return e},e}var ib=Object(R.a)(fn.a.Item.Meta)(rb()),ob=function(e){Object(b.a)(n,e);var t=ab(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,saving:!1,relogin:!0},e.checkEmail=function(e,t,n){t&&Object($.d)(t)?n():n("validation-error")},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(){var t=Object(g.a)(f.a.mark(function t(n,a){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n||(r=a.email,e.setState({saving:!0}),Ex.firebase.auth().currentUser.updateEmail(r).then(Object(g.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.toggleVisible(),t.next=3,Ex.firebase.updateProfile({email:r});case 3:e.setState({saving:!1});case 4:case"end":return t.stop()}},t)}))).catch(function(t){switch(console.error(t),t.code){case"auth/requires-recent-login":e.setState({relogin:!0})}e.setState({saving:!1})}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},e.toggleVisible=function(){e.setState({visible:!e.state.visible})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(fn.a,{style:{minWidth:540,borderTop:"1px solid #e8e8e8",borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"18px 0px"},actions:[r.a.createElement("span",{style:{fontSize:15}},e.email)]},r.a.createElement(ib,{title:"Email"}))}})}}]),n}(a.Component),cb=gn.a.create({name:"email-form"})(ob);function sb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var lb=function(e){Object(b.a)(n,e);var t=sb(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(cb,this.props)}}]),n}(a.Component),ub=Object(s.b)(function(e){return Object(j.a)({},e)})(lb);function pb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function db(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n}\n"]);return db=function(){return e},e}var mb=Object(R.a)(fn.a.Item.Meta)(db()),fb=function(e){Object(b.a)(n,e);var t=pb(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.resetPassword,n=e.sending,a=e.sent;return r.a.createElement(fn.a,{style:{minWidth:540,borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(e){return r.a.createElement(fn.a.Item,{actions:[r.a.createElement(r.a.Fragment,null,!a&&r.a.createElement(u.a,{loading:n,style:{fontSize:14},onClick:t},n?"Resetting":"Reset Password"),a&&r.a.createElement("span",{style:{fontWeight:500}},"We've sent you a link to reset your password."))]},r.a.createElement(mb,{title:"Password"}))}})}}]),n}(a.Component);function gb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var hb=function(e){Object(b.a)(n,e);var t=gb(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={sending:!1,sent:!1},e.handlePasswordReset=Object(g.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({sending:!0}),t.next=3,Ex.firebase.auth().sendPasswordResetEmail(e.props.user.email).catch(function(t){return e.setState({sending:!1,sent:!1})});case 3:e.setState({sending:!1,sent:!0});case 4:case"end":return t.stop()}},t)})),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.state,t=e.sending,n=e.sent;return r.a.createElement(fb,{resetPassword:this.handlePasswordReset,sending:t,sent:n})}}]),n}(a.Component),vb=Object(s.b)(function(e){return Object(j.a)({},e)})(hb);function bb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function yb(){var e=Object(w.a)(["\ndisplay: flex;\nmargin: auto;\nmargin-top: 42px;\n"]);return yb=function(){return e},e}function Eb(){var e=Object(w.a)(["\nfont-weight: 600;\nmargin-bottom: 0;\ndisplay: inline-block;\nfont-size: 1.2rem;\nletter-spacing: -.03em;\ntext-align: center !important;\n"]);return Eb=function(){return e},e}var Ob=R.a.h2(Eb()),wb=R.a.div(yb()),xb=function(e){Object(b.a)(n,e);var t=bb(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderBottom:"1px solid #eeefef",padding:"24px 24px"}},r.a.createElement(Ob,null,"Profile & Settings")),r.a.createElement(wb,null,r.a.createElement(mn.a,{gutter:6,style:{marginTop:10,padding:"0px 24px",maxWidth:500}},r.a.createElement(Hv,null),r.a.createElement(nb,null),r.a.createElement(ub,null),r.a.createElement(vb,null))))}}]),n}(a.Component);function jb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Sb=function(e){Object(b.a)(n,e);var t=jb(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Rarchy - Profile & Settings"}},{key:"render",value:function(){return r.a.createElement(xb,this.props)}}]),n}(a.Component),Cb=Object(s.b)(function(e){return Object(j.a)({},e)})(Sb);function Ab(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function kb(){var e=Object(w.a)(["\nmax-width: 600px;\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n"]);return kb=function(){return e},e}var Rb=Object(R.a)(Va.a)(kb()),Db=function(e){Object(b.a)(n,e);var t=Ab(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inOrganization,n=e.organization,a=e.history;return r.a.createElement("div",{style:{display:"flex",margin:"auto"}},r.a.createElement(Rb,{title:r.a.createElement(r.a.Fragment,null,!t&&"Upgrade to a Team or Agency plan to create a team",t&&n.subscription.plan.id.startsWith("freelance")&&"Upgrade to a Team or Agency plan to create a team",t&&n.subscription.plan.id.startsWith("team")&&"Upgrade to the Agency plan to create another team",t&&n.subscription.plan.id.startsWith("agency")&&"You have reached the account limit for teams"),extra:r.a.createElement(r.a.Fragment,null,!t&&r.a.createElement(c.b,{to:"/organizations/new"},r.a.createElement(u.a,{size:"large",type:"primary"},r.a.createElement("span",{style:{fontSize:"0.95rem",fontWeight:600,letterSpacing:"-.02rem"}},"View Paid Plans"))),t&&!n.subscription.plan.id.startsWith("agency")&&r.a.createElement(u.a,{size:"large",type:"primary",onClick:function(){return a.push("/organizations/settings#billing")}},r.a.createElement("span",{style:{fontSize:"0.95rem",fontWeight:600,letterSpacing:"-.02rem"}},"Upgrade your plan")))}))}}]),n}(a.Component),Ib=Object(x.g)(Object(s.b)(function(e){return e},{showOrganizationSettingsModal:F.d})(Db));function Tb(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Pb(){var e=Object(w.a)(["\n    font-size: 1rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem !important;\n"]);return Pb=function(){return e},e}function Nb(){var e=Object(w.a)(["\n  .ant-result-title {\n    margin-top: 36px !important;\n    margin-bottom: 36px !important;\n    color: #5B6670 !important;\n    font-size: 1.25rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem !important;\n  }\n  .anticon-exclamation-circle {\n    color: #E7004C !important;\n  }\n"]);return Nb=function(){return e},e}function Lb(){var e=Object(w.a)(["\n  font-size: 0.9rem !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem;\n  margin-right: 12px !important;\n  padding: 0 !important;\n  color: #7b868c !important;\n  &:hover {\n    color: #E7004C !important;\n  }\n"]);return Lb=function(){return e},e}function Fb(){var e=Object(w.a)(["\n  font-size: 0.9rem !important;\n  margin-right: 12px !important;\n  padding: 0 !important;\n  color: #7b868c !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem;\n  &:hover {\n    color: #00a7e1 !important;\n  }\n"]);return Fb=function(){return e},e}function zb(){var e=Object(w.a)(["\n  max-height: 270px !important;\n  overflow-y: scroll !important;\n  margin: 0px !important;\n  // border: 1px solid #e8e8e8 !important;\n  border-radius: 3px !important;\n  background: white !important;\n  .ant-list-item {\n    background: transparent !important;\n  }\n  .ant-list-item-meta-title,\n  .ant-list-item-meta-description {\n    font-size: 13px !important;\n    margin-bottom: 0 !important;\n  }\n  .ant-list-item-meta-avatar {\n    margin: auto 18px auto 6px !important;\n  }\n  .ant-list-item-action {\n    margin-left: 24px !important;\n  }\n"]);return zb=function(){return e},e}function Mb(){var e=Object(w.a)(["\n    .ant-tabs-bar {\n        margin-bottom: 0px;\n    }\n    .ant-tabs-tab {\n        transition: none !important;\n        padding: 12px 9px !important;\n        color: #323E48 !important;\n        &.ant-tabs-tab-active {\n            color: #00A7E1 !important;\n        }\n    }\n    .ant-list {\n        max-height: 33vh !important;\n        overflow-y: scroll !important;\n    }\n    border-bottom: 1px solid #e8e8e8;\n"]);return Mb=function(){return e},e}function Bb(){var e=Object(w.a)(["\n  input {\n    padding-left: 18px !important;\n    border-radius: 2px !important;\n  }\n"]);return Bb=function(){return e},e}function Ub(){var e=Object(w.a)(["\nlabel {\n    font-weight: 500;\n    font-size: 14px;\n    margin-bottom: 6px;\n}\nbutton {\n    font-size: 14px !important;\n    font-weight: 600 !important;\n    letter-spacing: -.02rem !important;\n}\n"]);return Ub=function(){return e},e}function Wb(){var e=Object(w.a)(["\nfont-weight: 600;\nmargin-bottom: 0;\ndisplay: inline-block;\nfont-size: 1.2rem;\nletter-spacing: -.03em;\ntext-align: center !important;\n"]);return Wb=function(){return e},e}var _b=R.a.h2(Wb()),Vb=Object(R.a)(gn.a)(Ub()),Gb=Object(R.a)(At.a)(Bb()),Hb=uu.a.TabPane,Yb=Object(R.a)(uu.a)(Mb()),Xb=Object(R.a)(fn.a)(zb()),Zb=Object(R.a)(u.a)(Fb()),Kb=Object(R.a)(u.a)(Lb()),Qb=Object(R.a)(Va.a)(Nb()),qb=Object(R.a)(u.a)(Pb()),Jb=function(e){Object(b.a)(n,e);var t=Tb(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.members,a=t.nonMembers,i=t.form,o=t.user,c=t.handleSubmit,s=t.creating,p=t.createdTeam,d=t.switchTeam,m=t.history,f=t.handleCreateAnotherTeam,g=i.getFieldDecorator;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderBottom:"1px solid #eeefef",padding:24,textAlign:"center"}},r.a.createElement(_b,null,"New Team")),r.a.createElement("div",{style:{display:"flex",margin:"auto",marginTop:42,padding:"0px 24px"}},p&&r.a.createElement(Qb,{status:"success",title:"Your new team has been created!",extra:r.a.createElement(r.a.Fragment,null,r.a.createElement(qb,{key:"another",size:"large",onClick:f},"Add Another"),r.a.createElement(qb,{type:"primary",size:"large",onClick:function(){return d(p,m)}},"Go to Team"))}),!p&&r.a.createElement(mn.a,{style:{minWidth:500}},r.a.createElement(Vb,null,r.a.createElement(gn.a.Item,{help:null,hasFeedback:!0,required:!1,colon:!1,label:"Team name"},g("name",{rules:[{required:!0,message:"Please input your username!"}]})(r.a.createElement(Gb,{ref:function(e){return e&&e.focus()},size:"large",placeholder:"Enter a team name..."})))),r.a.createElement(Yb,{defaultActiveKey:"1",animated:!1},r.a.createElement(Hb,{tab:r.a.createElement("span",null,r.a.createElement(l.a,{type:"usergroup-add"}),"Team Members"),key:"1"},r.a.createElement(Xb,{dataSource:n,renderItem:function(t){return t?r.a.createElement(fn.a.Item,{style:{padding:"12px 0px"},actions:[n.length>1&&o.id!==t.id&&r.a.createElement(Kb,{className:"no-border no-background no-transition",onClick:function(){return e.props.removeUserFromTeam(t.id)},type:"close"},"Remove")]},r.a.createElement(fn.a.Item.Meta,{style:{fontSize:13},avatar:r.a.createElement(Q.a,{src:Object($.a)({user:t})}),title:r.a.createElement("a",null,"".concat(t.firstName," ").concat(t.lastName?t.lastName:""," ").concat(t.id===o.id?" (you)":"")),description:t.email})):null}})),r.a.createElement(Hb,{tab:r.a.createElement("span",null,r.a.createElement(l.a,{type:"lock"}),"Everyone else"),key:"2"},r.a.createElement(Xb,{dataSource:a,locale:{emptyText:"No other users to add to this team"},renderItem:function(t){return t?r.a.createElement(fn.a.Item,{style:{padding:"12px 0px"},actions:[r.a.createElement(Zb,{className:"no-border no-background no-transition",onClick:function(){e.props.addUserToTeam(t.id)}},"Add to team")]},r.a.createElement(fn.a.Item.Meta,{style:{fontSize:13},avatar:r.a.createElement(Q.a,{src:Object($.a)({user:t})}),title:r.a.createElement("a",null,"".concat(t.firstName," ").concat(t.lastName?t.lastName:"")),description:t.email})):null}}))),r.a.createElement(u.a,{type:"primary",size:"large",disabled:s,loading:s,style:{marginTop:36,width:"100%",fontWeight:600,letterSpacing:"-.02rem"},onClick:I.a.debounce(c,5e3,{leading:!0})},s?"Creating Team":"Create Team"))))}}]),n}(a.Component);function $b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var ey=function(e){Object(b.a)(n,e);var t=$b(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).addUserToTeam=function(e){var t=I.a.filter(a.state.nonMembers,function(t){return t.id===e}),n=I.a.filter(a.state.nonMembers,function(t){return t.id!==e});a.setState({members:[].concat(Object(p.a)(a.state.members),[t[0]]),nonMembers:n})},a.removeUserFromTeam=function(e){var t=I.a.filter(a.state.members,function(t){return t.id===e}),n=I.a.filter(a.state.members,function(t){return t.id!==e});a.setState({nonMembers:[].concat(Object(p.a)(a.state.nonMembers),[t[0]]),members:n})},a.handleSubmit=function(){a.props.form.validateFieldsAndScroll(function(){var e=Object(g.a)(f.a.mark(function e(t,n){var r,i,o,c,s;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=10;break}return r=a.props.user,i=a.state.members,o=n.name,c={createdAt:new Date,createdBy:r.id,name:o,organization:r.token.organization,sitemaps:{active:[],processing:[],archived:[]},members:I.a.map(i,"id"),archived:!1},a.setState({creating:!0}),e.next=8,Ex.firestore.collection("teams").add(c).catch(function(e){return a.setState({creating:!1})});case 8:(s=e.sent)&&a.setState({creating:!1,createdTeam:s.id});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())},a.handleCreateAnotherTeam=function(){return a.setState({createdTeam:null})},a.state={members:[a.props.user],nonMembers:[],creating:!1,createdTeam:null},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.user,n=e.users,a=I.a.compact(I()(n.byId).map(function(e,n){return!e||e.invited||n===t.id?null:Object.assign({},e,{id:n})}).value());this.setState({members:[t],nonMembers:a})}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.user,a=t.users;if(this.props.users.loaded&&!e.users.loaded){var r=I.a.compact(I()(a.byId).map(function(e,t){return!e||e.invited||t===n.id?null:Object.assign({},e,{id:t})}).value());this.setState({members:[n],nonMembers:r})}}},{key:"render",value:function(){var e=this.props.canAddNewTeam;return"not-loaded"===e?null:e||this.state.createdTeam?r.a.createElement(Jb,Object.assign({},this.props,{members:this.state.members,nonMembers:this.state.nonMembers,addUserToTeam:this.addUserToTeam,removeUserFromTeam:this.removeUserFromTeam,handleSubmit:this.handleSubmit,creating:this.state.creating,createdTeam:this.state.createdTeam,handleCreateAnotherTeam:this.handleCreateAnotherTeam})):r.a.createElement(Ib,this.props)}}]),n}(a.Component),ty=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id,canAddNewTeam:ny(e)})},{switchTeam:S.h})(gn.a.create({name:"new_team"})(ey))),ny=function(e){var t=e.organization,n=e.firestore;if(!t.id)return!1;var a=t.subscription.plan;if(!n.data.organizations)return"not-loaded";if(!n.data.organizations[t.id])return"not-loaded";var r=n.data.organizations[t.id].teams.length;switch(a.id.split("-")[0]){case"freelance":return r<1;case"team":return r<5;case"agency":return r<20;default:return!1}};function ay(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function ry(){var e=Object(w.a)(["\n  input {\n    padding-left: 18px !important;\n    border-radius: 2px !important;\n  }\n"]);return ry=function(){return e},e}function iy(){var e=Object(w.a)(["\n    label {\n        font-weight: 500;\n        font-size: 14px;\n        margin-bottom: 6px;\n    }\n    button {\n        font-size: 14px !important;\n        font-weight: 600 !important;\n        letter-spacing: -.02rem !important;\n    }\n"]);return iy=function(){return e},e}var oy=Object(R.a)(gn.a)(iy()),cy=Object(R.a)(At.a)(ry()),sy=function(e){Object(b.a)(n,e);var t=ay(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputValue:null},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.team,n=e.form;if(!t)return null;var a=n.getFieldDecorator;return r.a.createElement(oy,null,r.a.createElement(gn.a.Item,{help:null,required:!1,colon:!1,label:"Team name"},a("teamName",{rules:[{required:!0,message:"Please input your username!"}],initialValue:t.name})(r.a.createElement(cy,{ref:function(e){return e&&e.focus()},size:"large",suffix:r.a.createElement(l.a,{type:"edit",style:{color:"rgba(0,0,0,.25)"}}),onPressEnter:I.a.debounce(this.props.handleSubmit,2500,{leading:!0}),onBlur:I.a.debounce(this.props.handleSubmit,2500,{leading:!0})}))))}}]),n}(a.Component);function ly(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var uy=function(e){Object(b.a)(n,e);var t=ly(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(t,n){if(!t){var a=I.a.trim(n.teamName),r=e.props,i=r.user,o=r.teams,c=r.renameTeam,s=i.token.team;if(a===o.byId[s].name)return;c({teamId:s,newTeamName:a}),e.setState({inputValue:null})}})},e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(sy,Object.assign({handleSubmit:this.handleSubmit},this.props))}}]),n}(a.Component),py=Object(s.b)(function(e){return Object(j.a)({},e,{team:e.teams.byId[e.user.token.team]})},{renameTeam:L.f})(gn.a.create({name:"rename_team"})(uy));function dy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function my(){var e=Object(w.a)(["\n  font-size: 0.9rem !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem;\n  margin-right: 12px !important;\n  padding: 0 !important;\n  color: #7b868c !important;\n  &:hover {\n    color: #E7004C !important;\n  }\n"]);return my=function(){return e},e}function fy(){var e=Object(w.a)(["\n  font-size: 0.9rem !important;\n  margin-right: 12px !important;\n  padding: 0 !important;\n  color: #7b868c !important;\n  font-weight: 500 !important;\n  letter-spacing: -.02rem;\n  &:hover {\n    color: #00a7e1 !important;\n  }\n"]);return fy=function(){return e},e}function gy(){var e=Object(w.a)(["\n  max-height: 270px !important;\n  overflow-y: scroll !important;\n  margin: 0px !important;\n  // border: 1px solid #e8e8e8 !important;\n  border-radius: 3px !important;\n  background: white !important;\n  .ant-list-item {\n    background: transparent !important;\n  }\n  .ant-list-item-meta-title,\n  .ant-list-item-meta-description {\n    font-size: 13px !important;\n    margin-bottom: 0 !important;\n  }\n  .ant-list-item-meta-avatar {\n    margin: auto 18px auto 6px !important;\n  }\n  .ant-list-item-action {\n    margin-left: 24px !important;\n  }\n"]);return gy=function(){return e},e}function hy(){var e=Object(w.a)(["\n    .ant-tabs-bar {\n        margin-bottom: 0px;\n    }\n    .ant-tabs-tab {\n        transition: none !important;\n        padding: 12px 9px !important;\n        color: #323E48 !important;\n        &.ant-tabs-tab-active {\n            color: #00A7E1 !important;\n        }\n    }\n    .ant-list {\n        max-height: 33vh !important;\n        overflow-y: scroll !important;\n    }\n    border-bottom: 1px solid #e8e8e8;\n"]);return hy=function(){return e},e}var vy=uu.a.TabPane,by=Object(R.a)(uu.a)(hy()),yy=Object(R.a)(fn.a)(gy()),Ey=Object(R.a)(u.a)(fy()),Oy=Object(R.a)(u.a)(my()),wy=function(e){Object(b.a)(n,e);var t=dy(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props.team;if(!t)return null;var n=this.props,a=n.organization,i=n.users,o=n.firebase,c=I.a.filter(i,"member"),s=I.a.filter(i,function(e){return!e.member&&!e.invited});return r.a.createElement("div",null,r.a.createElement(by,{defaultActiveKey:"1",animated:!1},r.a.createElement(vy,{tab:r.a.createElement("span",null,r.a.createElement(l.a,{type:"usergroup-add"}),"Members"),key:"1"},r.a.createElement(yy,{dataSource:c,renderItem:function(n){return n?r.a.createElement(fn.a.Item,{style:{padding:"12px 0px"},actions:[c.length>1&&o.auth.uid!==n.id&&t.id!==a.id&&r.a.createElement(Oy,{className:"no-border no-background no-transition",onClick:function(){return e.props.removeUserFromTeam(n.id)},type:"close"},"Remove")]},r.a.createElement(fn.a.Item.Meta,{style:{fontSize:13},avatar:r.a.createElement(Q.a,{src:Object($.a)({user:n})}),title:r.a.createElement("a",null,"".concat(n.firstName," ").concat(n.lastName?n.lastName:""," ").concat(n.id===o.auth.uid?" (you)":"")),description:n.email})):null}})),r.a.createElement(vy,{tab:r.a.createElement("span",null,r.a.createElement(l.a,{type:"lock"}),"Everyone else"),key:"2"},r.a.createElement(yy,{dataSource:s,locale:{emptyText:xy(t.id,a)},renderItem:function(t){return t?r.a.createElement(fn.a.Item,{style:{padding:"12px 0px"},actions:[r.a.createElement(Ey,{className:"no-border no-background no-transition",onClick:function(){e.props.addUserToTeam(t.id)}},"Add to team")]},r.a.createElement(fn.a.Item.Meta,{style:{fontSize:13},avatar:r.a.createElement(Q.a,{src:Object($.a)({user:t})}),title:r.a.createElement("a",null,"".concat(t.firstName," ").concat(t.lastName?t.lastName:"")),description:t.email})):null}}))))}}]),n}(a.Component),xy=function(e,t){return t.id?e===t.id?"All organization users have access to the default team":e!==t.id?"No other users to add to this team":void 0:r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/organizations/new",style:{fontWeight:500,fontSize:"0.9rem"}},"Upgrade to an organization account to add additional members."))},jy=wy;function Sy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Cy=function(e){Object(b.a)(n,e);var t=Sy(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(jy,this.props)}}]),n}(a.Component),Ay=function(e){var t=e.user,n=e.organization,a=e.teams,r=e.users,i=e.user.token.team;if(i){if(n.id){var o=a.byId[i],c=I.a.sortBy(I()(r.byId).map(function(e,t){if(e)return Object.assign({},e,{id:t})}).value().map(function(e){if(e)return o.members?(I.a.includes(o.members,e.id)?e.member=!0:e.member=!1,e):(e.invited||(e.member=!0),e)}),["member"]);return I.a.compact(c)}return n.id?void 0:[Object(j.a)({},t,{member:!0})]}},ky=Object(s.b)(function(e){return Object(j.a)({},e,{team:Object(j.a)({id:e.user.token.team},e.teams.byId[e.user.token.team]),inUserAccount:!e.organization.id,inOrganization:!!e.organization.id,users:Ay(e)})},{addUserToTeam:L.a,removeUserFromTeam:L.e})(Cy);function Ry(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Dy(){var e=Object(w.a)(["\n    font-size: 14px !important;\n    font-weight: 600 !important;\n    letter-spacing: -.02rem !important;\n    &.delete {\n        &:hover {\n            background-color: #E7004C !important;\n        }\n    }\n"]);return Dy=function(){return e},e}var Iy=Object(R.a)(u.a)(Dy()),Ty=function(e){Object(b.a)(n,e);var t=Ry(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.inOrganization,n=e.organization,a=e.user,i=e.handleDelete;return t&&n.id!==a.token.team?r.a.createElement(fn.a,{style:{minWidth:540,marginTop:24,marginBottom:12,borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(e){return r.a.createElement(fn.a.Item,{actions:[r.a.createElement(Sg.a,{placement:"topRight",title:"This will permanently delete all sitemaps in this team!",onConfirm:i,okText:"Ok",cancelText:"Cancel",overlayClassName:"pop-confirm"},r.a.createElement(Iy,{className:"no-border delete",type:"primary"},"Delete"))]},r.a.createElement(fn.a.Item.Meta,{title:"Delete this team",description:"Delete team and all associated sitemaps"}))}}):null}}]),n}(a.Component);function Py(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Ny=function(e){Object(b.a)(n,e);var t=Py(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleDelete=Object(g.a)(f.a.mark(function t(){var n,a,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=e.props.user.token,a=n.team,r=n.organization,Ex.firestore.doc("/teams/".concat(a)).set({archived:!0},{merge:!0}).then(function(){e.props.switchTeam(r,e.props.history)}).catch(function(e){console.error(e)});case 2:case"end":return t.stop()}},t)})),e}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(Ty,Object.assign({},this.props,{handleDelete:this.handleDelete}))}}]),n}(a.Component),Ly=Object(x.g)(Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id})},{switchTeam:S.h})(Ny));function Fy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function zy(){var e=Object(w.a)(["\nfont-weight: 600;\nmargin-bottom: 0;\ndisplay: inline-block;\nfont-size: 1.2rem;\nletter-spacing: -.03em;\ntext-align: center !important;\n"]);return zy=function(){return e},e}var My=R.a.h2(zy()),By=function(e){Object(b.a)(n,e);var t=Fy(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{borderBottom:"1px solid #eeefef",padding:24}},r.a.createElement(My,null,"Team Settings")),r.a.createElement("div",{style:{display:"flex",margin:"auto",marginTop:42,padding:"0px 24px"}},r.a.createElement(mn.a,{style:{minWidth:480}},r.a.createElement(py,null),r.a.createElement(ky,null),r.a.createElement(Ly,null))))}}]),n}(a.Component);function Uy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Wy=function(e){Object(b.a)(n,e);var t=Uy(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(By,this.props)}}]),n}(a.Component),_y=Object(s.b)(function(e){return Object(j.a)({},e)},{renameTeam:L.f})(Wy);function Vy(){var e=Object(w.a)(["\npadding: 18px 24px;\nborder-bottom: 1px solid #f1f1f1;\nbox-shadow: 0 0px 1px rgba(238,239,239,0.5);\ntext-align: center !important;\nh2 {\n    font-weight: 600;\n    margin-bottom: 0;\n    display: inline-block;\n    font-size: 1.2rem;\n    letter-spacing: -.03em;\n}\n"]);return Vy=function(){return e},e}var Gy=R.a.div(Vy());function Hy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Yy(){var e=Object(w.a)(["\n    min-width: 300px;\n    .ant-form-item {\n        margin-bottom: 12px;\n    }\n    .ant-form-item-label {\n        line-height: 32px;\n        font-weight: 500;\n        letter-spacing: -.02rem;\n        label { \n            color: #5B6670;\n        }\n    }\n"]);return Yy=function(){return e},e}function Xy(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n    color: #5B6670 !important;\n}\n"]);return Xy=function(){return e},e}var Zy=Object(R.a)(fn.a.Item.Meta)(Xy()),Ky=Object(R.a)(gn.a)(Yy()),Qy=function(e){Object(b.a)(n,e);var t=Hy(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,saving:!1,relogin:!0},e.checkName=function(e,t,n){t&&t.length>0&&t.length<50?n():n("validation-error")},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(){var t=Object(g.a)(f.a.mark(function t(n,a){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n||(r=a.name,e.toggleVisible(),Ex.firestore.doc("organizations/".concat(e.props.organization.id)).set({name:r},{merge:!0}).catch(function(e){}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},e.toggleVisible=function(){e.setState({visible:!e.state.visible})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.isAdmin,i=t.form.getFieldDecorator;return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"18px 0px"},actions:[r.a.createElement("span",{style:{fontSize:15,color:"#323E48"}},n.name,r.a.createElement(qn.a,{visible:e.state.visible,content:r.a.createElement(Ky,{onSubmit:e.handleSubmit,hideRequiredMark:!0,colon:!1},r.a.createElement(gn.a.Item,{hasFeedback:!0,help:null,label:"Name"},i("name",{rules:[{validator:e.checkName,required:!0}],initialValue:n.name})(r.a.createElement(At.a,{placeholder:"Enter new organization name..."}))),r.a.createElement(gn.a.Item,{style:{textAlign:"right",marginRight:0}},r.a.createElement(u.a,{style:{marginTop:0,marginRight:12,fontWeight:500,letterSpacing:"-.02rem",fontSize:"0.95rem"},onClick:e.toggleVisible},"Cancel"),r.a.createElement(u.a,{type:"primary",style:{marginTop:0,fontWeight:500,letterSpacing:"-.02rem",fontSize:"0.95rem"},htmlType:"submit",loading:e.state.saving},e.state.saving?"Saving":"Save"))),trigger:"click",onClick:e.toggleVisible},a&&r.a.createElement(l.a,{type:"edit",style:{color:"#00A7E1",fontSize:15,marginLeft:12,marginRight:-6}})))]},r.a.createElement(Zy,{title:"Name"}))}})}}]),n}(a.Component),qy=gn.a.create({name:"name-form"})(Qy);function Jy(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function $y(){var e=Object(w.a)(["\n    min-width: 300px;\n    .ant-form-item {\n        margin-bottom: 12px;\n    }\n    .ant-form-item-label {\n        line-height: 32px;\n        font-weight: 500;\n        letter-spacing: -.02rem;\n        label { \n            color: #5B6670;\n        }\n    }\n"]);return $y=function(){return e},e}function eE(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n    color: #5B6670 !important;\n}\n"]);return eE=function(){return e},e}var tE=Object(R.a)(fn.a.Item.Meta)(eE()),nE=Object(R.a)(gn.a)($y()),aE=function(e){Object(b.a)(n,e);var t=Jy(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,saving:!1,relogin:!0},e.checkUrl=function(e,t,n){t&&Object($.e)(t)&&t.length>0&&t.length<50?n():n("validation-error")},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll(function(){var t=Object(g.a)(f.a.mark(function t(n,a){var r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n||(r=a.domain,e.toggleVisible(),Ex.firestore.doc("organizations/".concat(e.props.organization.id)).set({domain:r},{merge:!0}).catch(function(e){}));case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},e.toggleVisible=function(){e.setState({visible:!e.state.visible})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.isAdmin,i=t.form.getFieldDecorator;return r.a.createElement(fn.a,{itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"18px 0px"},actions:[r.a.createElement("span",{style:{fontSize:15,color:"#323E48"}},n.domain,r.a.createElement(qn.a,{visible:e.state.visible,content:r.a.createElement(nE,{onSubmit:e.handleSubmit,hideRequiredMark:!0,colon:!1},r.a.createElement(gn.a.Item,{hasFeedback:!0,help:null,label:"Website"},i("domain",{rules:[{validator:e.checkUrl,required:!0}],initialValue:n.domain})(r.a.createElement(At.a,{placeholder:"Enter new domain..."}))),r.a.createElement(gn.a.Item,{style:{textAlign:"right",marginRight:0}},r.a.createElement(u.a,{style:{marginTop:0,marginRight:12,fontWeight:500,letterSpacing:"-.02rem",fontSize:"0.95rem"},onClick:e.toggleVisible},"Cancel"),r.a.createElement(u.a,{type:"primary",style:{marginTop:0,fontWeight:500,letterSpacing:"-.02rem",fontSize:"0.95rem"},htmlType:"submit",loading:e.state.saving},e.state.saving?"Saving":"Save"))),trigger:"click",onClick:e.toggleVisible},a&&r.a.createElement(l.a,{type:"edit",style:{color:"#00A7E1",fontSize:15,marginLeft:12,marginRight:-6}})))]},r.a.createElement(tE,{title:"Website"}))}})}}]),n}(a.Component),rE=gn.a.create({name:"website-form"})(aE);function iE(){var e=Object(w.a)(["\n    padding: 0px 4px !important;\n  .ant-form-item-control {\n    line-height: 36px !important;\n  }\n  margin-bottom: 0px !important;\n"]);return iE=function(){return e},e}function oE(){var e=Object(w.a)(["\n  .has-error .ant-input-group-addon  {\n    color: unset !important;\n    border-color: #d9d9d9 !important;\n  }\n  margin-bottom: 0px !important;\n"]);return oE=function(){return e},e}function cE(){var e=Object(w.a)(["\n.ant-form-explain {\n  margin-top: 9px !important;\n}\n"]);return cE=function(){return e},e}function sE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function lE(){var e=Object(w.a)(["\n  font-size: 0.9rem !important;\n  font-weight: 600 !important;\n  letter-spacing: -.02rem;\n  float: right;\n  border: none !important;\n"]);return lE=function(){return e},e}function uE(){var e=Object(w.a)(['\nmargin-right: 3px !important;\n.ant-select-selection {\n  border: 1px solid #e8e8e8 !important;\n  color: #7b868c !important;\n  background: transparent !important;\n  min-width: 85px !important;\n}\n.ant-select-selection__rendered {\n    font-size: 0.85rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem;\n    color: #5B6670 !important;\n    text-transform: capitalize;\n    .ant-select-selection-selected-value {\n        &[title="User"] {\n         margin-left: 6px !important;\n      }\n    }\n  }\n']);return uE=function(){return e},e}function pE(){var e=Object(w.a)(["\n.ant-select-selection__rendered {\n    line-height: 36px !important;\n    font-size: 0.85rem !important;\n    font-weight: 600 !important;\n    letter-spacing: -.02rem;\n    color: #5B6670 !important;\n  }\n"]);return pE=function(){return e},e}function dE(){var e=Object(w.a)(["\n  max-height: 270px !important;\n  overflow-y: scroll !important;\n  margin-bottom: 0px !important;\n  border: none !important;\n  border-bottom: 1px solid #e8e8e8 !important;\n  border-radius: 3px !important;\n  background: white !important;\n  .ant-list-item {\n    background: transparent !important;\n    &.invited {\n        background: #fafafa !important;\n    }\n  }\n  .ant-list-item-meta-title,\n  .ant-list-item-meta-description {\n    font-size: 13px !important;\n    margin-bottom: 0 !important;\n  }\n  .ant-list-item-meta-avatar {\n    margin: auto 12px !important;\n  }\n  .ant-list-item-action {\n    margin-left: 24px !important;\n  }\n"]);return dE=function(){return e},e}var mE=Jn.a.Option,fE=Object(R.a)(fn.a)(dE()),gE=Object(R.a)(Jn.a)(pE()),hE=Object(R.a)(Jn.a)(uE()),vE=Object(R.a)(u.a)(lE()),bE=function(e){Object(b.a)(n,e);var t=sE(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.ui,n=e.organization,a=e.users,i=e.isAdmin,o=e.user,c=e.addNewUserToOrganization,s=e.clearAddUserError,l=e.updateUserOrganizationRole,p=e.removeUserFromOrganization,d=t.OrganizationSettingsModal;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fE,{dataSource:a,locale:{emptyText:"No users"},renderItem:function(e){return r.a.createElement(fn.a.Item,{className:e.invited&&"invited",style:{padding:"9px 6px"},actions:[r.a.createElement(r.a.Fragment,null,"admin"===o.token.role&&r.a.createElement(r.a.Fragment,null,o.id!==e.id&&r.a.createElement(hE,{disabled:o.id===e.id,defaultValue:e.invited?"Invited":e.role,dropdownMatchSelectWidth:!1,dropdownRender:function(t){return r.a.createElement("div",{style:{textAlign:"center"}},!e.invited&&t,o.id!==e.id&&r.a.createElement(r.a.Fragment,null,!e.invited&&r.a.createElement(wt.a,{style:{margin:0}}),r.a.createElement(u.a,{ghost:!0,className:"no-border no-transition",style:{padding:"6px 15px",cursor:"pointer",color:"#E7004C",fontWeight:500},onClick:function(){p(e)}},e.invited?"Uninvite":"Remove")))},onSelect:function(t){l({user:e.id,role:t})}},r.a.createElement(mE,{disabled:o.id===e.id&&!0,value:"user"},"User"),r.a.createElement(mE,{disabled:o.id===e.id&&!0,value:"admin"},"Admin")),o.id===e.id&&r.a.createElement("div",{style:{marginRight:30,textTransform:"capitalize",fontWeight:500}},e.role)),"user"===o.token.role&&r.a.createElement("span",{style:{marginRight:12,fontWeight:500,textTransform:"capitalize"}},e.invited?"Invited":e.role))]},r.a.createElement(fn.a.Item.Meta,{style:{fontSize:13},avatar:r.a.createElement(Q.a,{src:Object($.a)({user:e})}),title:r.a.createElement("a",{style:{color:e.invited&&"#7B868C"}},"".concat(e.firstName," ").concat(e.invited?"":e.lastName," ").concat(e.id===o.id?" (you)":"")),description:e.email}))}}),i&&r.a.createElement(CE,{user:o,organization:n,addNewUserToOrganization:c,OrganizationSettingsModal:d,clearAddUserError:s}))}}]),n}(a.Component);function yE(e){var t=I.a.compact(I()(e.users.byId).map(function(t,n){return t?n===e.user.id?Object(j.a)({},e.user,{role:e.user.token.role}):Object.assign({},t,{id:n}):null}).value());if(t.length>1){var n=I.a.findIndex(t,function(t){return t.id===e.user.id});t.unshift(t.splice(n,1)[0])}return t}var EE=Object(R.a)(gn.a)(cE()),OE=Object(R.a)(gn.a.Item)(oE()),wE=Object(R.a)(gn.a.Item)(iE()),xE=r.a.createElement("div",null,r.a.createElement("h4",null,"Admin Access"),r.a.createElement("ul",{style:{paddingLeft:18}},r.a.createElement("li",null,"Can change organization details"),r.a.createElement("li",null,"Can add/remove users"),r.a.createElement("li",null,"Can modify billing details "),r.a.createElement("li",null,"Can cancel the subscription "),r.a.createElement("p",{style:{fontStyle:"italic",marginLeft:-18,marginTop:6,marginBottom:0}},"and all of the below...")),r.a.createElement("h4",null,"User Access"),r.a.createElement("ul",{style:{paddingLeft:18}},r.a.createElement("li",null,"Can create sitemaps"),r.a.createElement("li",null,"Can add/remove sitemap collaborators"),r.a.createElement("li",null,"Can create teams"))),jE=function(e){Object(b.a)(n,e);var t=sE(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var n=e.props,a=n.form,r=n.user;a.validateFieldsAndScroll(function(t,n){var i=n.email,o=n.role;t||"admin"!==r.token.role||(e.props.addNewUserToOrganization({user:{email:i,role:o}}),a.resetFields())})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.form,a=t.organization,i=t.OrganizationSettingsModal,o=n.getFieldDecorator;return SE(a)?r.a.createElement("div",{style:{textAlign:"center",padding:"18px 0px",fontSize:"0.9rem",fontWeight:600}},r.a.createElement("a",{style:{color:"#00A7E1"},onClick:function(){return e.props.history.push("/organizations/settings#billing")}},r.a.createElement(l.a,{type:"info-circle",style:{marginRight:12,fontSize:"1rem"}}),"Upgrade your plan to invite more users to this organization")):r.a.createElement("div",{style:{padding:"0px 9px"}},r.a.createElement("h4",{style:{margin:12,fontWeight:500}},"Invite User",r.a.createElement(qn.a,{content:xE,trigger:"click"},r.a.createElement(l.a,{type:"question-circle",style:{marginLeft:9,color:"#7B868C"}}))),r.a.createElement("div",{style:{padding:0,margin:"12px 6px"}},r.a.createElement(EE,{onSubmit:this.handleSubmit},r.a.createElement(gn.a.Item,null,r.a.createElement(At.a.Group,{size:"large"},r.a.createElement(mn.a,null,r.a.createElement(Qn.a,{span:20},r.a.createElement(OE,{help:null,required:!1},o("email",{rules:[{required:!0,message:null}]})(r.a.createElement(At.a,{placeholder:"Enter users email address...",size:"large",type:"email",required:!0,onFocus:function(){i.users.error&&e.props.clearAddUserError()},addonAfter:r.a.createElement(wE,{help:null},o("role",{initialValue:"user"})(r.a.createElement(gE,{showArrow:!0,dropdownMatchSelectWidth:!1,style:{color:"#5B6670",textTransform:"capitalize"}},r.a.createElement(mE,{value:"user"},"User"),r.a.createElement(mE,{value:"admin"},"Admin"))))})))),r.a.createElement(Qn.a,{span:4},r.a.createElement(vE,{type:"primary",size:"large",onClick:I.a.debounce(this.handleSubmit,2500,{leading:!0})},"Invite"))))),i.users.error&&r.a.createElement(Kn.a,{style:{marginTop:-9},message:i.users.error,type:"error"}))))}}]),n}(r.a.Component),SE=function(e){var t=e.subscription.plan,n=I.a.size(e.users);switch(t.id.split("-")[0]){case"freelance":if(n>=1)return!0;break;case"team":if(n>=5)return!0;break;case"agency":if(n>=20)return!0;break;default:return!0}return!1},CE=Object(x.g)(gn.a.create({name:"add_user"})(jE)),AE=Object(s.b)(function(e){return Object(j.a)({},e,{users:yE(e)})},{addNewUserToOrganization:fl.a,updateUserOrganizationRole:fl.d,removeUserFromOrganization:fl.c,clearAddUserError:F.a})(bE);function kE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function RE(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n    color: #5B6670 !important;\n    font-weight: 500;\n    letter-spacing: -.02rem;\n}\n"]);return RE=function(){return e},e}var DE=Object(R.a)(fn.a.Item.Meta)(RE()),IE=function(e){Object(b.a)(n,e);var t=kE(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props.organization.subscription,n=t.status,a=t.plan,i=t.tax,o=t.cancel_at_period_end,c="active"!==n&&"trialing"!==n,s=i?i.percentage?" + ".concat(i.percentage,"% tax"):"":" + tax",u=a.id.split("-")[0];return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"18px 0px"},actions:[r.a.createElement("span",{style:{fontSize:14,color:"#323E48"}},r.a.createElement("span",{style:{marginRight:12,fontWeight:500,fontSize:14}},"".concat(u.charAt(0).toUpperCase()+u.slice(1)," plan")),r.a.createElement("span",{style:{fontSize:13,color:"grey"},className:"text-muted"},"$".concat(a.amount/100," USD").concat(s)),!o&&!c&&r.a.createElement(l.a,{type:"edit",style:{color:"#00A7E1",fontSize:15,marginLeft:12,marginRight:-6},onClick:e.props.toggleUpgrade}))]},r.a.createElement(DE,{title:"Subscription"}))}})}}]),n}(a.Component),TE=Object(s.b)(function(e){return e},{})(IE),PE=n(183);function NE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function LE(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n    color: #5B6670 !important;\n    font-weight: 500;\n    letter-spacing: -.02rem;\n}\n"]);return LE=function(){return e},e}In.extend(PE);var FE=Object(R.a)(fn.a.Item.Meta)(LE()),zE=function(e){Object(b.a)(n,e);var t=NE(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.organization.subscription,t=e.current_period_end,n=e.cancel_at_period_end;return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(e){return r.a.createElement(fn.a.Item,{style:{padding:"18px 0px"},actions:[r.a.createElement("span",{style:{fontSize:14,color:"#323E48"}},n&&"No further invoices",!n&&"Next invoice will be collected on ".concat(In(new Date(1e3*t)).format("ll")))]},r.a.createElement(FE,{title:"Next Invoice"}))}})}}]),n}(a.Component),ME=Object(s.b)(function(e){return e},{})(zE);function BE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function UE(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n    color: #5B6670 !important;\n    font-weight: 500;\n    letter-spacing: -.02rem;\n}\n"]);return UE=function(){return e},e}var WE=Object(R.a)(fn.a.Item.Meta)(UE()),_E=function(e){Object(b.a)(a,e);var t=BE(a);function a(){var e;Object(h.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={stripe:{instance:null,el:null},saving:!1,error:!1,visible:!1},e.toggleVisible=function(){e.setState({visible:!e.state.visible})},e.handleSubmit=Object(g.a)(f.a.mark(function t(){var n,a,r,i,o,c;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.organization,a=I.a.isEmpty(n.subscription.paymentCard),r=e.state.stripe,e.setState({saving:!0,error:null}),t.next=6,r.instance.createToken(r.el);case 6:if(!(i=t.sent).error){t.next=9;break}return t.abrupt("return",e.setState({saving:!1}));case 9:if(!a){t.next=26;break}return t.next=12,Ex.firebase.functions().httpsCallable("stripe-createSubscription")({id:n.id,token:i}).catch(function(t){return e.setState({error:t.message,saving:!1})});case 12:if(o=t.sent){t.next=15;break}return t.abrupt("return");case 15:if("requires_payment_method"!==o.data.payment_intent.status){t.next=17;break}return t.abrupt("return",e.setState({saving:!1,error:"We couldn't charge your card. Please try again."}));case 17:if("requires_action"!==o.data.payment_intent.status){t.next=23;break}return t.next=20,r.instance.handleCardPayment(o.data.payment_intent.client_secret);case 20:if(!(c=t.sent).error){t.next=23;break}return t.abrupt("return",e.setState({saving:!1,error:c.error.message}));case 23:window.dataLayer.push({event:"new_organization_signup",new_plan_id:n.subscription.plan.id.split("-")[0],new_plan_amount:n.subscription.plan.amount/100}),t.next=28;break;case 26:return t.next=28,Ex.firebase.functions().httpsCallable("stripe-updatePaymentCard")(i).catch(function(t){return e.setState({error:t.message,saving:!1})});case 28:return t.abrupt("return",e.setState({visible:!1,saving:!1,error:null}));case 29:case"end":return t.stop()}},t)})),e}return Object(v.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.Stripe?this.setState({stripe:{instance:window.Stripe("pk_live_T2wjRbYp3dLV5XeXDwJNDCrh00VgeDKk9o")}}):document.querySelector("#stripe-js").addEventListener("load",function(){e.setState({stripe:{instance:window.Stripe("pk_live_T2wjRbYp3dLV5XeXDwJNDCrh00VgeDKk9o")}})})}},{key:"render",value:function(){var e=this,t=this.props.organization.subscription,a=t.paymentCard,i=t.status,o=function(){try{return n(949)("./".concat(a.brand.toLowerCase(),".png"))}catch(e){}};return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"18px 0px"},actions:[r.a.createElement("span",{style:{fontSize:14,color:"#323E48"}},!I.a.isEmpty(a)&&o&&r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{style:{height:30,float:"left",marginTop:-2,marginRight:12},src:n(949)("./".concat(a.brand.toLowerCase(),".png"))}),r.a.createElement("span",{style:{color:"#A2A9AD",verticalAlign:"0.05em",fontSize:15,fontWeight:500}},"xxxx xxxx xxxx"),r.a.createElement("span",{style:{marginLeft:6,fontSize:14,color:"#5B6670",fontWeight:500}},a.last4),r.a.createElement(wt.a,{type:"vertical",style:{background:"#EEEFEF",marginLeft:9,marginRight:9,height:"1em"}}),r.a.createElement("span",{style:{fontSize:14,color:"#5B6670",fontWeight:500}},"".concat(a.exp_month," / ").concat(a.exp_year%100))),r.a.createElement(qn.a,{content:r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{style:{fontSize:14,color:"#8d8d8d",fontWeight:400,marginTop:0}}," ","".concat("trialing"===i?"Add":"Change"," your payment details")),r.a.createElement(no.StripeProvider,{stripe:e.state.stripe.instance},r.a.createElement("div",{className:"Checkout"},r.a.createElement(no.Elements,{fonts:[{cssSrc:"https://fonts.googleapis.com/css?family=Open+Sans"}]},r.a.createElement(no.CardElement,Object.assign({onReady:function(t){return e.setState({stripe:Object(j.a)({},e.state.stripe,{el:t})})},hidePostalCode:!0},{style:{base:{color:"#000000a6",border:"1px solid lightgrey",fontSize:"14px",lineHeight:"1.75em",height:"36px",letterSpacing:"0.025em",fontFamily:"Open Sans","::placeholder":{color:"#bfbfbf"},padding:"24px"},invalid:{color:"red"}}}))))),r.a.createElement("div",{style:{marginTop:18,fontSize:13,fontStyle:"italic"}},"All major cards accepted",r.a.createElement("img",{style:{height:24,float:"right"},src:n(338)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(339)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(340)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(341)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(342)}),r.a.createElement("img",{style:{height:24,float:"right"},src:n(343)})),r.a.createElement("div",{style:{width:"100%",textAlign:"right",display:"inline-block"}},!e.state.saving&&r.a.createElement(u.a,{style:{marginTop:18,fontWeight:500,fontSize:14,marginRight:12},onClick:e.toggleVisible},"Cancel"),r.a.createElement(u.a,{loading:e.state.saving,type:"primary",style:{marginTop:18,fontWeight:500,fontSize:14},onClick:e.handleSubmit},e.state.saving?"".concat("trialing"===i?"Confirming":"Saving"):"".concat("trialing"===i?"Confirm Subscription":"Save"))),e.state.error&&r.a.createElement(Kn.a,{style:{marginTop:12},message:e.state.error,type:"error"})),trigger:"click",visible:e.state.visible,overlayClassName:"change-payment-card-popover",placement:"bottom",onClick:function(e){e.preventDefault(),e.stopPropagation()}},I.a.isEmpty(a)&&r.a.createElement("a",{onClick:e.toggleVisible,style:{fontSize:"0.925rem",fontWeight:500,display:"inline-block",marginBottom:0}},"Add your payment details to start your subscription"),!I.a.isEmpty(a)&&r.a.createElement(l.a,{type:"edit",style:{color:"#00A7E1",fontSize:15,marginLeft:12,marginRight:-6},onClick:e.toggleVisible})))]},r.a.createElement(WE,{title:"Payment Card"}))}})}}]),a}(a.Component),VE=Object(s.b)(function(e){return e},{})(_E);function GE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function HE(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n    color: #5B6670 !important;\n    font-weight: 500;\n    letter-spacing: -.02rem;\n}\n"]);return HE=function(){return e},e}In.extend(PE);var YE=Object(R.a)(fn.a.Item.Meta)(HE()),XE={display:"block",height:"36px",lineHeight:"36px",fontWeight:500},ZE={modalVisible:!1,cancellationReason:null,cancellationFeedback:null,showDiscountScreen:!1,applyingDiscount:!1,appliedDiscount:!1,cancelling:!1,cancelled:!1},KE=function(e){Object(b.a)(n,e);var t=GE(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=ZE,e.handleButtonClick=function(){e.setState({modalVisible:!0})},e.handleCancel=Object(g.a)(f.a.mark(function t(){var n;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({cancelling:!0,showDiscountScreen:!1}),t.next=3,Ex.firebase.functions().httpsCallable("stripe-cancelSubscription")({}).catch(function(e){return console.error(e)});case 3:n=t.sent,e.setState({cancelling:!1,cancelled:n.data.cancel_at}),window.dataLayer.push({event:"cancelledSubscription",subscription:{plan:e.props.organization.subscription.plan.id,cancellationReason:e.state.cancellationReason,cancellationFeedback:e.state.cancellationFeedback}});case 6:case"end":return t.stop()}},t)})),e.handleDiscount=Object(g.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({applyingDiscount:!0}),t.next=3,Ex.firebase.functions().httpsCallable("stripe-applyLifetimeDiscount")({});case 3:e.setState({applyingDiscount:!1,appliedDiscount:!0});case 4:case"end":return t.stop()}},t)})),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.ui,i=n.subscription,o=i.current_period_end,c=i.cancel_at_period_end;return r.a.createElement(r.a.Fragment,null,r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"18px 0px"},actions:[r.a.createElement(r.a.Fragment,null,!e.state.cancelling&&!c&&r.a.createElement(u.a,{style:{fontWeight:500,marginRight:-6},onClick:e.handleButtonClick},"Cancel subscription"),r.a.createElement("span",{style:{fontSize:14,color:"#323E48"}},r.a.createElement(r.a.Fragment,null,e.state.cancelling&&!c&&!e.state.cancelled&&"Cancelling your account...",(c||e.state.cancelled)&&"Your account will be deleted on ".concat(In(new Date(o?1e3*o:1e3*e.state.cancelled)).format("LL")))))]},r.a.createElement(YE,{title:"Close Account"}))}}),this.state.modalVisible&&r.a.createElement(kt.a,{title:QE(this),centered:!0,width:450,onCancel:function(){return e.setState(ZE)},afterClose:function(){return e.setState(ZE)},maskClosable:!1,style:{left:a.sideMenu.collapsed?0:122},visible:this.state.modalVisible,footer:JE(this)},qE(this)))}}]),n}(a.Component),QE=function(e){var t=e.state,n=t.showDiscountScreen,a=t.applyingDiscount,r=t.appliedDiscount,i=t.cancelled;return n?a?"Applying 20% discount...":r?"20% discount applied!":"We want you to stay...":i?"Thanks for using Rarchy!":"We're sad to see you go..."},qE=function(e){var t=e.state,n=t.cancelling,a=t.cancelled,i=t.showSelectCancellationError,o=t.showDiscountScreen,c=t.applyingDiscount,s=t.appliedDiscount,u=e.props.organization;return o?o?s?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{marginBottom:18}},"We've successfully applied the ",r.a.createElement("p",{style:{display:"inline-block",marginBottom:0,fontWeight:500}},"20% monthly discount")," for the lifetime of your subscription with Rarchy."),r.a.createElement("p",{style:{display:"inline-block",marginBottom:0}},"The monthly price of your current plan is now just ")," ",r.a.createElement("p",{style:{display:"inline-block",marginBottom:12,fontWeight:500}},"$".concat((u.subscription.plan.amount/100*.8).toFixed(2)," USD ").concat(u.subscription.tax.jurisdiction&&"+ tax."))):c?r.a.createElement("div",{style:{display:"flex",padding:42}},r.a.createElement(O.a,{style:{margin:"auto"},indicator:r.a.createElement(l.a,{type:"loading",style:{fontSize:60}})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{marginTop:12,marginBottom:18}},"We understand every penny helps in these uncertain times."),r.a.createElement("p",{style:{display:"inline-block",marginBottom:0}},"Stay with us and we'll give you a ")," ",r.a.createElement("p",{style:{display:"inline-block",marginBottom:0,fontWeight:500}},"20% monthly discount"),r.a.createElement("p",{style:{display:"inline-block",marginBottom:18}},"for the lifetime of your subscription."),r.a.createElement("p",{style:{display:"inline-block",marginBottom:0}},"This will bring your current plan to just")," ",r.a.createElement("p",{style:{display:"inline-block",marginBottom:12,fontWeight:500}},"$".concat((u.subscription.plan.amount/100*.8).toFixed(2)," USD ").concat(u.subscription.tax.jurisdiction&&"+ tax."))):void 0:a?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{style:{marginBottom:18}},"Your subscription has been set to cancel on ",r.a.createElement("strong",null,In(new Date(1e3*a)).format("LL"),".")),r.a.createElement("p",{style:{marginBottom:18}},"You can still use Rarchy until this time, after which this organization account will be permanently deleted."),r.a.createElement("p",null,"Thanks for using Rarchy - we hope to see you in the future.")):n?r.a.createElement("div",{style:{display:"flex",padding:42}},r.a.createElement(O.a,{style:{margin:"auto"},indicator:r.a.createElement(l.a,{type:"loading",style:{fontSize:60}})})):r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Before you cancel, please let us know the reason you are leaving. Every bit of feedback helps us improve!"),r.a.createElement(rn.a.Group,{onChange:function(t){return e.setState({cancellationReason:t.target.value,showSelectCancellationError:!1})}},r.a.createElement(rn.a,{style:XE,value:"I've finished my project"},"I've finished my project"),r.a.createElement(rn.a,{style:XE,value:"Too expensive"},"Too expensive"),r.a.createElement(rn.a,{style:XE,value:"Moving to another tool"},"Moving to another tool"),r.a.createElement(rn.a,{style:XE,value:"Technical issues"},"Technical issues"),r.a.createElement(rn.a,{style:XE,value:"Missing features I need"},"Missing features I need"),r.a.createElement(rn.a,{style:XE,value:"Other"},"Other")),i&&r.a.createElement("div",{style:{color:"red",textAlign:"right"}},"Please select a cancellation reason"),r.a.createElement(At.a.TextArea,{autoSize:{minRows:3,maxRows:5},style:{marginTop:18},placeholder:"Please leave any other feedback for us",onChange:function(t){e.setState({cancellationFeedback:""!==t.target.value?t.target.value:null})}}))},JE=function(e){var t=e.state,n=t.cancelling,a=t.cancelled,i=t.cancellationReason,o=t.applyingDiscount,c=t.appliedDiscount,s=t.showDiscountScreen,l=e.props.organization;return s?s?c?[r.a.createElement(u.a,{className:"no-border",key:"back",style:{fontWeight:500},onClick:function(){return e.setState({modalVisible:!1})}},"Close")]:[!o&&!c&&r.a.createElement(u.a,{className:"no-border",key:"back",style:{fontWeight:500},onClick:function(){return e.handleCancel()}},"I still want to cancel"),r.a.createElement(u.a,{key:"submit",type:"primary",loading:o,style:{fontWeight:500},onClick:function(){return e.handleDiscount()}},"Get 20% Discount")]:r.a.createElement("div",null):n||a?a?[r.a.createElement(u.a,{className:"no-border",key:"back",style:{fontWeight:500},onClick:function(){return e.setState({modalVisible:!1})}},"Close")]:n?[null,r.a.createElement(u.a,{key:"submit",type:"danger",style:{fontWeight:500},loading:!0},"Cancelling")]:null:[r.a.createElement(u.a,{className:"no-border",key:"back",style:{fontWeight:500},onClick:function(){return e.setState({modalVisible:!1})}},"Nevermind, I don't want to cancel"),r.a.createElement(u.a,{key:"submit",type:"danger",style:{fontWeight:500},onClick:function(){return i?"Too expensive"===i&&"20-loyalty"!==l.subscription.discount?e.setState({showDiscountScreen:!0}):void e.handleCancel():e.setState({showSelectCancellationError:!0})}},"Cancel Account")]},$E=Object(s.b)(function(e){return e},{})(KE),eO=n(353);function tO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function nO(){var e=Object(w.a)(["\nsvg {\n    color: #00A7E1;\n}\n"]);return nO=function(){return e},e}function aO(){var e=Object(w.a)(["\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n  button {\n    font-weight: 600;\n    letter-spacing: -.02rem;\n  }\n"]);return aO=function(){return e},e}function rO(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n    color: #5B6670 !important;\n    font-weight: 500;\n    letter-spacing: -.02rem;\n    font-size: 0.9rem;\n}\n"]);return rO=function(){return e},e}function iO(){var e=Object(w.a)(["\nmargin: 12px 0px;\nfont-weight: 600 !important;\nletter-spacing: -.02em;\n"]);return iO=function(){return e},e}function oO(){var e=Object(w.a)(["\nborder: 1px solid #e8e8e8 !important;\nborder-radius: 3% !important;\ntext-align: center !important;\n.ant-card-head {\n    color: #323E48;\n    font-size: 1.2rem;\n    font-weight: 600;\n    letter-spacing: -.02rem;\n    border-bottom: none;\n}\n.ant-card-body {\n    padding: 12px !important;\n    font-size: 0.9rem;\n    div {\n        margin-bottom: 9px;\n    }\n}\n\n.pricing {\n    margin-top: -9px;\n    margin-bottom: 18px !important;\n    color: #323E48;\n    font-weight: 500;\n    align-items: flex-start !important;\n    display: inline-flex;\n    .dollar {\n        font-size: 1rem !important;\n    }\n    .price {\n        font-size: 2rem !important;\n    }\n}\n"]);return oO=function(){return e},e}function cO(){var e=Object(w.a)(["\n    border-bottom: 1px solid #e8e8e8;\n    padding: 12px 6px !important;\n    margin: 0px 18px !important;\n    .ant-page-header-back {\n        margin: 8px 0px;\n        margin-right: 16px;\n        font-size: 16px !important;\n    }\n    .ant-page-header-heading-title {\n        font-size: 16px !important;\n    }\n"]);return cO=function(){return e},e}var sO=Object(R.a)(to.a)(cO()),lO=Object(R.a)(Ie.a)(oO()),uO=Object(R.a)(u.a)(iO()),pO=Object(R.a)(fn.a.Item.Meta)(rO()),dO=Object(R.a)(Va.a)(aO()),mO=Object(R.a)(O.a)(nO()),fO=function(e){Object(b.a)(n,e);var t=tO(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showConfirmPlan:!1,loading:!1,downgrading:null,cantDowngrade:!1,upgrading:null,newPlan:null,proration:{},changing:!1,changed:!1},e.toggleConfirmPlan=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.organization.subscription.plan.id,r=n.target.id,!e.state.showConfirmPlan){t.next=4;break}return t.abrupt("return",e.setState({showConfirmPlan:!1,loading:!1,downgrading:null,upgrading:null,newPlan:null,changing:!1,changed:!1}));case 4:return t.next=6,gO(Object(eO.a)(e),a,r);case 6:if(!e.state.downgrading){t.next=12;break}if(!(i=hO(e.props,r))){t.next=10;break}return t.abrupt("return",e.getProration(r));case 10:if(i){t.next=12;break}return t.abrupt("return",e.setState({cantDowngrade:!0}));case 12:if(!e.state.upgrading){t.next=14;break}return t.abrupt("return",e.getProration(r));case 14:e.setState({showConfirmPlan:!e.state.showConfirmPlan});case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.getProration=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r,i,o;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({downgrading:null,upgrading:null,showConfirmPlan:!0,loading:!0}),t.next=3,Ex.firebase.functions().httpsCallable("stripe-getProration")({plan:n});case 3:if(a=t.sent,r=a.data,i=r.cost,o=r.proration_date,!r.skip){t.next=7;break}return t.abrupt("return",e.changeSubscriptionPlan());case 7:e.setState({loading:!1,proration:{cost:i,proration_date:o}});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.changeSubscriptionPlan=Object(g.a)(f.a.mark(function t(){var n,a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({loading:!1,showConfirmPlan:!0,changing:!0}),n=e.state.newPlan,a=e.state.proration.proration_date,t.next=5,Ex.firebase.functions().httpsCallable("stripe-changeSubscriptionPlan")({plan:n,proration_date:a});case 5:t.sent.data.success&&e.setState({changing:!1,changed:!0});case 7:case"end":return t.stop()}},t)})),e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){document.title="Organization Settings - Rarchy"}},{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.toggleUpgrade,i=n.subscription.plan;return r.a.createElement(r.a.Fragment,null,r.a.createElement(sO,{onBack:function(t){!e.state.showConfirmPlan||e.state.changed?a(t):e.toggleConfirmPlan(t)},title:this.state.showConfirmPlan?"Confirm Plan Change":"Change Plan"}),this.state.cantDowngrade&&r.a.createElement(Kn.a,{style:{textAlign:"center",margin:24,marginTop:18,marginBottom:0},message:"You can't downgrade until you meet the limits required for the new plan",type:"error"}),this.state.showConfirmPlan&&this.state.loading&&r.a.createElement("div",{style:{margin:"auto",display:"flex",padding:60}},r.a.createElement(O.a,{className:"center",indicator:r.a.createElement(l.a,{type:"loading",style:{width:52,height:52,fontSize:52},spin:!0})})),!this.state.loading&&!this.state.showConfirmPlan&&r.a.createElement(mn.a,{gutter:16,style:{padding:18}},r.a.createElement(Qn.a,{span:8},r.a.createElement(lO,{title:"Freelance",bordered:!1},r.a.createElement("div",{className:"pricing"},r.a.createElement("span",{className:"dollar"},"$"),r.a.createElement("span",{className:"price"},i.id.startsWith("freelance")?i.amount/100:19)),r.a.createElement("div",{className:"feature"},"Just You"),r.a.createElement("div",{className:"feature"},"No Teams"),r.a.createElement("div",{className:"feature"},"5 Sitemaps"),r.a.createElement("div",{className:"feature"},"250 pages per crawl"),r.a.createElement(uO,{type:i.id.startsWith("freelance")?"primary":"",id:"freelance-19",onClick:this.toggleConfirmPlan},i.id.startsWith("freelance")?"Current Plan":"Select Plan"))),r.a.createElement(Qn.a,{span:8},r.a.createElement(lO,{title:"Team",bordered:!1},r.a.createElement("div",{className:"pricing"},r.a.createElement("span",{className:"dollar"},"$"),r.a.createElement("span",{className:"price"},i.id.startsWith("team")?i.amount/100:59)),r.a.createElement("div",null,"5 Users"),r.a.createElement("div",null,"5 Teams"),r.a.createElement("div",null,"Unlimited Sitemaps"),r.a.createElement("div",null,"5,000 pages per crawl"),r.a.createElement(uO,{type:i.id.startsWith("team")?"primary":"",id:"team-59",onClick:this.toggleConfirmPlan},i.id.startsWith("team")?"Current Plan":"Select Plan"))),r.a.createElement(Qn.a,{span:8},r.a.createElement(lO,{title:"Agency",bordered:!1},r.a.createElement("div",{className:"pricing"},r.a.createElement("span",{className:"dollar"},"$"),r.a.createElement("span",{className:"price"},i.id.startsWith("agency")?i.amount/100:149)),r.a.createElement("div",null,"Unlimited Users"),r.a.createElement("div",null,"Unlimited Teams"),r.a.createElement("div",null,"Unlimited Sitemaps"),r.a.createElement("div",null,"5,000 pages per crawl"),r.a.createElement(uO,{type:i.id.startsWith("agency")?"primary":"",id:"agency",onClick:this.toggleConfirmPlan},i.id.startsWith("agency")?"Current Plan":"Select Plan")))),!this.state.loading&&this.state.showConfirmPlan&&r.a.createElement("div",{style:{padding:"0px 18px"}},!this.state.changing&&!this.state.changed&&r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"9px 0px"},actions:[r.a.createElement(uO,{type:"primary",onClick:e.changeSubscriptionPlan},"Confirm New Plan")]},r.a.createElement(pO,{title:"Your next invoice amount will be prorated by $".concat(e.state.proration.cost/100)}))}}),this.state.changing&&r.a.createElement(dO,{className:"spinning",icon:r.a.createElement(mO,{className:"center",indicator:r.a.createElement(l.a,{type:"loading",style:{width:52,height:52,fontSize:52,display:"flex",margin:"auto",marginBottom:24},spin:!0})}),status:"success",title:"Confirming plan change..."}),this.state.changed&&r.a.createElement(dO,{className:"spinning",status:"success",title:"Your plan has been changed"})))}}]),n}(a.Component),gO=function(e,t,n){t.split("-")[0]!==n.split("-")[0]&&(t.startsWith("freelance")&&e.setState({upgrading:!0,downgrading:!1,newPlan:n}),t.startsWith("team")&&n.startsWith("freelance")&&e.setState({downgrading:!0,upgrading:!1,newPlan:n}),t.startsWith("team")&&n.startsWith("agency")&&e.setState({upgrading:!0,downgrading:!1,newPlan:n}),t.startsWith("agency")&&e.setState({downgrading:!0,upgrading:!1,newPlan:n}))},hO=function(e,t){if(t.startsWith("freelance")){var n=c(1),a=s(1),r=function(t){var n=Object.keys(e.teams.byId),a=!1;return n.forEach(function(n){var r=e.teams.byId[n];(r.sitemaps.active?r.sitemaps.active.length:0)+(r.sitemaps.processing?r.sitemaps.processing.length:0)>t&&(a=!0)}),a}(5);return!(n||a||r)}if(t.startsWith("team")){var i=c(5),o=s(5);return!i&&!o}function c(t){return Object.keys(e.organization.users).length>t}function s(t){return e.organization.teams.length>t}},vO=Object(s.b)(function(e){return Object(j.a)({},e,{inOrganization:!!e.organization.id})})(fO);function bO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var yO=function(e){Object(b.a)(n,e);var t=bO(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={showUpgrade:!1},e.toggleUpgrade=function(){e.setState({showUpgrade:!e.state.showUpgrade})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.isAdmin,n=e.organization;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{padding:"0px 18px",minWidth:this.state.showUpgrade&&600}},!this.state.showUpgrade&&r.a.createElement(r.a.Fragment,null,r.a.createElement(TE,{toggleUpgrade:this.toggleUpgrade}),r.a.createElement(VE,null),!I.a.isEmpty(n.subscription.paymentCard)&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ME,null),r.a.createElement($E,null)))),r.a.createElement("div",{style:{padding:"0px"}},this.state.showUpgrade&&r.a.createElement(vO,{toggleUpgrade:this.toggleUpgrade}))):r.a.createElement("div",{style:{padding:24,textAlign:"center",fontWeight:500,color:"#323E48"}},"Only admin users have access to billing settings.")}}]),n}(a.Component);function EO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function OO(){var e=Object(w.a)(["\n.ant-collapse-content-box {\n    padding: 0 !important;\n}\n"]);return OO=function(){return e},e}function wO(){var e=Object(w.a)(["\n.ant-collapse-content-box {\n    padding: 0 !important;\n}\n"]);return wO=function(){return e},e}function xO(){var e=Object(w.a)(["\ndisplay: flex;\nmargin: auto;\nmargin-top: 42px;\n"]);return xO=function(){return e},e}function jO(){var e=Object(w.a)(["\n.ant-collapse-content > .ant-collapse-content-box {\n    padding: 0px 16px;\n}\n.ant-collapse-header {\n    font-size: 0.95rem;\n    font-weight: 500;\n    letter-spacing: -.02rem;\n}\n"]);return jO=function(){return e},e}var SO=eo.a.Panel,CO=Object(R.a)(eo.a)(jO()),AO=R.a.div(xO()),kO=Object(R.a)(SO)(wO()),RO=Object(R.a)(SO)(OO()),DO=function(e){Object(b.a)(n,e);var t=EO(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={activeKey:"details"},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.location.hash.substring(1);if("active"!==this.props.organization.subscription.status&&"trialing"!==this.props.organization.subscription.status)return this.setState({activeKey:"billing"});e&&this.setState({activeKey:e})}},{key:"componentDidUpdate",value:function(e){var t=this.props.location.hash.substring(1),n=e.location.hash.substring(1);if(t&&t!==n)return this.setState({activeKey:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.organization,a=t.isAdmin,i="active"!==this.props.organization.subscription.status&&"trialing"!==this.props.organization.subscription.status;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gy,null,r.a.createElement("h2",null,"Organization Settings")),r.a.createElement(AO,null,r.a.createElement(mn.a,{gutter:6,style:{marginTop:12,marginBottom:36,padding:"0px 24px",minWidth:600,maxWidth:900}},IO(this.props),r.a.createElement(CO,{defaultActiveKey:i?"billing":"details",activeKey:this.state.activeKey,accordion:!0,expandIconPosition:"right",onChange:function(t){return e.setState({activeKey:t})}},r.a.createElement(SO,{header:"Details",key:"details",disabled:i},r.a.createElement(qy,{organization:n,isAdmin:a}),r.a.createElement(rE,{organization:n,isAdmin:a})),r.a.createElement(kO,{header:"Users",key:"users",disabled:i},r.a.createElement(AE,{isAdmin:a})),r.a.createElement(RO,{header:"Billing & Account",key:"billing"},r.a.createElement(yO,{isAdmin:a,organization:n}))))))}}]),n}(a.Component),IO=function(e){var t=e.organization;if(t){if("past_due"===t.subscription.status||"unpaid"===t.subscription.status){if(I.a.isEmpty(t.subscription.paymentCard))return r.a.createElement(Kn.a,{style:{marginBottom:24,marginTop:-24,fontWeight:500},message:r.a.createElement("div",null,"Your free trial is over. Enter your payment details below to re-activate your account."),type:"info"});if(!I.a.isEmpty(t.subscription.paymentCard))return r.a.createElement(Kn.a,{style:{marginBottom:24,marginTop:-24,fontWeight:500},message:r.a.createElement("div",null,"We couldn't process your latest payment. Please update your card details or ",r.a.createElement(c.b,{to:"/tickets/submit"},"contact us"),"."),type:"info"})}return"trialed"===t.subscription.status?r.a.createElement(Kn.a,{style:{marginBottom:24,marginTop:-24,fontWeight:500},message:r.a.createElement("div",null,"Your free trial is over. Enter your payment details below to re-activate your account."),type:"info"}):void 0}},TO=DO;function PO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var NO=function(e){Object(b.a)(n,e);var t=PO(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement(TO,this.props)}}]),n}(a.Component);var LO=Object(s.b)(function(e){return Object(j.a)({},e,{isAdmin:e.user.token.organization&&"admin"===e.user.token.role})})(NO);function FO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function zO(){var e=Object(w.a)(["\nsvg {\n    color: #00A7E1;\n}\n"]);return zO=function(){return e},e}function MO(){var e=Object(w.a)(["\ntext-align: center;\n&.spinning {\n    .ant-result-icon {\n        display: flex;\n        margin-bottom: 36px;\n    }\n}\n&.error {\n    .anticon {\n        color: #E7004C !important;\n    }\n}\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n  button {\n    font-weight: 600;\n    letter-spacing: -.02rem;\n  }\n"]);return MO=function(){return e},e}var BO=Object(R.a)(Va.a)(MO()),UO=Object(R.a)(O.a)(zO()),WO=function(e){Object(b.a)(n,e);var t=FO(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.confirming,n=e.confirmed,a=e.error,i=e.handleGoTo,o=e.handleBack;return r.a.createElement("div",{style:{margin:"auto",display:"flex"}},r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(BO,{className:"spinning",icon:r.a.createElement(UO,{className:"center",indicator:r.a.createElement(l.a,{type:"loading",style:{width:52,height:52,fontSize:52},spin:!0})}),status:"success",title:"Confirming sitemap invitation..."}),n&&r.a.createElement(BO,{status:"success",title:"You are now a collaborator on ".concat(n.name),subTitle:"Welcome to the party!",extra:[r.a.createElement(u.a,{type:"primary",size:"large",key:"console",onClick:function(){return i(n.id)}},"Go to ".concat(n.name))]}),a&&r.a.createElement(BO,{className:"error",title:a,extra:[r.a.createElement(u.a,{type:"primary",size:"large",key:"console",onClick:o},"Back to Rarchy")]})))}}]),n}(a.Component);function _O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var VO=function(e){Object(b.a)(n,e);var t=_O(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={confirming:!0,confirmed:!1,error:null},e.handleGoTo=function(t){e.props.history.push("/s/".concat(t))},e.handleBack=function(){e.props.history.push("/sitemaps")},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark(function e(){var t,n,a,r,i,o=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Confirm Sitemap Invitation - Rarchy",t=wi.a.parse(this.props.location.search),n=t.e,a=t.s,r=t.t,i=t.n,e.next=5,Ex.firebase.functions().httpsCallable("sitemaps-collaborators-confirmCollaboratorInvite")({email:n,sitemap:a,token:r}).catch(function(e){return o.setState({confirming:null,confirmed:null,error:e.message})});case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:this.setState({confirming:null,error:null,confirmed:{id:a,name:i}});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(WO,Object.assign({},this.state,{handleGoTo:this.handleGoTo,handleBack:this.handleBack}))}}]),n}(a.Component),GO=Object(x.g)(Object(s.b)(function(e){return e},{switchAccount:S.g})(VO));function HO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function YO(){var e=Object(w.a)(["\nsvg {\n    color: #00A7E1;\n}\n"]);return YO=function(){return e},e}function XO(){var e=Object(w.a)(["\ntext-align: center;\n&.spinning {\n    .ant-result-icon {\n        display: flex;\n        margin-bottom: 36px;\n    }\n}\n&.error {\n    .anticon {\n        color: #E7004C !important;\n    }\n}\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n  button {\n    font-weight: 600;\n    letter-spacing: -.02rem;\n  }\n"]);return XO=function(){return e},e}var ZO=Object(R.a)(Va.a)(XO()),KO=Object(R.a)(O.a)(YO()),QO=function(e){Object(b.a)(n,e);var t=HO(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.confirming,n=e.confirmed,a=e.error,i=e.handleGoTo,o=e.handleBack;return r.a.createElement("div",{style:{margin:"auto",display:"flex"}},r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(ZO,{className:"spinning",icon:r.a.createElement(KO,{className:"center",indicator:r.a.createElement(l.a,{type:"loading",style:{width:52,height:52,fontSize:52},spin:!0})}),status:"success",title:"Confirming account invitation..."}),n&&r.a.createElement(ZO,{status:"success",title:"You've joined ".concat(n.name,"'s account"),subTitle:"Welcome to the team!",extra:[r.a.createElement(u.a,{type:"primary",size:"large",key:"console",onClick:function(){return i(n.id)}},"Go to ".concat(n.name))]}),a&&r.a.createElement(ZO,{className:"error",title:a,extra:[r.a.createElement(u.a,{type:"primary",size:"large",key:"console",onClick:o},"Back to Rarchy")]})))}}]),n}(a.Component);function qO(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var JO=function(e){Object(b.a)(n,e);var t=qO(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={confirming:!0,confirmed:!1,error:null},e.handleGoTo=function(t){e.props.switchAccount(t,e.props.history)},e.handleBack=function(){e.props.history.push("/sitemaps")},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){var e=Object(g.a)(f.a.mark(function e(){var t,n,a,r,i,o=this;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return document.title="Confirm Organization Invitation - Rarchy",t=wi.a.parse(this.props.location.search),n=t.e,a=t.o,r=t.t,i=t.n,e.next=5,Ex.firebase.functions().httpsCallable("organizations-confirmUserInvite")({email:n,organization:a,token:r}).catch(function(e){return o.setState({confirming:null,confirmed:null,error:e.message})});case 5:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:this.setState({confirming:null,error:null,confirmed:{id:a,name:i}});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(QO,Object.assign({},this.state,{handleGoTo:this.handleGoTo,handleBack:this.handleBack}))}}]),n}(a.Component),$O=Object(x.g)(Object(s.b)(function(e){return e},{switchAccount:S.g})(JO));function ew(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function tw(){var e=Object(w.a)(["\n    margin: auto !important;\n    width: 400px !important;\n\ninput {\n    color: rgba(0, 0, 0, 0.85) !important;\n    text-align: center !important;\n    width: 100%;\n    height: 36px !important;\n    background: white !important;\n    box-shadow: none !important;\n    padding: 0px 36px !important;\n    font-weight: 500 !important;\n    font-size: 1.125rem !important;\n\n    &:hover {\n      background: white !important;     \n      box-shadow: none !important; \n    }\n\n}\n.ant-input-suffix {\n    &:hover {\n        cursor: pointer;\n        path { fill: #00A7E1; }\n    }\n}\n"]);return tw=function(){return e},e}function nw(){var e=Object(w.a)(["\n    padding: 6px 12px;\n    width: 400px;\n    margin: auto;\n    height: 36px !important;\n    text-overflow: ellipsis !important;\n    overflow: hidden !important;\n    white-space: nowrap !important;\n    &:hover {\n      margin-top: 0px;\n      cursor: text;\n      border-radius: 3px;\n      border: 1px solid lightgrey;\n    }\n"]);return nw=function(){return e},e}var aw=R.a.div(nw()),rw=Object(R.a)(At.a)(tw()),iw=function(e){Object(b.a)(n,e);var t=ew(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={renaming:!1},e.renameInput=null,e.handleRename=function(){var t=Object(g.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.sitemap,!(""===n||n.length>50)){t.next=3;break}return t.abrupt("return");case 3:if(n===a.name){t.next=7;break}return t.next=6,Ex.firestore.doc("sitemaps/".concat(a.id)).set({name:n.trim()},{merge:!0}).catch(function(e){console.error(e)});case 6:Dt.a.getInstance().logEvent("RENAMED_SITEMAP",{id:a.id});case 7:e.setState({renaming:null});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props.sitemap;return r.a.createElement(r.a.Fragment,null,!this.state.renaming&&r.a.createElement(aw,{onClick:function(){e.setState({renaming:t.name}),setTimeout(function(){return e.renameInput.focus()},50)}},t.name),this.state.renaming&&r.a.createElement(rw,{id:"rename-project",value:this.state.renaming,style:{display:this.state.renaming?"block":"none"},ref:function(t){return e.renameInput=t},maxLength:50,onClick:function(t){return e.renameInput.focus()},onChange:function(t){return e.setState({renaming:""===t.target.value?" ":t.target.value})},onBlur:function(t){e.state.renaming&&e.handleRename(e.state.renaming),e.setState({renaming:null})},placeholder:this.state.renaming,onPressEnter:function(t){return e.handleRename(t.target.value)},suffix:r.a.createElement(l.a,{type:"check",style:{color:"rgba(0,0,0,.45)"},onClick:function(){return e.handleRename(e.state.renaming)}})}))}}]),n}(a.Component);function ow(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function cw(){var e=Object(w.a)(["\n    margin: auto !important;\n    width: 320px !important;\n\ninput {\n    text-align: right !important;\n    width: 100%;\n    height: 30px !important;\n    background: white !important;\n    box-shadow: none !important;\n    padding: 0px 36px !important;\n    padding-left: 12px !important;\n\n    &:hover {\n      background: white !important;     \n      box-shadow: none !important; \n    }\n\n}\n.ant-input-suffix {\n    &:hover {\n        cursor: pointer;\n        path { fill: #00A7E1; }\n    }\n}\n"]);return cw=function(){return e},e}function sw(){var e=Object(w.a)(["\n    font-size: 15px !important;\n    padding: 6px 12px;\n    width: 320px;\n    text-align: right;\n    text-overflow: ellipsis !important;\n    overflow: hidden !important;\n    white-space: nowrap !important;\n    color: #323E48 !important;\n    &:hover {\n      margin-right: -1px !important;\n      cursor: text;\n      border-radius: 3px;\n      border: 1px solid lightgrey;\n    }\n"]);return sw=function(){return e},e}function lw(){var e=Object(w.a)(["\n    padding: 15px 6px 15px 18px !important;\n    max-height: 64px !important;\n    .ant-list-item-meta-title {\n        margin-bottom: 0px;\n    }\n"]);return lw=function(){return e},e}var uw=Object(R.a)(fn.a.Item)(lw()),pw=R.a.div(sw()),dw=Object(R.a)(At.a)(cw()),mw=function(e){Object(b.a)(n,e);var t=ow(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={renaming:null},e.renameInput=null,e.handleRename=function(){var t=Object(g.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.sitemap,!(""===n||n.length>50)){t.next=3;break}return t.abrupt("return");case 3:if(n===a.domain){t.next=7;break}return t.next=6,Ex.firestore.doc("sitemaps/".concat(a.id)).set({domain:n.trim()},{merge:!0}).catch(function(e){console.error(e)});case 6:Dt.a.getInstance().logEvent("CHANGED_SITEMAP_DOMAIN",{id:a.id});case 7:e.setState({renaming:null});case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props.sitemap;return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(n){return r.a.createElement(uw,{actions:[r.a.createElement(r.a.Fragment,null,!e.state.renaming&&r.a.createElement(pw,{style:{fontSize:15},onClick:function(){e.setState({renaming:t.domain}),setTimeout(function(){return e.renameInput.focus()},50)}},t.domain),e.state.renaming&&r.a.createElement(dw,{id:"rename-domain",value:e.state.renaming,style:{display:e.state.renaming?"block":"none"},ref:function(t){return e.renameInput=t},maxLength:50,onClick:function(t){return e.renameInput.focus()},onChange:function(t){return e.setState({renaming:""===t.target.value?" ":t.target.value})},onBlur:function(t){e.state.renaming&&e.handleRename(e.state.renaming)},placeholder:e.state.renaming,onPressEnter:function(t){e.handleRename(t.target.value)},suffix:r.a.createElement(l.a,{type:"check",style:{color:"rgba(0,0,0,.45)"},onClick:function(){return e.handleRename(e.state.renaming)}})}))]},r.a.createElement(uw.Meta,{title:"Website"}))}})}}]),n}(a.Component);function fw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function gw(){var e=Object(w.a)(["\n    margin: auto !important;\n    width: 320px !important;\n\ninput {\n    text-align: left !important;\n    width: 100%;\n    height: 30px !important;\n    background: white !important;\n    box-shadow: none !important;\n    padding: 0px 36px !important;\n    padding-left: 12px !important;\n\n    &:hover {\n      background: white !important;     \n      box-shadow: none !important; \n    }\n\n}\n.ant-input-suffix {\n    &:hover {\n        cursor: pointer;\n        path { fill: #00A7E1; }\n    }\n}\n"]);return gw=function(){return e},e}function hw(){var e=Object(w.a)(["\n    font-size: 15px !important;\n    padding: 6px 12px;\n    width: 320px;\n    text-align: right;\n    text-overflow: ellipsis !important;\n    overflow: hidden !important;\n    white-space: nowrap !important;\n    color: #323E48 !important;\n    &:hover {\n      margin-right: -1px !important;\n      cursor: text;\n      border-radius: 3px;\n      border: 1px solid lightgrey;\n    }\n    &.no-description {\n        color: #7B868C !important;\n        font-weight: 400;\n        font-style: italic;\n    }\n"]);return hw=function(){return e},e}function vw(){var e=Object(w.a)(["\n    padding: 15px 6px 15px 18px !important;\n    max-height: 64px !important;\n    .ant-list-item-meta-title {\n        margin-bottom: 0px;\n    }\n"]);return vw=function(){return e},e}var bw=Object(R.a)(fn.a.Item)(vw()),yw=R.a.div(hw()),Ew=Object(R.a)(At.a)(gw()),Ow=function(e){Object(b.a)(n,e);var t=fw(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={renaming:null},e.renameInput=null,e.handleRename=function(){var t=Object(g.a)(f.a.mark(function t(n){var a,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props.sitemap,!(""===(r=n.trim())||r.length>100)){t.next=4;break}return t.abrupt("return",e.setState({renaming:null}));case 4:if(r===a.description){t.next=8;break}return t.next=7,Ex.firestore.doc("sitemaps/".concat(a.id)).set({description:r},{merge:!0}).catch(function(e){console.error(e)});case 7:Dt.a.getInstance().logEvent("CHANGED_SITEMAP_DESCRIPTION",{id:a.id});case 8:e.setState({renaming:null});case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props.sitemap;return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(n){return r.a.createElement(bw,{actions:[r.a.createElement(r.a.Fragment,null,!e.state.renaming&&r.a.createElement(yw,{className:!t.description&&"no-description",style:{fontSize:15},onClick:function(){e.setState({renaming:t.description?t.description:" "}),setTimeout(function(){return e.renameInput.focus()},50)}},t.description?t.description:"Add a short description about this project"),e.state.renaming&&r.a.createElement(Ew,{value:e.state.renaming,style:{display:e.state.renaming?"block":"none"},ref:function(t){return e.renameInput=t},maxLength:100,onClick:function(t){return e.renameInput.focus()},onChange:function(t){return e.setState({renaming:""===t.target.value?" ":t.target.value})},onBlur:function(t){e.state.renaming&&e.handleRename(e.state.renaming)},placeholder:e.state.renaming,onPressEnter:function(t){e.handleRename(t.target.value)},suffix:r.a.createElement(l.a,{type:"check",style:{color:"rgba(0,0,0,.45)"},onClick:function(){return e.handleRename(e.state.renaming)}})}))]},r.a.createElement(bw.Meta,{title:"Description"}))}})}}]),n}(a.Component);function ww(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function xw(){var e=Object(w.a)(["\n    font-size: 14px !important;\n    font-weight: 600 !important;\n    letter-spacing: -.02rem !important;\n    &.delete {\n        &:hover {\n            background-color: #E7004C !important;\n            color: white;\n            border: none;\n        }\n    }\n    margin-right: -6px;\n"]);return xw=function(){return e},e}function jw(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n}\n"]);return jw=function(){return e},e}var Sw=kt.a.confirm,Cw=Object(R.a)(fn.a.Item.Meta)(jw()),Aw=Object(R.a)(u.a)(xw()),kw=function(e){Object(b.a)(n,e);var t=ww(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).showConfirm=function(){var t=e.props,n=t.deleteUserSitemap,a=t.hideEditSitemapModal,r=t.history;Sw({title:"Are you sure you wish to delete this sitemap?",content:"This sitemap will be deleted immediately and forever.",okText:"Delete",width:450,onOk:function(){n(),a(),r.push("/sitemaps")},className:"delete-sitemap-confirmation centered-modal ".concat(!e.props.ui.sideMenu.collapsed&&"sidemenu-showing"),icon:"exclamation-circle"})},e.toggleVisible=function(){e.setState({visible:!e.state.visible})},e}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.sitemap,i=a.id===n.id;return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(t){return r.a.createElement(fn.a.Item,{style:{padding:"15px 18px"},actions:[r.a.createElement("span",{style:{fontSize:15}},i&&r.a.createElement(Aw,{className:"delete",onClick:e.showConfirm},"Delete"),!i&&r.a.createElement(Aw,{className:"delete",onClick:function(){e.props.archiveSitemaps({sitemapId:a.id}),e.props.history.push("/sitemaps"),e.props.hideEditSitemapModal()}},"Archive"))]},r.a.createElement(Cw,{title:a.id===n.id?"Delete Sitemap":"Archive Sitemap"}))}})}}]),n}(a.Component),Rw=Object(x.g)(kw);function Dw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Iw(){var e=Object(w.a)(["\n.ant-list-item-meta-title {\n    margin-bottom: 0px;\n}\n"]);return Iw=function(){return e},e}var Tw=Object(R.a)(fn.a.Item.Meta)(Iw()),Pw=function(e){Object(b.a)(n,e);var t=Dw(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.showEditSitemapModal;return r.a.createElement(fn.a,{style:{borderBottom:"1px solid #e8e8e8"},itemLayout:"horizontal",dataSource:[{}],renderItem:function(e){return r.a.createElement(fn.a.Item,{style:{marginRight:-6},actions:[r.a.createElement("span",{style:{fontSize:15}},ed({sitemap:t,showEditSitemapModal:n}))]},r.a.createElement(Tw,{title:"Collaborators"}))}})}}]),n}(a.Component);function Nw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Lw(){var e=Object(w.a)(["\n    padding: 0px !important;\n    margin: 0px !important;\n    margin: -5px !important;\n    .ant-page-header-heading-title {\n      float: unset;\n      text-align: center;\n      // color: white;\n      font-size: 18px;\n    };\n    .ant-page-header-back {\n      font-size: 18px;\n      .anticon {\n       //  color: white !important;\n      }\n    }\n"]);return Lw=function(){return e},e}function Fw(){var e=Object(w.a)(["\n  display: flex;\n  margin: auto;\n  .ant-list {\n    background-color: white !important;\n    border: none !important;\n    box-shadow: 0 1px 5px rgba(0, 0, 0, 0.05);\n    border-radius: 3px !important;\n    .ant-typography {\n      margin: 0 !important;\n    }\n    &:not(:last-child) {\n      margin-bottom: 12px !important;\n    }\n    .ant-list-item {\n      padding: 18px;\n    }\n  }\n"]);return Fw=function(){return e},e}function zw(){var e=Object(w.a)(["\n  .ant-modal-close-x {\n    height: 40px !important;\n    width: 40px !important;\n    line-height: 40px !important;\n    // color: white !important;\n  }\n  .ant-modal-content {\n    // background-image: linear-gradient(to top right,#2ED9C3,#00A7E1) !important;\n  }\n  .ant-modal-header {\n    // border-bottom: none;\n    background: white !important;\n    .ant-modal-title {\n      text-align: center;\n      margin-top: 6px !important;\n      margin-bottom: 6px !important;\n      font-size: 18px;\n      font-weight: 500;\n      // color: white !important;\n    }\n  }\n  .ant-modal-body {\n    padding: 0px !important;\n    .ant-form-item:last-child {\n      margin-bottom: 0 !important;\n    }\n  }\n  .ant-modal-footer {\n    border: none !important;\n  }\n  .ant-modal-content {\n    max-height: 80% !important;\n    overflow-y: scroll !important;\n  }\n"]);return zw=function(){return e},e}var Mw=Object(R.a)(kt.a)(zw()),Bw=R.a.div(Fw()),Uw=Object(R.a)(to.a)(Lw()),Ww=function(e){Object(b.a)(n,e);var t=Nw(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.ui,i=a.EditSitemapModal;return i.showing?r.a.createElement(Mw,{className:"edit-sitemap-modal",centered:!0,style:{left:a.sideMenu.collapsed?0:122},visible:!!i&&i.showing,title:"collaborators"===i.tab?r.a.createElement(Uw,{onBack:function(){return e.props.showEditSitemapModal({id:n.id,tab:null})},title:"Collaborators"}):r.a.createElement(iw,this.props),onCancel:this.props.hideEditSitemapModal,footer:null},r.a.createElement("div",{style:{background:"#f9f9f9"}},"collaborators"===i.tab&&r.a.createElement("div",{style:{padding:"24px 18px",paddingTop:18}},r.a.createElement(Ta,this.props)),"collaborators"!==i.tab&&r.a.createElement(Bw,null,r.a.createElement(mn.a,{gutter:6,style:{padding:"24px 24px",width:"100%"}},r.a.createElement(mw,this.props),r.a.createElement(Ow,this.props),r.a.createElement(Pw,this.props),r.a.createElement(Rw,this.props))))):null}}]),n}(a.Component);function _w(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}var Vw=function(e){Object(b.a)(n,e);var t=_w(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.user,a=e.showEditSitemapModal,i=e.hideEditSitemapModal;return t&&n?r.a.createElement(Ww,Object.assign({},this.props,{sitemap:t,showEditSitemapModal:a,hideEditSitemapModal:i})):null}}]),n}(a.Component),Gw=Object(x.g)(Object(Z.d)(Object(Ce.firestoreConnect)(function(e,t){var n=t.getState(),a=n.sitemap.id?n.sitemap:n.ui.EditSitemapModal;return a&&n.user.id&&a.id?["sitemaps/".concat(a.id)]:[]}),Object(s.b)(function(e){return Object(j.a)({},e,{sitemap:Oa(e)})},{showEditSitemapModal:F.c,hideEditSitemapModal:F.b,archiveSitemaps:N.a,deleteUserSitemap:N.f}))(Vw));function Hw(){var e=Object(w.a)(["\n  display: flex;\n  margin: auto;\n  width: 100%;\n  text-align: center;\n  > div {\n    width: 100%;\n    h2 {\n      font-size: 28px;\n      font-weight: 500;\n      color: #323e48 !important;\n      margin-bottom: 36px;\n    }\n    img {\n      width: 33%;\n      margin: auto;\n    }\n    button {\n      margin-top: 60px;\n    }\n  }\n"]);return Hw=function(){return e},e}function Yw(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(E.a)(e);if(t){var r=Object(E.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(y.a)(this,n)}}function Xw(){var e=Object(w.a)(["\n  margin: auto !important;\n  margin-top: 12px;\n  .anticon {\n    font-size: 48px;\n  }\n"]);return Xw=function(){return e},e}function Zw(){var e=Object(w.a)(["\n  height: 60px !important;\n  margin-bottom: 36px !important;\n"]);return Zw=function(){return e},e}var Kw=R.a.img(Zw()),Qw=Object(R.a)(O.a)(Xw()),qw=function(e){Object(b.a)(n,e);var t=Yw(n);function n(){var e;Object(h.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={refreshingToken:null},e}return Object(v.a)(n,[{key:"componentDidMount",value:function(){Dt.a.getInstance().init("329c4d51db9ef6d068d8f9a78d6f94a8"),window.hsConversationsSettings={loadImmediately:!1}}},{key:"componentDidUpdate",value:function(){var e=Object(g.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Jw(this.props,t),$w(this,this.props,t),ex(this.props,t),tx(this.props,t);case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.firebase,i=t.teams,o=t.auth,s=t.sitemap,l=window.location.pathname.includes("/s/");return n.auth.isLoaded&&n.auth.isEmpty?r.a.createElement("div",null,r.a.createElement(c.a,null,r.a.createElement(r.a.Fragment,null,l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(lu,null),s.id&&!this.props.sitemap.error&&r.a.createElement(zr,null),r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/s/:sitemapId([0-9a-z]{20,28})",component:Fv}),r.a.createElement(x.b,{path:"/s/:sitemapId([0-9a-z]{20,28})/flows",component:Fv}))),r.a.createElement(d.a,{style:{height:"100vh",background:"white"},id:"no-auth"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(ox,null)},r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/signup",component:Zi}),r.a.createElement(x.b,{exact:!0,path:"/login",component:ui}),r.a.createElement(x.b,{exact:!0,path:"/login/forgot",component:Ei}),r.a.createElement(x.b,{exact:!0,path:"/verify",component:Ni}),!l&&r.a.createElement(k,null))))))):o.switching.account?r.a.createElement(ox,{switching:"account"}):o.switching.team?r.a.createElement(ox,{switching:"team"}):n.auth.isLoaded&&n.profile.isLoaded&&!n.profile.isEmpty&&i.loaded?r.a.createElement(c.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(ox,null)},r.a.createElement(x.b,{path:"/verify",component:Ni}),r.a.createElement(d.a,{style:{height:"100vh"},id:"auth"},r.a.createElement(lu,null),r.a.createElement(d.a,{style:{background:"white",width:"100%"}},this.props.ui.EditSitemapModal.showing&&r.a.createElement(Gw,null),!this.props.sitemap.id&&r.a.createElement(hs,null),this.props.sitemap.id&&!this.props.sitemap.error&&r.a.createElement(zr,null),r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/login",component:ui}),r.a.createElement(x.b,{exact:!0,path:"/login/forgot",component:Ei}),r.a.createElement(x.b,{exact:!0,path:"/signup",component:Zi}),r.a.createElement(x.b,{exact:!0,path:"/logout",render:function(){e.props.logOut(e.props.history)}})),r.a.createElement(d.a,{style:{background:"white",width:"100%",marginTop:this.props.sitemap.id?0:60,overflowX:"scroll"}},r.a.createElement(k,null,r.a.createElement(x.d,null,r.a.createElement(x.b,{exact:!0,path:"/confirm-user-invite",component:$O}),r.a.createElement(x.b,{exact:!0,path:"/confirm-collaborator-invite",component:GO}),r.a.createElement(x.b,{exact:!0,path:"/profile",component:Cb}),r.a.createElement(x.b,{exact:!0,path:"/teams/new",component:ty}),r.a.createElement(x.b,{exact:!0,path:"/teams/settings",component:_y}),r.a.createElement(x.b,{exact:!0,path:"/",render:function(){return r.a.createElement(x.a,{to:"/sitemaps"})}}),r.a.createElement(x.b,{exact:!0,path:"/tickets/submit",component:ac}),r.a.createElement(x.b,{exact:!0,path:"/sitemaps",component:Ld}),r.a.createElement(x.b,{exact:!0,path:"/sitemaps/xml",component:Ap}),r.a.createElement(x.b,{exact:!0,path:"/sitemaps/csv",component:Ap}),r.a.createElement(x.b,{exact:!0,path:"/sitemaps/crawl",component:Ap}),r.a.createElement(x.b,{exact:!0,path:"/sitemaps/upgrade",component:Vr}),r.a.createElement(x.b,{exact:!0,path:"/sitemaps/limit",component:Zr}),r.a.createElement(x.b,{exact:!0,path:"/s/:sitemapId([0-9a-z]{20,28})",component:Fv}),r.a.createElement(x.b,{path:"/s/:sitemapId([0-9a-z]{20,28})/flows",component:Fv}),r.a.createElement(x.b,{exact:!0,path:"/organizations/new",component:$i}),r.a.createElement(x.b,{exact:!0,path:"/organizations/new/confirm",component:zo}),r.a.createElement(x.b,{exact:!0,path:"/organizations/settings",component:LO}),r.a.createElement(x.b,{exact:!0,path:"/organizations/trialed",component:Ko}),r.a.createElement(x.b,{component:rx}))))))))):r.a.createElement(ox,null)}}]),n}(a.Component),Jw=function(e,t){if(!t.firebase.profile.isLoaded&&e.firebase.profile.isLoaded){var n=Ex.firebase.auth().currentUser;n&&e.initAccount(n)}},$w=function(){var e=Object(g.a)(f.a.mark(function e(t,n,a){var r,i,o,c,s,l,u,p;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.user.refreshToken||a.user.refreshToken||t.state.refreshingToken){e.next=16;break}return t.setState({refreshingToken:!0}),r=n.user,i=n.switchAccount,o=n.switchTeam,c=n.history,s=Ex.firebase.auth(),l=s.currentUser,e.next=6,l.getIdTokenResult();case 6:return u=e.sent,e.next=9,l.getIdToken(!0);case 9:return e.next=11,Ex.firestore.doc("users/".concat(l.uid)).set({refreshToken:!1},{merge:!0});case 11:return e.next=13,l.getIdTokenResult();case 13:p=e.sent,u.claims.organization!==p.claims.organization?i(p.claims.organization?p.claims.organization:r.id,c):u.claims.project?o(u.claims.project,c):u.claims.team!==p.claims.team&&o(p.claims.team?p.claims.team:r.id,c),t.setState({refreshingToken:!1});case 16:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),ex=function(e,t){var n=e.organization.id;if(!n)return!1;if(!e.firestore.data.organizations)return!1;if(!t.firestore.data.organizations)return!1;if(!e.firestore.data.organizations[n])return!1;if(!t.firestore.data.organizations[n])return!1;var a=e.firestore.data.organizations[n],r=t.firestore.data.organizations[n];if(JSON.stringify(a)!==JSON.stringify(r)){e.mergeOrganizationDocChanges(a);var i=I.a.difference(a.teams,r.teams);I.a.isEmpty(i)||i.forEach(function(t){return e.addedTeam(t)});var o=I.a.difference(r.teams,a.teams);I.a.isEmpty(o)||o.forEach(function(t){return e.deletedTeam(t)});var c=I.a.difference(Object.keys(a.users),Object.keys(r.users));I.a.isEmpty(c);var s=I.a.difference(Object.keys(r.users),Object.keys(a.users));I.a.isEmpty(s)}},tx=function(){var e=Object(g.a)(f.a.mark(function e(t,n){var a,r,i,o,c,s,l,u,d,m,g,h,v,b,y,E;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.sitemap.id?t.sitemap.id:t.ui.EditSitemapModal.id){e.next=3;break}return e.abrupt("return",!1);case 3:if(t.firestore.data.sitemaps){e.next=5;break}return e.abrupt("return",!1);case 5:if(n.firestore.data.sitemaps){e.next=7;break}return e.abrupt("return",!1);case 7:if(t.firestore.data.sitemaps[a]){e.next=9;break}return e.abrupt("return",!1);case 9:if(n.firestore.data.sitemaps[a]){e.next=11;break}return e.abrupt("return",!1);case 11:if(r=t.firestore.data.sitemaps[a],i=n.firestore.data.sitemaps[a],JSON.stringify(r)!==JSON.stringify(i)){e.next=15;break}return e.abrupt("return",!1);case 15:if(r.name!==i.name&&(o=r.name),r.domain!==i.domain&&(c=r.domain),r.description!==i.description&&(s=r.description),r.pallette&&(d=t.sitemap,m=d.loaded,g=d.pallette,m&&g.header!==r.pallette.header&&t.changePallette({header:r.pallette.header})),h=t.sitemap.id?t.sitemap:I.a.filter(t.sitemaps.active.data,function(e){return e.id===a})[0],!(I.a.size(r.collaborators)>I.a.size(i.collaborators))){e.next=28;break}return v=I.a.difference(Object.keys(r.collaborators),Object.keys(i.collaborators)),e.next=24,nx(r.collaborators,v);case 24:b=e.sent,l=[].concat(Object(p.a)(h.collaborators),[b]),e.next=29;break;case 28:I.a.size(r.collaborators)<I.a.size(i.collaborators)&&(y=I.a.difference(Object.keys(i.collaborators),Object.keys(r.collaborators)),E=decodeURIComponent(y).replace(/\%2E/g,"."),l=I.a.filter(h.collaborators,function(e){return e.id!==E}));case 29:if(r.flows!==i.flows&&(u=r.flows),o||c||s||l||!I.a.isUndefined(u)){e.next=32;break}return e.abrupt("return");case 32:t.sitemap.id?(t.mergeSitemapDocEdits({changedName:o,changedDomain:c,changedDescription:s,changedCollaborators:l,changedFlows:u}),I.a.filter(t.sitemaps.active.data,function(e){return e.id===a})[0]&&t.mergeSitemapDocEditsToActiveSitemaps(a,{changedName:o,changedDomain:c,changedDescription:s,changedCollaborators:l,changedFlows:u})):t.mergeSitemapDocEditsToActiveSitemaps(a,{changedName:o,changedDomain:c,changedDescription:s,changedCollaborators:l});case 33:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),nx=function(){var e=Object(g.a)(f.a.mark(function e(t,n){var a,r,i,o,c,s,l,u;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t[n]).invitedBy){e.next=4;break}return r=decodeURIComponent(n).replace(/\%2E/g,"."),e.abrupt("return",{id:r,access:a.access,firstName:r,email:r,invited:!0});case 4:return e.next=7,Ex.firestore.doc("users/".concat(n)).get();case 7:if(!(i=e.sent).exists){e.next=11;break}return o=i.data(),c=o.firstName,s=o.lastName,l=o.email,u=o.photoURL,e.abrupt("return",{id:n,access:a.access,firstName:c,lastName:s,email:l,photoURL:u});case 11:case 12:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ax=Object(R.a)("div")(Hw()),rx=function(e){e.location;return r.a.createElement(ax,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Whoops, that page is gone."),r.a.createElement("img",{alt:"",src:Jr.a}),r.a.createElement("div",null,r.a.createElement(c.b,{to:"/sitemaps"},r.a.createElement(u.a,{type:"primary"},"Back to sitemaps")))))},ix=Object(x.g)(Object(s.b)(function(e){return e},{initAccount:S.c,switchAccount:S.g,switchTeam:S.h,logOut:S.d,mergeOrganizationDocChanges:T.a,mergeSitemapDocEdits:P.E,changePallette:P.h,mergeSitemapDocEditsToActiveSitemaps:N.h,addedTeam:L.b,deletedTeam:L.c})(qw)),ox=function(e){Object(b.a)(n,e);var t=Yw(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this.props.switching;return r.a.createElement("div",{style:{height:"100vh",maxWidth:260,top:"50%",left:"50%",position:"absolute",margin:"-70px 0 0 -130px"}},r.a.createElement(Kw,{src:Qr.a}),!e&&r.a.createElement(Qw,{indicator:r.a.createElement(l.a,{type:"loading",spin:!0}),style:{display:"block",marginTop:24}}),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Qw,{style:{display:"inline-block",marginRight:24},indicator:r.a.createElement(l.a,{type:"loading",style:{fontSize:24,marginRight:24},spin:!0})}),r.a.createElement("h3",{style:{marginTop:0,textAlign:"center",display:"inline-block",fontSize:18}},"Switching ".concat(e,"..."))))}}]),n}(a.Component),cx=n(47),sx=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.sitemap,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_SITEMAP_FULFILLED":return Object(j.a)({},e,t.payload,{loaded:!0});case"INIT_SITEMAP_PENDING":return Object(j.a)({},e,{id:t.meta.sitemapId,name:t.meta.sitemapName?t.meta.sitemapName:"Loading Sitemap...",format:t.meta.format,showCovers:t.meta.showCovers,new:t.meta.newSitemap},cx.a.sitemap);case"INIT_SITEMAP_REJECTED":return Object(j.a)({},e,{error:t.payload.code});case"INIT_SITEMAP_COVERS_FULFILLED":return Object(j.a)({},e,{covers:Gd()(cx.a.sitemap.covers,t.payload)});case"INIT_SITEMAP_COVERS_PENDING":return Object(j.a)({},e,{covers:cx.a.sitemap.covers});case"INIT_SITEMAP_COVERS_REJECTED":return Object(j.a)({},e,{covers:cx.a.sitemap.covers,error:t.payload.code});case"IMPORT_SITEMAP_COVERS_COLLECTIONS":return Object(j.a)({},e,{covers:Gd()(cx.a.sitemap.covers,t.covers)});case"INIT_SITEMAP_COMMENTS_FULFILLED":return Object(j.a)({},e,{comments:t.payload.comments,members:t.payload.members});case"INIT_SITEMAP_COMMENTS_PENDING":return Object(j.a)({},e,{comments:cx.a.sitemap.comments});case"INIT_SITEMAP_COMMENTS_REJECTED":return Object(j.a)({},e,{comments:cx.a.sitemap.comments,error:t.payload.code});case"SET_ROOT":return Object(j.a)({},e,{root:t.root});case"INIT_SECTION":return Object(j.a)({},e,{section:t.section,history:{undo:[],redo:[]}});case"SET_SECTION":return Object(j.a)({},e,{section:t.section});case"UNSET_SECTION":return Object(j.a)({},e,{section:void 0,history:{undo:[],redo:[]}});case"SET_NODES_AND_LINKS":return Object(j.a)({},e,{data:Object(j.a)({},e.data,{nodes:t.nodes,links:t.links})});case"SET_SOURCE":return Object(j.a)({},e,{source:t.source});case"SET_FORMAT":return Object(j.a)({},e,{format:t.format});case"ACTION_COLLAPSED":case"ACTION_EXPANDED_ON_CLICK":case"UPDATE":case"UPDATE_ENDED":return Object(j.a)({},e,{action:t.action});case"UNDO_USER_CHANGE":case"REDO_USER_CHANGE":return Object(j.a)({},e,{history:{undo:t.undo,redo:t.redo}});case"TOGGLE_PAGE_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{PageDrawer:Object(j.a)({},e.ui.PageDrawer,{showing:t.showing,page:t.page?t.page:{},url:t.url})})});case"SHOW_SELECT_COVER_MODAL":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{SelectCoverModal:Object(j.a)({},e.ui.SelectCoverModal,{showing:{page:t.page,url:t.url,tab:t.tab}})})});case"CAPTURE_COVER_FROM_WEBSITE_FULFILLED":return Object(j.a)({},e);case"CAPTURE_COVER_FROM_WEBSITE_PENDING":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{SelectCoverModal:{showing:!1}})});case"CAPTURE_COVER_FROM_WEBSITE_REJECTED":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui)});case"CHANGE_COVER_MODAL_TAB":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{SelectCoverModal:Object(j.a)({},e.ui.SelectCoverModal,{showing:Object(j.a)({},e.ui.SelectCoverModal.showing,{tab:t.tab})})})});case"HIDE_SELECT_COVER_MODAL":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{SelectCoverModal:Object(j.a)({},e.ui.SelectCoverModal,{page:void 0,showing:!1})})});case"SHOW_ADD_PAGE_COMMENT_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{AddPageCommentPopover:{page:t.page,node:t.node,offset:t.offset,showing:!0},PageCommentsPopover:{page:void 0,node:void 0,offset:[],showing:!1}})});case"HIDE_ADD_PAGE_COMMENT_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{AddPageCommentPopover:{offset:[],showing:!1}})});case"REPLY_TO_PAGE_COMMENT_FULFILLED":return Object(j.a)({},e);case"REPLY_TO_PAGE_COMMENT_PENDING":return Object(j.a)({},e,{comments:t.meta.comments});case"REPLY_TO_PAGE_COMMENT_REJECTED":case"EDIT_PAGE_COMMENT_FULFILLED":return Object(j.a)({},e);case"EDIT_PAGE_COMMENT_PENDING":return Object(j.a)({},e,{comments:t.meta.comments});case"EDIT_PAGE_COMMENT_REJECTED":return Object(j.a)({},e);case"SHOW_PAGE_COMMENTS_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{PageCommentsPopover:{page:t.page,node:t.node,offset:t.offset,showing:!0},AddPageCommentPopover:{page:void 0,node:void 0,offset:[],showing:!1}})});case"HIDE_PAGE_COMMENTS_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{PageCommentsPopover:{page:void 0,node:void 0,offset:[],showing:!1}})});case"DELETE_PAGE_COMMENT_THREAD_FULFILLED":return Object(j.a)({},e);case"DELETE_PAGE_COMMENT_THREAD_PENDING":return Object(j.a)({},e,{comments:t.meta.comments,ui:Object(j.a)({},e.ui,{PageCommentsPopover:{page:void 0,node:void 0,offset:[],showing:!1}})});case"DELETE_PAGE_COMMENT_THREAD_REJECTED":case"DELETE_PAGE_COMMENT_FULFILLED":return Object(j.a)({},e);case"DELETE_PAGE_COMMENT_PENDING":return Object(j.a)({},e,{comments:t.meta.comments});case"DELETE_PAGE_COMMENT_REJECTED":return Object(j.a)({},e);case"SHOW_COVERS":return Object(j.a)({},e,{showCovers:!0});case"HIDE_COVERS":return Object(j.a)({},e,{showCovers:!1});case"SAVE_COVER_CHANGE_FULFILLED":return Object(j.a)({},e);case"SAVE_COVER_CHANGE_PENDING":var n=t.meta,a=n.selected,r=n.page,i=n.type,o=n.setDefault,c=n.uid;return Object(j.a)({},e,{covers:Object(j.a)({},e.covers,{pages:Object(j.a)({},e.covers.pages,Object(Re.a)({},r,Object(j.a)({},e.covers.pages[r],Object(Re.a)({},i,a)))),default:o?a:e.covers.pages.default,lastEdit:c})});case"SAVE_COVER_CHANGE_REJECTED":return Object(j.a)({},e);case"SWITCH_COVERS_DEVICE":return Object(j.a)({},e,{covers:Object(j.a)({},e.covers,{device:t.device})});case"SHOW_SHARE_SITEMAP_MODAL":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ShareModal:Object(j.a)({},e.ui.ShareModal,{showing:!0})})});case"HIDE_SHARE_SITEMAP_MODAL":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ShareModal:Object(j.a)({showing:!1},cx.a.sitemap.ui.ShareModal)})});case"SHOW_OVERFLOW_MODAL":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{OverflowModal:{showing:!0,parent:t.parent,pages:t.pages}})});case"HIDE_OVERFLOW_MODAL":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{OverflowModal:Object(j.a)({showing:!1},cx.a.sitemap.ui.OverflowModal)})});case"SHOW_FULLSCREEN_COVER_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{FullscreenCoverDrawer:{showing:!0,page:t.page,preview:t.preview}})});case"HIDE_FULLSCREEN_COVER_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{FullscreenCoverDrawer:{showing:!1}})});case"SHOW_EXPORT_PDF_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ExportPDFDrawer:{showing:!0,transform:t.transform}})});case"HIDE_EXPORT_PDF_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ExportPDFDrawer:{showing:!1}})});case"ADD_SITEMAP_COLLABORATOR_FULFILLED":case"ADD_SITEMAP_COLLABORATOR_PENDING":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui)});case"ADD_SITEMAP_COLLABORATOR_REJECTED":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{AddCollaboratorForm:Object(j.a)({},e.ui.AddCollaboratorForm,{error:t.payload.message})})});case"CLEAR_ADD_COLLABORATOR_ERROR":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{AddCollaboratorForm:Object(j.a)({},e.ui.AddCollaboratorForm,{error:null})})});case"SHOW_EDIT_PAGE_URL_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{EditPageUrlPopover:{page:t.page,node:t.node,offset:t.offset,showing:!0}})});case"HIDE_EDIT_PAGE_URL_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{EditPageUrlPopover:{page:void 0,node:void 0,offset:[],showing:!1}})});case"ADD_PAGE_CHANGE":var s=I.a.cloneDeep(e.history.undo);return t.history&&s.push(t.history),Object(j.a)({},e,{history:{undo:s,redo:t.history?[]:e.history.redo},changes:Object(j.a)({},e.changes,{pages:Object(j.a)({},e.changes.pages,{data:[].concat(Object(p.a)(e.changes.pages.data),[t.change])})}),ui:Object(j.a)({},e.ui,{PageDrawer:Object(j.a)({},t.PageDrawer?t.PageDrawer:e.ui.PageDrawer)})});case"ADD_COVERS_CHANGE":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{covers:Object(j.a)({},e.changes.covers,{data:[].concat(Object(p.a)(e.changes.covers.data),[t.change])})}),covers:Object(j.a)({},e.covers,{pages:Gd()(e.covers.pages,t.covers),lastEdit:t.state.user.id})});case"ADD_COMMENTS_CHANGE":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{comments:Object(j.a)({},e.changes.comments,{data:[].concat(Object(p.a)(e.changes.comments.data),[t.change])})}),comments:Object(j.a)({},e.comments,t.comment)});case"SAVE_PAGE_CHANGES_FULFILLED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{pages:Object(j.a)({},e.changes.pages,{saving:!1,error:null,errorCount:0})})});case"SAVE_PAGE_CHANGES_PENDING":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{pages:Object(j.a)({},e.changes.pages,{saving:!0})})});case"SAVE_PAGE_CHANGES_REJECTED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{pages:Object(j.a)({},e.changes.pages,{saving:!1,error:t.error,errorCount:e.changes.pages.errorCount+1})})});case"SAVE_COVERS_CHANGES_FULFILLED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{covers:Object(j.a)({},e.changes.covers,{saving:!1,error:null,errorCount:0})})});case"SAVE_COVERS_CHANGES_PENDING":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{covers:Object(j.a)({},e.changes.covers,{saving:!0})})});case"SAVE_COVERS_CHANGES_REJECTED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{covers:Object(j.a)({},e.changes.covers,{saving:!1,error:t.error,errorCount:e.changes.covers.errorCount+1})})});case"SAVE_COMMENTS_CHANGES_FULFILLED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{comments:Object(j.a)({},e.changes.comments,{saving:!1,error:null,errorCount:0})})});case"SAVE_COMMENTS_CHANGES_PENDING":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{comments:Object(j.a)({},e.changes.comments,{saving:!0})})});case"SAVE_COMMENTS_CHANGES_REJECTED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{comments:Object(j.a)({},e.changes.comments,{saving:!1,error:t.error,errorCount:e.changes.comments.errorCount+1})})});case"CLEAR_SAVED_PAGE_CHANGES":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{pages:Object(j.a)({},e.changes.pages,{data:e.changes.pages.data.filter(function(e){return t.savedChanges.indexOf(e.id)<0})})})});case"CLEAR_SAVED_COVERS_CHANGES":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{covers:Object(j.a)({},e.changes.covers,{data:e.changes.covers.data.filter(function(e){return t.savedChanges.indexOf(e.id)<0})})})});case"CLEAR_SAVED_COMMENTS_CHANGES":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{comments:Object(j.a)({},e.changes.comments,{data:e.changes.comments.data.filter(function(e){return t.savedChanges.indexOf(e.id)<0})})})});case"MERGE_PAGES_EDITS":return Object(j.a)({},e,{pages:t.pages});case"MERGE_COVERS_EDITS":return Object(j.a)({},e,{covers:Object(j.a)({},e.covers,{pages:Object(j.a)({},e.covers.pages,t.pages)})});case"MERGE_COMMENTS_EDITS":return Object(j.a)({},e,{comments:t.pages,members:t.members});case"MERGE_SITEMAP_DOC_EDITS":return t.sitemap;case"TOGGLE_DELETE_COVERS_CONFIRM":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{DeleteCoversConfirm:{showing:t.showing}})});case"TOGGLE_SITEMAP_PAGE_LIMIT_MESSAGING":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{SitemapPageLimitMessaging:{showing:t.showing}})});case"SWITCH_PRODUCTS_TAB":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ProductsTab:t.tab})});case"TOGGLE_CHAT_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ChatDrawer:{showing:t.showing,lastOpen:t.showing?e.ui.ChatDrawer.lastOpen:new Date}})});case"TOGGLE_CONTEXTMENU_DROPDOWN":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ContextMenuDropdown:{showing:t.showing,trigger:t.trigger?t.trigger:void 0,node:t.node?t.node:{},offset:t.offset?t.offset:[]}})});case"TOGGLE_PALLETTE_DROPDOWN":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{PalletteDropdown:{showing:t.showing,originalHeader:t.originalHeader}})});case"TOGGLE_COMMENTS_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{CommentsPopover:Object(j.a)({},e.ui.CommentsPopover,{showing:t.showing,lastOpen:t.showing?e.ui.CommentsPopover.lastOpen:new Date})})});case"CHANGE_COMMENTS_POPOVER_VIEW":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{CommentsPopover:Object(j.a)({},e.ui.CommentsPopover,{view:t.view})})});case"CHANGE_SITEMAP_NAME":return Object(j.a)({},e,{name:t.name});case"CHANGE_PALLETTE":return Object(j.a)({},e,{pallette:t.pallette});case"TOGGLE_SITEMAP_NOTIFICATIONS_DROPDOWN":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{NotificationsDropdown:{showing:t.showing}})});default:return e}},lx=n(377),ux=Object(Z.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.auth,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_FULFILLED":return Object(j.a)({},e,{isError:null,loggingIn:!1,loggedIn:!0});case"LOGIN_PENDING":return Object(j.a)({},e,{loggingIn:!0,loggedIn:!1});case"LOGIN_REJECTED":return Object(j.a)({},e,{isError:t.payload,loggingIn:!1,loggedIn:!1});case"SIGNUP_FULFILLED":return Object(j.a)({},e,{isError:null,signingUp:!1,loggedIn:!0});case"SIGNUP_PENDING":return Object(j.a)({},e,{signingUp:!0,loggedIn:!1});case"SIGNUP_REJECTED":return Object(j.a)({},e,{isError:t.payload,signingUp:!1,loggedIn:!1});case"REDIRECT_USER":return Object(j.a)({},e,{redirectUser:t.path});case"LOGOUT_FULFILLED":return Object(j.a)({},cx.a.auth,{loggedOut:!0});case"LOGOUT_PENDING":return Object(j.a)({},e);case"LOGOUT_REJECTED":return Object(j.a)({},e,{isError:t.payload});case"INIT_ACCOUNT_FULFILLED":case"INIT_ACCOUNT_PENDING":return Object(j.a)({},e);case"INIT_ACCOUNT_REJECTED":return Object(j.a)({},e,{error:t.payload});case"SWITCH_ACCOUNT_FULFILLED":return Object(j.a)({},e,{switching:{}});case"SWITCH_ACCOUNT_PENDING":return Object(j.a)({},cx.a.auth,{switching:{account:!0}});case"SWITCH_ACCOUNT_REJECTED":return Object(j.a)({},e,{switching:{},isError:t.payload});case"SWITCH_TEAM_FULFILLED":return Object(j.a)({},e,{switching:{team:!1}});case"SWITCH_TEAM_PENDING":return Object(j.a)({},e,{switching:{team:!0}});case"SWITCH_TEAM_REJECTED":return Object(j.a)({},e,{switching:{},isError:t.payload});case"CLEAR_AUTH_ERRORS":return Object(j.a)({},e,{isError:null});default:return e}},organization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.organization,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ORGANIZATION_FULFILLED":return Object(j.a)({},e,t.payload);case"SET_ORGANIZATION_PENDING":return Object(j.a)({},e);case"SET_ORGANIZATION_REJECTED":return Object(j.a)({},e,{error:t.payload});case"SWITCH_ACCOUNT_FULFILLED":return Object(j.a)({},cx.a.organization);case"MERGE_ORGANIZATION_DOC_CHANGES":return Object(j.a)({id:e.id},t.doc);default:return e}},organizations:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.organizations,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ORGANIZATIONS_FULFILLED":return t.payload;case"GET_ORGANIZATIONS_PENDING":return Object(j.a)({},e);case"GET_ORGANIZATIONS_REJECTED":return Object(j.a)({},e,{error:t.payload});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.users,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS_FULFILLED":return Object(j.a)({},e,{byId:t.payload,loaded:!0});case"GET_USERS_PENDING":return Object(j.a)({},e);case"GET_USERS_REJECTED":return Object(j.a)({},e,{loaded:!1});case"ADD_NEW_USER_TO_ORGANIZATION_FULFILLED":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,t.payload.user)});case"ADD_NEW_USER_TO_ORGANIZATION_PENDING":return Object(j.a)({},e);case"REMOVE_USER_FROM_ORGANIZATION_FULFILLED":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},t.payload.userToRemove,void 0))});case"REMOVE_USER_FROM_ORGANIZATION_PENDING":return Object(j.a)({},e);default:return e}},teams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.teams,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TEAMS_FULFILLED":return Object(j.a)({},e,{byId:t.payload,loaded:!0});case"GET_TEAMS_PENDING":return Object(j.a)({},e);case"GET_TEAMS_REJECTED":return Object(j.a)({},e,{loaded:!1,error:"error"});case"RENAME_TEAM_PENDING":var n=t.meta,a=n.teamId,r=n.newTeamName;return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},a,Object(j.a)({},e.byId[a],{name:r})))});case"ADD_USER_TO_TEAM_FULFILLED":return Object(j.a)({},e);case"ADD_USER_TO_TEAM_PENDING":var i=t.meta,o=i.teamId,c=i.uid;return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},o,Object(j.a)({},e.byId[o],{members:[].concat(Object(p.a)(e.byId[o].members),[c])})))});case"ADD_USER_TO_TEAM_REJECTED":var s=t.meta,l=s.teamId,u=s.uid;return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},l,Object(j.a)({},e.byId[l],{members:e.byId[l].members.filter(function(e){return e!==u})})))});case"REMOVE_USER_FROM_TEAM_FULFILLED":return Object(j.a)({},e);case"REMOVE_USER_FROM_TEAM_PENDING":var d=t.meta,m=d.teamId,f=d.uid;return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},m,Object(j.a)({},e.byId[m],{members:e.byId[m].members.filter(function(e){return e!==f})})))});case"REMOVE_USER_FROM_TEAM_REJECTED":var g=t.meta,h=g.teamId,v=g.uid;return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},h,Object(j.a)({},e.byId[h],{members:[].concat(Object(p.a)(e.byId[h].members),[v])})))});case"ADDED_TEAM":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,t.data)});case"DELETED_TEAM":return Object(j.a)({},e,{byId:I.a.omit(e.byId,t.teamId)});case"SWITCH_ACCOUNT_FULFILLED":return Object(j.a)({},cx.a.teams);default:return e}},sitemap:sx,flows:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.flows,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USER_FLOWS_FULFILLED":return Object(j.a)({},e,{loading:!1,loaded:!0,selected:t.payload.selected,byId:t.payload.flows});case"GET_USER_FLOWS_PENDING":return Object(j.a)({},e,{loading:!0,loaded:!1});case"GET_USER_FLOWS_REJECTED":return Object(j.a)({},e,{loading:!1,loaded:!1});case"INIT_USER_FLOW_FULFILLED":return Object(j.a)({},e,{selected:t.meta.flowId,byId:Object(j.a)({},e.byId,Object(Re.a)({},t.meta.flowId,Object(j.a)({},t.payload,{loading:!1,loaded:!0})))});case"INIT_USER_FLOW_PENDING":return Object(j.a)({},e,{selected:t.meta.flowId,history:cx.a.flows.history,changes:cx.a.flows.changes,byId:Object(j.a)({},e.byId,Object(Re.a)({},t.meta.flowId,Object(j.a)({},e.byId[t.meta.flowId],{loading:!0})))});case"INIT_USER_FLOW_REJECTED":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},t.meta.flowId,{loading:!1,loaded:!0,error:t.payload.code}))});case"DELETE_USER_FLOW_FULFILLED":var n=t.payload.flowId,a=e.byId;delete a[n];var r=e.selected===n?null:e.selected;return Object(j.a)({},e,{selected:r,byId:a});case"DELETE_USER_FLOW_PENDING":var i=t.meta.flowId,o=e.byId;return delete o[i],Object(j.a)({},e,{byId:o});case"HIDE_EMPTY_FLOWS_MESSAGING":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},e.selected,Object(j.a)({},e.byId[e.selected],{hideEmptyFlowMessaging:!0})))});case"INSERT_NEW_SYMBOL":case"CHANGED_FLOW_TEXT":case"CHANGED_CONNECTOR":case"CHANGED_SYMBOL":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},e.selected,Object(j.a)({},e.byId[e.selected],{hideEmptyFlowMessaging:!0,data:t.data})))});case"ADD_FLOWS_CHANGE":var c=I.a.cloneDeep(e.history.undo);return t.history&&c.push(t.history),Object(j.a)({},e,{history:{undo:c,redo:t.history?[]:e.history.redo},changes:Object(j.a)({},e.changes,{data:I.a.concat.apply(I.a,Object(p.a)(e.changes.data).concat([t.change]))})});case"SAVE_FLOWS_CHANGES_FULFILLED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{saving:!1,error:null,errorCount:0})});case"SAVE_FLOWS_CHANGES_PENDING":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{saving:!0})});case"SAVE_FLOWS_CHANGES_REJECTED":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{saving:!1,error:t.error,errorCount:e.changes.errorCount+1})});case"CLEAR_SAVED_FLOWS_CHANGES":return Object(j.a)({},e,{changes:Object(j.a)({},e.changes,{data:e.changes.data.filter(function(e){return t.savedChanges.indexOf(e.id)<0})})});case"UNDO_FLOWS_USER_CHANGE":case"REDO_FLOWS_USER_CHANGE":return Object(j.a)({},e,{history:{undo:t.undo,redo:t.redo}});case"UPDATED_FLOWS_DATA":var s=Gd()(e.byId[e.selected].data,t.data);return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},e.selected,Object(j.a)({},e.byId[e.selected],{data:s})))});case"SHOW_FLOWS_OPTIONS_POPOVER":var l=t.node,u=t.offset,d=t.newSymbolOptions,m=t.symbolOptions,f=t.pageOptions,g=t.connectorOptions,h=t.iconOptions;return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{OptionsPopover:{showing:!0,node:l,offset:u,newSymbolOptions:d,symbolOptions:m,pageOptions:f,connectorOptions:g,iconOptions:h}})});case"HIDE_FLOWS_OPTIONS_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{OptionsPopover:{offset:[],showing:!1}})});case"SHOW_FLOWS_LINKED_PAGE_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{LinkedPagePopover:{showing:!0,offset:t.offset}})});case"HIDE_FLOWS_LINKED_PAGE_POPOVER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{LinkedPagePopover:{offset:[],showing:!1}})});case"SHOW_FLOWS_PAGE_DRAWER":var v=t.node;return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{PageDrawer:{showing:!0,node:v}})});case"HIDE_FLOWS_PAGE_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{PageDrawer:{showing:!1}})});case"SHOW_FLOWS_SELECT":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{FlowsSelect:{showing:!0}})});case"HIDE_FLOWS_SELECT":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{FlowsSelect:{showing:!1}}),selected:t.flow?t.flow.id:e.selected});case"SHOW_FLOWS_EXPORT_PDF_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ExportPDFDrawer:{showing:!0,transform:t.transform}})});case"HIDE_FLOWS_EXPORT_PDF_DRAWER":return Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{ExportPDFDrawer:{showing:!1}})});case"MERGE_FLOW_EDITS":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},e.selected,Object(j.a)({},e.byId[e.selected],{data:I.a.cloneDeep(t.data),loading:!0})))});case"RENAME_USER_FLOW_FULFILLED":case"RENAME_USER_FLOW_PENDING":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},t.meta.flowId,Object(j.a)({},e.byId[t.meta.flowId],{name:t.meta.newName})))});case"RENAME_USER_FLOW_REJECTED":return Object(j.a)({},e,{byId:Object(j.a)({},e.byId,Object(Re.a)({},t.meta.flowId,Object(j.a)({},e.byId[t.meta.flowId],{name:e.byId[t.meta.flowId].name})))});case"CLEAR_SELECTED_FLOW":return Object(j.a)({},e,{selected:null,history:cx.a.flows.history});case"SHOWING_NEW_CONNECTOR_LINE":return Object(j.a)({},e,{utils:Object(j.a)({},e.utils,{NewConnectorLine:{showing:t.showing},mouseoverSymbol:null,mouseoverConnector:null,mouseoverIcon:null})});case"MOUSEOVER_ICON":return Object(j.a)({},e,{utils:Object(j.a)({},e.utils,{mouseoverIcon:t.mouseover})});case"MOUSEOVER_SYMBOL":return Object(j.a)({},e,{utils:Object(j.a)({},e.utils,{mouseoverSymbol:t.symbol})});case"MOUSEOVER_CONNECTOR":return Object(j.a)({},e,{utils:Object(j.a)({},e.utils,{mouseoverConnector:t.connector})});case"SWITCH_TEAM_FULFILLED":case"SWITCH_TEAM_PENDING":case"SWITCH_ACCOUNT_FULFILLED":return Object(j.a)({},cx.a.flows);default:return e}},sitemaps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.sitemaps,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_SITEMAPS_VIEW":return Object(j.a)({},e,{view:t.view});case"SET_ACTIVE_SITEMAPS_FULFILLED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{loading:!1,loaded:!0,data:t.payload.data})});case"SET_ACTIVE_SITEMAPS_PENDING":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{loading:!0,loaded:!1})});case"SET_ACTIVE_SITEMAPS_REJECTED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{loading:!1,loaded:!0,error:t.error})});case"ARCHIVE_SITEMAPS_FULFILLED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{archiving:!1})});case"ARCHIVE_SITEMAPS_PENDING":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{data:t.meta.data.active,archiving:!0}),archived:Object(j.a)({},e.archived,{data:t.meta.data.archived})});case"ARCHIVE_SITEMAPS_REJECTED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{error:t.error,archiving:!1})});case"SET_ARCHIVED_SITEMAPS_FULFILLED":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{loading:!1,loaded:!0,data:t.payload.data})});case"SET_ARCHIVED_SITEMAPS_PENDING":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{loading:!0,loaded:!1})});case"SET_ARCHIVED_SITEMAPS_REJECTED":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{loading:!1,loaded:!0,error:t.error})});case"RESTORE_SITEMAPS_FULFILLED":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{restoring:!1})});case"RESTORE_SITEMAPS_PENDING":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{data:t.meta.data.archived,restoring:!0}),active:Object(j.a)({},e.active,{data:t.meta.data.active})});case"RESTORE_SITEMAPS_REJECTED":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{error:t.error,restoring:!1})});case"DELETE_USER_SITEMAP_FULFILLED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{loading:!1,loaded:!1,data:[]})});case"DELETE_USER_SITEMAP_PENDING":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{data:[],deleting:!0})});case"DELETE_USER_SITEMAP_REJECTED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{error:t.error,deleting:!1})});case"SET_COLLABORATING_SITEMAPS_FULFILLED":return Object(j.a)({},e,{shared:Object(j.a)({},e.shared,{loading:!1,loaded:!0,data:t.payload.data})});case"SET_COLLABORATING_SITEMAPS_PENDING":return Object(j.a)({},e,{shared:Object(j.a)({},e.shared,{loading:!0,loaded:!1,error:!1})});case"SET_COLLABORATING_SITEMAPS_REJECTED":return Object(j.a)({},e,{shared:Object(j.a)({},e.shared,{loading:!1,loaded:!0,error:t.error})});case"SET_ACTIVE_SITEMAPS_TO_RETRIEVE":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{toRetrieve:I.a.union(e.active.toRetrieve,t.toRetrieve)})});case"RETRIEVE_ACTIVE_SITEMAPS_FULFILLED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{retrieving:!1,data:t.payload.data,toRetrieve:[]})});case"RETRIEVE_ACTIVE_SITEMAPS_PENDING":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{retrieving:!0,toRetrieve:[]})});case"RETRIEVE_ACTIVE_SITEMAPS_REJECTED":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{retrieving:!1,toRetrieve:[]})});case"SET_ARCHIVED_SITEMAPS_TO_RETRIEVE":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{toRetrieve:I.a.union(e.archived.toRetrieve,t.toRetrieve)})});case"RETRIEVE_ARCHIVED_SITEMAPS_FULFILLED":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{retrieving:!1,data:t.payload.data,toRetrieve:[]})});case"RETRIEVE_ARCHIVED_SITEMAPS_PENDING":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{retrieving:!0,toRetrieve:[]})});case"RETRIEVE_ARCHIVED_SITEMAPS_REJECTED":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{retrieving:!1,toRetrieve:[]})});case"SORT_ACTIVE_SITEMAPS":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{sortBy:t.sortBy,data:t.data})});case"SORT_ARCHIVED_SITEMAPS":return Object(j.a)({},e,{archived:Object(j.a)({},e.archived,{sortBy:t.sortBy,data:t.data})});case"SORT_COLLABORATING_SITEMAPS":return Object(j.a)({},e,{shared:Object(j.a)({},e.shared,{sortBy:t.sortBy,data:t.data})});case"PROCESS_NEW_SITEMAP_FULFILLED":var n=t.payload.sitemap;return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,Object(Re.a)({},n.type,Object(j.a)({},e.processing[n.type],{update:n.update})))});case"PROCESS_NEW_SITEMAP_PENDING":return Object(j.a)({},e);case"PROCESS_NEW_SITEMAP_REJECTED":var a=t.meta.sitemap;return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,Object(Re.a)({},a.type,Object(j.a)({},cx.a.sitemaps.processing[a.type])))});case"PROCESSING_CSV":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{csv:Object(j.a)({},e.processing.csv,t.processing)})});case"CLEAR_PROCESSED_CSV_FULFILLED":case"CLEAR_PROCESSED_CSV_PENDING":case"CLEAR_PROCESSED_CSV_REJECTED":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{csv:Object(j.a)({},cx.a.sitemaps.processing.csv)})});case"UPLOADING_CSV_FILE":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{csv:Object(j.a)({},e.processing.csv,{uploading:!0,progress:1})})});case"UPLOADING_CSV_FILE_PROGRESS":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{csv:Object(j.a)({},e.processing.csv,{progress:t.progress})})});case"UPLOADED_CSV_FILE":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{csv:Object(j.a)({},e.processing.csv,{uploading:!1,uploaded:!0})})});case"UPLOADING_CSV_FILE_ERROR":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{csv:Object(j.a)({},e.processing.csv,{uploading:!1,uploaded:!1,error:t.error})})});case"PROCESSING_XML":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{xml:Object(j.a)({},e.processing.xml,t.processing)})});case"CLEAR_PROCESSED_XML_FULFILLED":case"CLEAR_PROCESSED_XML_PENDING":case"CLEAR_PROCESSED_XML_REJECTED":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{xml:Object(j.a)({},cx.a.sitemaps.processing.xml)})});case"UPLOADING_XML_FILE":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{xml:Object(j.a)({},e.processing.xml,{file:Object(j.a)({},e.processing.xml.file,{uploading:!0,progress:1})})})});case"UPLOADING_XML_FILE_PROGRESS":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{xml:Object(j.a)({},e.processing.xml,{file:Object(j.a)({},e.processing.xml.file,{progress:t.progress})})})});case"UPLOADED_XML_FILE":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{xml:Object(j.a)({},e.processing.xml,{file:Object(j.a)({},e.processing.xml.file,{uploading:!1,uploaded:!0})})})});case"UPLOADING_XML_FILE_ERROR":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{xml:Object(j.a)({},e.processing.xml,{file:Object(j.a)({},e.processing.xml.file,{uploading:!1,uploaded:!1,error:t.error})})})});case"PROCESSING_CRAWL":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{crawl:Object(j.a)({},e.processing.crawl,t.processing)})});case"CLEAR_PROCESSED_CRAWL_FULFILLED":case"CLEAR_PROCESSED_CRAWL_PENDING":case"CLEAR_PROCESSED_CRAWL_REJECTED":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{crawl:Object(j.a)({},cx.a.sitemaps.processing.crawl)})});case"PROCESSING_BETA":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{beta:Object(j.a)({},e.processing.beta,t.processing)})});case"CLEAR_PROCESSED_BETA_FULFILLED":case"CLEAR_PROCESSED_BETA_PENDING":case"CLEAR_PROCESSED_BETA_REJECTED":return Object(j.a)({},e,{processing:Object(j.a)({},e.processing,{beta:Object(j.a)({},cx.a.sitemaps.processing.beta)})});case"SWITCH_TEAM_FULFILLED":case"SWITCH_TEAM_PENDING":case"SWITCH_ACCOUNT_FULFILLED":return Object(j.a)({},cx.a.sitemaps);case"MERGE_SITEMAP_DOC_EDITS_TO_ACTIVE_SITEMAPS":return Object(j.a)({},e,{active:Object(j.a)({},e.active,{data:t.data})});case"SWITCH_SITEMAPS_TAB":return Object(j.a)({},e,{tab:t.tab});default:return e}},firestore:Hc.firestoreReducer,firebase:Ce.firebaseReducer,ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.ui,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SIDEMENU":return Object(j.a)({},e,{sideMenu:Object(j.a)({},e.sideMenu,{collapsed:t.collapsed})});case"TOGGLE_SIDEDRAWER":return Object(j.a)({},e,{sideDrawer:Object(j.a)({},e.sideDrawer,{collapsed:t.collapsed})});case"TOGGLE_SITEMAPS_NAVBAR":return Object(j.a)({},e,{navbar:Object(j.a)({},e.navbar,{hidden:t.hidden})});case"SHOW_ORGANIZATION_SETTINGS_MODAL":return Object(j.a)({},e,{OrganizationSettingsModal:Object(j.a)({},e.OrganizationSettingsModal,{showing:!0,id:t.id,name:t.name,tab:t.tab,window:t.window})});case"HIDE_ORGANIZATION_SETTINGS_MODAL":return Object(j.a)({},e,{OrganizationSettingsModal:Object(j.a)({showing:!1},cx.a.ui.OrganizationSettingsModal)});case"CHANGE_ORGANIZATION_SETTINGS_MODAL_TAB":return Object(j.a)({},e,{OrganizationSettingsModal:Object(j.a)({},e.OrganizationSettingsModal,{tab:t.tab,window:t.window?t.window:e.OrganizationSettingsModal.window})});case"CHANGE_ORGANIZATION_SETTINGS_MODAL_WINDOW":return Object(j.a)({},e,{OrganizationSettingsModal:Object(j.a)({},e.OrganizationSettingsModal,{window:t.window})});case"CLEAR_ADD_USER_ERROR":return Object(j.a)({},e,{OrganizationSettingsModal:Object(j.a)({},e.OrganizationSettingsModal,{users:{}})});case"SHOW_EDIT_SITEMAP_MODAL":return Object(j.a)({},e,{EditSitemapModal:{showing:!0,id:t.id,name:t.name,domain:t.domain,tab:t.tab}});case"HIDE_EDIT_SITEMAP_MODAL":return Object(j.a)({},e,{EditSitemapModal:{showing:!1}});default:return e}},browser:lx.a,user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cx.a.user,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_ACCOUNT_FULFILLED":case"SWITCH_ACCOUNT_FULFILLED":case"SWITCH_TEAM_FULFILLED":case"INIT_ACCOUNT_FULFILLED":case"REFRESHED_TOKEN_FULFILLED":var n=t.payload.claims,a=n.organization,r=n.team,i=n.role,o=n.plan,c=n.status;return Object(j.a)({},e,{token:{organization:a,team:r||t.state.user.id,role:i,plan:o,status:c}});case"@@reactReduxFirebase/SET_PROFILE":var s=Object(Ce.getFirebase)().auth().currentUser;return Object(j.a)({},e,{id:s.uid},t.profile);default:return e}}}),px=n(259),dx=n.n(px);n(1609),n(1612),n(1614),n(1626),n(1616),n(1624),dx.a.initializeApp({apiKey:"AIzaSyD1rC1Z8YQJ_8t0JO3jccR2pW-nbE3KrBg",authDomain:"rarchy-production.firebaseapp.com",databaseURL:"https://rarchy-production.firebaseio.com",projectId:"rarchy-production",storageBucket:"rarchy-production.appspot.com",messagingSenderId:"623296379059",appId:"1:623296379059:web:647199fea273cd23",measurementId:"G-0WSPFQZX0N"});dx.a.performance(),dx.a.analytics(),dx.a.firestore().enablePersistence({synchronizeTabs:!0}).catch(function(e){console.log(e),"failed-precondition"===e.code||e.code});var mx=dx.a,fx=n(985),gx=n(993),hx=(n(1618),n(987)),vx=n(986),bx=n.n(vx);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.d(t,"store",function(){return Ex}),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()});var yx=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d;bx.a.initialize({gtmId:"GTM-PCD55FQ",auth:"68Ur16aUxwlaPfgPcgRv9g",preview:"env-2"});var Ex=Object(Z.e)(function(e,t){return"LEFT_SITEMAP"===t.type&&(e=Object(j.a)({},e,{sitemap:cx.a.sitemap,flows:cx.a.flows,ui:Object(j.a)({},e.ui,{sideMenu:{collapsed:!1},sideDrawer:{collapsed:!0},navbar:{hidden:!1}})})),"INIT_SITEMAP_REJECTED"===t.type&&(e=Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{sideMenu:{collapsed:!1}})})),"LOGOUT_FULFILLED"===t.type&&(e=Object(j.a)({},e,cx.a)),"ADD_NEW_USER_TO_ORGANIZATION_REJECTED"===t.type&&(e=Object(j.a)({},e,{ui:Object(j.a)({},e.ui,{OrganizationSettingsModal:Object(j.a)({},e.ui.OrganizationSettingsModal,{users:Object(j.a)({},e.ui.OrganizationSettingsModal.users,{error:t.payload.message})})})})),ux(e,Object(j.a)({},t,{state:e}))},yx(lx.b,Object(Z.a)(Object(gx.a)(),fx.a.withExtraArgument({getFirebase:Ce.getFirebase,getFirestore:Hc.getFirestore})),Object(Ce.reactReduxFirebase)(mx,{useFirestoreForProfile:!0,userProfile:"users"}),Object(Hc.reduxFirestore)(mx)));function Ox(){}console.log=Ox,console.warn=Ox,console.error=Ox,o.a.render(r.a.createElement(c.a,null,r.a.createElement(s.a,{store:Ex},r.a.createElement(hx.AppContainer,null,r.a.createElement(ix,null)))),document.getElementById("root"))},,,,function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return m});var a=n(14),r=n(11),i=n(21),o=n(5),c=n.n(o),s=function(){function e(){var e=Math.floor(256*Math.random()).toString(16);return("0"+String(e)).substr(-2)}return function(e){var t=parseInt(e,16),n=t>>16&255,a=t>>8&255,i=255&t;return r.rgb(n,a,i).toString()}(e()+e()+e())};var l=function(e){var t=a.store.getState().sitemap;return{x:i.e.applyX(u(e)),y:i.e.applyY(p(e)-(t.showCovers?112.5:0))}},u=function(e){var t=a.store.getState().sitemap;return"tree"===t.format||"indent"===t.format?e.y:e.x},p=function(e){var t=a.store.getState().sitemap;return"tree"===t.format||"indent"===t.format?e.x:e.y},d=function(e,t){var n=t.device;if(!c.a.isEmpty(t.pages[e.id])&&t.pages[e.id].devices&&t.pages[e.id].devices[n]){var a=t.pages[e.id].devices[n],r=a.thumbDownloadURL,i=a.generation;if(r)return{thumbDownloadURL:r,generation:i}}},m=function(e,t){var n=t.device;if(!c.a.isEmpty(t.pages[e.id])&&t.pages[e.id].devices){var a=t.pages[e.id].devices[n];if(a&&a.token&&"capturing"===a.token)return a.token}}},,function(e,t,n){"use strict";n.d(t,"x",function(){return S}),n.d(t,"z",function(){return C}),n.d(t,"m",function(){return A}),n.d(t,"W",function(){return N}),n.d(t,"K",function(){return M}),n.d(t,"M",function(){return B}),n.d(t,"y",function(){return U}),n.d(t,"N",function(){return W}),n.d(t,"hb",function(){return _}),n.d(t,"L",function(){return V}),n.d(t,"A",function(){return G}),n.d(t,"J",function(){return H}),n.d(t,"I",function(){return Y}),n.d(t,"H",function(){return X}),n.d(t,"gb",function(){return Z}),n.d(t,"F",function(){return K}),n.d(t,"P",function(){return Q}),n.d(t,"p",function(){return q}),n.d(t,"cb",function(){return J}),n.d(t,"l",function(){return $}),n.d(t,"f",function(){return ee}),n.d(t,"e",function(){return te}),n.d(t,"v",function(){return ne}),n.d(t,"n",function(){return ae}),n.d(t,"D",function(){return re}),n.d(t,"C",function(){return ie}),n.d(t,"B",function(){return oe}),n.d(t,"O",function(){return ce}),n.d(t,"o",function(){return se}),n.d(t,"U",function(){return le}),n.d(t,"u",function(){return ue}),n.d(t,"Q",function(){return pe}),n.d(t,"q",function(){return de}),n.d(t,"V",function(){return fe}),n.d(t,"w",function(){return ge}),n.d(t,"T",function(){return he}),n.d(t,"t",function(){return ve}),n.d(t,"S",function(){return be}),n.d(t,"s",function(){return ye}),n.d(t,"Y",function(){return Ee}),n.d(t,"Z",function(){return Oe}),n.d(t,"ab",function(){return we}),n.d(t,"g",function(){return xe}),n.d(t,"R",function(){return je}),n.d(t,"r",function(){return Se}),n.d(t,"d",function(){return Ce}),n.d(t,"i",function(){return Ae}),n.d(t,"G",function(){return ke}),n.d(t,"k",function(){return Re}),n.d(t,"c",function(){return De}),n.d(t,"b",function(){return Ie}),n.d(t,"a",function(){return Te}),n.d(t,"E",function(){return Fe}),n.d(t,"bb",function(){return Me}),n.d(t,"fb",function(){return Be}),n.d(t,"X",function(){return Ue}),n.d(t,"j",function(){return We}),n.d(t,"db",function(){return Ve}),n.d(t,"h",function(){return Ge}),n.d(t,"eb",function(){return Ye});var a=n(23),r=n(64),i=n(4),o=n.n(i),c=n(2),s=n(15),l=n(95),u=n(5),p=n.n(u),d=n(14),m=n(47),f=n(33),g=n(58),h=n(65),v=n(39),b=n(43),y=n(163),E=n(956),O=n.n(E),w=n(34),x=n.n(w),j=n(69),S=function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)(),i=n();t({type:"INIT_SITEMAP",meta:{sitemapId:e,isNewSitemap:!0},payload:function(){var t=Object(s.a)(o.a.mark(function t(){var n,a,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.doc("sitemaps/".concat(e)).get();case 2:if(t.sent.exists){t.next=30;break}return n=i.user,a={name:"New Sitemap",domain:k(i),team:n.token.team,createdAt:new Date,createdBy:n.id,updatedAt:new Date,updatedBy:n.id,collaborators:{},archived:!1},t.next=8,r.doc("sitemaps/".concat(e)).set(a).catch(function(e){return console.error(e)});case 8:return t.next=10,r.doc("sitemaps/".concat(e,"/data/pages")).set({pages:me,lastEdit:n.id},{merge:!0}).catch(function(e){return console.error(e)});case 10:return t.next=12,r.doc("sitemaps/".concat(e,"/data/covers")).set({pages:{},lastEdit:n.id},{merge:!0}).catch(function(e){return console.error(e)});case 12:if(e===i.user.id){t.next=15;break}return t.next=15,r.doc("sitemaps/".concat(e,"/data/comments")).set({pages:{},lastEdit:n.id},{merge:!0}).catch(function(e){return console.error(e)});case 15:return s=p()(me).map(function(e,t){return e.id=t,e}).value(),x.a.getInstance().logEvent("CREATED_NEW_SITEMAP",{id:e}),window.dataLayer.push({event:"created_sitemap",sitemap_type:"new"}),t.t0=c.a,t.t1={},t.t2=a,t.t3=me,t.t4=_e(),t.t5=F(e),t.t6=z(e),t.next=27,Object(f.c)(s);case 27:return t.t7=t.sent,t.t8={pages:t.t3,pallette:t.t4,format:t.t5,showCovers:t.t6,root:t.t7,editLevel:"full"},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t8));case 30:case 31:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(Object(s.a)(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t(R(e)),e!==i.user.id&&t(D(e)),e===i.user.id&&t(Object(b.s)())]);case 2:case"end":return n.stop()}},n)}))).catch(function(e){return console.error(e),{error:e}})}},C=function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)(),i=n();t({type:"INIT_SITEMAP",meta:{sitemapId:e,sitemapName:L(i,e),format:F(e),showCovers:z(e)},payload:function(){var t=Object(s.a)(o.a.mark(function t(){var n,a,c,s,l,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return x.a.getInstance().logEvent("VIEWED_SITEMAP",{id:e}),t.next=3,r.doc("sitemaps/".concat(e)).get();case 3:if((n=t.sent).exists){t.next=6;break}throw{code:"not-found"};case 6:if(!n.exists||!n.data().archived){t.next=8;break}throw{code:"archived"};case 8:return t.next=10,r.doc("sitemaps/".concat(e,"/data/pages")).get();case 10:if((a=t.sent).exists){t.next=13;break}throw{code:"not-found"};case 13:if(c=p()(a.data().pages).map(function(e,t){return e.id=t,e}).value(),t.t0=F(e),t.t1=z(e),t.t2=n.exists?n.data().name:"New Sitemap",t.t3=n.data().createdBy,t.t4=n.data().team,t.t5=n.exists?n.data().domain:k(i),!n.exists){t.next=26;break}return t.next=23,A(n.data().collaborators);case 23:t.t6=t.sent,t.next=27;break;case 26:t.t6=[];case 27:return t.t7=t.t6,t.t8=n.exists?n.data().updatedAt.toDate():new Date,t.t9=!!n.exists&&n.data().archived,t.t10=n.data().flows,t.t11=a.data().pages,t.t12=n.exists?n.data().description:null,t.t13=_e(n.data()),t.next=36,Object(f.c)(c);case 36:if(t.t14=t.sent,s={format:t.t0,showCovers:t.t1,name:t.t2,createdBy:t.t3,team:t.t4,domain:t.t5,collaborators:t.t7,updatedAt:t.t8,archived:t.t9,flows:t.t10,pages:t.t11,description:t.t12,pallette:t.t13,root:t.t14},(l=i.user).token){t.next=41;break}return t.abrupt("return",s);case 41:return l.token.team===s.team&&(s.editLevel="full"),u=p.a.filter(s.collaborators,function(e){return e.id===l.id}),p.a.isEmpty(u)||(s.editLevel=u[0].access),t.abrupt("return",s);case 45:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(Object(s.a)(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t(R(e)),e!==i.user.id&&t(D(e)),e===i.user.id&&t(Object(b.s)())]);case 2:case"end":return n.stop()}},n)}))).catch(function(e){return console.error(e),{error:e}})}},A=function(){var e=Object(s.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Object(l.getFirestore)(),t){e.next=3;break}return e.abrupt("return",[]);case 3:return e.t0=p.a,e.next=6,Promise.all(p()(t).map(function(){var e=Object(s.a)(o.a.mark(function e(t,a){var r,i,c,s,l,u,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.invitedBy){e.next=3;break}return r=decodeURIComponent(a).replace(/\%2E/g,"."),e.abrupt("return",{id:r,access:t.access,firstName:r,email:r,invited:!0});case 3:return e.next=6,n.doc("users/".concat(a)).get();case 6:if((i=e.sent).exists){e.next=9;break}return e.abrupt("return",null);case 9:return c=i.data(),s=c.firstName,l=c.lastName,u=c.email,p=c.photoURL,e.abrupt("return",{id:a,access:t.access,firstName:s,lastName:l,email:u,photoURL:p});case 11:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()).value());case 6:return e.t1=e.sent,a=e.t0.compact.call(e.t0,e.t1),e.abrupt("return",a);case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(e){var t=e.organization;return t.id?t.domain:"https://www.mywebsite.com"},R=function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)();t({type:"INIT_SITEMAP_COVERS",payload:function(){var t=Object(s.a)(o.a.mark(function t(){var n,a,i,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.doc("sitemaps/".concat(e,"/data/covers")).get();case 2:if(!(n=t.sent).exists){t.next=9;break}return a=T({pages:n.data().pages,sitemapId:e}),t.next=7,Object(y.b)(n.data().pages);case 7:return i=t.sent,t.abrupt("return",Object(c.a)({},m.a.sitemap.covers,{pages:a,device:P(e),loaded:!0,collections:i}));case 9:return t.next=11,Object(y.b)();case 11:return s=t.sent,t.abrupt("return",Object(c.a)({},m.a.sitemap.covers,{collections:s,loaded:!0}));case 13:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(Object(s.a)(o.a.mark(function e(){var a,r,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)();case 2:a=e.sent,r=n(),i=r.sitemap,t({type:"IMPORT_SITEMAP_COVERS_COLLECTIONS",covers:Object(c.a)({},i.covers,{collections:a})});case 5:case"end":return e.stop()}},e)}))).catch(function(e){return console.error(e),{error:e}})}},D=function(e){return function(t,n,a){a.getFirebase;var r=(0,a.getFirestore)();t({type:"INIT_SITEMAP_COMMENTS",payload:function(){var t=Object(s.a)(o.a.mark(function t(){var a,i,s;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.doc("sitemaps/".concat(e,"/data/comments")).get();case 2:return a=t.sent,i=n(),t.next=6,I(i,a.exists?a.data().pages:{pages:{}});case 6:return s=t.sent,t.abrupt("return",{comments:Object(c.a)({},m.a.sitemap.comments,a.exists?a.data().pages:{}),members:s});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(function(){n().sitemap.root&&Object(f.k)({noTransition:!0})}).catch(function(e){return console.error(e),{error:e}})}},I=function(){var e=Object(s.a)(o.a.mark(function e(t,n){var a,i,l,u,m,f,g,h,v,b,y,E,O,w,x;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.user,i=t.sitemap,l=t.teams,u=t.users,m=i.team,g=[],a.token&&a.token.team===m&&(h=l.byId[m],f=p.a.isEmpty(h.members)||!h.members?Object.keys(u.byId):h.members,g=p.a.filter(f.map(function(e){return Object(c.a)({id:e},u.byId[e])}),function(e){return!e.invited})),v=p.a.filter(i.collaborators,function(e){return e.id===a.id}),!a.token||a.token.team===m||!v){e.next=32;break}return b=[],e.prev=8,e.next=11,d.store.firestore.collection("organizations").where("teams","array-contains",m).limit(1).get();case 11:e.sent.forEach(function(e){return b=Object.keys(e.data().users)}),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),console.error(e.t0);case 18:return y=[],e.prev=19,e.next=22,d.store.firestore.collection("teams").where("sitemaps.active","array-contains",i.id).limit(1).get();case 22:e.sent.forEach(function(e){return y=e.data().members?e.data().members:[]}),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(19),console.error(e.t1);case 29:return e.next=31,Promise.all((p.a.isEmpty(y)?b:y).map(function(){var e=Object(s.a)(o.a.mark(function e(t){var n,a,r,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d.store.firestore.doc("users/".concat(t)).get();case 4:if(!(n=e.sent).exists){e.next=8;break}return a=n.data(),r=a.firstName,i=a.lastName,c=a.photoURL,e.abrupt("return",{id:t,firstName:r,lastName:i,photoURL:c});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 31:g=e.sent;case 32:return E=p.a.filter(i.collaborators,function(e){return!e.invited}),O=p.a.union(p.a.uniq([].concat(Object(r.a)(g),Object(r.a)(E)))),w=p.a.spread(p.a.union)(p.a.uniq(p.a.flatten(p.a.values(n).map(function(e){return p.a.values(e).map(function(e){for(var t,n=[e.user],a=/(?:^|\W)@(\w+)(?!\w)/g;t=a.exec(e.comment);)t[1].match(/\b[a-zA-Z0-9]{28}\b/gi)&&n.push(t[1]);return n})})))),e.next=38,Promise.all(w.map(function(){var e=Object(s.a)(o.a.mark(function e(n){var a,r,i,c,s,l;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n!==t.user.id){e.next=2;break}return e.abrupt("return",{id:n,firstName:t.user.firstName,lastName:t.user.lastName,photoURL:t.user.photoURL});case 2:if(!t.users.byId[n]){e.next=4;break}return e.abrupt("return",{id:n,firstName:t.users.byId[n].firstName,lastName:t.users.byId[n].lastName,photoURL:t.users.byId[n].photoURL});case 4:if(!(a=p.a.find(O,function(e){return e.id===n}))){e.next=7;break}return e.abrupt("return",a);case 7:return e.next=9,d.store.firestore.doc("users/".concat(n)).get();case 9:if(!(r=e.sent).exists){e.next=13;break}return i=r.data(),c=i.firstName,s=i.lastName,l=i.photoURL,e.abrupt("return",{id:n,firstName:c,lastName:s,photoURL:l});case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 38:return x=e.sent,e.abrupt("return",p.a.union(p.a.uniqBy([].concat(Object(r.a)(O),Object(r.a)(x)),"id")));case 40:case"end":return e.stop()}},e,null,[[8,15],[19,26]])}));return function(t,n){return e.apply(this,arguments)}}(),T=function(e){var t=e.pages,n=e.sitemapId,a=Object(h.getFirebase)().app().options.storageBucket;return p.a.isEmpty(t)||(t=JSON.parse(JSON.stringify(t)),Object.keys(t).map(function(e){var r=t[e].devices;if(r){["desktop","mobile","tablet"].forEach(function(i){var o=r[i];if(o){if(!o.token)return;if("capturing"===o.token)return t[e].devices[i]=Object(c.a)({},o,{startedAt:o.startedAt&&o.hasOwnProperty("toDate")?o.startedAt.toDate():new Date});t[e].devices[i]=Object(c.a)({},o,{thumbDownloadURL:"https://firebasestorage.googleapis.com/v0/b/".concat(a,"/o/").concat(encodeURIComponent("sitemaps/".concat(n,"/covers/").concat(e,"/").concat(i,"/thumb.jpg")),"?alt=media&token=").concat(o.token).concat(o.generation?"&generation=".concat(o.generation):""),downloadURL:"https://firebasestorage.googleapis.com/v0/b/".concat(a,"/o/").concat(encodeURIComponent("sitemaps/".concat(n,"/covers/").concat(e,"/").concat(i,"/cover.jpg")),"?alt=media&token=").concat(o.token)})}})}return e})),p.a.isEmpty(t)&&(t=m.a.sitemap.covers.pages),t};function P(e){var t=localStorage.getItem("".concat(e,"#device"));return t||(localStorage.setItem("".concat(e,"#device"),"desktop"),"desktop")}var N=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;var r=n().sitemap;localStorage.setItem("".concat(r.id,"#device"),e),t({type:"SWITCH_COVERS_DEVICE",device:e}),Object(f.k)({noTransition:!0,noSimulation:!0})}};function L(e,t){var n=p.a.compact(e.sitemaps.active.data);if(!n)return"Loading Sitemap...";var a=p.a.filter(n,function(e){return e.key===t});return a.length<1?"Loading Sitemap...":a[0].name}function F(e){var t=localStorage.getItem("".concat(e,"#format"));return t||(localStorage.setItem("".concat(e,"#format"),"tree-vertical"),"tree-vertical")}function z(e){var t=localStorage.getItem("".concat(e,"#showCovers"));return t?"true"===t:(localStorage.setItem("".concat(e,"#showCovers"),!0),!0)}var M=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SET_FORMAT",format:e})}},B=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SET_ROOT",root:e}),Object(g.i)(),Object(f.k)({noTransition:!0})}},U=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"INIT_SECTION",section:e}),Object(g.i)(),Object(f.k)({noTransition:!0})}},W=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SET_SECTION",section:e}),x.a.getInstance().logEvent("SET_SITEMAP_SECTION"),Object(f.k)({noTransition:!0})}},_=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"UNSET_SECTION",section:e})}},V=function(e){var t=e.nodes,n=e.links;return function(e,a,r){r.getFirebase,r.getFirestore;e({type:"SET_NODES_AND_LINKS",nodes:t,links:n})}},G=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;x.a.getInstance().logEvent("LEFT_SITEMAP",{id:e}),Object(g.i)(),t({type:"LEFT_SITEMAP"})}},H=function(){return function(){var e=Object(s.a)(o.a.mark(function e(t,n,a){var r,i,l,u,d,m,f;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.getFirebase,r=a.getFirestore,i=r(),l=n(),u=l.user,d=l.sitemap,!(m=d.changes.pages).saving&&!p.a.isEmpty(m.data)){e.next=6;break}return e.abrupt("return",!1);case 6:f=p.a.map(m.data,"id"),t({type:"SAVE_PAGE_CHANGES",payload:function(){var e=Object(s.a)(o.a.mark(function e(){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.a.spread(p.a.union)(p.a.map(m.data,"data")),a={},n.forEach(function(e){var t=p.a.omitBy(p.a.omit(e,["action","id","cover","comments"]),p.a.isUndefined);a[e.id]?"remove"===e.action?a[e.id]=i.FieldValue.delete():a[e.id]=Object(c.a)({},a[e.id],t):"remove"===e.action?a[e.id]=i.FieldValue.delete():a[e.id]=t}),!p.a.isEmpty(a)){e.next=5;break}return e.abrupt("return",t(Pe(f)));case 5:return e.next=7,i.doc("sitemaps/".concat(d.id,"/data/pages")).set({pages:a,lastEdit:u.id},{merge:!0});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).then(function(){t(Pe(f))}).catch(function(e){return{error:e}});case 8:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},Y=function(){return function(){var e=Object(s.a)(o.a.mark(function e(t,n,a){var r,i,c,l,u,d,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.getFirebase,r=a.getFirestore,i=r(),c=n(),l=c.user,u=c.sitemap,!(d=u.changes.covers).saving&&!p.a.isEmpty(d.data)){e.next=6;break}return e.abrupt("return",!1);case 6:m=p.a.map(d.data,"id"),t({type:"SAVE_COVERS_CHANGES",payload:function(){var e=Object(s.a)(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.a.merge.apply(null,[{}].concat(p.a.spread(p.a.union)(p.a.map(d.data,"data")))),!p.a.isEmpty(n)){e.next=3;break}return e.abrupt("return",t(Ne(m)));case 3:return e.next=5,i.doc("sitemaps/".concat(u.id,"/data/covers")).set({pages:n,lastEdit:l.id},{merge:!0});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).then(function(){t(Ne(m))}).catch(function(e){return{error:e}});case 8:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},X=function(){return function(){var e=Object(s.a)(o.a.mark(function e(t,n,a){var r,i,c,l,u,d,m;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.getFirebase,r=a.getFirestore,i=r(),c=n(),l=c.user,u=c.sitemap,!(d=u.changes.comments).saving&&!p.a.isEmpty(d.data)){e.next=6;break}return e.abrupt("return",!1);case 6:m=p.a.map(d.data,"id"),t({type:"SAVE_COMMENTS_CHANGES",payload:function(){var e=Object(s.a)(o.a.mark(function e(){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.a.merge.apply(null,[{}].concat(p.a.spread(p.a.union)(p.a.map(d.data,"data")))),!p.a.isEmpty(n)){e.next=3;break}return e.abrupt("return",t(Le(m)));case 3:return e.next=5,i.doc("sitemaps/".concat(u.id,"/data/comments")).set({pages:n,lastEdit:l.id},{merge:!0});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).then(function(){t(Le(m))}).catch(function(e){return{error:e}});case 8:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},Z=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;var a=t(),r=p.a.cloneDeep(a.sitemap.history.undo),i=p.a.cloneDeep(a.sitemap.history.redo),o=r.pop();i.push(o),e({type:"UNDO_USER_CHANGE",undo:r,redo:i})}},K=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;var a=t(),r=p.a.cloneDeep(a.sitemap.history.undo),i=p.a.cloneDeep(a.sitemap.history.redo),o=i.pop();r.push(o),e({type:"REDO_USER_CHANGE",undo:r,redo:i})}},Q=function(){return function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"SHOW_COVERS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},q=function(){return function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"HIDE_COVERS"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},J=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"TOGGLE_PAGE_DRAWER",showing:!n().sitemap.ui.PageDrawer.showing,page:e,url:ae(e)})}},$=function(){var e=Object(s.a)(o.a.mark(function e(t){var n,r,i,c,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.firestore,r=t.sitemapId,i=t.page,c=t.device,s=t.user,e.next=3,n.doc("sitemaps/".concat(r,"/data/covers")).set({pages:Object(a.a)({},i,{devices:Object(a.a)({},c,n.FieldValue.delete())}),lastEdit:s.id},{merge:!0});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ee=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n,r,i){var c,l,u,p,d,m,f,g,h,v,b,y,E,O;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c=i.getFirebase,l=i.getFirestore,u=c(),p=l(),d=r(),m=d.sitemap,f=d.user,g=e.page,h=e.device,v=e.url,b=e.fullpage,y=e.lazyload,E=e.waitForFiveSeconds,O=e.hidden,n({type:"CAPTURE_COVER_FROM_WEBSITE",payload:function(){var t=Object(s.a)(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.doc("sitemaps/".concat(m.id,"/data/covers")).set({lastEdit:r().user.id,pages:Object(a.a)({},e.page,{devices:Object(a.a)({},e.device,{token:"capturing",startedAt:new Date})})},{merge:!0});case 2:return t.next=4,u.functions().httpsCallable("sitemaps-covers-getCoverFromWebsite")({sitemap:m.id,page:g,url:v,device:h,fullpage:b,lazyload:y,waitForFiveSeconds:E,hidden:O});case 4:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$({firestore:p,sitemapId:m.id,page:g,device:h,user:f});case 2:return e.abrupt("return",{error:t});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},te=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n,a,r){var i,c,l,u,p,d,m;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.getFirebase,i=r.getFirestore,c=i(),l=a(),u=l.sitemap,p=l.user,d=e.page,m=e.device,n({type:"CANCEL_CAPTURE_COVER_FROM_WEBSITE",payload:function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$({firestore:c,sitemapId:u.id,page:d,device:m,user:p});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()});case 5:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(s.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"HIDE_SELECT_COVER_MODAL"});case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},ae=function(e){if(e){if(e.url)return e.url;if(e.ancestors){var t=d.store.getState().sitemap.domain;return e.ancestors().reverse().forEach(function(e){if("home"!==e.id){if(e.url)return e.url;t=(t+=e.name?"/".concat(e.name.replace(/\s/g,"-").toLowerCase()):"").replace("/?","?")}}),t}}},re=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n,a,r){var i,c,s,l,u,m;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.getFirebase,r.getFirestore,i=a(),c=i.sitemap,s=p()(e.pages).map(function(e,t){return e.id=t,e}).value(),t.next=5,Object(f.c)(s);case 5:if(l=t.sent,d.store.dispatch(B(l)),!(u=c.section)){t.next=13;break}return t.next=11,Object(f.c)(Object(f.h)(Object(f.g)(l,u.id)));case 11:m=t.sent,d.store.dispatch(W(m));case 13:Object(f.k)({noTransition:!0}),n({type:"MERGE_PAGES_EDITS",pages:e.pages});case 15:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},ie=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;var r=n().sitemap;t({type:"MERGE_COVERS_EDITS",pages:T({pages:e.pages,sitemapId:r.id})}),Object(f.k)({noTransition:!0})}},oe=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n,a,r){var i,c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.getFirebase,r.getFirestore,i=a(),t.next=4,I(i,e.pages);case 4:c=t.sent,n({type:"MERGE_COMMENTS_EDITS",pages:e.pages,members:c}),Object(f.k)({noTransition:!0});case 7:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},ce=function(e){var t=e.page,n=e.node,a=e.offset;return function(e,r,i){i.getFirebase,i.getFirestore;e({type:"SHOW_ADD_PAGE_COMMENT_POPOVER",page:t,node:n,offset:a})}},se=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_ADD_PAGE_COMMENT_POPOVER"})}},le=function(e){var t=e.page,n=e.node,a=e.offset;return function(e,r,i){i.getFirebase,i.getFirestore;e({type:"SHOW_PAGE_COMMENTS_POPOVER",page:t,node:n,offset:a})}},ue=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_PAGE_COMMENTS_POPOVER"})}},pe=function(e){var t=e.page,n=e.node,a=e.offset;return function(e,r,i){i.getFirebase,i.getFirestore;e({type:"SHOW_EDIT_PAGE_URL_POPOVER",page:t,node:n,offset:a})}},de=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_EDIT_PAGE_URL_POPOVER"})}},me={home:{name:"Home",parent:null},gukpmzfaab:{name:"New Page",parent:"home",index:0},gukpmzfbab:{name:"New Page",parent:"home",index:1},gukpmzfcab:{name:"New Page",parent:"home",index:2}},fe=function(){return function(e,t,n){n.getFirebase,n.getFirestore;x.a.getInstance().logEvent("OPENED_SHARE_SITEMAP_MODAL"),e({type:"SHOW_SHARE_SITEMAP_MODAL"})}},ge=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_SHARE_SITEMAP_MODAL"})}},he=function(e,t){return function(n,a,r){r.getFirebase,r.getFirestore;x.a.getInstance().logEvent("OPENED_SITEMAP_OVERFLOW_MODAL"),n({type:"SHOW_OVERFLOW_MODAL",parent:e,pages:t})}},ve=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_OVERFLOW_MODAL"})}},be=function(e,t){return function(n,a,r){r.getFirebase,r.getFirestore;n({type:"SHOW_FULLSCREEN_COVER_DRAWER",page:e,preview:t}),x.a.getInstance().logEvent("OPENED_SITEMAP_FULLSCREEN_COVER_DRAWER")}},ye=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_FULLSCREEN_COVER_DRAWER"})}},Ee=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"TOGGLE_CHAT_DRAWER",showing:e})}},Oe=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"TOGGLE_COMMENTS_POPOVER",showing:e})}},we=function(e,t){var n=t.node,a=t.offset,r=t.trigger;return function(t,i,o){o.getFirebase,o.getFirestore;t({type:"TOGGLE_CONTEXTMENU_DROPDOWN",showing:e,node:n,trigger:r,offset:a})}},xe=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"CHANGE_COMMENTS_POPOVER_VIEW",view:e})}},je=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SHOW_EXPORT_PDF_DRAWER",transform:e})}},Se=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_EXPORT_PDF_DRAWER"})}},Ce=function(e){var t=e.sitemap,n=e.collaborator;return function(e,r,i){i.getFirebase;var c=i.getFirestore,l=r(),u=c(),d=l.user,m=l.teams,f=t.team;e({type:"ADD_SITEMAP_COLLABORATOR",payload:function(){var e=Object(s.a)(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.email!==d.email){e.next=2;break}throw new Error("You can't add yourself as a collaborator");case 2:if(ze({team:f,teams:m,uid:d.id})){e.next=4;break}throw new Error("You are not permitted to add a collaborator to this sitemap");case 4:if(!p.a.includes(p.a.map(l.users.byId,"email"),n.email)){e.next=6;break}throw new Error("A member of your organization can't be added as a collaborator");case 6:if(p.a.isEmpty(p.a.filter(t.collaborators,function(e){return e.email===n.email}))){e.next=8;break}throw new Error("This person is already collaborating on this sitemap");case 8:if(Object(v.d)(n.email)){e.next=10;break}throw new Error("That email address is not valid. Please try again");case 10:return r=encodeURIComponent(n.email).replace(/\./g,"%2E"),e.next=13,u.doc("sitemaps/".concat(t.id)).set({collaborators:Object(a.a)({},r,{invitedBy:d.id,access:n.access})},{merge:!0});case 13:x.a.getInstance().logEvent("INVITED_COLLABORATOR",{id:t.id});case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){return e})}},Ae=function(e){var t=e.collaborator,n=e.access,r=e.sitemap;return function(e,i,c){c.getFirebase;var l=c.getFirestore,u=i(),p=l(),d=u.user,m=u.teams,f=r.team;e({type:"CHANGE_SITEMAP_COLLABORATOR_ACCESS",payload:function(){var e=Object(s.a)(o.a.mark(function e(){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ze({team:f,teams:m,uid:d.id})||d.id===t.id){e.next=2;break}throw new Error("You are not permitted to remove a collaborator from this sitemap");case 2:return e.next=4,p.doc("sitemaps/".concat(r.id)).set({collaborators:Object(a.a)({},t,{access:n})},{merge:!0});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){return console.error(e),e})}},ke=function(e){var t=e.collaborator,n=e.sitemap;return function(e,r,i){i.getFirebase;var c=i.getFirestore,l=r(),u=c(),p=l.user,d=l.teams,m=n.team;e({type:"REMOVE_SITEMAP_COLLABORATOR",payload:function(){var e=Object(s.a)(o.a.mark(function e(){var r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(ze({team:m,teams:d,uid:p.id})||p.id===t.id){e.next=2;break}throw new Error("You are not permitted to remove a collaborator from this sitemap");case 2:return r=encodeURIComponent(t.id).replace(/\./g,"%2E"),e.next=5,u.doc("sitemaps/".concat(n.id)).set({collaborators:Object(a.a)({},r,u.FieldValue.delete())},{merge:!0});case 5:x.a.getInstance().logEvent("REMOVED_COLLABORATOR",{id:n.id});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){return e})}},Re=function(){return function(e,t,n){n.getFirestore,n.getFirebase;e({type:"CLEAR_ADD_COLLABORATOR_ERROR"})}},De=function(e){var t=e.change,n=e.history,a=e.PageDrawer;return function(){var e=Object(s.a)(o.a.mark(function e(r,i,c){var s,l,u,d,m,g,h,v;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c.getFirebase,c.getFirestore,s=i(),r({type:"ADD_PAGE_CHANGE",change:t,history:n,PageDrawer:a}),l=s.sitemap,u=l.root,!(d=l.section)){e.next=17;break}return m=Object(f.h)(d),g=Object(f.h)(u),m[d.id].parent=g[d.id].parent,h=p.a.assign(g,m),v=p()(h).map(function(e,t){return e.id=t,e}).value(),e.t0=r,e.t1=B,e.next=14,Object(f.c)(v);case 14:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3);case 17:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},Ie=function(e){var t=e.change,n=e.covers;return function(){var e=Object(s.a)(o.a.mark(function e(a,r,i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.getFirebase,i.getFirestore,a({type:"ADD_COVERS_CHANGE",change:t,covers:n}),Object(f.k)({noTransition:!0,noSimulation:!0});case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},Te=function(e){var t=e.change,n=e.comment;return function(){var e=Object(s.a)(o.a.mark(function e(a,r,i){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i.getFirebase,i.getFirestore,a({type:"ADD_COMMENTS_CHANGE",change:t,comment:n}),Object(f.k)({noTransition:!0,noSimulation:!0});case 3:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},Pe=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_SAVED_PAGE_CHANGES",savedChanges:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Ne=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_SAVED_COVERS_CHANGES",savedChanges:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Le=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_SAVED_COMMENTS_CHANGES",savedChanges:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Fe=function(e){var t=e.changedName,n=e.changedDomain,a=e.changedDescription,r=e.changedCollaborators,i=e.changedFlows;return function(e,o,s){s.getFirebase,s.getFirestore;var l=Object(c.a)({},o().sitemap);t&&(l.name=t),n&&(l.domain=n),r&&(l.collaborators=r),a&&(l.description=a),p.a.isUndefined(i)||(l.flows=i),e({type:"MERGE_SITEMAP_DOC_EDITS",sitemap:l})}},ze=function(e){var t=e.teams,n=e.team,a=e.uid;return!!t.byId[n]&&(!t.byId[n].members||!!p.a.includes(t.byId[n].members,a))},Me=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"TOGGLE_DELETE_COVERS_CONFIRM",showing:e})}},Be=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;var r=Object(c.a)({},n().sitemap);e&&x.a.getInstance().logEvent("HIT_FREE_SITEMAP_PAGE_LIMIT",{id:r.id}),t({type:"TOGGLE_SITEMAP_PAGE_LIMIT_MESSAGING",showing:e})}},Ue=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SWITCH_PRODUCTS_TAB",tab:e})}},We=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"CHANGE_SITEMAP_NAME",name:e})}},_e=function(e){return e&&e.pallette?e.pallette?Object(c.a)({},m.a.sitemap.pallette,e.pallette,{colors:He(e.pallette)}):void 0:m.a.sitemap.pallette},Ve=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n,a,r){var i,c,s,l,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r.getFirebase,i=r.getFirestore,c=a(),s=c.sitemap,!e){t.next=6;break}n({type:"TOGGLE_PALLETTE_DROPDOWN",showing:e,originalHeader:s.pallette.header}),t.next=15;break;case 6:if(n({type:"TOGGLE_PALLETTE_DROPDOWN",showing:e}),l=s.ui.PalletteDropdown.originalHeader,"full"===s.editLevel||"edit"===s.editLevel){t.next=10;break}return t.abrupt("return");case 10:if(s.pallette.header===l){t.next=15;break}return u=i(),x.a.getInstance().logEvent("CHANGED_SITEMAP_PALLETTE",{id:s.id,pallette:s.pallette.header}),t.next=15,u.doc("sitemaps/".concat(s.id)).set({pallette:{header:s.pallette.header}},{merge:!0});case 15:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},Ge=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n,a){var r,i;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=a(),i=r.sitemap,e=Object(c.a)({},i.pallette,e,{colors:He(e)}),n({type:"CHANGE_PALLETTE",pallette:e}),Object(j.d)();case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},He=function(e){var t=new O.a(e.header).all(5).map(function(e){return e.hex.toUpperCase()});return["#".concat(t[2]),"#".concat(t[5]),"#".concat(t[8]),"#".concat(t[12]),"#".concat(t[14]),"#".concat(t[17]),"#".concat(t[20]),"#".concat(t[23])]},Ye=function(e){return function(){var t=Object(s.a)(o.a.mark(function t(n,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"TOGGLE_SITEMAP_NOTIFICATIONS_DROPDOWN",showing:e});case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}},function(e,t,n){"use strict";n.d(t,"e",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"f",function(){return g}),n.d(t,"g",function(){return h}),n.d(t,"d",function(){return v});var a=n(14),r=n(11),i=n(20),o=n(58),c=n(173),s=n(69),l=n(28),u=r.zoomIdentity,p=r.zoom().scaleExtent([.1,1.25]).on("zoom",function(){r.event.sourceEvent&&r.event.sourceEvent.preventDefault();u=r.event.transform;var e=r.select("#rename-page");e.empty()||e.classed("hidden")||Object(c.b)();Object(s.d)()}).on("end",function(){setTimeout(function(){var e=a.store.getState().sitemap.ui,t=e.PageCommentsPopover,n=e.AddPageCommentPopover;t.showing&&Object(o.m)(t.node),n.showing&&Object(o.l)(n.node)},50)});var d=function(){var e,t,n=a.store.getState().sitemap,i=n.showCovers?.6:.85;switch(n.format){case"tree":e=window.innerWidth/(n.showCovers,10),t=window.innerHeight/(n.showCovers?2.5:2.66);break;case"tree-vertical":case"tree-vertical-matrix":e=window.innerWidth/(n.showCovers?2.15:2.25),t=window.innerHeight/(n.showCovers?4.5:7.5);break;case"indent":e=window.innerWidth/(n.showCovers?2.4:2.8),t=window.innerHeight/(n.showCovers?5:8);break;case"nodes":e=window.innerWidth/2.1,t=window.innerHeight/2.75,i=1.2}r.select(r.select("#interactions-canvas").node()).call(p.transform,r.zoomIdentity.translate(e,t).scale(i))},m=function(e){var t,n,i=a.store.getState().sitemap;switch(i.format){case"tree":t=-e.y0+window.innerWidth/2.4,n=-e.x0+window.innerHeight/(i.showCovers?2.55:2.9);break;case"tree-vertical":case"tree-vertical-matrix":t=-e.x0+window.innerWidth/(i.showCovers?2.45:2.4),n=-e.y0+window.innerHeight/(i.showCovers?2.6:3);break;case"indent":t=-e.y0+window.innerWidth/2.5,n=-e.x0+window.innerHeight/2.9;break;case"nodes":t=window.innerWidth/2,n=window.innerHeight/2.66}e.searched&&delete e.searched,r.select(r.select("#interactions-canvas").node()).call(p.transform,r.zoomIdentity.translate(t,n).scale(1))},f=function(e){var t,n,c=a.store.getState().sitemap;switch(c.ui.PageCommentsPopover.showing&&a.store.dispatch(Object(i.u)()),c.format){case"tree":t=70-e.y0,n=-e.x0+(c.showCovers?200:100);break;case"tree-vertical":case"tree-vertical-matrix":t=70-e.x0,n=-e.y0+(c.showCovers?200:100);break;case"indent":t=70-e.y0,n=-e.x0+(c.showCovers?200:100);break;case"nodes":t=window.innerWidth/2,n=window.innerHeight/2.66}e.goToComments&&delete e.goToComments,r.select(r.select("#interactions-canvas").node()).call(p.transform,r.zoomIdentity.translate(t,n).scale(1)),setTimeout(function(){return Object(o.m)(e)},250)},g=function(){r.select(r.select("#interactions-canvas").node()).call(p.transform,r.zoomIdentity.translate(u.x,u.y).scale(1.2*u.k))},h=function(){r.select(r.select("#interactions-canvas").node()).call(p.transform,r.zoomIdentity.translate(u.x,u.y).scale(.8*u.k))},v=function(){var e=a.store.getState().sitemap;"full"===e.editLevel||"edit"===e.editLevel?r.select(r.select("#interactions-canvas").node()).call(Object(l.c)().on("start.render drag.render end.render",function(){})).call(p).on("dblclick.zoom",null):r.select(r.select("#interactions-canvas").node()).call(p).on("dblclick.zoom",null)}},,,,,,,function(e,t,n){"use strict";var a,r,i=n(4),o=n.n(i),c=n(15),s=n(11),l=n(14),u=n(69),p=n(21),d=n(54),m=n(33),f=n(37),g=n(85),h=n(5),v=n.n(h),b=function(e,t){e&&function n(a){a.id!==e.id&&(a.hideWhileDragging=t);a.children&&a.children.forEach(n);a._children&&a._children.forEach(n)}(e)},y=function(e,t){if(e){var n=Object(m.j)([{parent:null}]);return delete n.data,n.x=e.x,n.y=e.y,n.nodeId=e.id,n.id="dragging-placeholder",n.index=e.index,n.depth=e.depth,n.parent=e.parent,n.children=e.children,n._children=e._children,t&&(n.side=t),n}},E=v.a.throttle(function(e,t,n){var a=l.store.getState().sitemap;if(e.id!==t.id&&(t.id!==e.parent.id||e.index!==n))return e=a.data.nodes.find(function(t){return t.id===e.id}),t=a.data.nodes.find(function(e){return e.id===t.id}),e.parent.children=v.a.without(e.parent.children,e),v.a.isEmpty(e.parent.children)&&(e.parent.children=null),t.children?t.children.splice(n,0,e):(t.children=[],t.children.push(e)),e.depth=t.depth+1,e.parent=t,e.parent.children.forEach(function(e,t){e.index=t}),t.children.forEach(function(e,t){e.index=t}),function e(n){if(n.id===t.id)return;n.x0=t.x;n.y0=t.y;var a=n.children?n.children:n._children;var r=a?a.length:0;for(var i=0;i<r;i++)a[i].depth=a[i].parent.depth+1,e(a[i])}(e),e},250),O=function(e,t){var n=t.left,a=t.right,r=window.devicePixelRatio||1,i=e.sourceEvent.offsetX*r,o=e.sourceEvent.offsetY*r;n&&(i-=.25*d.b*p.e.k),a&&(i+=.25*d.b*p.e.k);var c=u.c.getImageData(i,o,1,1).data;return"rgb("+c[0]+", "+c[1]+", "+c[2]+")"},w=n(115),x=n(2),j=n(354),S=function(e,t){var n=t.node,a=t.side,r=y(n,a);r.index=n.index;var i=e.filter(function(e){if(e.parent&&e.parent.id===n.parent.id)return e});if("left"===a){var o=r.index-1;r.index=o,i.push(r)}return"right"===a&&i.push(r),(i=v.a.sortBy(i,["index"])).forEach(function(e,t){e.index=t}),e.push(r),e.forEach(function(e){var t=v.a.find(i,function(t){return t.id===e.id});t&&(e.index=t.index)}),e=v.a.sortBy(e,["depth","index"])},C=function(e,t){var n=t.node,a=t.side,r=y(n,a);r.index=n.index;var i=e.filter(function(e){if(e.parent&&e.parent.id===n.parent.id)return e});if("left"===a){var o=r.index-1;r.index=o,i.push(r)}return"right"===a&&i.push(r),"below"===a&&(1===n.depth&&!n.children||n.children?(r.parent=e.find(function(e){return e.id===n.id}),r.index=0):i.push(r)),(i=v.a.sortBy(i,["index"])).forEach(function(e,t){e.index=t}),e.push(r),e.forEach(function(e){var t=v.a.find(i,function(t){return t.id===e.id});t&&(e.index=t.index)}),e=v.a.sortBy(e,["depth","index"])},A=function(e,t){var n=t.node,a=t.side,r=y(n,a);r.index=n.index;var i=e.filter(function(e){if(e.parent&&n.parent&&e.parent.id===n.parent.id)return e});return"below"===a&&(n.children?(r.parent=e.find(function(e){return e.id===n.id}),r.index=0):i.push(r)),(i=v.a.sortBy(i,["index"])).forEach(function(e,t){e.index=t}),e.push(r),e.forEach(function(e){var t=v.a.find(i,function(t){return t.id===e.id});t&&(e.index=t.index)}),e=v.a.sortBy(e,["depth","index"])},k=function(e,t){var n=t.node,a=t.side,r=y(n,a);r.index=n.index;var i=e.filter(function(e){if(e.parent&&e.parent.id===n.parent.id)return e});if("above"===a){var o=r.index-1;r.index=o,i.push(r)}return"below"===a&&i.push(r),(i=v.a.sortBy(i,["index"])).forEach(function(e,t){e.index=t}),e.push(r),e.forEach(function(e){var t=v.a.find(i,function(t){return t.id===e.id});t&&(e.index=t.index)}),e=v.a.sortBy(e,["depth","index"])},R=function(){var e=Object(c.a)(o.a.mark(function e(t){var n,r,i,c,p,f,g,h,v;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=l.store.getState(),r=n.sitemap,i=t.map(function(e){return Object(x.a)({},e,{parent:e.parent?e.parent.id:null})}).filter(function(e){return e.id!==a.id&&!e.hideWhileDragging}),e.next=4,Object(m.c)(i);case 4:return c=e.sent,Object(m.i)(c),p=s.tree().nodeSize([0,d.a]),f=p(c).sort(function(e,t){return s.ascending(e.index,t.index)}),g=f.descendants().slice(1),h=[],f.eachBefore(function(e){return h.push(e)}),"indent"===r.format&&h.forEach(function(e,t){e.x=t*((r.showCovers?280:d.a)+d.d)}),r.format.includes("tree")&&Object(j.b)(h,c),v=t.map(function(e){var t=h.find(function(t){return t.id===e.id});return t&&(e.x=t.x,e.y=t.y),e}),Object(u.d)(v,g),e.abrupt("return",v);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),D=n(219),I=n(34),T=n.n(I),P=n(20);n.d(t,"d",function(){return a}),n.d(t,"b",function(){return L}),n.d(t,"a",function(){return F}),n.d(t,"c",function(){return B});var N,L={},F={},z=null,M=[],B=function(){var e;var t=function(e){var t=l.store.getState().sitemap;return"tree"===t.format||"indent"===t.format?p.e.invertY(e.y):t.format.startsWith("tree-vertical")?p.e.invertX(e.x):void 0},n=function(e){var t=l.store.getState().sitemap;return"tree"===t.format||"indent"===t.format?p.e.invertX(e.x):t.format.startsWith("tree-vertical")?p.e.invertY(e.y):void 0};return s.drag().subject(function(){var t=l.store.getState().sitemap;if(e=t.data.nodes,"nodes"===t.format)return Object(w.f)(s.event);if(f.a.node&&f.a.node.parent&&!f.a.node.overflow){a={dragging:!0,id:f.a.node.id,x:f.a.node.x,y:f.a.node.y,dx:f.a.node.x,dy:f.a.node.y,parent:f.a.node.parent,name:f.a.node.name,_children:!(!f.a.node.children&&!f.a.node._children)||null},r=f.a.node;var n=p.e.invertX(s.event.x)-d.b/2,i=p.e.invertY(s.event.y)-(t.showCovers?20:58)/2;return a.x=p.e.applyX(n),a.y=p.e.applyY(i),a}}).on("start",function(){if("nodes"===l.store.getState().sitemap.format)return Object(w.e)(s.event);s.event.subject.active=!0}).on("drag",function(){var i=l.store.getState().sitemap;if("nodes"===i.format)return Object(w.c)(s.event);N||(r.children&&b(r,!0),a.placeholder=y(r),N=!0,r.parent.children.forEach(function(e,t){M.push({id:e.id,index:t,parent:e.parent.id})}),e.push(a.placeholder),Object(u.d)(e)),s.event.subject.x=t(s.event),s.event.subject.y=n(s.event),W(s.event,i.data.nodes,{}),W(s.event,i.data.nodes,{left:!0}),W(s.event,i.data.nodes,{right:!0}),Object(g.c)()}).on("end",function(){if("nodes"===l.store.getState().sitemap.format)return Object(w.b)(s.event);if(s.event.sourceEvent.preventDefault(),s.event.sourceEvent.stopImmediatePropagation(),s.event.subject.active=!1,document.getElementById("interactions-canvas").style.cursor="default",L={},F={},!N)return U();var e,t=a.over,n=a.placeholder;b(r,!1),(t||n)&&(t?(e=E(r,t,0),T.a.getInstance().logEvent("SITEMAP_MOVED_PAGE_UNDER_NEW_PARENT")):n&&(e=E(r,n.parent,n.index),T.a.getInstance().logEvent("SITEMAP_REORDERED_PAGE"))),U(e)})},U=function(e){if(N&&(f.a.node=null,f.a.options={}),a=null,r=null,N=!1,e){var t=[];e.parent.children.forEach(function(n,a){t.push({action:"reorder",id:n.id,index:a,parent:e.parent.id})});var n={id:(new Date).getTime(),data:t},i={action:"reorder",data:t,prevData:M};setTimeout(function(){l.store.dispatch(Object(P.c)({change:n,history:i}))},500)}Object(m.k)(),M=[]},W=function(){var e=Object(c.a)(o.a.mark(function e(t,n,r){var i,c,s,l,p;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=O(t,r),document.getElementById("interactions-canvas").style.cursor="grabbing","rgb(0, 0, 0)"!==i||"rgb(0, 0, 0)"!==z){e.next=4;break}return e.abrupt("return");case 4:if(i===z){e.next=25;break}if("rgb(0, 0, 0)"!==i||"rgb(0, 0, 0)"===z){e.next=9;break}return a.over=null,Object(u.d)(),e.abrupt("return",z=i);case 9:if(!(c=D.b[i])){e.next=15;break}return c.overflow||(a.over=c,Object(u.d)()),e.abrupt("return",z=i);case 15:if(!(s=L[i])){e.next=25;break}if(a.over=null,z=i,l=s.node,p=s.side,l.id!==a.placeholder.nodeId){e.next=23;break}if(l.side!==a.placeholder.side){e.next=23;break}return e.abrupt("return");case 23:_({node:l,side:p},n);case 25:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),_=function(){var e=Object(c.a)(o.a.mark(function e(t,n){var r,i,c,s,u,p,d;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.node,i=t.side,c=l.store.getState(),s=c.sitemap,u=n.filter(function(e){return"dragging-placeholder"!==e.id&&e.id!==a.id}),p=function(e){switch(s.format){case"tree":return k(u,{node:r,side:i});case"tree-vertical":return S(u,{node:r,side:i});case"tree-vertical-matrix":return C(u,{node:r,side:i});case"indent":return A(u,{node:r,side:i});default:return}}(),e.next=6,R(p);case 6:p=e.sent,(d=p.find(function(e){return"dragging-placeholder"===e.id}))&&(a.placeholder=d);case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";var a,r=n(8),i=n(9),o=n(10),c=n(12),s=n(3),l=n(0),u=n.n(l),p=n(11);function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var m,f=function(e){Object(o.a)(n,e);var t=d(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){a=p.select("#covers-canvas").node().getContext("2d",{alpha:!0}),O(p.select("#covers-canvas").node(),a,window.innerWidth,window.innerHeight)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return u.a.createElement("canvas",{id:"covers-canvas",style:{width:"100%",height:"100%",position:"absolute",top:0}})}}]),n}(l.Component);function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var h,v=function(e){Object(o.a)(n,e);var t=g(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){m=p.select("#main-canvas").node().getContext("2d",{alpha:!0}),O(p.select("#main-canvas").node(),m,window.innerWidth,window.innerHeight)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return u.a.createElement("canvas",{id:"main-canvas",style:{width:"100%",height:"100%",position:"absolute",top:0}})}}]),n}(l.Component);function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var y=function(e){Object(o.a)(n,e);var t=b(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){h=p.select("#picker-canvas").node().getContext("2d",{alpha:!1}),O(p.select("#picker-canvas").node(),h,window.innerWidth,window.innerHeight)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return u.a.createElement("canvas",{id:"picker-canvas",style:{width:"100%",height:"100%",position:"absolute",top:0,display:"none"}})}}]),n}(l.Component),E=n(85);n.d(t,"i",function(){return O}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return a}),n.d(t,"c",function(){return v}),n.d(t,"g",function(){return m}),n.d(t,"d",function(){return y}),n.d(t,"h",function(){return h}),n.d(t,"b",function(){return E.a}),n.d(t,"f",function(){return E.b});var O=function(e,t,n,a){if(e){var r=window.devicePixelRatio||1,i=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1,o=r/i;r!==i?(e.width=n*o,e.height=a*o,e.style.width=n+"px",e.style.height=a+"px"):(e.width=n,e.height=a,e.style.width="",e.style.height=""),t.scale(o,o)}}},,,,function(e,t,n){"use strict";n.d(t,"j",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"k",function(){return h}),n.d(t,"a",function(){return v}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return y}),n.d(t,"i",function(){return E}),n.d(t,"l",function(){return O}),n.d(t,"h",function(){return w}),n.d(t,"g",function(){return x}),n.d(t,"b",function(){return j}),n.d(t,"f",function(){return S});var a=n(4),r=n.n(a),i=n(15),o=n(11),c=n(14),s=n(354),l=n(5),u=n.n(l),p=n(54),d=o.stratify().id(function(e){return e.id}).parentId(function(e){return e.parent}),m=function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a,i,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.hierarchy(d(u.a.orderBy(t,["overflow","index"],["desc","asc"])),function(e){return e.children});case 3:return(n=e.sent).x0=0,n.y0=0,e.next=8,n.each(function(e,t){e.data=e.data.data,e.name=e.data.name?e.data.name:"Page",e.index=e.data.index,e.id=e.data.id,e.overflow=e.data.overflow,e.url=e.data.url,delete e.data});case 8:if(n.children)for(a=0,i=n.children.length;a<i;a++)g(n.children[a]);return e.abrupt("return",n);case 12:if(e.prev=12,e.t0=e.catch(0),e.t0.message){e.next=16;break}return e.abrupt("return");case 16:if("multiple roots"!==e.t0.message){e.next=21;break}return t.map(function(e){return e.parent||"home"===e.id||(e.parent="home"),e}),e.next=20,m(t);case 20:return e.abrupt("return",e.sent);case 21:if(!e.t0.message.startsWith("missing")){e.next=26;break}return c=e.t0.message.substring(e.t0.message.lastIndexOf(":")+1).replace(/ /g,""),e.next=25,f(t,c);case 25:return e.abrupt("return",e.sent);case 26:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i.a)(r.a.mark(function e(t,n){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.push({name:"Recovered Page",parent:"home",id:n}),e.next=3,m(t);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),g=function e(t){if(t.parent){var n=c.store.getState().sitemap,a=localStorage.getItem("".concat(n.id,"#").concat(t.id));if(!a){if(t.children){t._children=t.children;for(var r=0,i=t._children.length;r<i;r++)e(t._children[r])}t.children=null}if(a&&t.children)for(var o=0,s=t.children.length;o<s;o++)e(t.children[o])}},h=function(e){var t=c.store.getState().sitemap,n=t.root,a=t.section;if(n){E(n);var r=o.tree().nodeSize([0,p.a])(a||n).sort(function(e,t){return o.ascending(e.index,t.index)}),i=r.descendants().slice(1),l=[];return r.eachBefore(function(e){return l.push(e)}),"indent"===t.format&&l.forEach(function(e,n){e.x=n*((t.showCovers?280:p.a)+p.d)}),Object(s.a)(l,i,e)}},v=function(e,t){if(e.parent){var n=c.store.getState().sitemap;!function e(t){if(t.children){localStorage.removeItem("".concat(n.id,"#").concat(t.id)),t._children=t.children;for(var a=0,r=t._children.length;a<r;a++)localStorage.removeItem("".concat(n.id,"#").concat(t._children[a].id)),e(t._children[a]);t.children=null}}(e),t||h()}},b=function(e){if(e.parent){var t=c.store.getState().sitemap;localStorage.setItem("".concat(t.id,"#").concat(e.id),!0),e.children=e._children,e._children=null,h()}},y=function(e,t){for(var n=c.store.getState().sitemap,a=0;a<e.length;a++)if("home"!==e[a].id&&(e[a]._children&&(localStorage.setItem("".concat(n.id,"#").concat(e[a].id),!0),e[a].children=e[a]._children,e[a]._children=null),a===e.length-1)){var r=t.searched,i=t.comments;r&&(e[a].searched=!0),i&&(e[a].goToComments=!0),h()}};function E(e){!function e(t){if(!t)return;t.id&&void 0!==t.id||(t.id=Math.random().toString(36).substr(2,10));t.children&&t.children.forEach(function(t,n){t.index=n,e(t)})}(e),function(e){!function e(t){t&&t.children&&(t.children=u.a.orderBy(t.children,["overflow","index"],["desc","asc"]),t.children.forEach(e))}(e)}(e)}function O(e,t){for(var n=o.select("#text".concat(e)),a=n.node().getComputedTextLength(),r=n.text();a>t-2&&r.length>0;)r=r.slice(0,-1),n.text(r+"..."),a=n.node().getComputedTextLength()}var w=function(e,t){var n=[];return function a(r){n.push({name:r.name,parent:e.id!==r.id||t?r.parent.id:null,index:r.index,id:r.id,url:r.url,overflow:r.overflow});r.children&&r.children.forEach(a);r._children&&r._children.forEach(a)}(e),u.a.keyBy(u.a.sortBy(n,"index"),"id")},x=function(e,t){var n={};return function e(a){a.children&&a.children.forEach(e),a._children&&a._children.forEach(e),a.id===t&&(n=a)}(e),n},j=function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){e.children&&e.children.forEach(a),e._children&&e._children.forEach(a),n[e.id]={name:e.name,index:e.index,url:e.url,overflow:e.overflow,parent:e.parent?e.parent.id:null}},n={},a(t),e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),S=function(e){for(var t=0;t<e.length;t++){var n=e[t],a=e[t+1];a&&n.index===a.index&&n.parent===a.parent&&n.index++}return e}},,function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(2),o=n(15),c=n(5),s=n.n(c),l=n(137),u=n.n(l),p=n(11),d=n(71),m=n(14),f=n(184),g=n(33),h=window.d3plus,v=function(e,t){var a=m.store.getState().sitemap;e.append("rect").attr("class","node user-flows-page symbol"),e.append("svg:image").attr("class","node"),e.append("svg:image").attr("class","image-header"),e.append("rect").attr("class","cover-text-top-border"),e.append("path").attr("class","cover-text-background"),e.append("text").attr("class","text"),e.append("rect").attr("class","linked-page-rect"),e.append("text").attr("class","linked-page"),e.select("rect.node").attr("id",function(e){return e&&"rect"+e.id}).attr("width",225).attr("height",265).attr("fill","aliceblue").attr("x",0).attr("y",0).attr("rx",3).attr("fill-opacity",1).attr("stroke-opacity",1).attr("stroke","#6BF").attr("stroke-width",2).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),t||(e.select("image.node").attr("id",function(e){return e&&"cover".concat(e.id)}).attr("href",function(e){if(!e)return n(213);var t,r=a.covers,i=b(e,r);if(i)return i;r.pages[e.page]&&r.pages[e.page].collection&&(t=r.pages[e.page].collection),e.wireframe&&(t=e.wireframe);try{return n(444)("./".concat(t,".svg"))}catch(o){return n(213)}}).attr("xlink:href",function(e){if(!e)return n(213);var t,r=a.covers,i=b(e,r);if(i)return i;r.pages[e.page]&&r.pages[e.page].collection&&(t=r.pages[e.page].collection),e.wireframe&&(t=e.wireframe);try{return n(444)("./".concat(t,".svg"))}catch(o){return n(213)}}).attr("x",1).attr("y",function(e){var t=a.covers;return b(e,t)?17:0}).attr("width",223).attr("height",224).style("width",223).style("height",224).attr("display","block").attr("pointer-events","none").attr("clip-path","url(#rect-clip)").on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).raise(),e.select("image.image-header").attr("href",function(e){return n(330)}).attr("xlink:href",function(e){return n(330)}).attr("width",237.5).attr("height",20).attr("x",-6).attr("y",-1.5).attr("pointer-events","none").attr("clip-path","url(#rect-clip)").on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).raise(),e.select("path.cover-text-background").attr("d",function(e,t,n,a,r,i,o,c,s){var l;l="M"+(e+r)+","+t,l+="h"+(n-2*r),o?l+="a"+r+","+r+" 0 0 1 "+r+","+r:(l+="h"+r,l+="v"+r);l+="v"+(a-2*r),s?l+="a"+r+","+r+" 0 0 1 "+-r+","+r:(l+="v"+r,l+="h"+-r);l+="h"+(2*r-n),c?l+="a"+r+","+r+" 0 0 1 "+-r+","+-r:(l+="h"+-r,l+="v"+-r);l+="v"+(2*r-a),i?l+="a"+r+","+r+" 0 0 1 "+r+","+-r:(l+="v"+-r,l+="h"+r);return l+="z"}(.9,224,223,40,3,!1,!1,!0,!0)).attr("fill","white").attr("display","block").style("pointer-events","none").on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).raise(),e.select("text.text").attr("text-anchor","middle").attr("id",function(e){return e&&"text"+e.id}).text(function(e){if(e)return e.page?a.pages[e.page]?a.pages[e.page].name:"Removed Page":e.text}).each(function(e){return e&&Object(g.l)(e.id,200)}).attr("x",112).attr("y",251).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).attr("pointer-events","none").raise(),e.select("rect.cover-text-top-border").attr("width",223).attr("height",.66).attr("fill","#d7edff").attr("x",.9).attr("y",224).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).attr("pointer-events","none").raise(),e.select("text.linked-page").attr("font-family","FontAwesome").text("\uf0c1").attr("font-size","1em").attr("fill","white").attr("x",206.5).attr("y",13.5).attr("pointer-events","none").attr("display",function(e){return e&&"page"===e.type&&e.page?"block":"none"}).raise(),e.select("rect.linked-page-rect").attr("fill","transparent").attr("stroke-opacity",0).attr("width",24).attr("height",15).attr("x",195).attr("y",1).attr("display",function(e){return e&&"page"===e.type&&e.page?"block":"none"}).on("click",function(e){p.event.stopImmediatePropagation();var t=p.select("#rect"+e.id).node().getBoundingClientRect(),n=t.right+5*d.b,a=t.top-(d.b>1?1*d.b:7.5*d.b);m.store.getState().flows.ui.LinkedPagePopover.showing?m.store.dispatch(_e()):m.store.dispatch(We({offset:[n,a]}))}).raise(),S(e.empty()?void 0:e.datum()))},b=function(e,t){if(e){var n=e.device?e.device:"desktop";if(!s.a.isEmpty(t.pages[e.page])&&t.pages[e.page].devices&&t.pages[e.page].devices[n]){var a=t.pages[e.page].devices[n].thumbDownloadURL;if(a)return a}}},y=function(e,t){e.append("polygon").attr("class","decision symbol"),e.select("polygon.decision").attr("points","2,132.5 112.5,86 222,132.5 112.5,178").style("fill","white").style("stroke",function(e){return e?e.color:"#66BBFF"}).style("stroke-width",1.5).each(function(e){if(e){p.select("#d3plus-textBox-".concat(e.id)).remove();var n=!1;(new h.TextBox).select("#node".concat(e.id)).data([e]).ellipsis(function(t,a){return a?t.replace(/\.|,$/g,"")+"...":(n=!0,j(e.text,h.textWidth(e.text,{fontSize:15}),80))}).verticalAlign("middle").textAnchor("middle").fontMin(15).fontMax(15).fontResize(!0).fontWeight(500).fontColor("#323E48").maxLines(3).width(100).x(62.5).y(function(){return n?22.5:31}).text(function(e){return e&&e.text}).render(),t||S(e)}})},E=function(e,t){e.append("rect").attr("class","rect startEnd symbol"),e.select("rect.startEnd").attr("y",87.5).attr("width",225).attr("height",90).style("fill","white").style("stroke",function(e){return e?e.color:"#66BBFF"}).style("stroke-width",1.5).attr("rx",50).each(function(e){if(e){p.select("#d3plus-textBox-".concat(e.id)).remove();var n=!1;(new h.TextBox).select("#node".concat(e.id)).data([e]).ellipsis(function(t,a){return a?t.replace(/\.|,$/g,"")+"...":(n=!0,j(e.text,h.textWidth(e.text,{fontSize:15}),80))}).verticalAlign("middle").textAnchor("middle").fontMin(15).fontMax(15).fontResize(!0).fontWeight(500).fontColor("#323E48").maxLines(4).width(185).x(20).y(function(){return n?22.5:32.5}).text(function(e){return e&&e.text}).render(),t||S(e)}})},O=function(e,t){e.append("rect").attr("class","action symbol"),e.select("rect.action").attr("y",87.5).attr("width",225).attr("height",90).style("fill","white").style("stroke",function(e){return e?e.color:"#66BBFF"}).style("stroke-width",1.5).attr("rx",3).each(function(e){if(e){p.select("#d3plus-textBox-".concat(e.id)).remove();var n=!1;(new h.TextBox).select("#node".concat(e.id)).data([e]).ellipsis(function(t,a){return a?t.replace(/\.|,$/g,"")+"...":(n=!0,j(e.text,h.textWidth(e.text,{fontSize:15}),100))}).verticalAlign("middle").textAnchor("middle").fontMin(15).fontMax(15).fontResize(!0).fontWeight(500).fontColor("#323E48").maxLines(4).width(205).x(10).y(function(){return n?22.5:32.5}).text(function(e){return e&&e.text}).render(),t||S(e)}})},w=function(e,t){e.append("path").attr("class","document symbol"),e.select("path.document").attr("d","M1.5 87.5h222.5v92c-120-40.040-120 36.346-222.5-2.13z").style("fill","white").style("stroke",function(e){return e?e.color:"#66BBFF"}).style("stroke-width",2).each(function(e){if(e){p.select("#d3plus-textBox-".concat(e.id)).remove();var n=!1;(new h.TextBox).select("#node".concat(e.id)).data([e]).ellipsis(function(t,a){return a?t.replace(/\.|,$/g,"")+"...":(n=!0,j(e.text,h.textWidth(e.text,{fontSize:15}),100))}).verticalAlign("middle").textAnchor("middle").fontMin(15).fontMax(15).fontResize(!0).fontWeight(500).fontColor("#323E48").maxLines(4).width(195).x(15).y(function(){return n?22.5:30}).text(function(e){return e&&e.text}).render(),t||S(e)}})},x=function(e,t){e.append("path").attr("class","inputOutput symbol"),e.select("path.inputOutput").attr("d","M1.5 178l16-90h206l-16 90z").style("fill","white").style("stroke",function(e){return e?e.color:"#66BBFF"}).style("stroke-width",2).each(function(e){if(e){p.select("#d3plus-textBox-".concat(e.id)).remove();var n=!1;(new h.TextBox).select("#node".concat(e.id)).data([e]).ellipsis(function(t,a){return a?t.replace(/\.|,$/g,"")+"...":(n=!0,j(e.text,h.textWidth(e.text,{fontSize:15}),80))}).verticalAlign("middle").textAnchor("middle").fontMin(15).fontMax(15).fontResize(!0).fontWeight(500).fontColor("#323E48").maxLines(4).width(175).x(25).y(function(){return n?22.5:32.5}).text(function(e){return e&&e.text}).render(),t||S(e)}})};function j(e,t,n){for(;t>n-4&&e.length>0;)e=e.slice(0,-1),t=h.textWidth(e,{fontSize:17});return e+"..."}var S=function(e){if(e){var t=p.select("#node".concat(e.id));p.select("#top".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"top".concat(e.id)}).append("circle").attr("id",function(e){return"top".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",112.5).attr("cy",function(e){var t=77.5;return"page"===e.type&&(t-=87.5),"decision"===e.type&&(t-=1),t}).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#top0".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"top0".concat(e.id)}).append("circle").attr("id",function(e){return"top0".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",93.75).attr("cy",function(e){var t=77.5;return"page"===e.type&&(t-=87.5),"decision"===e.type&&(t+=6),t}).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#top2".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"top2".concat(e.id)}).append("circle").attr("id",function(e){return"top2".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",131.25).attr("cy",function(e){var t=77.5;return"page"===e.type&&(t-=87.5),"decision"===e.type&&(t+=6),t}).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#bottom".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"bottom".concat(e.id)}).append("circle").attr("id",function(e){return"bottom".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",112.5).attr("cy",function(e){var t=187.5;return"page"===e.type&&(t+=87.5),"document"===e.type&&(t-=1),"inputOutput"===e.type&&(t+=1),t}).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#bottom0".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"bottom0".concat(e.id)}).append("circle").attr("id",function(e){return"bottom0".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",93.75).attr("cy",function(e){var t=187.5;return"page"===e.type&&(t+=87.5),"inputOutput"===e.type&&(t+=1),"document"===e.type&&(t+=5),"decision"===e.type&&(t-=6.5),t}).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#bottom2".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"bottom2".concat(e.id)}).append("circle").attr("id",function(e){return"bottom2".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",131.25).attr("cy",function(e){var t=187.5;return"page"===e.type&&(t+=87.5),"inputOutput"===e.type&&(t+=1),"document"!==e.type&&"decision"!==e.type||(t-=6.5),t}).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#left".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"left".concat(e.id)}).append("circle").attr("id",function(e){return"left".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",function(e){var t=-10;return"inputOutput"===e.type&&(t+=8),t}).attr("cy",132.5).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#left0".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"left0".concat(e.id)}).append("circle").attr("id",function(e){return"left0".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",function(e){var t=-10;return"startEnd"===e.type&&(t+=3.5),"inputOutput"===e.type&&(t+=11.5),"decision"===e.type&&(t+=17.5),t}).attr("cy",113.75).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#left2".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"left2".concat(e.id)}).append("circle").attr("id",function(e){return"left2".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",function(e){var t=-10;return"startEnd"===e.type&&(t+=3.5),"inputOutput"===e.type&&(t+=4.5),"decision"===e.type&&(t+=17.5),t}).attr("cy",151.25).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#right".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"right".concat(e.id)}).append("circle").attr("id",function(e){return"right".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",function(e){var t=235;return"inputOutput"===e.type&&(t-=8),"decision"===e.type&&(t-=1.5),t}).attr("cy",132.5).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#right0".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"right0".concat(e.id)}).append("circle").attr("id",function(e){return"right0".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",function(e){var t=235;return"startEnd"===e.type&&(t-=3.5),"inputOutput"===e.type&&(t-=4.5),"decision"===e.type&&(t-=17.5),t}).attr("cy",113.75).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),p.select("#right2".concat(e.id)).remove(),t.append("g").attr("id",function(e){return"right2".concat(e.id)}).append("circle").attr("id",function(e){return"right2".concat(e.id)}).attr("fill","transparent").attr("r",.1).attr("cx",function(e){var t=235;return"startEnd"===e.type&&(t-=3.5),"inputOutput"===e.type&&(t-=11.5),"decision"===e.type&&(t-=17.5),t}).attr("cy",151.25).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()})}};var C,A,k=n(23),R=n(177),D=n(180),I=(n(969),function(e){return e.start.position.startsWith("top")?T(e):e.start.position.startsWith("bottom")?P(e):e.start.position.startsWith("left")?N(e):e.start.position.startsWith("right")?L(e):F(e)}),T=function(e){if(e.start.position.startsWith("top")&&e.end.position.startsWith("top")){var t=B(e),n=U(e),a=W(e),r=_(e);if(r<=n&&a<=t)return"M".concat(t,",").concat(n,"V").concat(r-20,"a10,10 0 0 0 -10,-10L").concat(a+10,",").concat(r-30,"a10,10 0 0 0 -10,10L").concat(a,",").concat(r);if(r<=n&&a>=t)return"M".concat(t,",").concat(n,"V").concat(r-20,"a10,10 0 0 1 10,-10L").concat(a-10,",").concat(r-30,"a10,10 0 0 1 10,10L").concat(a,",").concat(r);if(r>=n&&a<=t)return"M".concat(t,",").concat(n,"V").concat(n-20,"a10,10 0 0 0 -10,-10H").concat(a+10,"a10,10 0 0 0 -10,10L").concat(a,",").concat(r);if(r>=n&&a>=t)return"M".concat(t,",").concat(n,"V").concat(n-20,"a10,10 0 0 1 10,-10H").concat(a-10,"a10,10 0 0 1 10,10L").concat(a,",").concat(r)}if(e.start.position.startsWith("top")&&e.end.position.startsWith("bottom")){var i=B(e),o=U(e),c=W(e),s=_(e),l=(c-i)/2+i,u=(s-o)/2+o;return s<o&&c<i?"M".concat(i,",").concat(o,"V").concat(u+10,"a10,10 0 0 0 -10,-10H").concat(c+10,"a10,10 0 0 1 -10,-10L").concat(c,",").concat(s):s<o&&c>i?"M".concat(i,",").concat(o,"V").concat(u+10,"a10,10 0 0 1 10,-10H").concat(c-10,"a10,10 0 0 0 10,-10L").concat(c,",").concat(s):s>o&&c<i?"M".concat(i,",").concat(o,"v").concat(-10,"a10,10 0 0 0 -10,-10H").concat(l+10,"a10,10 0 0 0 -10,10V").concat(s+20,"a10,10 0 0 1 -10,10H").concat(c+10,"a10,10 0 0 1 -10,-10L").concat(c,",").concat(s):s>o&&c>i?"M".concat(i,",").concat(o,"v").concat(-10,"a10,10 0 0 1 10,-10H").concat(l-10,"a10,10 0 0 1 10,10V").concat(s+20,"a10,10 0 0 0 10,10H").concat(c-10,"a10,10 0 0 0 10,-10L").concat(c,",").concat(s):F(e)}if(e.start.position.startsWith("top")&&e.end.position.startsWith("left")){var p=B(e),d=U(e),m=W(e),f=_(e),g=(f-d)/2+d,h="top"===e.start.position?100:"top0"===e.start.position?119:81;return d>f&&m>p?"M"+p+","+d+"V"+(f+10)+"a10,10 0 0 1 10,-10H"+m:d>f&&m<p?"M"+p+","+d+"V"+(g+40)+"a10,10 0 0 0 -10,-10H"+(m-20)+"a10,10 0 0 1 -10,-10V"+(f+10)+"a10,10 0 0 1 10,-10H"+m:d<f&&m>p?"M"+p+","+d+"V"+(d-10)+"a10,10 0 0 1 10,-10h"+(h+(m-(p+h))/2-10)+"a10,10 0 0 1 10,10V"+(f-10)+"a10,10 0 0 0 10,10L"+m+","+f:d<f&&m<p?"M"+p+","+d+"V"+(d-30)+"a10,10 0 0 0 -10,-10H"+(m-20)+"a10,10 0 0 0 -10,10V"+(f-10)+"a10,10 0 0 0 10,10L"+m+","+f:F(e)}if(e.start.position.startsWith("top")&&e.end.position.startsWith("right")){var v=B(e),b=U(e),y=W(e),E=_(e),O=(y-v)/2+v;return b>E&&y>v?"M"+v+","+b+"V"+((E-b)/2+b+("right"===e.end.position?37.5:"right0"===e.end.position?46.5:28.5))+"a10,10 0 0 1 10,-10H"+(y+20)+"a10,10 0 0 0 10,-10V"+(E+10)+"a10,10 0 0 0 -10,-10L"+y+","+E:b>E&&y<v?"M"+v+","+b+"V"+(E+10)+"a10,10 0 0 0 -10,-10L"+y+","+E:b<E&&y>v?"M"+v+","+b+"V"+(b-10)+"a10,10 0 0 1 10,-10H"+(y+20)+"a10,10 0 0 1 10,10V"+(E-10)+"a10,10 0 0 1 -10,10L"+y+","+E:b<E&&y<v?"M"+v+","+b+"V"+(b-10)+"a10,10 0 0 0 -10,-10H"+(O-("top"===e.start.position?45:"top0"===e.start.position?36:54))+"a10,10 0 0 0 -10,10V"+(E-10)+"a10,10 0 0 1 -10,10L"+y+","+E:F(e)}return F(e)},P=function(e){if(e.start.position.startsWith("bottom")&&e.end.position.startsWith("bottom")){var t=B(e),n=U(e),a=W(e),r=_(e);return r>n&&a<t?"M"+t+","+n+"V"+(r+20)+"a10,10 0 0 1 -10,10L"+(a+10)+","+(r+30)+"a10,10 0 0 1 -10,-10L"+a+","+r:r>n&&a>t?"M"+t+","+n+"V"+(r+20)+"a10,10 0 0 0 10,10L"+(a-10)+","+(r+30)+"a10,10 0 0 0 10,-10L"+a+","+r:r<n&&a<t?"M"+t+","+n+"V"+(n+20)+"a10,10 0 0 1 -10,10H"+(a+10)+"a10,10 0 0 1 -10,-10L"+a+","+r:r<n&&a>t?"M"+t+","+n+"V"+(n+20)+"a10,10 0 0 0 10,10H"+(a-10)+"a10,10 0 0 0 10,-10L"+a+","+r:F(e)}if(e.start.position.startsWith("bottom")&&e.end.position.startsWith("top")){var i=B(e),o=U(e),c=W(e),s=_(e),l=(c-i)/2+i,u=(s-o)/2+o;return s>o&&c<i?"M"+i+","+o+"V"+(u-7.5)+"a10,10 0 0 1 -10,10H"+(c+10)+"a10,10 0 0 0 -10,10L"+c+","+s:s>o&&c>i?"M"+i+","+o+"V"+(u-7.5)+"a10,10 0 0 0 10,10H"+(c-10)+"a10,10 0 0 1 10,10L"+c+","+s:s<o&&c<i?"M"+i+","+o+"v20a10,10 0 0 1 -10,10H"+(l+10)+"a10,10 0 0 1 -10,-10V"+(s-20)+"a10,10 0 0 0 -10,-10H"+(c+10)+"a10,10 0 0 0 -10,10L"+c+","+s:s<o&&c>i?"M"+i+","+o+"v20a10,10 0 0 0 10,10H"+(l-10)+"a10,10 0 0 0 10,-10V"+(s-20)+"a10,10 0 0 1 10,-10H"+(c-10)+"a10,10 0 0 1 10,10L"+c+","+s:F(e)}if(e.start.position.startsWith("bottom")&&e.end.position.startsWith("left")){var p=B(e),d=U(e),m=W(e),f=_(e),g=(m-p)/2+p;return f>d&&m<p?"M"+p+","+d+"V"+((f-d)/2+d-("left"===e.end.position?37.5:"left0"===e.end.position?28.5:46.5))+"a10,10 0 0 1 -10,10H"+(m-20)+"a10,10 0 0 0 -10,10V"+(f-10)+"a10,10 0 0 0 10,10L"+m+","+f:f>d&&m>p?"M"+p+","+d+"V"+(f-10)+"a10,10 0 0 0 10,10L"+m+","+f:f<d&&m<p?"M"+p+","+d+"V"+(d+20)+"a10,10 0 0 1 -10,10H"+(m-20)+"a10,10 0 0 1 -10,-10V"+(f+10)+"a10,10 0 0 1 10,-10L"+m+","+f:f<d&&m>p?"M"+p+","+d+"v20a10,10 0 0 0 10,10H"+(g+("bottom"===e.start.position?47.5:"bottom0"===e.start.position?56.5:38.5))+"a10,10 0 0 0 10,-10V"+(f+10)+"a10,10 0 0 1 10,-10L"+m+","+f:F(e)}if(e.start.position.startsWith("bottom")&&e.end.position.startsWith("right")){var h=B(e),v=U(e),b=W(e),y=_(e),E=(b-h)/2+h;return y>v&&b<h?"M"+h+","+v+"V"+(y-10)+"a10,10 0 0 1 -10,10L"+b+","+y:y>v&&b>h?"M"+h+","+v+"V"+((y-v)/2+v-("right"===e.end.position?37.5:"right0"===e.end.position?28.5:46.5))+"a10,10 0 0 0 10,10H"+(b+20)+"a10,10 0 0 1 10,10V"+(y-10)+"a10,10 0 0 1 -10,10L"+b+","+y:y<v&&b<h?"M"+h+","+v+"v20a10,10 0 0 1 -10,10H"+(E-("bottom"===e.start.position?47.5:"bottom0"===e.start.position?38.5:56.5))+"a10,10 0 0 1 -10,-10V"+(y+10)+"a10,10 0 0 0 -10,-10L"+b+","+y:y<v&&b>h?"M"+h+","+v+"V"+(v+20)+"a10,10 0 0 0 10,10H"+(b+20)+"a10,10 0 0 0 10,-10V"+(y+10)+"a10,10 0 0 0 -10,-10L"+b+","+y:F(e)}return F(e)},N=function(e){if(e.start.position.startsWith("left")&&e.end.position.startsWith("right")){var t=B(e),n=U(e),a=W(e),r=_(e),i=(a-t)/2+t,o=(r-n)/2+n;return r>n&&a<t?"M"+t+","+n+"H"+(i+10)+"a10,10 0 0 0 -10,10V"+(r-10)+"a10,10 0 0 1 -10,10L"+a+","+r:r>n&&a>t?"M"+t+","+n+"h"+-20+"a10,10 0 0 0 -10,10V"+(o-("left"===e.start.position?10:"left0"===e.start.position?-9:29))+"a10,10 0 0 0 10,10H"+(a+20)+"a10,10 0 0 1 10,10V"+(r-10)+"a10,10 0 0 1 -10,10L"+a+","+r:r<n&&a<t?"M"+t+","+n+"H"+(i+10)+"a10,10 0 0 1 -10,-10V"+(r+10)+"a10,10 0 0 0 -10,-10L"+a+","+r:r<n&&a>t?"M"+t+","+n+"h"+-20+"a10,10 0 0 1 -10,-10V"+(o+("left"===e.start.position?10:"left0"===e.start.position?29:-9))+"a10,10 0 0 1 10,-10H"+(a+20)+"a10,10 0 0 0 10,-10V"+(r+10)+"a10,10 0 0 0 -10,-10L"+a+","+r:F(e)}if(e.start.position.startsWith("left")&&e.end.position.startsWith("left")){var c=B(e),s=U(e),l=W(e),u=_(e);return u>s&&l<c?"M"+c+","+s+"H"+(l-20)+"a10,10 0 0 0 -10,10L"+(l-30)+","+(u-10)+"a10,10 0 0 0 10,10L"+l+","+u:u>s&&l>c?"M"+c+","+s+"H"+(c-30)+"a10,10 0 0 0 -10,10V"+(u-10)+"a10,10 0 0 0 10,10L"+l+","+u:u<s&&l<c?"M"+c+","+s+"H"+(l-20)+"a10,10 0 0 1 -10,-10L"+(l-30)+","+(u+10)+"a10,10 0 0 1 10,-10L"+l+","+u:u<s&&l>c?"M"+c+","+s+"H"+(c-30)+"a10,10 0 0 1 -10,-10V"+(u+10)+"a10,10 0 0 1 10,-10L"+l+","+u:F(e)}if(e.start.position.startsWith("left")&&e.end.position.startsWith("top")){var p=B(e),d=U(e),m=W(e),f=_(e),g=(m-p)/2+p;return f>d&&m<p?"M"+p+","+d+"H"+(m+10)+"a10,10 0 0 0 -10,10L"+m+","+f:f>d&&m>p?"M"+p+","+d+"h"+-20+"a10,10 0 0 0 -10,10V"+((f-d)/2+d+("left"===e.start.position?15.5:"left0"===e.start.position?25:6))+"a10,10 0 0 0 10,10H"+(m-10)+"a10,10 0 0 1 10,10L"+m+","+f:f<d&&m<p?"M"+p+","+d+"H"+(g+("top"===e.end.position?71:"top0"===e.end.position?80.5:61.5))+"a10,10 0 0 1 -10,-10V"+(f-20)+"a10,10 0 0 0 -10,-10H"+(m+10)+"a10,10 0 0 0 -10,10V"+f:f<d&&m>p?"M"+p+","+d+"H"+(p-30)+"a10,10 0 0 1 -10,-10V"+(f-20)+"a10,10 0 0 1 10,-10H"+(m-10)+"a10,10 0 0 1 10,10L"+m+","+f:F(e)}if(e.start.position.startsWith("left")&&e.end.position.startsWith("bottom")){var h=B(e),v=U(e),b=W(e),y=_(e),E=(y-v)/2+v;return y>v&&b<h?"M"+h+","+v+"H"+((b-h)/2+h+("bottom"===e.end.position?71:"bottom0"===e.end.position?80.5:61.5))+"a10,10 0 0 0 -10,10V"+(y+20)+"a10,10 0 0 1 -10,10H"+(b+10)+"a10,10 0 0 1 -10,-10L"+b+","+y:y>v&&b>h?"M"+h+","+v+"h"+-30+"a10,10 0 0 0 -10,10V"+(y+20)+"a10,10 0 0 0 10,10H"+(b-10)+"a10,10 0 0 0 10,-10L"+b+","+y:y<v&&b<h?"M"+h+","+v+"H"+(b+10)+"a10,10 0 0 1 -10,-10L"+b+","+y:y<v&&b>h?"M"+h+","+v+"h"+-30+"a10,10 0 0 1 -10,-10V"+(E-("left"===e.start.position?16:"left0"===e.start.position?6.5:25.5))+"a10,10 0 0 1 10,-10H"+(b-10)+"a10,10 0 0 0 10,-10V"+y:F(e)}return F(e)},L=function(e){if(e.start.position.startsWith("right")&&e.end.position.startsWith("left")){var t=B(e),n=U(e),a=W(e),r=_(e),i=(a-t)/2+t,o=(r-n)/2+n;return r>n&&a<t?"M"+t+","+n+"h20a10,10 0 0 1 10,10V"+(o-("left"===e.end.position?10:"left0"===e.end.position?-9.5:29.5))+"a10,10 0 0 1 -10,10H"+(a-20)+"a10,10 0 0 0 -10,10V"+(r-10)+"a10,10 0 0 0 10,10H"+a:r>n&&a>t?"M"+t+","+n+"H"+(i-10)+"a10,10 0 0 1 10,10V"+(r-10)+"a10,10 0 0 0 10,10H"+a:r<n&&a<t?"M"+t+","+n+"h20a10,10 0 0 0 10,-10V"+(o+("left"===e.end.position?10:"left0"===e.end.position?29.5:-9.5))+"a10,10 0 0 0 -10,-10H"+(a-20)+"a10,10 0 0 1 -10,-10V"+(r+10)+"a10,10 0 0 1 10,-10H"+a:r<n&&a>t?"M"+t+","+n+"H"+(i-10)+"a10,10 0 0 0 10,-10V"+(r+10)+"a10,10 0 0 1 10,-10H"+a:F(e)}if(e.start.position.startsWith("right")&&e.end.position.startsWith("right")){var c=B(e),s=U(e),l=W(e),u=_(e);return u>s&&l<c?"M"+c+","+s+"H"+(c+30)+"a10,10 0 0 1 10,10V"+(u-10)+"a10,10 0 0 1 -10,10L"+l+","+u:u>s&&l>c?"M"+c+","+s+"H"+(l+20)+"a10,10 0 0 1 10,10L"+(l+30)+","+(u-10)+"a10,10 0 0 1 -10,10L"+l+","+u:u<s&&l<c?"M"+c+","+s+"H"+(c+30)+"a10,10 0 0 0 10,-10V"+(u+10)+"a10,10 0 0 0 -10,-10L"+l+","+u:u<s&&l>c?"M"+c+","+s+"H"+(l+20)+"a10,10 0 0 0 10,-10L"+(l+30)+","+(u+10)+"a10,10 0 0 0 -10,-10L"+l+","+u:F(e)}if(e.start.position.startsWith("right")&&e.end.position.startsWith("top")){var p=B(e),d=U(e),m=W(e),f=_(e),g=(m-p)/2+p;return f>d&&m<p?"M"+p+","+d+"h20a10,10 0 0 1 10,10V"+((f-d)/2+d+("right"===e.start.position?15.75:"right0"===e.start.position?25.25:6.25))+"a10,10 0 0 1 -10,10H"+(m+10)+"a10,10 0 0 0 -10,10V"+f:f>d&&m>p?"M"+p+","+d+"H"+(m-10)+"a10,10 0 0 1 10,10V"+f:f<d&&m<p?"M"+p+","+d+"h20a10,10 0 0 0 10,-10V"+(f-20)+"a10,10 0 0 0 -10,-10H"+(m+10)+"a10,10 0 0 0 -10,10V"+f:f<d&&m>p?"M"+p+","+d+"H"+(g-("right"===e.start.position?71:"right0"===e.start.position?80.5:61.5))+"a10,10 0 0 0 10,-10V"+(f-20)+"a10,10 0 0 1 10,-10H"+(m-10)+"a10,10 0 0 1 10,10V"+f:F(e)}if(e.start.position.startsWith("right")&&e.end.position.startsWith("bottom")){var h=B(e),v=U(e),b=W(e),y=_(e),E=(y-v)/2+v;return y>v&&b<h?"M"+h+","+v+"h20a10,10 0 0 1 10,10V"+(y+20)+"a10,10 0 0 1 -10,10H"+(b+10)+"a10,10 0 0 1 -10,-10V"+y:y>v&&b>h?"M"+h+","+v+"H"+((b-h)/2+h-("bottom"===e.end.position?67.5:"bottom0"===e.end.position?58:77))+"a10,10 0 0 1 10,10V"+(y+20)+"a10,10 0 0 0 10,10H"+(b-10)+"a10,10 0 0 0 10,-10V"+y:y<v&&b<h?"M"+h+","+v+"h20a10,10 0 0 0 10,-10V"+(E-("right"===e.start.position?16.5:"right0"===e.start.position?7:26))+"a10,10 0 0 0 -10,-10H"+b+"a10,10 0 0 1 -10,-10V"+y:y<v&&b>h?"M"+h+","+v+"H"+(b-10)+"a10,10 0 0 0 10,-10V"+y:F(e)}return F(e)},F=function(e){return"M"+B(e)+","+U(e)+"L"+W(e)+","+_(e)},z=function(e){var t=p.select("circle#".concat(e.start.position).concat(e.start.id)).node();if(t)return t.getBBox()},M=function(e){var t=p.select("circle#".concat(e.end.position).concat(e.end.id)).node();if(t)return t.getBBox()},B=function(e){var t=z(e),n=p.select("circle#".concat(e.start.position).concat(e.start.id)).datum().x;return e.start.position.startsWith("left")&&(n+=10),e.start.position.startsWith("right")&&(n-=10),n+t.x+t.width/2},U=function(e){var t=z(e),n=p.select("circle#".concat(e.start.position).concat(e.start.id)).datum().y;return e.start.position.startsWith("top")&&(n+=10),e.start.position.startsWith("bottom")&&(n-=10),n+t.y+t.height/2},W=function(e){var t=M(e),n=p.select("circle#".concat(e.end.position).concat(e.end.id)).datum(),a=e.end.position.startsWith("right")?-3:e.end.position.startsWith("left")?3:0;return n.x+t.x+t.width/2+a},_=function(e){var t=M(e),n=p.select("circle#".concat(e.end.position).concat(e.end.id)).datum(),a=e.end.position.startsWith("top")?3:e.end.position.startsWith("bottom")?-1:0;return n.y+t.y+t.height/2+a},V=n(372),G=null,H=null,Y=null,X=0,Z=function(e){if(e){p.event.stopImmediatePropagation();var t=m.store.getState(),n=t.sitemap,a=t.flows;"full"!==n.editLevel&&"edit"!==n.editLevel||G&&G.id===e.id||(a.utils.NewConnectorLine.showing||setTimeout(function(){m.store.dispatch(He(e.id))},50),"page"===e.type&&se(e),Q(e),le(e),p.selectAll("[id^='user-flow-icon".concat(e.id,"']")).lower(),p.selectAll("path[id^='line".concat(e.id,"']")).lower())}},K=function(e){e&&(p.select("#options").remove(),p.select("#node".concat(e.id)).selectAll("#new-connectors, .buffer-shape").remove(),p.selectAll("g.add-user-flows-icon").remove(),p.selectAll("path[id^='line".concat(e.id,"']")).raise(),p.selectAll("[id^='user-flow-icon".concat(e.id,"']")).raise(),m.store.getState().flows.utils.NewConnectorLine.showing||setTimeout(function(){m.store.dispatch(He())},50))},Q=function(e){if(e&&p.select("#node".concat(e.id)).select("#new-connectors").empty()&&!e.new){p.select("#node".concat(e.id)).append("g").attr("id","new-connectors").attr("opacity",1).raise();for(var t=d.b<1?d.b>.4?d.b:.4:1,n=1;n<=1;n++){var a=1===n?112.5:0===n?93.75:131.25,r=87.5,i=1===n?"":n;"page"===e.type&&(r-=87.5),"decision"===e.type&&(r+=1===n?-1:6),q(e,"top".concat(i),a,r),J(e,"topAdd".concat(i),{fromX:a,toX:a,fromY:r,toY:r-20/t}),r=177.5,"page"===e.type&&(r+=87.5),"inputOutput"===e.type&&(r+=1),"decision"===e.type&&(r-=0===n||2===n?-6.5:0),"document"===e.type&&(r+=0===n?5:1===n?-1:-6.5),q(e,"bottom".concat(i),a,r),J(e,"bottomAdd".concat(i),{fromX:a,toX:a,fromY:r,toY:r+20/t}),a=0,r=1===n?132.5:0===n?113.75:151.25,"inputOutput"===e.type&&(a+=1===n?8:0===n?11.5:4.5),"startEnd"===e.type&&(a+=1===n?0:3.5),"decision"===e.type&&(a+=1===n?0:17.5),q(e,"left".concat(i),a,r),J(e,"leftAdd".concat(i),{fromX:a,toX:a-20/t,fromY:r,toY:r}),a=225,"inputOutput"===e.type&&(a-=1===n?8:0===n?4.5:11.5),"startEnd"===e.type&&(a-=1===n?0:3.5),"decision"===e.type&&(a-=1===n?1.5:17.5),q(e,"right".concat(i),a,r),J(e,"rightAdd".concat(i),{fromX:a,toX:a+20/t,fromY:r,toY:r})}}},q=function(e,t,n,a){var r=m.store.getState().flows,o=r.byId[r.selected],c=p.select("#node".concat(e.id)).select("#new-connectors").raise(),s=t.replace(/[0-9]/g,"");function l(){var r=c.append("g").attr("id",function(e){return t}).attr("class",s===t&&"new-connection-node").attr("transform","translate(".concat(n,",").concat(a,")")).on("mouseover",function(){return te(t)}).on("mouseleave",function(){return re(t)}).on("click",function(){return p.event.stopImmediatePropagation()}).call(p.drag().on("start",function(){X=0,G=e,p.select("#svg-main").append("circle").datum({id:e.id,position:t,x:0,y:0}).attr("r",.01).attr("cx",112.5).attr("cy",function(){return"page"===e.type?0:88}).attr("fill","red").attr("id","dragging-circle").on("click",function(){return p.select("#dragging-circle").remove()}).attr("pointer-events","none")}).on("drag",function(e){(X+=p.event.dx*p.event.dx+p.event.dy*p.event.dy)>5&&oe()}).on("end",function(e){if(H){var t=p.select("#dragging-circle").datum();if(H.id!==t.id){var n=Object(k.a)({},H.node.id,{position:H.position}),a=localStorage.getItem("userFlowConnectorType");a&&"solid"!==a&&(n[decodeURI.id].type=a);var r={connectors:Object(k.a)({},t.position,n)};m.store.dispatch(Ie(Object(k.a)({},t.id,Object(i.a)({},r))));var o=[Object(i.a)({action:"connector-change",id:t.id},r)],c={id:(new Date).getTime(),data:o},s={action:"connector-change",node:t.id,data:{oldConnector:{connectors:Object(k.a)({},t.position,Object(k.a)({},H.node.id,void 0))},newConnector:Object(i.a)({},r)}};setTimeout(function(){m.store.dispatch(Te({change:c,history:s}))},500)}}else G=void 0;ce()})).raise(),o=d.b<1?d.b>.5?d.b:.5:1;r.append("circle").attr("r",7.5/o).attr("fill","#6BF").raise(),r.append("circle").attr("r",5/o).attr("fill","#6BF").attr("stroke","#fff").attr("stroke-width",2.5/o).raise()}t!==s||ee(e,o,t)||l(),t!==s&&($(e,o,s)||ee(e,o,s))&&(ee(e,o,t)||l())},J=function(e,t,n){var a=m.store.getState().flows,r=a.utils.NewConnectorLine.showing,i=p.select("#node".concat(e.id)).select("#new-connectors"),o=a.byId[a.selected],c=t.replace("Add",""),s=c.replace(/[0-9]/g,"");if(!r){if(($(e,o,s)||ee(e,o,s))&&!$(e,o,c)&&!ee(e,o,c))return l();if(c===s&&!$(e,o,c)&&!ee(e,o,c))return l()}function l(){var a=i.append("g").attr("id",t).attr("transform","translate(".concat(n.toX,",").concat(n.toY,")")).on("mouseover",function(){return te(t)}).on("mouseleave",function(){return re(t)}).attr("opacity",.75).on("click",function(){return ie(e,t)}).raise(),r=d.b<1?d.b>.5?d.b:.5:1;a.append("circle").attr("r",8/r).attr("stroke","#6BF").attr("fill","#f9f9f9").attr("stroke-width",1/r),a.append("text").text("\uf067").attr("class","font-awesome").attr("font-size",10/r).attr("fill","#6BF").attr("x",-4/r).attr("y",4/r)}},$=function(e,t,n){var a=t.data[e.id],r=Object.keys(t.data),i=!1;if(a.connectors&&a.connectors[n])return s.a.keys(a.connectors[n]).forEach(function(e){s.a.indexOf(r,e)<0||s.a.isUndefined(a.connectors[n][e])||(i=!0)}),i},ee=function(e,t,n){var a=Object.keys(t.data),r=!1;return a.forEach(function(i){var o=t.data[i];o&&o.connectors&&Object.keys(o.connectors).forEach(function(t){if(o.connectors[t]){var i=o.connectors[t];s.a.keys(i).forEach(function(t){if(!s.a.isEmpty(i[t])&&!(s.a.indexOf(a,t)<0)){var o=i[t].position;t===e.id&&o===n&&(r=!0)}})}})}),r},te=function(e){p.event.stopImmediatePropagation();var t=p.select("g#".concat(e)),n=Object(R.b)(t.attr("transform"));if(t.attr("transform","translate(".concat(n.translateX,", ").concat(n.translateY,") scale(1.2)")),e.includes("Add"))return ne(t);ae(t,e)},ne=function(e){e.attr("opacity",1),e.select("circle").attr("fill","#6BF"),e.select("text").attr("fill","white"),p.selectAll(".new-connection-node").attr("opacity",0),p.selectAll("path[id^='line".concat(e.datum().id,"']")).raise(),p.selectAll("g[id^='user-flow-icon".concat(e.datum().id,"']")).raise()},ae=function(e,t){if(Y){H={node:e.datum(),position:t};var n=p.select("circle#".concat(t).concat(e.datum().id)),a=p.select("#dragging-circle");if(a.datum().id===n.datum().id&&a.datum().position===t)return;p.select("#new-connector-line").attr("d",I({start:{id:a.datum().id,position:a.datum().position},end:{id:n.datum().id,position:t}})).attr("marker-end",null).raise()}},re=function(e){p.event.stopImmediatePropagation();var t=p.select("g#".concat(e));if(!t.empty()){var n=Object(R.b)(t.attr("transform"));t.attr("transform","translate(".concat(n.translateX,", ").concat(n.translateY,")")),e.includes("Add")&&(t.attr("opacity",.66),t.select("circle").attr("fill","#f9f9f9"),t.select("text").attr("fill","#6BF"),p.selectAll(".new-connection-node").attr("opacity",1),p.selectAll("[id^='user-flow-icon".concat(t.datum().id,"']")).lower(),p.selectAll("path[id^='line".concat(t.datum().id,"']")).lower())}H=void 0},ie=function(e,t){p.event.stopImmediatePropagation();var n=t.replace("Add",""),a=function(e){if(e.includes("top"))return"bottom";if(e.includes("bottom"))return"top";if(e.includes("left"))return"right";if(e.includes("right"))return"left"}(n),r=Object(f.c)(10),o=localStorage.getItem("userFlowDefaultSymbol"),c=o||"action",s={type:c,x:function(e,t){return e.includes("left")?t.x-360:e.includes("right")?t.x+360:t.x}(n,e),y:function(e,t){return e.includes("top")?t.y-("page"===t.type?287.5:200):e.includes("bottom")?t.y+("page"===t.type?287.5:200):t.y}(n,e)};"page"===c&&(s.text="New Page");var l=Object(k.a)({},r,{position:a}),u=localStorage.getItem("userFlowConnectorType");u&&"solid"!==u&&(l[r].type=u);var d={connectors:Object(k.a)({},n,l)};m.store.dispatch(Ae(Object(k.a)({},r,s))),m.store.dispatch(Ie(Object(k.a)({},e.id,Object(i.a)({},d))));var g=[{id:(new Date).getTime(),data:[Object(i.a)({id:r,action:"new-symbol"},s)]},{id:(new Date).getTime()+1,data:[Object(i.a)({id:e.id,action:"connector-change"},d)]}],h={action:"new-symbol-and-connector",nodes:{symbol:r,connector:e.id},data:{oldSymbol:Object(k.a)({},r,void 0),newSymbol:Object(i.a)({},s),oldConnector:{connectors:Object(k.a)({},n,Object(k.a)({},r,void 0))},newConnector:Object(i.a)({},d)}};setTimeout(function(){m.store.dispatch(Te({change:g,history:h}))},500)},oe=function(){if(!p.select("#dragging-circle").empty()){var e=p.mouse(p.select("#user-flows-container").node()),t=p.select("#dragging-circle"),n={start:{id:t.datum().id,position:t.datum().position}};if(t.attr("cx",p.event.x).attr("cy",p.event.y),Y)H||Y.attr("d",function(){return"M"+B(n)+","+U(n)+"L"+e[0]+","+e[1]}).attr("marker-end","url(#arrow66BBFF)");else{var a=localStorage.getItem("userFlowConnectorType");(Y=p.select("#user-flows-container").append("path")).attr("class","connector-line ".concat(a||"dash")).attr("id","new-connector-line").attr("stroke","#66BBFF").attr("stroke-width",2.25).attr("marker-start","url(#circle66BBFF)").attr("marker-end","url(#arrow66BBFF)").attr("pointer-events","none"),m.store.dispatch(et(!0)),K(t.datum())}}},ce=function(){Y&&(Y.remove(),Y=null,setTimeout(function(){m.store.dispatch(et(!1))},100)),G=void 0,H=void 0,p.select("#dragging-circle").remove()},se=function(e){if(p.select("#options").empty()&&!e.overflow){var t=p.select("#node".concat(e.id)).append("g").attr("id","options").raise();p.select("#node".concat(e.id," g.pending-custom-cover")).attr("opacity",0),t.append("circle").attr("r",32).attr("cx",112.5).attr("cy",125).attr("fill","white").attr("stroke-width",0).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),t.append("rect").attr("height",207).attr("width",224).attr("x",.5).attr("y",17.5).attr("fill","white").attr("opacity",.85).attr("stroke-width",0).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).on("click",function(){m.store.dispatch(Xe({node:e}))}).lower(),t.append("g").attr("id","change-cover-button").append("text").attr("class","options").text("\uf07c").attr("x",99).attr("y",137).attr("font-size",32).attr("fill","#6BF").on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).on("click",function(){return m.store.dispatch(Xe({node:e}))}),p.selectAll(".expand-collapse, .expand-collapse-chevron, .link-chevron, .link-chevron-background").raise();var n=t.append("g");n.append("circle").attr("class","delete").attr("r",11).on("click",V.a).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}),n.append("text").attr("class","delete").attr("font-family","FontAwesome").text("\uf00d").attr("x",1.5*-3.2).attr("y",2.6*1.5).attr("font-size",12).on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).raise()}},le=function(e){var t=p.select("#node".concat(e.id)).node().getBBox();p.select("#node".concat(e.id)).append("rect").attr("class","buffer-shape").attr("x",t.x).attr("y",t.y).attr("width",t.width).attr("height",t.height).attr("fill","transparent").on("mouseover",function(){return p.event.stopImmediatePropagation()}).on("mouseout",function(){return p.event.stopImmediatePropagation()}).lower()},ue=0,pe=!1,de=function(e){var t=m.store.getState().sitemap;"full"!==t.editLevel&&"edit"!==t.editLevel||(p.event.sourceEvent.stopPropagation(),ue=0)},me=function(e){(ue+=p.event.dx*p.event.dx+p.event.dy*p.event.dy)>5&&fe(e,p.event)},fe=function(e,t){var n=m.store.getState(),a=n.sitemap,r=n.flows;if(("full"===a.editLevel||"edit"===a.editLevel)&&r.selected){if(pe=!0,e.new)return ve({node:e,event:t});p.select("#new-connectors").empty()||K(e),e.x=t.x,e.y=t.y;var i=18.75*Math.round(e.x/18.75),o=Math.round(e.y/(265/12))*(265/12);e.x=i,e.y=o,p.select("#node".concat(e.id)).attr("transform","translate("+i+","+o+")"),i===C&&o===A||ge(e),C=i,A=o}},ge=function(){p.selectAll(".connector-line").attr("d",I),p.selectAll(".connector-buffer-line").attr("d",I)},he=function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a,i,o,c,s,l,u,d;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(pe){e.next=2;break}return e.abrupt("return");case 2:if(pe=!1,!t.new){e.next=5;break}return e.abrupt("return",ye(t,p.event));case 5:n=m.store.getState(),a=n.flows,i=a.byId[a.selected].data[t.id].x,o=a.byId[a.selected].data[t.id].y,c=18.75*Math.round(p.event.x/18.75),s=Math.round(p.event.y/(265/12))*(265/12),t.x=c,t.y=s,p.select("#node".concat(t.id)).attr("transform","translate("+c+","+s+")"),a.byId[a.selected].data[t.id].x=c,a.byId[a.selected].data[t.id].y=s,Oe(),l=[{action:"reposition",id:t.id,x:c,y:s}],u={id:(new Date).getTime(),data:l},d={action:"reposition",node:t.id,data:{oldX:i,oldY:o,newX:c,newY:s}},setTimeout(function(){m.store.dispatch(Te({change:u,history:d}))},500);case 20:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ve=function(e){var t=e.node;e.event;if(p.select("#shape".concat(t.new.shape)).empty()){var n=p.select("#svg-main").append("g").attr("id","shape".concat(t.new.shape));be({shape:t.new.shape},n);var a=m.store.getState().flows;s.a.isEmpty(a.byId[a.selected].data)&&m.store.dispatch(ke(!0))}var r=Object(R.b)(p.select("#user-flows-container").attr("transform")),i=p.mouse(p.select("#svg-main").node());t.x=i[0]-110*r.scaleX,t.y=i[1]-130*r.scaleX,p.select("#shape"+t.new.shape).attr("transform","translate(".concat(t.x,",").concat(t.y,") scale(").concat(r.scaleX,")")).raise()},be=function(e,t){var n=e.shape,a=e.placeholder;switch(n){case"page":return v(t,a);case"startEnd":return E(t,a);case"decision":return y(t,a);case"action":return O(t,a);case"document":return w(t,a);case"inputOutput":return x(t,a)}},ye=function(e,t){p.select("#shape".concat(e.new.shape)).remove();var n=p.mouse(p.select("#user-flows-container").node()),a=n[0]-110,r=n[1]-130,o=18.75*Math.round(a/18.75),c=Math.round(r/(265/12))*(265/12),s=Object(f.c)(10),l={type:e.new.shape,x:o,y:c};"page"===e.new.shape&&(l=Object(i.a)({},l,{text:"New Page",wireframe:"landing-pages/content-4"})),m.store.dispatch(Ae(Object(k.a)({},s,l)));var u=[Object(i.a)({action:"new-symbol",id:s},l)],d={id:(new Date).getTime(),data:u},g={action:"new-symbol",node:s,data:{newSymbol:l}};setTimeout(function(){m.store.dispatch(Te({change:d,history:g}))},500)},Ee=null,Oe=function(e){var t=m.store.getState(),n=t.sitemap,a=t.flows,r=a.byId[a.selected];if(r&&r.loaded){document.title="".concat(r.name?r.name:"User Flow Not Found"," - Rarchy"),p.selectAll("g.node").remove(),p.selectAll("path.connector-line").remove(),p.selectAll("path.connector-buffer-line").remove(),p.selectAll("g.user-flows-icon").remove(),p.selectAll("g.add-user-flows-icon").remove();var o=Object(f.a)(r.data),c=o.nodes,l=o.links,u=p.select("#user-flows-container");c.forEach(function(t){var a=u.append("g").datum(t).attr("class","node").attr("id",function(e){return"node".concat(e.id)}).attr("transform",function(e){return"translate(".concat(e.x?e.x:0,",").concat(e.y?e.y:0,")")}).on("mouseenter",Z).on("mouseleave",K).attr("data-toggle","context").attr("data-target",".context-menu").on("click",function(e){p.event.stopImmediatePropagation(),clearTimeout(Ee),Ee=setTimeout(function(){n.editLevel&&"comment"!==n.editLevel&&"page"!==t.type&&Object(D.b)(Object(i.a)({},e,{symbolOptions:!0}))},250)}).on("dblclick",function(e){p.event.stopImmediatePropagation(),clearTimeout(Ee),Object(f.b)(e)}).on("contextmenu",function(e){p.event.preventDefault(),p.event.stopPropagation(),"full"!==n.editLevel&&"edit"!==n.editLevel||"page"!==e.type&&Object(D.b)(Object(i.a)({},e,{symbolOptions:!0}))}).call(p.drag().on("start",de).on("drag",me).on("end",he));"page"===t.type&&v(a),"decision"===t.type&&y(a),"startEnd"===t.type&&E(a),"action"===t.type&&O(a),"document"===t.type&&w(a),"inputOutput"===t.type&&x(a),e&&e()}),l.forEach(function(e){var t=m.store.getState().sitemap,n=s.a.map(c,function(e){return e.id});s.a.includes(n,e.start.id)&&s.a.includes(n,e.end.id)&&(u.append("path").datum(e).attr("class",function(e){return"connector-line ".concat(e.type?e.type:"")}).attr("id",function(e){return"line".concat(e.start.id).concat(e.start.position).concat(e.end.id)}).attr("stroke",function(e){return e.color?e.color:"#66BBFF"}).attr("stroke-width",2.25).attr("stroke-dasharray",function(e){return"dash"===e.type?"12, 6":0}).style("fill","transparent").attr("d",I).attr("marker-start",function(e){return"url(#circle".concat(e.color?e.color.replace("#",""):"66BBFF",")")}).attr("marker-end",function(e){return"url(#arrow".concat(e.color?e.color.replace("#",""):"66BBFF",")")}).attr("pointer-events","none"),u.append("path").datum(e).attr("class","connector-buffer-line").attr("id",function(e){return"buffer-line".concat(e.start.id).concat(e.start.position).concat(e.end.id)}).style("fill-opacity",0).attr("pointer-events","visibleStroke").attr("d",I).on("mouseenter",function(e){m.store.getState().flows.utils.NewConnectorLine.showing||"full"!==t.editLevel&&"edit"!==t.editLevel||(p.select("#line".concat(e.start.id).concat(e.start.position).concat(e.end.id)).attr("stroke-width",3.75),setTimeout(function(){return m.store.dispatch(Ye(e))},50))}).on("mouseleave",function(e){p.select("#line".concat(e.start.id).concat(e.start.position).concat(e.end.id)).attr("stroke-width",2.25),setTimeout(function(){return m.store.dispatch(Ye())},50)}).attr("data-toggle","context").attr("data-target",".context-menu").on("click",function(e){p.event.preventDefault(),p.event.stopPropagation(),"full"!==t.editLevel&&"edit"!==t.editLevel||Object(D.b)(Object(i.a)({},e,{connectorOptions:!0}),p.event.pageX,p.event.pageY)}).on("contextmenu",function(e){p.event.preventDefault(),p.event.stopPropagation(),"full"!==t.editLevel&&"edit"!==t.editLevel||Object(D.b)(Object(i.a)({},e,{connectorOptions:!0}),p.event.pageX,p.event.pageY)}))}),p.selectAll(".connector-buffer-line").lower(),p.selectAll(".new-shape").each(function(){var e=p.select(this).attr("id");p.select(this).datum({new:{shape:e}}).call(p.drag().on("start",de).on("drag",me).on("end",he))}),p.select("#svg-main").on("click",function(e){var t=m.store.getState(),n=t.sitemap,a=t.flows;if(a.selected){if(ce(e),a.ui.OptionsPopover.showing)return m.store.dispatch(Ge());if(!a.utils.NewConnectorLine.showing&&s.a.isEmpty(document.getElementsByClassName("ant-select-open"))&&s.a.isEmpty(document.getElementsByClassName("ant-popover"))&&p.select("#rename-user-flow").empty()&&("full"===n.editLevel||"edit"===n.editLevel)){var r=p.event.pageX,i=p.event.pageY,o=p.mouse(p.select("#user-flows-container").node());m.store.dispatch(Ve({offset:[r,i],newSymbolOptions:o}))}}})}},we=n(20),xe=n(34),je=n.n(xe);n.d(t,"g",function(){return Se}),n.d(t,"n",function(){return Ce}),n.d(t,"o",function(){return Ae}),n.d(t,"h",function(){return ke}),n.d(t,"d",function(){return Re}),n.d(t,"c",function(){return De}),n.d(t,"b",function(){return Ie}),n.d(t,"a",function(){return Te}),n.d(t,"u",function(){return Pe}),n.d(t,"B",function(){return Le}),n.d(t,"s",function(){return Fe}),n.d(t,"t",function(){return ze}),n.d(t,"f",function(){return Me}),n.d(t,"e",function(){return Be}),n.d(t,"C",function(){return Ue}),n.d(t,"w",function(){return We}),n.d(t,"j",function(){return _e}),n.d(t,"x",function(){return Ve}),n.d(t,"k",function(){return Ge}),n.d(t,"r",function(){return He}),n.d(t,"q",function(){return Ye}),n.d(t,"y",function(){return Xe}),n.d(t,"l",function(){return Ze}),n.d(t,"v",function(){return Ke}),n.d(t,"i",function(){return Qe}),n.d(t,"p",function(){return qe}),n.d(t,"z",function(){return Je}),n.d(t,"m",function(){return $e}),n.d(t,"A",function(){return et});var Se=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n,a,c){var s,l,u;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:c.getFirebase,s=c.getFirestore,l=s(),u=a(),n({type:"GET_USER_FLOWS",payload:function(){var t=Object(o.a)(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.collection("user-flows").where("sitemap","==",u.sitemap.id).orderBy("updatedAt").get();case 2:return n=t.sent,a={},n.forEach(function(e){return a[e.id]=Object(i.a)({id:e.id},e.data(),{updatedAt:e.data().updatedAt.toDate(),loaded:!0})}),t.abrupt("return",{flows:a,selected:e});case 6:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(function(){e&&n(Ce(e))});case 4:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},Ce=function(e){return function(t,n,a){a.getFirebase;var c=(0,a.getFirestore)(),s=n();t({type:"INIT_USER_FLOW",meta:{flowId:e},payload:function(){var t=Object(o.a)(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.flows.byId[e]){t.next=2;break}return t.abrupt("return",s.flows.byId[e]);case 2:return t.next=4,c.doc("user-flows/".concat(e)).get();case 4:if((n=t.sent).exists){t.next=7;break}throw{code:"not-found"};case 7:return t.abrupt("return",Object(i.a)({},n.data(),{updatedAt:n.exists?n.data().updatedAt.toDate():new Date}));case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(function(){Object(d.c)(),tt(),Oe(function(){return Object(d.a)()})}).catch(function(e){return console.error(e),{error:e}})}},Ae=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;var r=n().flows;t({type:"INSERT_NEW_SYMBOL",data:e=u()(r.byId[r.selected].data,e)}),Oe()}},ke=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_EMPTY_FLOWS_MESSAGING"})}},Re=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;var r=n().flows;t({type:"CHANGED_SYMBOL",data:e=u()(r.byId[r.selected].data,e)}),Oe()}},De=function(e,t){return function(){var n=Object(o.a)(r.a.mark(function n(a,i){var o,c,s,l;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(o=i(),c=o.sitemap,s=o.user,l=o.flows,!t){n.next=8;break}return c.pages[t].name=e.text,m.store.dispatch(Object(we.D)({pages:c.pages})),n.next=6,m.store.firestore.doc("user-flows/".concat(l.selected)).set({lastEdit:s.id,updatedAt:new Date},{merge:!0});case 6:n.next=10;break;case 8:e=u()(l.byId[l.selected].data,e),a({type:"CHANGED_FLOW_TEXT",data:e});case 10:Oe();case 11:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},Ie=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;var r=n().flows;t({type:"CHANGED_CONNECTOR",data:e=u()(r.byId[r.selected].data,e)}),Oe()}},Te=function(e){var t=e.change,n=e.history;return function(){var e=Object(o.a)(r.a.mark(function e(a,i,o){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:o.getFirebase,o.getFirestore,a({type:"ADD_FLOWS_CHANGE",change:t,history:n});case 2:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},Pe=function(){return function(){var e=Object(o.a)(r.a.mark(function e(t,n,a){var i,c,l,u,p,d,m;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.getFirebase,i=a.getFirestore,c=i(),l=n(),u=l.user,p=l.flows,!(d=p.changes).saving&&!s.a.isEmpty(d.data)){e.next=6;break}return e.abrupt("return",!1);case 6:m=s.a.map(d.data,"id"),t({type:"SAVE_FLOWS_CHANGES",payload:function(){var e=Object(o.a)(r.a.mark(function e(){var n,a,i,o,l;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=s.a.cloneDeep(s.a.spread(s.a.union)(s.a.map(d.data,"data"))),a=s.a.groupBy(n,"id"),i=s.a.keys(a),o=p.byId[p.selected],l={},i.forEach(function(e){var t=s.a.cloneDeep(o.data[e]);if(t=s.a.omitBy(s.a.omit(t,["action","id","symbolOptions","pageOptions","connectorOptions","iconOptions"]),s.a.isUndefined),s.a.isEmpty(t))return l[e]=c.FieldValue.delete();if(null===t.page&&(t.page=c.FieldValue.delete()),""===t.text&&(t.text=c.FieldValue.delete()),"#66BBFF"===t.color&&(t.color=c.FieldValue.delete()),t.connectors){var n=s.a.keys(t.connectors);n&&n.forEach(function(e){var n=t.connectors[e];n||(t.connectors[e]=c.FieldValue.delete()),s.a.keys(n).forEach(function(a){n[a]||(t.connectors[e]=c.FieldValue.delete()),n[a]&&(s.a.isNull(n[a].icon)||s.a.isUndefined(n[a].icon))&&(t.connectors[e][a].icon=c.FieldValue.delete()),n[a]&&"#66BBFF"===n[a].color&&(t.connectors[e][a].color=c.FieldValue.delete())})})}l[e]=t}),!s.a.isEmpty(l)){e.next=8;break}return e.abrupt("return",t(Ne(m)));case 8:return e.next=10,c.doc("user-flows/".concat(p.selected)).set({data:l,lastEdit:u.id,updatedAt:new Date},{merge:!0});case 10:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).then(function(){t(Ne(m))}).catch(function(e){return console.error(e),{error:e}});case 8:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},Ne=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n({type:"CLEAR_SAVED_FLOWS_CHANGES",savedChanges:e});case 1:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},Le=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;var a=t(),r=s.a.cloneDeep(a.flows.history.undo),i=s.a.cloneDeep(a.flows.history.redo),o=r.pop();i.push(o),e({type:"UNDO_FLOWS_USER_CHANGE",undo:r,redo:i})}},Fe=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;var a=t(),r=s.a.cloneDeep(a.flows.history.undo),i=s.a.cloneDeep(a.flows.history.redo),o=i.pop();r.push(o),e({type:"REDO_FLOWS_USER_CHANGE",undo:r,redo:i})}},ze=function(e,t){return function(){var n=Object(o.a)(r.a.mark(function n(a,i,c){var s,l,u,p;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:c.getFirebase,s=c.getFirestore,l=s(),u=i(),p=u.user,a({type:"RENAME_USER_FLOW",meta:{newName:e,flowId:t},payload:function(){var n=Object(o.a)(r.a.mark(function n(){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.doc("user-flows/".concat(t)).set({name:e,lastEdit:p.id,updatedAt:new Date},{merge:!0});case 2:je.a.getInstance().logEvent("RENAMED_USER_FLOW",{id:t});case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()}).catch(function(e){console.error(e)});case 4:case"end":return n.stop()}},n)}));return function(e,t,a){return n.apply(this,arguments)}}()},Me=function(e,t,n){return function(){var a=Object(o.a)(r.a.mark(function a(i,c,s){var l,u,p,d;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:s.getFirebase,l=s.getFirestore,u=l(),p=c(),d=p.flows,i({type:"DELETE_USER_FLOW",meta:{flowId:e},payload:function(){var a=Object(o.a)(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return e===d.selected&&(i($e()),n.push("/s/".concat(t,"/flows/new"))),a.next=3,u.doc("user-flows/".concat(e)).delete();case 3:return a.next=5,u.doc("sitemaps/".concat(t)).set({flows:u.FieldValue.increment(-1)},{merge:!0});case 5:return je.a.getInstance().logEvent("DELETED_USER_FLOW",{id:e}),a.abrupt("return",{flowId:e});case 7:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()}).catch(function(e){console.error(e)});case 4:case"end":return a.stop()}},a)}));return function(e,t,n){return a.apply(this,arguments)}}()},Be=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"CLEAR_SELECTED_FLOW"})}},Ue=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"UPDATED_FLOWS_DATA",data:e}),Oe()}},We=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;return t({type:"SHOW_FLOWS_LINKED_PAGE_POPOVER",offset:e.offset})}},_e=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_FLOWS_LINKED_PAGE_POPOVER"})}},Ve=function(e){var t=e.node,n=e.offset,a=e.newSymbolOptions,r=e.symbolOptions,i=e.pageOptions,o=e.connectorOptions,c=e.iconOptions;return function(e,s,l){l.getFirebase,l.getFirestore;e({type:"SHOW_FLOWS_OPTIONS_POPOVER",node:t,offset:n,newSymbolOptions:a,symbolOptions:r,pageOptions:i,connectorOptions:o,iconOptions:c}),ce()}},Ge=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_FLOWS_OPTIONS_POPOVER"})}},He=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"MOUSEOVER_SYMBOL",symbol:e})}},Ye=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"MOUSEOVER_CONNECTOR",connector:e})}},Xe=function(e){var t=e.node;return function(e,n,a){a.getFirebase,a.getFirestore;return e({type:"SHOW_FLOWS_PAGE_DRAWER",node:t})}},Ze=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_FLOWS_PAGE_DRAWER"})}},Ke=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SHOW_FLOWS_EXPORT_PDF_DRAWER",transform:e})}},Qe=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_FLOWS_EXPORT_PDF_DRAWER"})}},qe=function(e){return function(){var t=Object(o.a)(r.a.mark(function t(n,a,i){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i.getFirebase,i.getFirestore,n({type:"MERGE_FLOW_EDITS",data:e}),Oe();case 3:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},Je=function(e){return function(e,t,n){n.getFirebase,n.getFirestore;return e({type:"SHOW_FLOWS_SELECT"})}},$e=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;return t({type:"HIDE_FLOWS_SELECT",flow:e})}},et=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;return t({type:"SHOWING_NEW_CONNECTOR_LINE",showing:e})}},tt=function(){if(p.select("#user-flows-container defs").empty()){var e=p.select("#user-flows-container").append("defs"),t=["66BBFF","2ECC40","FF4136"];e.selectAll("marker.arrowHead").data(t).enter().append("marker").attr("id",function(e,n){return"arrow".concat(t[n])}).attr("viewBox","0 -5 10 10").attr("refX",7.5).attr("refY",0).attr("markerWidth",14).attr("markerHeight",14).attr("orient","auto").attr("markerUnits","userSpaceOnUse").insert("path").attr("d","M0,-5L10,0L0,5").attr("fill",function(e,n){return"#".concat(t[n])}).attr("class","arrowHead").attr("pointer-events","none");var n=e.selectAll("marker.circle").data(t).enter().append("marker").attr("id",function(e,n){return"circle".concat(t[n])}).attr("overflow","visible").attr("refX",0).attr("refY",0).attr("markerUnits","userSpaceOnUse").attr("pointer-events","none");n.append("circle").attr("r",7.5).attr("fill",function(e,n){return"#".concat(t[n])}).raise(),n.append("circle").attr("r",5).attr("fill",function(e,n){return"#".concat(t[n])}).attr("stroke","#fff").attr("stroke-width",2.5).raise()}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return w}),n.d(t,"b",function(){return j});var a=n(2),r=n(11),i=n(14),o=n(199),c=n(115),s=n(219),l=n(287),u=n(284),p=n(288),d=n(285),m=n(220),f=n(298),g=n(289),h=n(291),v=n(290),b=n(69),y=n(85),E=n(5),O=n.n(E),w={expandCollapse:!1,node:!1,options:{},text:!1},x=null,j=function(){r.select("#interactions-canvas").on("mousemove",function(){S(r.event)}),r.select("#interactions-canvas").on("click",function(){var e=M(r);if("nodes"!==i.store.getState().sitemap.format){if(w.text)return Object(u.a)(e);if(w.comments)return Object(d.a)(e);if(w.expandCollapse)return Object(m.a)(e);if(w.options.delete)return Object(l.a)(e);if(w.options.menu)return Object(p.a)(e);if(w.options.add)return Object(f.b)(w.options.add);if(w.options.fullscreen)return Object(v.a)(e);if(w.options.clone)return Object(g.a)(e);if(w.options.goToURL)return Object(h.a)(e);if(w.node)return Object(s.a)(w.node)}else if(w.node)return Object(c.a)(w.node)}),r.select("#interactions-canvas").on("contextmenu",function(){return r.event.preventDefault(),Object(o.b)(),!1})},S=O.a.throttle(function(e){e.preventDefault(),e.stopImmediatePropagation();var t=M({event:e});return"rgb(0, 0, 0)"===t&&"rgb(0, 0, 0)"===x?document.getElementById("interactions-canvas").style.cursor="default":"rgb(0, 0, 0)"===t&&"rgb(0, 0, 0)"!==x?(w={options:{}},Object(b.d)(),Object(y.c)(),void(x="rgb(0, 0, 0)")):void(t!==x&&(C(t),x=t))},25),C=function(e){if("nodes"!==i.store.getState().sitemap.format){k(e)||(P(e),z(e),N(e),I(e),D(e),T(e),L(e),R(e),F(e));var t=!O.a.values(w).every(O.a.isEmpty);document.getElementById("interactions-canvas").style.cursor=t?"pointer":"default",t&&(Object(b.d)(),Object(y.c)())}else A(e)&&(document.getElementById("interactions-canvas").style.cursor="pointer",Object(y.c)())},A=function(e){var t=Object(c.h)(e);return t?(w={node:t},!0):(delete w.node,!1)},k=function(e){var t=Object(d.b)(e);return t?(w.comments=w.node=t,!0):(w.comments&&(w.comments=!1),!1)},R=function(e){var t=Object(v.c)(e);return t?(w.options=Object(a.a)({},w.options,{node:t,fullscreen:!0}),!0):(w.options.fullscreen&&(delete w.options.node,delete w.options.fullscreen),!1)},D=function(e){var t=Object(h.c)(e);return t?(w.options=Object(a.a)({},w.options,{node:t,goToURL:!0}),!0):(w.options.goToURL&&(delete w.options.node,delete w.options.goToURL),!1)},I=function(e){var t=Object(g.c)(e);return t?(w.options=Object(a.a)({},w.options,{node:t,clone:!0}),!0):(w.options.clone&&(delete w.options.node,delete w.options.clone),!1)},T=function(e){var t=Object(f.d)(e),n=t.node,r=t.side;return n?(w.options=Object(a.a)({},w.options,{node:n,add:{node:n,side:r}}),!0):(w.options.add&&(delete w.options.node,delete w.options.add),!1)},P=function(e){var t=Object(u.b)(e);return t?(w.text=w.node=t,!0):(w.text&&(w.text=!1),!1)},N=function(e){var t=Object(l.c)(e);return t?(w.options={node:t,delete:!0},!0):(w.options.delete&&(delete w.options.node,delete w.options.delete),!1)},L=function(e){var t=Object(p.c)(e);return t?(w.options={node:t,menu:!0},!0):(w.options.menu&&(delete w.options.node,delete w.options.menu),!1)},F=function(e){var t=Object(s.c)(e);return t?(w.node=t,!0):!O.a.values(w.options).every(O.a.isEmpty)?(w.node=w.options.node,!0):w.text?(w.node=w.text,!0):(w.node&&(w.node=!1),!1)},z=function(e){var t=Object(m.b)(e);return t?(w.expandCollapse=t,!0):(w.expandCollapse=!1,!1)};function M(e){var t=window.devicePixelRatio||1,n=e.event.offsetX*t,a=e.event.offsetY*t,r=b.c.getImageData(n,a,1,1).data;return"rgb("+r[0]+", "+r[1]+", "+r[2]+")"}},,function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"e",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"c",function(){return c});var a=function(e){var t=e.user,n=e.organization,a=e.sitemap;if(t){if(t.photoURL)return t.photoURL;if(!t.firstName)return;return"https://avatars.dicebear.com/v2/initials/".concat(t.firstName.toLowerCase(),".svg?options[chars]=1")}if(n){if(!n.name)return;return"https://avatars.dicebear.com/v2/initials/".concat(n.name.toLowerCase(),".svg?options[chars]=1")}if(a){if(!a.name)return;return"https://avatars.dicebear.com/v2/initials/".concat(a.name.toLowerCase(),".svg?options[chars]=1")}},r=function(e){return!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)},i=function(e){return new RegExp(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/).test(e)},o=function(e){var t=s(e);return"https://api.faviconkit.com/".concat(r(t)?t:e.name,"/144")},c=function(e,t){var n=s(t);return r(n)&&!e.target.src.includes("google.com/s2")?"https://www.google.com/s2/favicons?sz=128&domain_url=".concat(n):"https://avatars.dicebear.com/v2/initials/".concat(t.name.toLowerCase(),".svg?b=%2300a7e1&chars=1&bold=1")},s=function(e){return e.domain?e.domain.replace("http://","").replace("https://","").replace("www.","").split(/[\/?#]/)[0]:null}},,,,function(e,t,n){"use strict";n.d(t,"s",function(){return v}),n.d(t,"q",function(){return b}),n.d(t,"t",function(){return O}),n.d(t,"r",function(){return w}),n.d(t,"a",function(){return x}),n.d(t,"p",function(){return j}),n.d(t,"v",function(){return S}),n.d(t,"w",function(){return C}),n.d(t,"x",function(){return A}),n.d(t,"f",function(){return R}),n.d(t,"u",function(){return D}),n.d(t,"i",function(){return I}),n.d(t,"g",function(){return T}),n.d(t,"b",function(){return P}),n.d(t,"B",function(){return N}),n.d(t,"D",function(){return L}),n.d(t,"z",function(){return F}),n.d(t,"C",function(){return z}),n.d(t,"n",function(){return M}),n.d(t,"k",function(){return B}),n.d(t,"d",function(){return U}),n.d(t,"E",function(){return W}),n.d(t,"G",function(){return _}),n.d(t,"A",function(){return V}),n.d(t,"F",function(){return G}),n.d(t,"o",function(){return H}),n.d(t,"l",function(){return Y}),n.d(t,"e",function(){return X}),n.d(t,"m",function(){return Z}),n.d(t,"j",function(){return K}),n.d(t,"c",function(){return Q}),n.d(t,"h",function(){return J}),n.d(t,"y",function(){return $});var a=n(64),r=n(2),i=n(4),o=n.n(i),c=n(15),s=n(5),l=n.n(s),u=n(20),p=n(34),d=n.n(p),m=n(51),f=n(251),g=n(355),h=n(183);m.extend(f),m.extend(h),m.extend(g),m.updateLocale("en",{relativeTime:{future:"in %s",s:"%d seconds",mm:"%d mins"}});var v=function(){return function(e,t,n){var a=(0,n.getFirestore)(),r=t();e({type:"SET_ACTIVE_SITEMAPS",payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t,n,i,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.user,r.organization.id){e.next=11;break}return e.next=4,a.doc("sitemaps/".concat(t.id)).get();case 4:return i=e.sent,e.next=7,y(i);case 7:e.t0=e.sent,n=[e.t0],e.next=17;break;case 11:return e.next=13,a.collection("sitemaps").where("team","==",t.token.team).where("archived","==",!1).orderBy("updatedAt","desc").limit(50).get();case 13:return s=e.sent,e.next=16,Promise.all(s.docs.map(function(){var e=Object(c.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 16:n=e.sent;case 17:return e.abrupt("return",{data:n});case 18:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){return console.log(e),e})}},b=function(e){return function(t,n,a){var r=a.getFirestore,i=n(),s=r(),u=i.sitemaps.active.data;t({type:"RETRIEVE_ACTIVE_SITEMAPS",payload:function(){var t=Object(c.a)(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Promise,t.next=3,e.map(function(){var e=Object(c.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.doc("sitemaps/".concat(t)).get();case 2:if(!(!(n=e.sent).exists||n.exists&&n.data().archived)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,y(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:return t.t1=t.sent,t.next=6,t.t0.all.call(t.t0,t.t1);case 6:return n=t.sent,t.abrupt("return",{data:l.a.union(l.a.compact(n),l.a.compact(u))});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(e){})}},y=function(){var e=Object(c.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.data()){e.next=2;break}return e.abrupt("return");case 2:return n=t.data().createdAt.toDate(),a=t.data().updatedAt.toDate(),e.t0=t.id,e.t1=t.data().name,e.t2=t.data().domain,e.t3=t.data().team,e.t4=t.data().description,e.next=11,Object(u.m)(t.data().collaborators);case 11:return e.t5=e.sent,e.t6=t.data().createdBy,e.t7=n.getTime(),e.t8=n,e.t9=a.getTime(),e.t10=a,e.abrupt("return",{id:e.t0,name:e.t1,domain:e.t2,team:e.t3,description:e.t4,collaborators:e.t5,createdBy:e.t6,createdTimestamp:e.t7,created:e.t8,modifiedTimestamp:e.t9,modified:e.t10});case 18:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(c.a)(o.a.mark(function e(t){var n,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.data().archivedAt?t.data().archivedAt.toDate():new Date,a=t.data().deleteAt?t.data().deleteAt.toDate():new Date,e.t0=r.a,e.t1={},e.next=6,y(t);case 6:return e.t2=e.sent,e.t3={archived:n,archivedTimestamp:n.getTime(),deleting:m(a),deletingTimestamp:a.getTime()},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),O=function(){return function(e,t,n){var a=(0,n.getFirestore)(),r=t();e({type:"SET_ARCHIVED_SITEMAPS",payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t,n,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.user,e.next=3,a.collection("sitemaps").where("team","==",t.token.team).where("archived","==",!0).where("deleteAt",">",new Date).orderBy("deleteAt","asc").get();case 3:return n=e.sent,e.next=6,Promise.all(n.docs.map(function(){var e=Object(c.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:return i=e.sent,e.abrupt("return",{data:i});case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){})}},w=function(e){return function(t,n,a){var r=a.getFirestore,i=n(),s=r(),u=i.sitemaps.archived.data;t({type:"RETRIEVE_ARCHIVED_SITEMAPS",payload:function(){var t=Object(c.a)(o.a.mark(function t(){var n;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Promise,t.next=3,e.map(function(){var e=Object(c.a)(o.a.mark(function e(t){var n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.doc("sitemaps/".concat(t)).get();case 2:return n=e.sent,e.next=5,E(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 3:return t.t1=t.sent,t.next=6,t.t0.all.call(t.t0,t.t1);case 6:return n=t.sent,t.abrupt("return",{data:l.a.union(l.a.compact(u),l.a.compact(n))});case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(e){})}},x=function(e){return function(t,n,a){var i=a.getFirestore,s=n(),u=i(),p=e.sitemapId,f=s.sitemaps.active.data?s.sitemaps.active.data:[],g=l.a.partition(f,function(e){return e.id!==p}),h=l.a.compact(g[0]),v=s.sitemaps.archived.data?s.sitemaps.archived.data:[],b=new Date,y=b.setDate((new Date).getDate()+30),E=Object(r.a)({},g[1][0],{archived:b,archivedTimestamp:b,deleting:m(y),deletingTimestamp:y});v.unshift(E),t({type:"ARCHIVE_SITEMAPS",meta:{data:{active:h,archived:v}},payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.doc("sitemaps/".concat(p)),(n=new Date).setDate(n.getDate()+30),e.next=5,t.update({archived:!0,archivedAt:new Date,deleteAt:n});case 5:d.a.getInstance().logEvent("ARCHIVED_SITEMAP",{id:p});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},j=function(e){return function(t,n,a){var r=a.getFirestore,i=n(),s=r(),u=e.sitemapId,p=i.sitemaps.archived.data?i.sitemaps.archived.data:[],m=l.a.partition(p,function(e){return e.id!==u}),f=l.a.compact(m[0]),g=i.sitemaps.active.data?i.sitemaps.active.data:[],h=m[1][0];g.unshift(h),t({type:"RESTORE_SITEMAPS",meta:{data:{archived:f,active:g}},payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.doc("sitemaps/".concat(u)),e.next=3,t.update({archived:!1,archivedAt:null,deleteAt:null});case 3:d.a.getInstance().logEvent("RESTORED_SITEMAP",{id:u});case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){})}},S=function(e){return function(t,n,a){a.getFirestore;var r=n().sitemaps.active.data;t({type:"SORT_ACTIVE_SITEMAPS",sortBy:e,data:k(e,r)})}},C=function(e){return function(t,n,a){a.getFirestore;var r=n().sitemaps.archived.data;t({type:"SORT_ARCHIVED_SITEMAPS",sortBy:e,data:k(e,r)})}},A=function(e){return function(t,n,a){a.getFirestore;var r=n().sitemaps.shared.data;t({type:"SORT_COLLABORATING_SITEMAPS",sortBy:e,data:k(e,r)})}},k=function(e,t){return"name"===e?l.a.orderBy(t,[function(e){return e.name.toLowerCase()}],["asc"]):"domain"===e?l.a.orderBy(t,[function(e){return e.domain.toLowerCase()}],["asc"]):"deletingTimestamp"===e?l.a.orderBy(t,e,["asc"]):l.a.orderBy(t,e,["desc"])},R=function(){return function(e,t,n){var a=n.getFirestore,r=t(),i=a();e({type:"DELETE_USER_SITEMAP",payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.firebase.auth.uid,e.next=3,i.doc("sitemaps/".concat(t,"/data/pages")).delete();case 3:return e.next=5,i.doc("sitemaps/".concat(t,"/data/covers")).delete();case 5:return e.next=7,i.collection("user-flows").where("sitemap","==",t).orderBy("updatedAt").get();case 7:if((n=e.sent).empty){e.next=11;break}return e.next=11,Promise.all(n.docs.map(function(){var e=Object(c.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.doc("user-flows/".concat(t.id)).delete();case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 11:return e.next=13,i.doc("sitemaps/".concat(t)).delete();case 13:return d.a.getInstance().logEvent("DELETED_SITEMAP",{id:t}),e.abrupt("return",{data:[]});case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},D=function(){return function(e,t,n){var a=(0,n.getFirestore)(),r=t();e({type:"SET_COLLABORATING_SITEMAPS",payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t,n,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=r.user).sitemaps){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Promise.all(t.sitemaps.collaborating.map(function(){var e=Object(c.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.doc("sitemaps/".concat(t)).get();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 5:return n=e.sent,e.next=8,Promise.all(l.a.compact(n.map(function(){var e=Object(c.a)(o.a.mark(function e(t){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 8:if(!(i=e.sent)){e.next=11;break}return e.abrupt("return",{data:i});case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){return e})}},I=function(e,t){return function(n,a,i){var s=(0,i.getFirestore)(),l=a().user;n({type:"PROCESS_NEW_SITEMAP",meta:{sitemap:Object(r.a)({id:t},e)},payload:function(){var n=Object(c.a)(o.a.mark(function n(){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.doc("sitemaps_processing/".concat(t)).set(Object(r.a)({createdAt:new Date,createdBy:l.id,team:l.token.team},e));case 2:return n.abrupt("return",{sitemap:Object(r.a)({id:t},e)});case 3:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},T=function(){var e=localStorage.getItem("sitemaps-view");return!e||"list"!==e&&"grid"!==e?"list":e},P=function(e){return function(t,n,a){a.getFirestore;localStorage.setItem("sitemaps-view",e),t({type:"CHANGE_SITEMAPS_VIEW",view:e})}},N=function(){return function(e,t,n){n.getFirestore;e({type:"UPLOADING_CSV_FILE"})}},L=function(e){return function(t,n,a){a.getFirestore;t({type:"UPLOADING_CSV_FILE_PROGRESS",progress:e})}},F=function(){return function(e,t,n){n.getFirestore;e({type:"UPLOADED_CSV_FILE"})}},z=function(e){return function(t,n,a){a.getFirestore;t({type:"UPLOADING_CSV_FILE_ERROR",error:e})}},M=function(e){return function(t,n,a){a.getFirestore;t({type:"PROCESSING_CSV",processing:e})}},B=function(e){var t=e.id,n=e.error;return function(e,a,r){r.getFirestore;e({type:"PROCESSED_CSV",id:t,error:n})}},U=function(){return function(e,t,n){var a=n.getFirestore,r=t(),i=a();e({type:"CLEAR_PROCESSED_CSV",payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.sitemaps.processing.csv)||!t.id){e.next=4;break}return e.next=4,i.doc("sitemaps_processing/".concat(t.id)).delete();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},W=function(){return function(e,t,n){n.getFirestore;e({type:"UPLOADING_XML_FILE"})}},_=function(e){return function(t,n,a){a.getFirestore;t({type:"UPLOADING_XML_FILE_PROGRESS",progress:e})}},V=function(){return function(e,t,n){n.getFirestore;e({type:"UPLOADED_XML_FILE"})}},G=function(e){return function(t,n,a){a.getFirestore;t({type:"UPLOADING_XML_FILE_ERROR",error:e})}},H=function(e){return e.url&&(e.domain=q(e.url)),function(t,n,a){a.getFirestore;t({type:"PROCESSING_XML",processing:e})}},Y=function(e){var t=e.id,n=e.error;return function(e,a,r){r.getFirestore;e({type:"PROCESSED_XML",id:t,error:n})}},X=function(){return function(e,t,n){var a=n.getFirestore,r=t(),i=a();e({type:"CLEAR_PROCESSED_XML",payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.sitemaps.processing.xml)||!t.id){e.next=4;break}return e.next=4,i.doc("sitemaps_processing/".concat(t.id)).delete();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},Z=function(e){return e.url&&(e.domain=q(e.url)),function(t,n,a){a.getFirestore;t({type:"PROCESSING_CRAWL",processing:e})}},K=function(e){var t=e.id,n=e.error;return function(e,a,r){r.getFirestore;e({type:"PROCESSED_CRAWL",id:t,error:n})}},Q=function(){return function(e,t,n){var a=n.getFirestore,r=t(),i=a();e({type:"CLEAR_PROCESSED_CRAWL",payload:function(){var e=Object(c.a)(o.a.mark(function e(){var t;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.sitemaps.processing.crawl)||!t.id){e.next=4;break}return e.next=4,i.doc("sitemaps_processing/".concat(t.id)).delete();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){})}},q=function(e){var t=e.replace("http://","").replace("https://","").split(/[\/?#]/)[0];return"https://".concat(t)},J=function(e,t){var n=t.changedName,r=t.changedDomain,i=t.changedDescription,o=t.changedCollaborators;return function(t,c,s){s.getFirestore;var l=c();t({type:"MERGE_SITEMAP_DOC_EDITS_TO_ACTIVE_SITEMAPS",data:Object(a.a)(l.sitemaps.active.data.map(function(t){return t.id===e&&(n&&(t.name=n),r&&(t.domain=r),i&&(t.description=i),o&&(t.collaborators=o)),t}))})}},$=function(e){return function(t,n,a){a.getFirestore;t({type:"SWITCH_SITEMAPS_TAB",tab:e})}}},,,,function(e,t,n){"use strict";var a=n(43),r={auth:{switching:{}},user:{},organization:{},organizations:[],users:{loaded:!1,byId:{}},teams:{loaded:!1,byId:{}},sitemap:{data:{nodes:[],links:[]},covers:{pages:{default:"landing-pages/content-4"},device:"desktop",loaded:!1},pallette:{header:"#66BBFF",baseColors:["#F0F8FF","#D9EEFF","#C0E3FF","#A6D7FF","#9AD2FF","#8DCCFF","#66BBFF","#43A1EC"],colors:["#F0F8FF","#D9EEFF","#C0E3FF","#A6D7FF","#9AD2FF","#8DCCFF","#66BBFF","#43A1EC"]},comments:{},history:{undo:[],redo:[]},changes:{pages:{data:[],saving:!1,error:null,errorCount:0},covers:{data:[],saving:!1,error:null,errorCount:0},comments:{data:[],saving:!1,error:null,errorCount:0}},ui:{NotificationsDropdown:{showing:!1},ContextMenuDropdown:{showing:!1,offset:[]},PalletteDropdown:{showing:!1,header:null},AddPageCommentPopover:{offset:[]},PageCommentsPopover:{offset:[]},EditPageUrlPopover:{offset:[]},SelectCoverModal:{showing:{},capturing:{}},ShareModal:{showing:!1,error:null},OverflowModal:{showing:!1,pages:[]},FullscreenCoverDrawer:{showing:!1},ExportPDFDrawer:{showing:!1},AddCollaboratorForm:{},DeleteCoversConfirm:{showing:!1},SitemapPageLimitMessaging:{showing:!1},ProductsTab:"pages",CommentsPopover:{showing:!1,view:"mine",lastOpen:new Date},ChatDrawer:{showing:!1,lastOpen:new Date},PageDrawer:{showing:!1,page:{}}}},flows:{loading:!1,loaded:!1,selected:null,byId:{},history:{undo:[],redo:[]},changes:{data:[],saving:!1,error:null,errorCount:0},ui:{OptionsPopover:{offset:[],showing:!1},LinkedPagePopover:{offset:[],showing:!1},PageDrawer:{showing:!1},ExportPDFDrawer:{showing:!1},FlowsSelect:{showing:!1}},utils:{NewConnectorLine:{showing:!1},mouseoverSymbol:!1,mouseoverConnector:!1,mouseoverIcon:!1}},sitemaps:{tab:"active",view:Object(a.g)(),active:{loading:!1,loaded:!1,data:[],toRetrieve:[],retrieving:!1,sortBy:"modifiedTimestamp"},archived:{loading:!1,loaded:!1,data:[],toRetrieve:[],retrieving:!1,sortBy:"deletingTimestamp"},shared:{loading:!1,loaded:!1,data:[],sortBy:"modifiedTimestamp"},processing:{csv:{uploading:!1,progress:1,uploaded:!1},xml:{file:{uploading:!1,progress:1,uploaded:!1}},crawl:{},beta:{}}},ui:{sideMenu:{collapsed:!1},sideDrawer:{collapsed:!0},navbar:{hidden:!1},OrganizationSettingsModal:{showing:!1,users:{},details:{}},EditSitemapModal:{showing:!1}}};t.a=r},,,,,,,function(e,t,n){"use strict";n(389);var a=n(179),r=n(2),i=(n(181),n(92)),o=(n(120),n(72)),c=n(8),s=n(9),l=n(10),u=n(12),p=n(3),d=n(4),m=n.n(d),f=n(15),g=(n(44),n(13)),h=n(6),v=n(0),b=n.n(v),y=n(32),E=n(46),O=n(17),w=n(7),x=n(14),j=n(20),S=n(75),C=n(21),A=n(33),k=(n(150),n(61)),R=(n(198),n(124)),D=(n(98),n(24)),I=(n(121),n(66));function T(){var e=Object(h.a)(["\nwidth: 180px !important;\n.ant-dropdown-menu-item {\n    padding-right: 18px !important;\n    &:hover {\n        background: aliceblue !important;\n    }\n    .anticon {\n        font-size: 16px;\n        vertical-align: -0.2em;\n        margin-left: 6px;\n        padding-right: 9px !important;\n    }\n    &:last-child {\n        margin-bottom: 0px;\n    }\n}\n"]);return T=function(){return e},e}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var N=function(e){Object(l.a)(n,e);var t=P(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.sitemap.ui.ContextMenuDropdown;return b.a.createElement(I.a,{visible:e.showing,overlay:z(this.props),align:{offset:e.offset},overlayClassName:"sitemap-pages-contextmenu-dropdown",getPopupContainer:function(){return document.getElementById("context-menu-mask")}},b.a.createElement(b.a.Fragment,null))}}]),n}(v.Component),L=Object(w.a)(D.a)(T()),F=g.a.createFromIconfontCN({scriptUrl:"//at.alicdn.com/t/font_1023423_pcs217tp9l.js"}),z=function(e){var t=e.sitemap,n=e.handleSelectedItem,a=e.handleAddPage,r=e.handleDeletePage,i=e.handleRenamePage,o=e.handleEditPageURL,c=e.handleClone,s=e.handleComments,l=e.handleSection,u=e.handleOpenPageOptionsDrawer,p=t.ui.ContextMenuDropdown.node;return p?b.a.createElement(L,{onClick:n},"nodes"!==t.format&&("full"===t.editLevel||"edit"===t.editLevel)&&b.a.createElement(D.a.Item,{key:"add",onClick:function(){return a(p)}},b.a.createElement(g.a,{type:"plus"}),b.a.createElement("span",null,"Add Page")),"nodes"!==t.format&&p.parent&&("full"===t.editLevel||"edit"===t.editLevel)&&b.a.createElement(D.a.Item,{key:"delete",onClick:function(){return r(p)}},b.a.createElement(g.a,{type:"delete"}),b.a.createElement("span",null,"Delete Page")),"nodes"!==t.format&&("full"===t.editLevel||"edit"===t.editLevel)&&"nodes"!==t.format&&b.a.createElement(D.a.Item,{key:"rename",onClick:function(){return i(p)}},b.a.createElement(g.a,{type:"edit"}),b.a.createElement("span",null,"Rename Page")),"nodes"!==t.format&&("full"===t.editLevel||"edit"===t.editLevel)&&b.a.createElement(D.a.Item,{key:"editPageUrl",onClick:function(){return o(p)}},b.a.createElement(g.a,{type:"link"}),b.a.createElement("span",null,"Edit Page URL")),"nodes"!==t.format&&p.parent&&("full"===t.editLevel||"edit"===t.editLevel)&&b.a.createElement(D.a.Item,{key:"clone",onClick:function(){return c(p)}},b.a.createElement(g.a,{type:"copy"}),b.a.createElement("span",null,"Clone")),"nodes"!==t.format&&b.a.createElement(D.a.Item,{key:"comments",onClick:function(){return s(p)}},b.a.createElement(F,{type:"icon-bubble-"}),b.a.createElement("span",null,t.comments[p.id]?"View Comments":t.editLevel?"Add Comment":"View Comments")),p.parent&&(p.children||p._children)&&b.a.createElement(D.a.Item,{key:"section",onClick:function(){return l(p)}},b.a.createElement(g.a,{type:"switcher"}),b.a.createElement("span",null,"Section")),b.a.createElement(D.a.Divider,{style:{marginTop:3,marginBottom:3}}),b.a.createElement(D.a.Item,{key:"page-options",onClick:function(){return u(p)}},b.a.createElement(g.a,{type:"folder-open"}),b.a.createElement("span",null,"Open Side Panel"))):null},M=N,B=n(199),U=n(164),W=n(359),_=n(18);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var G=function(e){Object(l.a)(n,e);var t=V(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSelectedItem=function(){return Object(B.a)()},e.handleAddPage=function(e){return Object(U.a)(e)},e.handleDeletePage=function(e){return Object(U.d)(e)},e.handleRenamePage=function(e){return Object(U.e)(e)},e.handleEditPageURL=function(t){if(t){var n=Object(_.a)(t),a=n.x,r=n.y,i=a+225*C.e.k+5,o=r-7.5;e.props.showEditPageURLPopover({page:t.id,node:t,offset:[i,o]})}},e.handleClone=function(e){return Object(U.c)(e)},e.handleComments=function(e){return Object(W.a)(e)},e.handleSection=function(){var t=Object(f.a)(m.a.mark(function t(n){var a;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(A.c)(Object(A.h)(n));case 2:a=t.sent,e.props.initSection(a);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e.handleOpenPageOptionsDrawer=function(t){return e.props.togglePageDrawer(t)},e}return Object(s.a)(n,[{key:"render",value:function(){return b.a.createElement(M,Object.assign({handleSelectedItem:this.handleSelectedItem,handleAddPage:this.handleAddPage,handleDeletePage:this.handleDeletePage,handleRenamePage:this.handleRenamePage,handleEditPageURL:this.handleEditPageURL,handleClone:this.handleClone,handleComments:this.handleComments,handleSection:this.handleSection,handleOpenPageOptionsDrawer:this.handleOpenPageOptionsDrawer},this.props))}}]),n}(v.Component),H=Object(O.b)(function(e){return e},function(e){return Object(y.b)({initSection:j.y,showEditPageURLPopover:j.Q,togglePageDrawer:j.cb},e)})(G),Y=n(23),X=(n(79),n(25)),Z=(n(168),n(96)),K=(n(97),n(56)),Q=(n(45),n(19)),q=(n(324),n(203)),J=(n(116),n(73)),$=n(22),ee=n(39),te=n(58);function ne(){var e=Object(h.a)(["\n  .ant-card-body {\n    padding: 0 !important;\n  }\n"]);return ne=function(){return e},e}function ae(){var e=Object(h.a)(["\n  margin: 0 !important;\n  border: 2px solid white;\n"]);return ae=function(){return e},e}function re(){var e=Object(h.a)(["\n  height: 30px !important;\n  padding: 0px 9px !important;\n  font-size: 14px !important;\n  font-weight: 600 !important;\n  letter-spacing: -.02rem;\n"]);return re=function(){return e},e}function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var oe=window.$,ce=function(e){Object(l.a)(n,e);var t=ie(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.sitemap.ui.AddPageCommentPopover;return b.a.createElement(J.a,{placement:"rightTop",popupAlign:{offset:e.offset},destroyPopupOnHide:!0,content:b.a.createElement(ge,{AddPageCommentPopover:e}),overlayClassName:"add-comment-popover",visible:e.showing})}}]),n}(v.Component),se=function(e){Object(l.a)(n,e);var t=ie(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputVal:void 0,mentionsSearch:""},e.onChange=function(t){return e.setState({inputVal:t}),t},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){oe(document).on("click","#interactions-canvas",te.i),oe(".textarea-with-mentions textarea").each(function(){Object(te.a)(this)}).on("input",function(){Object(te.a)(this)})}},{key:"componentWillUnmount",value:function(){oe("#svg-main").unbind("click")}},{key:"render",value:function(){var e=this,t=this.props,n=t.user,a=t.sitemap,i=t.hidePopover,o=t.handleSubmit,c=t.form.getFieldDecorator,s=!this.state.inputVal,l=a.id===n.id;return b.a.createElement(pe,{bordered:!1,style:{width:250,padding:9}},b.a.createElement("div",null,b.a.createElement(ue,{style:{marginTop:5},src:Object(ee.a)({user:n})}),b.a.createElement("h4",{style:{display:"inline-block",marginLeft:12,fontWeight:500,fontSize:14}},n.firstName," ",n.lastName),l&&b.a.createElement("div",{style:{textAlign:"center",display:"flex",height:40}},b.a.createElement($.b,{to:"/organizations/new",style:{fontWeight:500,margin:"auto"}},"Upgrade to add comments")),!l&&b.a.createElement(X.a,{onSubmit:o,className:"add-comment-form",style:{marginTop:9}},b.a.createElement(X.a.Item,{style:{marginBottom:3}},c("comment",{rules:null,getValueFromEvent:this.onChange})(b.a.createElement(q.a,{notFoundContent:b.a.createElement(b.a.Fragment,null),onSearch:function(t){e.setState({mentionsSearch:t})},filterOption:function(e,t){return t.children},autoFocus:!0,className:"textarea-with-mentions",placeholder:"Comment or add others with @",onChange:this.onChange},Object(te.j)(Object(r.a)({$this:this},this.props))))),b.a.createElement(X.a.Item,{style:{marginBottom:0}},b.a.createElement(le,{type:"primary",htmlType:"submit",style:{marginRight:12},className:s&&"disabled",disabled:s,onClick:function(e){return e.stopPropagation()}},"Comment"),b.a.createElement(le,{onClick:i},"Cancel")))))}}]),n}(v.Component),le=Object(w.a)(Q.a)(re()),ue=Object(w.a)(K.a)(ae()),pe=Object(w.a)(Z.a)(ne());function de(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var me=function(e){Object(l.a)(n,e);var t=de(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return b.a.createElement(ce,this.props)}}]),n}(v.Component),fe=Object(O.b)(function(e){return e})(me),ge=Object(O.b)(function(e){return Object(r.a)({},e,{members:e.sitemap.members})},function(e){return Object(y.b)({hideAddPageCommentPopover:j.o,addCommentsChange:j.a},e)})(X.a.create({name:"add-comment-form"})(function(e){Object(l.a)(n,e);var t=de(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var n=e.props,a=n.form,r=n.user,i=n.sitemap,o=n.members,c=n.addCommentsChange;a.validateFieldsAndScroll(function(e,t){var n=t.comment;if(!e){Object(te.h)(n)&&o.forEach(function(e){return n=n.replaceAll("@".concat(e.firstName," ").concat(e.lastName),"@".concat(e.id))});var a=i.ui.AddPageCommentPopover.page,s=Object(Y.a)({},a,Object(Y.a)({},(new Date).getTime(),{user:r.id,comment:n})),l={id:(new Date).getTime(),data:[s]};c({change:l,comment:s})}})},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.sitemap.ui.AddPageCommentPopover,n=t.page,a=t.node,r=t.showing;this.props.sitemap.comments[n]&&!e.sitemap.comments[n]&&r&&(this.props.hideAddPageCommentPopover(),Object(te.m)(a))}},{key:"render",value:function(){return b.a.createElement(se,Object.assign({members:this.props.members,hidePopover:this.props.hideAddPageCommentPopover,handleSubmit:this.handleSubmit},this.props))}}]),n}(v.Component))),he=(n(87),n(26)),ve=n(367),be=n.n(ve),ye=n(960);function Ee(){var e=Object(h.a)(["\n  margin: 0 !important;\n  border: 2px solid #fafafa;\n"]);return Ee=function(){return e},e}function Oe(){var e=Object(h.a)(["\n  height: 30px !important;\n  padding: 0px 9px !important;\n  font-size: 14px !important;\n  font-weight: 600 !important;\n  letter-spacing: -.02rem;\n"]);return Oe=function(){return e},e}function we(){var e=Object(h.a)(["\n  display: block !important;\n  &:first-child {\n    margin-top: 0px !important;\n  }\n  margin-top: 9px !important;\n  padding: 0 !important;\n  padding-bottom: 12px !important;\n  font-size: 1em !important;\n  &:not(:last-child) {\n    border-bottom: 1px solid #e8e8e8 !important;\n  }\n  \n  .ant-list-item-meta {\n    margin-bottom: 9px !important;\n    .ant-list-item-meta-avatar {\n      margin-right: 12px !important;\n    }\n    .ant-list-item-meta-title {\n      margin-bottom: 0px !important;\n      margin-top: -4px !important;\n      p {\n        margin-bottom: 0;\n        font-weight: 500 1important;\n        font-size: 14px !important;\n      }\n    }\n    .ant-list-item-meta-description {\n      font-size: 13px !important;\n      margin-top: -3px !important;\n    }\n  }\n  &.editing {\n  padding-bottom: 0px !important;\n  }\n"]);return we=function(){return e},e}function xe(){var e=Object(h.a)(["\n  width: 280px !important;\n  padding: 9px !important;\n  padding-bottom: 3px !important;\n  max-height: 50vh !important;\n  overflow-y: scroll !important;\n"]);return xe=function(){return e},e}function je(){var e=Object(h.a)(["\n  width: 30px !important;\n  border: none !important;\n  padding: 0 !important;\n  float: right !important;\n  margin-top: -18px;\n  margin-right: -4px !important;\n  font-size: 18px !important;\n  height: 26px !important;\n"]);return je=function(){return e},e}function Se(){var e=Object(h.a)(["\n  margin: 0px !important;\n  padding-top: 0px !important;\n  padding-right: 9px !important;\n  padding-left: 9px !important;\n  position: sticky !important;\n  bottom: 0px !important;\n  width: 100% !important;\n  background: white !important;\n  &.editing {\n    padding: 0px !important;\n    padding-bottom: 4px !important;\n  }\n"]);return Se=function(){return e},e}function Ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Ae=window.$,ke=function(e){Object(l.a)(n,e);var t=Ce(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.sitemap.ui.PageCommentsPopover;return b.a.createElement(J.a,{placement:"rightTop",popupAlign:{offset:e.offset},content:b.a.createElement(He,{PageCommentsPopover:e}),overlayClassName:"page-comments-popover",visible:e.showing})}}]),n}(v.Component),Re=function(e){Object(l.a)(n,e);var t=Ce(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputVal:void 0,mentionsSearch:"",showButtons:!1,editing:void 0},e.scrollToBottom=function(){ye.animateScroll.scrollToBottom({containerId:"page-comments-list",duration:0})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){Ae(document).on("click","#interactions-canvas",te.i),Ae(".textarea-with-mentions textarea").each(function(){Object(te.a)(this)}).on("input",function(){Object(te.a)(this)}),this.scrollToBottom()}},{key:"componentWillUnmount",value:function(){Ae("#svg-main").unbind("click")}},{key:"render",value:function(){var e=this,t=this.props,n=t.form,a=t.sitemap,i=t.comments,o=t.user,c=n.setFieldsValue,s=this.state.editing;return i?b.a.createElement("div",null,b.a.createElement(Fe,{id:"page-comments-list",itemLayout:"horizontal",dataSource:i,renderItem:function(t){return b.a.createElement(ze,{className:s===t.id&&"editing"},b.a.createElement(he.a.Item.Meta,{avatar:b.a.createElement(Be,{style:{marginTop:5},src:"removed"!==t.user.id?Object(ee.a)({user:t.user}):null}),title:b.a.createElement(b.a.Fragment,null,b.a.createElement("p",null,t.user.firstName," ",t.user.lastName),a.editLevel&&(t.user.id===o.id||"removed"===t.user.id)&&b.a.createElement(I.a,{placement:"bottomRight",overlay:b.a.createElement(D.a,null,t.user.id===o.id&&b.a.createElement(D.a.Item,{style:{textAlign:"center",fontSize:14,padding:"2px 12px",fontWeight:500},key:"edit",onClick:function(){e.setState({editing:t.id}),c({comment:t.comment.string}),Pe(".textarea-with-mentions.editing",function(){Ae(".textarea-with-mentions.editing textarea").each(function(){Object(te.a)(this)}).on("input",function(){Object(te.a)(this)})})}},"Edit"),(t.user.id===o.id||"removed"===t.user.id)&&b.a.createElement(D.a.Item,{style:{textAlign:"center",fontSize:14,padding:"2px 12px",fontWeight:500,color:"#E7004C"},key:"delete",onClick:function(){var n=a.ui.PageCommentsPopover.page;Object(te.e)(e.props,n,t)}},"Delete")),trigger:["click"]},b.a.createElement(Le,{icon:"more",onClick:function(){return"clicked"}}))),description:t.time}),b.a.createElement(be.a,{properties:{target:"_blank",style:{fontWeight:"bold"}}},b.a.createElement("span",{style:{whiteSpace:"pre-wrap",fontSize:14,overflowWrap:"break-word"}},s!==t.id&&t.comment.rendered,s===t.id&&b.a.createElement(De,{props:Object(r.a)({$this:e},e.props,{scrollToBottom:e.scrollToBottom})}))))}}),!s&&a.editLevel&&b.a.createElement(De,{props:Object(r.a)({$this:this},this.props,{scrollToBottom:this.scrollToBottom})})):null}}]),n}(v.Component),De=function(e){var t=e.props,n=t.$this,a=t.form,r=t.sitemap,i=t.scrollToBottom,o=a.getFieldDecorator,c=a.setFieldsValue,s=n.state,l=s.editing,u=s.showButtons,p=!s.inputVal,d=!(!u&&!l);return b.a.createElement(Ne,{className:"comment-reply-form ".concat(l&&"editing"),style:{marginTop:0,padding:"0px 9px",paddingBottom:!u&&9}},b.a.createElement(X.a.Item,{style:{marginBottom:0}},o("comment",{rules:null,getValueFromEvent:function(e){return Ie(e,n)}})(b.a.createElement(q.a,{notFoundContent:b.a.createElement(b.a.Fragment,null),onSearch:function(e){return n.setState({mentionsSearch:e})},filterOption:function(e,t){return t.children},className:"textarea-with-mentions ".concat(l?"editing":""),placeholder:l?"":"Reply...",onChange:function(e){return Ie(e,n)},onFocus:function(){l||n.setState({showButtons:!0})}},Object(te.j)(t)))),d&&b.a.createElement(X.a.Item,{style:{marginBottom:0,paddingBottom:4}},b.a.createElement(Me,{type:"primary",htmlType:"submit",style:{marginRight:12},className:p&&"disabled",disabled:p,onClick:function(e){var a=r.ui.PageCommentsPopover.page;l?Object(te.f)(e,t,a,l):Object(te.g)(e,t,a),Te(n,c),setTimeout(function(){return i()},500)}},l?"Save":"Reply"),b.a.createElement(Me,{onClick:function(){Te(n,c)}},"Cancel")))},Ie=function(e,t){return t.setState({inputVal:e}),e},Te=function(e,t){e.setState({showButtons:!1,editing:void 0}),t({comment:""}),Object(te.k)()},Pe=function e(t,n){Ae(t).length?n():setTimeout(function(){e(t,n)},5)},Ne=Object(w.a)(X.a)(Se()),Le=Object(w.a)(Q.a)(je()),Fe=Object(w.a)(he.a)(xe()),ze=Object(w.a)(he.a.Item)(we()),Me=Object(w.a)(Q.a)(Oe()),Be=Object(w.a)(K.a)(Ee()),Ue=n(5),We=n.n(Ue);function _e(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Ve=function(e){Object(l.a)(n,e);var t=_e(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return b.a.createElement(ke,this.props)}}]),n}(v.Component),Ge=Object(O.b)(function(e){return Object(r.a)({},e)})(Ve),He=Object(O.b)(function(e){return Object(r.a)({},e,{members:e.sitemap.members,comments:Ye(e)})},function(e){return Object(y.b)({addCommentsChange:j.a,hidePageCommentsPopover:j.u},e)})(X.a.create({name:"add-comment-form"})(function(e){Object(l.a)(n,e);var t=_e(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.comments,n=e.user;return t?b.a.createElement(Re,Object.assign({comments:t,user:n},this.props)):null}}]),n}(v.Component))),Ye=function(e){var t=e.sitemap,n=t.comments,a=t.members;if(n){var r=t.ui.PageCommentsPopover.page;if(n[r]){var i=n[r]&&Object.keys(n[r])[0],o=We.a.compact(We()(n[r]).map(function(t,n){if(t&&n){var r=We.a.cloneDeep(t);r.id=n,r.time=Object(te.c)(n);var o=Object(te.d)(e,t.user,a);return o&&(r.user=o),n!==i&&(r.parent=i),r.comment=Object(te.b)(e,r.comment),r}}).value()),c=We.a.sortBy(o,"id");return o.length>0?c:void 0}}},Xe=(n(1385),n(992)),Ze=(n(196),n(128)),Ke=(n(237),n(103)),Qe=(n(122),n(62)),qe=(n(82),n(41)),Je=n(99),$e=n(163);function et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function tt(){var e=Object(h.a)(["\n&.loading {\n  div:first-of-type {\n    display: flex;\n    margin: auto;\n  }\n}\n"]);return tt=function(){return e},e}function nt(){var e=Object(h.a)(["\n  border-bottom: 1px solid #eeefef !important;\n  .ant-list-item {\n    margin-bottom: 8px !important;\n    &:hover {\n      cursor: pointer;\n      p {\n        color: #00a7e1;\n      }\n    }\n    img {\n      max-height: 108px;\n      margin-top: 8px;\n      // border: 1px solid #7e8c9b4d;\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 3px;\n    }\n    p {\n      text-align: center;\n      text-transform: capitalize;\n      width: 106px;\n      font-size: 12px;\n      margin-top: 9px;\n      font-weight: 500;\n      overflow: hidden !important;\n      text-overflow: ellipsis !important;\n      white-space: nowrap !important;\n    }\n  }\n  .ant-col {\n    width: unset !important;\n    padding-left: 13px !important;\n    padding-right: 0px !important;\n  }\n"]);return nt=function(){return e},e}var at=qe.a.Search,rt=Object(w.a)(he.a)(nt()),it=Object(w.a)(Je.Scrollbars)(tt()),ot=function(e){Object(l.a)(n,e);var t=et(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.canEdit,n=e.collections,a=e.setDefault,r=e.handleSearchChange,i=e.handleDefaultChange,c=e.handleCollectionSave,s=e.searched,l=e.selected,u=e.visible;return b.a.createElement("div",null,b.a.createElement("div",{style:{padding:24}},!t&&b.a.createElement(Qe.a,{style:{marginBottom:24},message:"You don't have permission to edit this sitemap. Any changes will not be saved.",type:"warning",showIcon:!0}),b.a.createElement(at,{placeholder:"Search...",value:s,onChange:r,style:{marginBottom:18}}),b.a.createElement(it,{style:{height:"calc(100vh - 342px)",borderTop:"1px solid #eeefef"}},(!u||!n)&&b.a.createElement("div",{style:{display:"flex",margin:"auto",height:"calc(100vh - 326px)"}},b.a.createElement(o.a,{className:"center",indicator:b.a.createElement(g.a,{type:"loading",style:{width:52,height:52,fontSize:52},spin:!0})})),u&&n&&Object.keys(n).map(function(e){if("header"===e)return null;var t=We()(n[e]).map(function(e){return Object.assign({},e)}).value().filter(function(e){return s?-1!==e.name.toLocaleLowerCase().indexOf(s):e});return s&&0===t.length?null:b.a.createElement("div",{key:e},b.a.createElement("h4",{style:{marginTop:12,textTransform:"capitalize"}},e.replace(/-/g," ")),b.a.createElement(rt,{key:e,grid:{gutter:18,column:4},dataSource:t||[],renderItem:function(e){return b.a.createElement(he.a.Item,{onClick:function(){return c(e.key)}},b.a.createElement("img",{alt:e.name,src:"data:image/svg+xml;base64,"+btoa(Object($e.c)(e.key)),style:{boxShadow:l===e.key&&"0 2px 8px #CFD2D3"}}),b.a.createElement("p",{style:{color:l===e.key&&"#00a7e1"}},e.name))}}))}))),t&&b.a.createElement("div",{style:{width:"100%",height:56,borderTop:"1px solid #eeefef"}},b.a.createElement(Ke.a,{checked:a,style:{float:"right",marginRight:18,height:56,display:"flex",alignItems:"center",fontSize:13,fontWeight:500},onChange:i},"Set default")))}}]),n}(v.Component);function ct(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var st=function(e){Object(l.a)(n,e);var t=ct(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searched:null,setDefault:!1},e.handleSearchChange=function(t){var n=t.target.value;e.setState({searched:n})},e.handleDefaultChange=function(t){var n=t.target.checked;e.setState({setDefault:n})},e.handleCollectionSave=function(t){if(e.props.canEdit){var n=e.state.setDefault,a=e.props.sitemap.ui.PageDrawer.page;if(t){var r,i=(r={},Object(Y.a)(r,a.id,{collection:t}),Object(Y.a)(r,"default",n?t:e.props.sitemap.covers.pages.default),r),o={id:(new Date).getTime(),data:[i]};e.props.addCoversChange({change:o,covers:i})}e.handleClose()}},e.handleClose=function(){return e.props.togglePageDrawer()},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.sitemap.ui.PageDrawer,n=e.sitemap.ui.PageDrawer;t.showing&&!n.showing&&this.setState({searched:null,setDefault:!1})}},{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.visible,a=t.ui.SelectCoverModal;return b.a.createElement(ot,{canEdit:this.props.canEdit,collections:this.props.sitemap.covers.collections,handleSearchChange:this.handleSearchChange,handleDefaultChange:this.handleDefaultChange,SelectCoverModal:a,handleCollectionSave:this.handleCollectionSave,handleClose:this.handleClose,searched:this.state.searched,selected:this.state.selected,setDefault:this.state.setDefault,visible:n,sitemapId:t.id})}}]),n}(v.Component),lt=Object(O.b)(function(e){return Object(r.a)({},e,{canEdit:"full"===e.sitemap.editLevel||"edit"===e.sitemap.editLevel})},function(e){return Object(y.b)({addCoversChange:j.b,togglePageDrawer:j.cb},e)})(st),ut=(n(192),n(78)),pt=(n(238),n(155)),dt=(n(127),n(68));n(335);function mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function ft(){var e=Object(h.a)(["\n    height: 400px !important;\n"]);return ft=function(){return e},e}var gt=n(202).a.Dragger,ht=Object(w.a)(gt)(ft()),vt=function(e){Object(l.a)(n,e);var t=mt(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.canEdit,n=e.inUserSitemap,a=e.page,r=e.customRequest,i=e.uploadProps,o=e.uploading,c=e.progress;return b.a.createElement("div",{style:{padding:24,height:"calc(100vh - 170px)"},id:"upload-cover-page-drawer"},!t&&b.a.createElement(Qe.a,{style:{marginBottom:24},message:"You don't have permission to edit this sitemap. Any changes will not be saved.",type:"warning",showIcon:!0}),n&&b.a.createElement(b.a.Fragment,null,b.a.createElement(Qe.a,{style:{marginBottom:24,textAlign:"center"},message:b.a.createElement($.b,{to:"/organizations/new",style:{fontWeight:500}},"Upgrade to upload your own custom cover"),type:"info",showIcon:!0}),b.a.createElement(dt.a,null)),b.a.createElement(b.a.Fragment,null,!o[a.id]&&b.a.createElement(ht,Object.assign({disabled:!(t&&!n)||!!o[a.id],customRequest:r},i,{showUploadList:!1,style:{background:"transparent"}}),b.a.createElement("p",{className:"ant-upload-drag-icon"},b.a.createElement(g.a,{type:"cloud-upload"})),b.a.createElement("p",{className:"ant-upload-text"},"Click or drag image to this area to upload"),b.a.createElement("p",{className:"ant-upload-hint"},"JPG/PNG files only. 5mb max file size.")),!0===o[a.id]&&b.a.createElement("div",{style:{display:"flex",padding:"18px 0px",alignItems:"center",height:"400px"}},b.a.createElement(pt.a,{style:{margin:"auto"},type:"circle",percent:c,width:112,strokeWidth:4,className:"sitemap-circle-upload-progress"}))))}}]),n}(v.Component),bt=n(65);function yt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Et=function(e){Object(l.a)(n,e);var t=yt(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={uploading:{},progress:50},e.uploadProps={name:"cover",accept:".png,.jpg,.jpeg",action:function(){var e=Object(f.a)(m.a.mark(function e(t){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),beforeUpload:function(e,t){var n=1===t.length;n||ut.a.error("Only one image can be uploaded at a time");var a="image/jpeg"===e.type||"image/png"===e.type;a||ut.a.error("Only a JPG/PNG image can be uploaded");var r=e.size/1024/1024<5;return r||ut.a.error("Image must be smaller than 5MB"),n&&a&&r},onStart:function(){var t=e.props,n=t.canEdit,a=t.inUserSitemap,i=t.sitemap.ui.PageDrawer.page,o=Object(r.a)({},e.state.uploading);o[i.id]=!0,n&&!a&&e.setState({uploading:o})},onProgress:function(t){var n=t.progress,a=t.pageId,r=e.props,i=r.canEdit,o=r.inUserSitemap,c=r.sitemap.ui.PageDrawer.page;i&&!o&&a===c.id&&e.setState({progress:n})},onSuccess:function(){var t=Object(f.a)(m.a.mark(function t(n){var a,i,o,c,s,l,u;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n.file,a=n.pageId,i=e.props,o=i.canEdit,c=i.inUserSitemap,s=i.sitemap,l=s.ui.PageDrawer.page,o&&!c&&a===l.id&&ut.a.success("Your image has been uploaded"),delete(u=Object(r.a)({},e.state.uploading))[a],e.setState({uploading:u});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),onError:function(t){var n=e.props,a=n.canEdit,r=n.inUserSitemap;a?r?ut.a.error("Upgrade to upload your own custom cover"):ut.a.error("We couldn't upload your image. Please try again"):ut.a.error("You don't have permission to edit this sitemap"),e.setState({uploading:!1})}},e.customRequest=function(){var t=Object(f.a)(m.a.mark(function t(n){var a,r,i,o,c,s,l;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n.file,r=n.onError,i=n.onSuccess,o=n.onProgress,c=e.props.sitemap,s=c.ui.PageDrawer.page,l=c.covers.device,Object(bt.getFirebase)().storage().ref().child("sitemaps/".concat(c.id,"/covers/").concat(s.id,"/").concat(l,"/cover.jpg")).put(a,{customMetadata:{sitemapId:c.id}}).on("state_changed",function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);o({progress:t=t<1?1:t,pageId:s.id})},function(e){return r(e)},function(){return i({file:a,pageId:s.id})});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){ut.a.config({getContainer:function(){return document.getElementById("upload-cover-page-drawer")},top:66})}},{key:"render",value:function(){var e=this.props,t=e.inUserSitemap,n=e.sitemap.ui.PageDrawer.page;return b.a.createElement(vt,{canEdit:this.props.canEdit,inUserSitemap:t,page:n,customRequest:this.customRequest,uploadProps:this.uploadProps,uploading:this.state.uploading,progress:this.state.progress})}}]),n}(v.Component),Ot=Object(O.b)(function(e){return Object(r.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id,canEdit:"full"===e.sitemap.editLevel||"edit"===e.sitemap.editLevel})})(Et),wt=(n(114),n(52)),xt=(n(452),n(254));function jt(){var e=Object(h.a)(["\n    float: right;\n    font-weight: 600;\n    top: 82px;\n    right: 39px;\n    position: absolute;\n\n    background: #323E48;\n    color: white;\n    \n    &:hover, &:active, &:focus {\n        background: #E7004C;\n        color: white !important;\n    }\n"]);return jt=function(){return e},e}function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Ct=function(e){Object(l.a)(n,e);var t=St(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={image:null,imageStatus:"loading",mouseoverImage:!1},e.handleImageLoaded=function(){e.setState({imageStatus:"loaded"})},e.handleClose=function(){e.props.hideSelectCoverModal()},e.handleCoverDelete=function(){var t=Object(f.a)(m.a.mark(function t(n){var a,r,i,o,c;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=n.page,r=n.device,i=e.props,o=i.sitemap,c=i.user,t.prev=2,e.setState({imageStatus:"deleting"}),x.store.firebase.functions().httpsCallable("deleteCoverFromStorage")({sitemapId:o.id,page:a,device:r}),t.next=9;break;case 7:t.prev=7,t.t0=t.catch(2);case 9:return t.prev=9,t.next=12,Object(j.l)({firestore:x.store.firestore,sitemapId:o.id,page:a,device:r,user:c}).catch(function(e){return console.error(e)});case 12:return e.setState({imageStatus:"loading"}),t.finish(9);case 14:case"end":return t.stop()}},t,null,[[2,7,9,14]])}));return function(e){return t.apply(this,arguments)}}(),e}return Object(s.a)(n,[{key:"componentWillUnmount",value:function(){this.setState({imageStatus:"loading"})}},{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.customCover,a=t.ui.PageDrawer.page,r=t.covers.device;return n&&Rt({$this:this,sitemap:t,customCover:n,page:a.id,device:r,handleCoverDelete:this.handleCoverDelete,handleImageLoaded:this.handleImageLoaded,imageStatus:this.state.imageStatus,mouseoverImage:this.state.mouseoverImage})}}]),n}(v.Component),At=Object(O.b)(function(e){return Object(r.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id})},function(e){return Object(y.b)({hideSelectCoverModal:j.v,cancelCaptureCoverFromWebsite:j.e},e)})(Ct),kt=Object(w.a)(Q.a)(jt()),Rt=function(e){var t=e.$this,n=e.sitemap,a=e.customCover,r=e.page,i=e.device,c=e.handleCoverDelete,s=e.handleImageLoaded,l=e.imageStatus,u=e.mouseoverImage,p="full"===n.editLevel||"edit"===n.editLevel;return b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{style:{padding:24,background:"rgba(249, 249, 249, 0.5)"}},b.a.createElement("div",{style:{width:"100%",height:"calc(100vh - 172px)",overflowY:"scroll",display:"loading"===l?"flex":"block",alignItems:"center",justifyContent:"center"},onMouseOver:function(){return t.setState({mouseoverImage:!0})},onMouseLeave:function(){return t.setState({mouseoverImage:!1})}},b.a.createElement("img",{style:{width:"100%",display:"loaded"===l||"deleting"===l?"block":"none"},src:a.downloadURL,onLoad:s}),"loading"===l&&b.a.createElement(o.a,{indicator:b.a.createElement(g.a,{type:"loading",style:{fontSize:48},spin:!0})}),p&&("loaded"===l||"deleting"===l)&&u&&b.a.createElement(wt.a,{placement:"bottom",title:"Delete",overlayClassName:"drawer-tooltip",style:{pointerEvents:"none"}},b.a.createElement(xt.a,{placement:"bottomRight",title:"Are you sure?",overlayClassName:"drawer-popconfirm",okType:"danger",onConfirm:function(){return c({page:r,device:i})},okText:"Delete",cancelText:"Cancel"},b.a.createElement(kt,{icon:"delete",className:"no-border",loading:"deleting"===l}))))))},Dt=(n(101),n(57));n(274);function It(){var e=Object(h.a)(["\n    padding-right: 28px !important;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    width: 482px !important;\n"]);return It=function(){return e},e}function Tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Pt=n(175).a.Text,Nt=function(e){Object(l.a)(n,e);var t=Tt(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.PageDrawer,n=e.sitemap,a=e.covers,r=e.handleCoverCapture,i=e.canEdit,o=e.inUserSitemap,c=e.isCapturing,s=a.device,l=t.page,u=t.url;return b.a.createElement("div",{style:{padding:24,height:"calc(100vh - 174px)",paddingBottom:0}},c&&zt(),!c&&b.a.createElement(Ft,{canEdit:i,inUserSitemap:o,url:u,page:l.id,device:s,handleCoverCapture:r,sitemap:n}))}}]),n}(v.Component),Lt=Object(w.a)(qe.a)(It()),Ft=X.a.create()(function(e){Object(l.a)(n,e);var t=Tt(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={fullPage:!0,lazyload:!1,waitForFiveSeconds:!1,hidden:null},e.setFullPage=function(){var t=JSON.parse(localStorage.getItem("".concat(e.props.sitemap.id,"#fullpage")));e.setState({fullpage:!1!==t})},e.onFullPageChange=function(t){e.setState({fullpage:t.target.checked},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#fullpage"),t.target.checked)})},e.setLazyLoad=function(){var t=JSON.parse(localStorage.getItem("".concat(e.props.sitemap.id,"#lazyload")));e.setState({lazyload:!!t})},e.onLazyLoadChange=function(t){e.setState({lazyload:t.target.checked},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#lazyload"),t.target.checked)})},e.setWaitForFiveSeconds=function(){var t=JSON.parse(localStorage.getItem("".concat(e.props.sitemap.id,"#wait-for-five-seconds")));e.setState({waitForFiveSeconds:!!t})},e.onWaitForFiveSecondsChange=function(t){e.setState({waitForFiveSeconds:t.target.checked},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#wait-for-five-seconds"),t.target.checked)})},e.setHiddenElements=function(){var t=localStorage.getItem("".concat(e.props.sitemap.id,"#hidden"));e.setState({hidden:t})},e.onHiddenElementsChange=function(t){t.persist(),e.setState({hidden:t.target.value},function(){localStorage.setItem("".concat(e.props.sitemap.id,"#hidden"),t.target.value)})},e.checkUrl=function(e,t,n){t&&Object(ee.e)(t)&&t.length>0&&t.length<300?n():n("validation-error")},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields(function(t,n){var a=n.url;if(!t){var r=e.props,i=r.page,o=r.device,c=r.handleCoverCapture,s=e.state;c({url:a,page:i,device:o,fullpage:s.fullpage,lazyload:s.lazyload,waitForFiveSeconds:s.waitForFiveSeconds,hidden:s.hidden})}})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setFullPage(),this.setLazyLoad(),this.setWaitForFiveSeconds(),this.setHiddenElements()}},{key:"render",value:function(){var e=this,t=this.props,n=t.canEdit,a=t.inUserSitemap,r=t.form,i=t.url,o=r.getFieldDecorator;return b.a.createElement(b.a.Fragment,null,!n&&b.a.createElement(Qe.a,{style:{marginBottom:24},message:"You don't have permission to edit this sitemap. Any changes will not be saved.",type:"warning",showIcon:!0}),a&&b.a.createElement(b.a.Fragment,null,b.a.createElement(Qe.a,{style:{marginBottom:24,textAlign:"center"},message:b.a.createElement($.b,{to:"/organizations/new",style:{fontWeight:500}},"Upgrade to capture full page screenshots"),type:"info",showIcon:!0}),b.a.createElement(dt.a,null)),b.a.createElement(X.a,{onSubmit:this.handleSubmit,hideRequiredMark:!0,colon:!1},b.a.createElement(Dt.a,{gutter:24},b.a.createElement(k.a,{span:19},b.a.createElement(X.a.Item,{hasFeedback:!0,required:!0,help:null},o("url",{initialValue:i,rules:[{validator:this.checkUrl,required:!0}]})(b.a.createElement(Lt,{type:"text",size:"large",disabled:!n||n&&a})))),b.a.createElement(k.a,{span:5},b.a.createElement(Q.a,{icon:"camera",type:"primary",style:{height:40,padding:"6px 10px",float:"right",fontWeight:600,letterSpacing:"-.02em"},disabled:!n||n&&a,onClick:this.handleSubmit},"Capture")),b.a.createElement("div",{style:{display:"inline-block",fontWeight:500,marginBottom:6,marginLeft:14}},b.a.createElement(Ke.a,{checked:this.state.fullpage,onChange:this.onFullPageChange},"Full Page"),b.a.createElement(Ke.a,{checked:this.state.lazyload,onChange:this.onLazyLoadChange},"Lazy Load"),b.a.createElement(Ke.a,{checked:this.state.waitForFiveSeconds,onChange:this.onWaitForFiveSecondsChange},"Wait For 5 Seconds"))),b.a.createElement("div",{style:{marginTop:24}},b.a.createElement("h4",{style:{display:"inline-block",marginBottom:12}},"Hide Elements"),b.a.createElement(J.a,{content:b.a.createElement("div",null,b.a.createElement("p",{style:{fontWeight:500}},"Input ",b.a.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors",target:"_blank",rel:"noopener noreferrer"},"CSS Selectors")," separated by commas."),b.a.createElement("p",{style:{fontWeight:500,marginRight:12,display:"inline-block",marginBottom:3}},"For example: "),b.a.createElement(Pt,{code:!0},".overlay, #modal")),overlayClassName:"drawer-popover"},b.a.createElement(g.a,{type:"question-circle",style:{marginLeft:9,color:"#7B868C"}})),b.a.createElement(qe.a,{type:"text",placeholder:".overlay, #modal",value:this.state.hidden,onChange:function(t){return e.onHiddenElementsChange(t)},disabled:!n||n&&a}))))}}]),n}(v.Component)),zt=function(){return b.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"calc(100vh - 250px)"}},b.a.createElement("div",null,b.a.createElement(g.a,{type:"camera",style:{display:"inline-block",fontSize:32,verticalAlign:"top",marginRight:12,color:"#00A7E1"}}),b.a.createElement("h2",{style:{display:"inline-block",fontWeight:600,fontSize:"1.5rem",letterSpacing:"-.03em",color:"#5B6670"}},"Capturing...")))};function Mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Bt=function(e){Object(l.a)(n,e);var t=Mt(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={isCapturing:!1},e.handleCoverCapture=function(t){e.props.canEdit&&(e.props.inUserSitemap||(e.setState({isCapturing:!0}),e.props.captureCoverFromWebsite(t)))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.sitemap,t=e.ui.PageDrawer.page.id,n=e.covers,a=n.pages,r=n.device,i=Ut({pages:a,page:t,device:r});if(i){this.setState({isCapturing:!0});(new Date).getTime()-i>9e4&&(this.props.cancelCaptureCoverFromWebsite({page:t,device:r}),this.setState({isCapturing:!1}))}}},{key:"componentDidUpdate",value:function(e){var t=this.props.sitemap,n=t.ui.PageDrawer.page.id,a=t.covers,r=a.pages,i=a.device,o=Ut({pages:r,page:n,device:i}),c=e.sitemap,s=c.ui.PageDrawer.page.id,l=c.covers,u=l.pages,p=l.device,d=Ut({pages:u,page:s,device:p});!o&&d&&this.setState({isCapturing:!1})}},{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.inUserSitemap,a=t.ui.PageDrawer;return b.a.createElement(Nt,{canEdit:this.props.canEdit,covers:t.covers,handleCoverCapture:this.handleCoverCapture,PageDrawer:a,sitemap:t,inUserSitemap:n,isCapturing:this.state.isCapturing})}}]),n}(v.Component),Ut=function(e){var t=e.pages,n=e.page,a=e.device;if(t[n]&&t[n].devices&&t[n].devices[a])return"capturing"===t[n].devices[a].token?t[n].devices[a].startedAt:void 0},Wt=Object(O.b)(function(e){return Object(r.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id,canEdit:"full"===e.sitemap.editLevel||"edit"===e.sitemap.editLevel})},function(e){return Object(y.b)({captureCoverFromWebsite:j.f,cancelCaptureCoverFromWebsite:j.e},e)})(Bt),_t=n(34),Vt=n.n(_t);function Gt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Ht(){var e=Object(h.a)(["\ntop: -5px !important;\nleft: -7px !important;\nmargin-bottom: -10px !important;\ninput {\n    width: 550px;\n    max-height: 32px !important;\n    background: transparent !important;\n    box-shadow: none !important;\n    padding-left: 6px !important;\n    padding-right: 32px !important;\n    padding-top: 7px !important;\n    font-weight: 500 !important;\n    color: #1D252C !important;\n    font-size: 16px !important;\n\n    &:hover {\n      background: transparent !important;     \n      box-shadow: none !important; \n    }\n    &:focus {\n        color: #1D252C !important;\n    }\n\n}\n.ant-input-suffix {\n    right: 56px !important;\n    &:hover {\n        cursor: pointer;\n        path { fill: #00A7E1; }\n    }\n}\n"]);return Ht=function(){return e},e}function Yt(){var e=Object(h.a)(["\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 540px;\n    &:not(.can-edit) {\n        &:hover {\n            cursor: default;\n        }\n    }\n    &.can-edit {\n            &:hover {\n                cursor: text;\n                border: 1px solid lightgrey;\n                border-radius: 3px;\n                margin-top: -5px;\n                margin-bottom: -5px;\n                margin-left: -7px;\n                margin-right: 13px !important;\n                padding-left: 6px !important;\n                padding-top: 4px;\n                padding-bottom: 4px;\n                padding-right: 6px !important;\n                width: 550px;\n        }\n    }\n"]);return Yt=function(){return e},e}var Xt=w.a.div(Yt()),Zt=Object(w.a)(qe.a)(Ht()),Kt=function(e){Object(l.a)(n,e);var t=Gt(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renameInput=null,e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.canEdit,a=t.PageDrawer,r=t.renaming,i=t.handleClick,o=t.handleChange,c=t.handleRename;return b.a.createElement(b.a.Fragment,null,!r&&b.a.createElement(Xt,{onClick:function(){n&&(i(),setTimeout(function(){return e.renameInput.focus()},50))},className:"".concat(n?"can-edit":"")},a.page&&a.page.name),r&&b.a.createElement(Zt,{value:this.props.renaming,style:{display:this.props.renaming?"block":"none"},ref:function(t){return e.renameInput=t},onClick:function(t){return e.renameInput.focus()},onChange:function(e){return o(e)},onBlur:function(e){return c()},placeholder:this.props.renaming,onPressEnter:function(e){return c()},suffix:b.a.createElement(g.a,{type:"check",style:{color:"rgba(0,0,0,.45)"},onClick:function(){return c()}})}))}}]),n}(v.Component),Qt=n(173);function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Jt=function(e){Object(l.a)(n,e);var t=qt(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={renaming:!1},e.handleClick=function(){var t=e.props.sitemap.ui.PageDrawer.page.name;e.setState({renaming:t})},e.handleChange=function(t){return e.setState({renaming:""===t.target.value?" ":t.target.value})},e.handleRename=function(){var t=We.a.trim(e.state.renaming);e.setState({renaming:null});var n=e.props.sitemap,a=n.ui.PageDrawer.page,i=a.name,o=a.id;if(t&&""!==t&&t!==i){var c=[{action:"rename",id:o,name:t}],s={id:(new Date).getTime(),data:c},l={action:"rename",node:o,data:{oldName:i,newName:t}},u=n.ui.PageDrawer.page;u.name=t;var p=Object(r.a)({},n.ui.PageDrawer,{page:u});e.props.addPageChange({change:s,history:l,PageDrawer:p}),Object(Qt.a)(i,t,n.ui.PageDrawer.page),Vt.a.getInstance().logEvent("SITEMAP_RENAMED_PAGE_FROM_DRAWER")}},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.sitemap.ui.PageDrawer;return b.a.createElement(Kt,Object.assign({},this.props,{handleClick:this.handleClick,handleChange:this.handleChange,handleRename:this.handleRename,PageDrawer:e,renaming:this.state.renaming}))}}]),n}(v.Component),$t=Object(O.b)(function(e){return Object(r.a)({},e,{canEdit:"full"===e.sitemap.editLevel||"edit"===e.sitemap.editLevel})},function(e){return Object(y.b)({addPageChange:j.c},e)})(Jt);function en(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function tn(){var e=Object(h.a)(["\ntop: 6px !important;\nleft: -7px !important;\nmargin-bottom: 0px !important;\ninput {\n    width: 550px;\n    max-height: 28px !important;\n    background: transparent !important;\n    box-shadow: none !important;\n    padding-left: 32px !important;\n    padding-right: 32px !important;\n    padding-top: 6px !important;\n    font-weight: 500 !important;\n    color: #00A7E1 !important;\n    font-size: 14px !important;\n\n    &:hover {\n      color: #00A7E1 !important;\n      background: transparent !important;     \n      box-shadow: none !important; \n    }\n    &:focus {\n        color: #00A7E1 !important;\n    }\n\n}\n.ant-input-prefix {\n    left: 7px !important;\n    a {\n        line-height: 0 !important;\n        color: rgb(0 167 225 / 0.75) !important;\n        &:hover {\n            color: #00A7E1 !important;\n        }\n    }\n}\n.ant-input-suffix {\n    right: 56px !important;\n    &:hover {\n        cursor: pointer;\n        path { fill: #00A7E1; }\n    }\n}\n"]);return tn=function(){return e},e}function nn(){var e=Object(h.a)(["\n    display: inline-block;  \n    font-size: 14px;\n    margin-top: 9px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    width: 550px;\n    color: #00A7E1;\n    &:not(.can-edit) {\n        &:hover {\n            cursor: default;\n        }\n    }\n    &.can-edit {\n            &:hover {\n                cursor: text;\n                border: 1px solid lightgrey;\n                border-radius: 3px;\n                margin-top: 6px;\n                margin-bottom: 0px;\n                margin-left: -7px;\n                margin-right: 13px !important;\n                padding-left: 6px !important;\n                padding-top: 2px;\n                padding-bottom: 2px;\n                padding-right: 6px !important;\n                width: 550px;\n        }\n    }\n"]);return nn=function(){return e},e}function an(){var e=Object(h.a)(["\n    color: rgb(0 167 225 / 0.75) !important;\n    padding: 10px 0px;\n    &:hover {\n        color: #00A7E1 !important;\n    }\n"]);return an=function(){return e},e}var rn=w.a.a(an()),on=w.a.div(nn()),cn=Object(w.a)(qe.a)(tn()),sn=function(e){Object(l.a)(n,e);var t=en(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).renameInput=null,e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.PageDrawer,a=t.renaming,r=t.canEdit,i=t.handleClick,o=t.handleChange,c=t.handleRename,s=Object(j.n)(n.page);return b.a.createElement(b.a.Fragment,null,!a&&b.a.createElement(on,{onClick:function(){r&&(i(s),setTimeout(function(){return e.renameInput.focus()},50))},className:"".concat(r?"can-edit":"")},b.a.createElement(rn,{href:"".concat(Object(j.n)(n.page)),target:"_blank"},b.a.createElement(g.a,{style:{marginRight:12,fontSize:14},type:"link"})),b.a.createElement("div",{style:{display:"inline-block",width:"95%"}},s)),a&&b.a.createElement(cn,{value:this.props.renaming,style:{display:this.props.renaming?"block":"none"},ref:function(t){return e.renameInput=t},onClick:function(t){return e.renameInput.focus()},onChange:function(e){return o(e)},onBlur:function(e){return c()},placeholder:this.props.renaming,onPressEnter:function(e){return c()},prefix:b.a.createElement("a",{href:"".concat(Object(j.n)(n.page)),target:"_blank",rel:"noopener noreferrer"},b.a.createElement(g.a,{style:{marginRight:12,fontSize:14},type:"link"})),suffix:b.a.createElement(g.a,{type:"check",style:{color:"rgba(0,0,0,.45)"},onClick:function(){return c()}})}))}}]),n}(v.Component);function ln(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var un=function(e){Object(l.a)(n,e);var t=ln(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={renaming:!1},e.handleClick=function(t){return e.setState({renaming:t})},e.handleChange=function(t){return e.setState({renaming:""===t.target.value?" ":t.target.value})},e.handleRename=function(){var t=We.a.trim(e.state.renaming);e.setState({renaming:null});var n=e.props.sitemap,a=n.ui.PageDrawer,i=Object(j.n)(a.page);if(t&&""!==t&&i!==t){var o=a.page,c={id:(new Date).getTime(),data:[{action:"change-page-url",id:o.id,url:t}]};o.url=t,a=Object(r.a)({},n.ui.PageDrawer,{url:t}),e.props.addPageChange({change:c,PageDrawer:a})}},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.sitemap.ui.PageDrawer;return b.a.createElement(sn,Object.assign({},this.props,{handleClick:this.handleClick,handleChange:this.handleChange,handleRename:this.handleRename,PageDrawer:e,renaming:this.state.renaming}))}}]),n}(v.Component),pn=Object(O.b)(function(e){return Object(r.a)({},e,{canEdit:"full"===e.sitemap.editLevel||"edit"===e.sitemap.editLevel})},function(e){return Object(y.b)({addPageChange:j.c},e)})(un);function dn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function mn(){var e=Object(h.a)(["\n    background: rgba(249,249,249,0.5);\n    font-weight: 500;\n    font-size: 16px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: calc(100vh - 128px);\n"]);return mn=function(){return e},e}function fn(){var e=Object(h.a)(["\n&:hover {\n  cursor: pointer;\n}\n"]);return fn=function(){return e},e}function gn(){var e=Object(h.a)(["\n.ant-tabs-ink-bar {\n  display: none !important;\n}\n.ant-tabs-tab-active {\n    /* background: rgb(0 167 225 / 0.5);\n    color: #323E48 !important;\n    border-radius: 5px;\n    padding: 4px 9px !important; */\n}\n"]);return gn=function(){return e},e}function hn(){var e=Object(h.a)(["\n.ant-drawer-header {\n  height: 83px;\n}\n"]);return hn=function(){return e},e}function vn(){var e=Object(h.a)(["\n  .ant-tabs-nav-container {\n    padding-left: 24px !important;\n  }\n  .ant-tabs-top-bar {\n    margin: 0;\n  }\n  .ant-tabs-tab {\n    padding: 12px 0px !important;\n    color: #323E48 !important;\n    font-weight: 500;\n    &:hover {\n      color: #00A7E1 !important;  \n    }\n  }\n  .ant-tabs-tab-active {\n    color: #00A7E1 !important;\n  }\n"]);return vn=function(){return e},e}var bn=i.a.TabPane,yn=Object(w.a)(i.a)(vn()),En=Object(w.a)(Ze.a)(hn()),On=Object(w.a)(i.a)(gn()),wn=Object(w.a)(Xe.a)(fn()),xn=w.a.div(mn()),jn=function(e){Object(l.a)(n,e);var t=dn(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={fullyVisible:!1},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.PageDrawer,a=t.customCover,r=t.togglePageDrawer,i=this.state.fullyVisible;return b.a.createElement(En,{className:"page-drawer",width:640,placement:"right",onClose:function(){return r(n.page)},visible:n.showing,afterVisibleChange:function(t){return e.setState({fullyVisible:t})},maskStyle:{transition:"none",animation:"none",opacity:.3},title:b.a.createElement("div",{style:{height:50}},b.a.createElement($t,null),b.a.createElement(pn,null))},b.a.createElement(yn,{defaultActiveKey:"covers",animated:!1},b.a.createElement(bn,{tab:"Covers",key:"covers"},a&&b.a.createElement(At,{customCover:a}),!a&&b.a.createElement(On,{className:"pill-tabs",defaultActiveKey:"wireframes",animated:!1,style:{background:"rgba(249, 249, 249, 0.5)"}},b.a.createElement(bn,{tab:b.a.createElement("div",null,"Wireframes"),key:"wireframes"},b.a.createElement(lt,{visible:i})),b.a.createElement(bn,{tab:b.a.createElement("div",null,"Screenshot"),key:"screenshot"},b.a.createElement(Wt,null)),b.a.createElement(bn,{tab:b.a.createElement("div",null,"Upload"),key:"upload"},b.a.createElement(Ot,null)))),b.a.createElement(bn,{tab:b.a.createElement("div",null,"Content",b.a.createElement(wn,{className:"no-border",style:{marginLeft:12,marginRight:-6},color:"gold"},"Soon")),key:"content"},b.a.createElement(xn,null,"This feature is coming soon. Stay tuned!")),b.a.createElement(bn,{tab:b.a.createElement("div",null,"Files",b.a.createElement(wn,{className:"no-border",style:{marginLeft:12,marginRight:-6},color:"gold"},"Soon")),key:"files"},b.a.createElement(xn,null,"This feature is coming soon. Stay tuned!"))))}}]),n}(v.Component);function Sn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Cn=function(e){Object(l.a)(n,e);var t=Sn(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.sitemap,t=e.ui.PageDrawer,n=t.page,a=e.covers,r=a.pages,i=a.device,o=n?An({page:r[n.id],device:i}):null;return b.a.createElement(jn,{PageDrawer:t,customCover:o,togglePageDrawer:this.props.togglePageDrawer})}}]),n}(v.Component),An=function(e){var t=e.page,n=e.device;if(t&&(t.devices&&t.devices[n]&&"capturing"!==t.devices[n].token))return t.devices[n]},kn=Object(O.b)(function(e){return Object(r.a)({},e)},function(e){return Object(y.b)({togglePageDrawer:j.cb},e)})(Cn),Rn=n(964),Dn=n.n(Rn),In=n(965),Tn=n.n(In),Pn=n(966);function Nn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Ln(){var e=Object(h.a)(["\n    z-index: 2 !important;\n    position: absolute !important;\n    bottom: 20px  !important;\n    right: 15px !important;\n    font-size: 45px !important;\n    color: white !important;\n    transform: rotate(90deg) !important;\n    &:hover {\n        cursor: pointer !important;\n        color: #00A7E1 !important;\n        font-size: 50px !important;\n    }\n"]);return Ln=function(){return e},e}function Fn(){var e=Object(h.a)(["\n    z-index: 2 !important;\n    position: absolute !important;\n    top: 20px  !important;\n    right: 90px !important;\n    font-size: 30px !important;\n    color: white !important;\n    &:hover {\n        cursor: pointer !important;\n        color: #00A7E1 !important;\n    }\n"]);return Fn=function(){return e},e}var zn=Object(w.a)(g.a)(Fn()),Mn=Object(w.a)(g.a)(Ln()),Bn=function(e){Object(l.a)(n,e);var t=Nn(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={compact:!1,downloading:!1},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.covers,r=t.visible,i=t.onClose;return b.a.createElement(Ze.a,{className:"fullscreen-cover-drawer ".concat(this.state.compact?"compact":""),closable:!0,onClose:i,visible:r},b.a.createElement(Dn.a,{startIndex:a.startIndex,items:a.data,thumbnailPosition:"left",disableThumbnailScroll:!0,lazyload:!0,showPlayButton:!1,slideDuration:0,infinite:!1,showFullscreenButton:!1,renderCustomControls:function(){return b.a.createElement(b.a.Fragment,null,e.state.downloading&&b.a.createElement(o.a,{indicator:b.a.createElement(zn,{type:"loading",spin:!0})}),b.a.createElement(wt.a,{placement:"bottom",mouseEnterDelay:1,overlayStyle:{zIndex:1e18},title:"Download All"},!e.state.downloading&&b.a.createElement(zn,{type:"download",onClick:Object(f.a)(m.a.mark(function t(){var r,i;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({downloading:!0}),t.prev=1,r=new Tn.a,i=r.folder("".concat(encodeURIComponent(n.name)," - covers")),t.next=6,Promise.all(a.data.map(function(){var e=Object(f.a)(m.a.mark(function e(t){var n,a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t.original);case 2:n=e.sent,a=n.blob(),i.file("".concat(t.thumbnailTitle,".jpg"),a,{base64:!0});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 6:i.generateAsync({type:"blob"}).then(function(t){Object(Pn.saveAs)(t,"".concat(n.name," - covers.zip")),e.setState({downloading:!1})}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e.setState({downloading:!1});case 12:case 13:case"end":return t.stop()}},t,null,[[1,9]])}))})),b.a.createElement(Mn,{type:e.state.compact?"arrows-alt":"shrink",onClick:function(){return e.setState({compact:!e.state.compact})}}))}}))}}]),n}(v.Component);function Un(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Wn=function(e){Object(l.a)(n,e);var t=Un(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).onClose=function(t){return e.props.hideFullscreenCoverDrawer()},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.covers,a=t.ui.FullscreenCoverDrawer;return a.showing?b.a.createElement(Bn,{sitemap:t,covers:n,visible:a&&a.showing,onClose:this.onClose}):null}}]),n}(v.Component),_n=Object(O.b)(function(e){return Object(r.a)({},e,{covers:Vn(e)})},function(e){return Object(y.b)({hideFullscreenCoverDrawer:j.s},e)})(Wn),Vn=function(e){var t=e.sitemap,n=t.ui.FullscreenCoverDrawer,a={data:[]};return n.preview||Object.keys(t.covers.pages).forEach(function(e){var r=Gn({sitemap:t,page:e});if(r&&r.downloadURL){var i=t.pages[e];a.data.push({original:r.downloadURL,thumbnail:r.thumbDownloadURL,description:i.name,originalTitle:i.name,thumbnailTitle:i.name,thumbnailLabel:i.name}),e===n.page&&(a.startIndex=a.data.length-1)}}),n.preview&&a.data.push({original:n.preview,thumbnail:n.preview}),a},Gn=function(e){var t=e.sitemap,n=e.preview,a=e.page;return n||(t.covers&&t.covers.pages&&t.covers.pages[a]&&t.covers.pages[a].devices&&t.covers.pages[a].devices[t.covers.device]?t.covers.pages[a].devices[t.covers.device]:void 0)},Hn=n(64),Yn=(n(1428),n(988)),Xn=(n(170),n(110));function Zn(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Kn(){var e=Object(h.a)(["\nfont-weight: 500 !important;\nfont-size: 0.95rem !important;\nletter-spacing: -.02rem !important;\n"]);return Kn=function(){return e},e}function Qn(){var e=Object(h.a)(["\n    .ant-table-tbody > tr > td {\n        font-weight: 500 !important;\n        &:hover {\n            cursor: pointer;\n        }\n    }\n"]);return Qn=function(){return e},e}function qn(){var e=Object(h.a)(["\n  .ant-modal-content {\n    border-radius: 6px !important;\n  }\n  .ant-modal-title {\n    text-align: center;\n    font-weight: 500;\n    font-size: 1.1rem;\n    letter-spacing: -.02rem;\n    .anticon {\n        font-size: 15px;\n        margin-left: 14px;\n    }\n  }\n  .ant-modal-header {\n    background-color: white;\n    border-bottom: 1px solid #f5f5f5 !important;\n    padding: 18px 24px !important;\n    border-radius: inherit !important;\n    border-bottom-left-radius: 0px !important;\n    border-bottom-right-radius: 0px !important;\n    background: transparent !important;\n  }\n  .ant-message {\n    position: absolute !important;\n  }\n  .ant-modal-body {\n    background: white !important;\n    padding: 0px !important;\n  }\n  .ant-modal-footer {\n    border: none !important;\n    border-top: 1px solid #f5f5f5 !important;\n    padding: 16px !important;\n    background: white;\n  }\n  .ant-modal-close {\n    display: none !important;\n  }\n"]);return qn=function(){return e},e}var Jn=Object(w.a)(Xn.a)(qn()),$n=Object(w.a)(Yn.a)(Qn()),ea=Object(w.a)(Q.a)(Kn()),ta=b.a.createElement("div",{style:{maxWidth:300}},b.a.createElement("p",null,"We group large numbers of standalone pages together in order to keep your sitemap fast and responsive. "),b.a.createElement("p",null,"While we allow you to re-introduce these pages into your sitemap, we recommend doing this in small batches at a time, and testing that your sitemap still performs as smoothly as you expect.")),na=function(e){Object(l.a)(n,e);var t=Zn(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.OverflowModal,n=e.loading,a=e.selectRow,r=e.selectedRowKeys,i=e.handleInsert,o=e.onSelectChange,c=e.handleClose,s={selectedRowKeys:r,onChange:o};return b.a.createElement(Jn,{title:b.a.createElement(b.a.Fragment,null,"Overflow Pages",b.a.createElement(J.a,{overlayClassName:"overflow-popover",placement:"bottom",title:"Why do we have this?",content:ta,trigger:"click"},b.a.createElement(g.a,{type:"question-circle"}))),visible:t.showing,onCancel:c,footer:[b.a.createElement(ea,{key:"back",onClick:c},"Cancel"),b.a.createElement(ea,{key:"submit",type:"primary",disabled:r.length<1,onClick:i},"Insert Pages")]},b.a.createElement(Je.Scrollbars,{style:{height:"50vh"}},!n&&b.a.createElement($n,{rowSelection:s,onRow:function(e){return{onClick:function(){a(e)}}},columns:[{title:"Name",dataIndex:"name"}],dataSource:t.pages,showHeader:!1,pagination:!1})))}}]),n}(v.Component);function aa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ra=function(e){Object(l.a)(n,e);var t=aa(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={selectedRowKeys:[],loading:!0},e.onSelectChange=function(t){e.setState({selectedRowKeys:t})},e.selectRow=function(t){var n=Object(Hn.a)(e.state.selectedRowKeys);n.indexOf(t.key)>=0?n.splice(n.indexOf(t.key),1):n.push(t.key),e.setState({selectedRowKeys:n})},e.handleInsert=Object(f.a)(m.a.mark(function t(){var n,a,i,o,c,s,l,u,p,d,f;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state.selectedRowKeys,!We.a.isEmpty(n)){t.next=3;break}return t.abrupt("return");case 3:return a=e.props.sitemap,i=a.ui.OverflowModal,o=We.a.chain(We.a.filter(i.pages,function(e){return We.a.includes(n,e.key)})).keyBy("key").mapValues(function(e){return e.parent=i.parent,We.a.omit(e,["key"])}).value(),c=We.a.map(We.a.filter(i.pages,function(e){return!We.a.includes(n,e.key)}),"name"),t.next=9,Object(A.b)(a.section?a.section:a.root);case 9:return s=t.sent,l=We.a.compact(We.a.sortBy(We()(We.a.merge(s,Object(r.a)({},o))).map(function(e,t){if(e.id=t,e.id==="".concat(i.parent,"-overflow")){if(We.a.isEmpty(c))return;e.overflow=c}return e}).value(),"index")),l=Object(A.f)(l),t.next=14,Object(A.c)(l);case 14:u=t.sent,a.section?e.props.setSection(u):e.props.setRoot(u),Object(A.k)({noTransition:!0}),p=We.a.filter(i.pages,function(e){return We.a.includes(n,e.key)}).map(function(e){return{id:e.key,name:e.name,index:e.index,parent:i.parent}}),d=[{id:"".concat(i.parent,"-overflow"),overflow:c}],f={id:(new Date).getTime(),data:[].concat(Object(Hn.a)(p),d)},e.handleClose(),setTimeout(function(){return e.props.addPageChange({change:f})},500);case 22:case"end":return t.stop()}},t)})),e.handleClose=function(){e.props.hideOverflowModal()},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.setState({loading:!1})},100)}},{key:"render",value:function(){var e=this.props.sitemap.ui.OverflowModal;return b.a.createElement(na,{OverflowModal:e,selectRow:this.selectRow,onSelectChange:this.onSelectChange,handleInsert:this.handleInsert,handleClose:this.handleClose,loading:this.state.loading,selectedRowKeys:this.state.selectedRowKeys})}}]),n}(v.Component),ia=Object(O.b)(function(e){return e},function(e){return Object(y.b)({setRoot:j.M,setSection:j.N,addPageChange:j.c,hideOverflowModal:j.t},e)})(ra);function oa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ca=function(e){Object(l.a)(n,e);var t=oa(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){if(this.props.sitemap.ui.DeleteCoversConfirm.showing&&!e.sitemap.ui.DeleteCoversConfirm.showing){var t=this.props.toggleDeleteCoversConfirm;Xn.a.warning({title:"We can't remove these pages yet.",content:b.a.createElement("div",null,b.a.createElement("p",{style:{marginTop:24,marginBottom:0}},"You need to delete all custom covers attached to these pages before they can be removed.")),onOk:function(){t(!1)}})}}},{key:"render",value:function(){return null}}]),n}(v.Component),sa=Object(O.b)(function(e){return Object(r.a)({},e)},function(e){return Object(y.b)({toggleDeleteCoversConfirm:j.bb},e)})(ca);function la(){var e=Object(h.a)(["\n  .ant-card-body {\n    padding: 0 !important;\n  }\n"]);return la=function(){return e},e}function ua(){var e=Object(h.a)(["\n  height: 30px !important;\n  padding: 0px 9px !important;\n  font-size: 14px !important;\n  font-weight: 600 !important;\n  letter-spacing: -.02rem;\n"]);return ua=function(){return e},e}function pa(){var e=Object(h.a)(["\n&.edit-page-url-input {    \n    padding-right: 30px !important;\n}\n"]);return pa=function(){return e},e}function da(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ma=function(e){Object(l.a)(n,e);var t=da(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.sitemap.ui.EditPageUrlPopover;return b.a.createElement(J.a,{placement:"rightTop",popupAlign:{offset:e.offset},destroyPopupOnHide:!0,content:b.a.createElement(wa,null),overlayClassName:"edit-page-url-popover",visible:e.showing})}}]),n}(v.Component),fa=function(e){Object(l.a)(n,e);var t=da(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={inputVal:void 0},e.checkUrl=function(e,t,n){t&&t.length>0&&t.length<100?n():n("validation-error")},e.onChange=function(t){e.setState({inputVal:t.target.value})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.hidePopover,n=e.handleSubmit,a=e.form.getFieldDecorator,r=!this.state.inputVal;return b.a.createElement(va,{bordered:!1,style:{width:260}},b.a.createElement("div",null,b.a.createElement(X.a,{hideRequiredMark:!0,colon:!1,onSubmit:n,className:"edit-page-url-form"},b.a.createElement(X.a.Item,{hasFeedback:!0,help:null,style:{marginBottom:3}},a("url",{rules:[{validator:this.checkUrl,required:!0}],initialValue:this.props.url})(b.a.createElement(ga,{className:"edit-page-url-input",ref:function(e){return e&&e.focus()},placeholder:this.props.url,autosize:{minRows:1,maxRows:4},onChange:this.onChange}))),b.a.createElement(X.a.Item,{style:{marginBottom:0,float:"right"}},b.a.createElement(ha,{onClick:t,style:{marginRight:12}},"Cancel"),b.a.createElement(ha,{type:"primary",htmlType:"submit",className:r&&"disabled",disabled:r},"Save")))))}}]),n}(v.Component),ga=Object(w.a)(qe.a)(pa()),ha=Object(w.a)(Q.a)(ua()),va=Object(w.a)(Z.a)(la());function ba(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var ya=function(e){Object(l.a)(n,e);var t=ba(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return b.a.createElement(ma,this.props)}}]),n}(v.Component),Ea=Object(O.b)(function(e){return e})(ya);function Oa(e){var t=e.sitemap.ui.EditPageUrlPopover.node;return Object(j.n)(t)}var wa=Object(O.b)(function(e){return Object(r.a)({},e,{url:Oa(e)})},function(e){return Object(y.b)({showEditPageURLPopover:j.Q,addPageChange:j.c,hideEditPageURLPopover:j.q},e)})(X.a.create({name:"change-page-url-form"})(function(e){Object(l.a)(n,e);var t=ba(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var n=e.props,a=n.form,r=n.sitemap;a.validateFieldsAndScroll(function(){var t=Object(f.a)(m.a.mark(function t(n,a){var i,o,c,s;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=a.url,n||(o=r.ui.EditPageUrlPopover,c=o.page,o.node.url=i,s={id:(new Date).getTime(),data:[{action:"change-page-url",id:c,url:i}]},e.props.addPageChange({change:s}),e.props.hideEditPageURLPopover());case 2:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}())},e}return Object(s.a)(n,[{key:"render",value:function(){return b.a.createElement(fa,Object.assign({hidePopover:this.props.hideEditPageURLPopover,handleSubmit:this.handleSubmit},this.props))}}]),n}(v.Component))),xa=n(221),ja=n(37),Sa=n(29);function Ca(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Aa(){var e=Object(h.a)(["\n  top: 110px !important;\n  left: 0px !important;\n  &.navbar-hidden {\n    top: 46px !important;\n  }\n  background: transparent !important;\n  padding: 18px 30px !important;\n  .ant-page-header-heading-title {\n    font-size: 15px !important;\n    font-weight: 500 !important;\n    color: #323e48;\n  }\n  .ant-page-header-back {\n    font-size: 16px;\n    margin-top: 7px;\n}\n  position: fixed !important;\n"]);return Aa=function(){return e},e}var ka=function(){var e=Object(f.a)(m.a.mark(function e(t){var n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sitemap){e.next=3;break}return e.abrupt("return");case 3:document.title="".concat(n.name?n.name:"New Sitemap"," - Rarchy"),Object(C.d)(),Object(A.k)({noTransition:!0}),Object(C.a)(),Object(ja.b)();case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ra=Object(w.a)(R.a)(Aa()),Da=function(e){Object(l.a)(n,e);var t=Ca(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){ka(this.props)}},{key:"componentDidUpdate",value:function(e){"pages"===this.props.sitemap.ui.ProductsTab&&"pages"!==e.sitemap.ui.ProductsTab&&ka(this.props)}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.ui,r=n.section;return b.a.createElement("div",{id:"container",style:{background:"rgb(249 249 249 / 0.5)",position:"fixed",width:"100%",height:"100vh"},onClick:function(){n.ui.NotificationsDropdown.showing&&x.store.dispatch(Object(j.eb)(!1)),n.ui.PalletteDropdown.showing&&x.store.dispatch(Object(j.db)(!1))}},r&&b.a.createElement(k.a,{span:24,style:{position:"absolute",top:0}},b.a.createElement(Ra,{className:"".concat(a.navbar.hidden?"navbar-hidden":""),style:{zIndex:2},onBack:function(){return e.props.unsetSection()},title:r.name,subTitle:"Section"})),b.a.createElement(Sa.a,{sitemap:this.props.sitemap}),b.a.createElement(Sa.c,{sitemap:this.props.sitemap}),b.a.createElement(Sa.b,{sitemap:this.props.sitemap}),b.a.createElement(Sa.d,{sitemap:this.props.sitemap}),n.editLevel&&b.a.createElement(H,null),b.a.createElement(fe,null),b.a.createElement(Ge,null),b.a.createElement(Ea,null),b.a.createElement(_n,null),n.ui.OverflowModal.showing&&b.a.createElement(ia,null),b.a.createElement(kn,null),b.a.createElement(sa,null),n.ui.SitemapPageLimitMessaging.showing&&b.a.createElement(xa.a,null))}}]),n}(v.PureComponent),Ia=n(11),Ta=n(35),Pa=n(180);function Na(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var La=function(e){Object(l.a)(n,e);var t=Na(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.flows.ui.LinkedPagePopover;return b.a.createElement(J.a,{placement:"rightTop",autoAdjustOverflow:!0,popupAlign:{offset:e.offset},destroyPopupOnHide:!0,overlayStyle:{maxWidth:210},title:b.a.createElement("p",{style:{marginBottom:0,fontSize:14}},"Linked Page"),content:b.a.createElement("p",{style:{marginBottom:0,fontSize:"0.85rem"}},"Any edits to this page will be automatically updated across your user flows, and vice versa."),overlayClassName:"flows-linked-page-popover",visible:e.showing})}}]),n}(v.Component);function Fa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var za=window.$,Ma=function(e){Object(l.a)(n,e);var t=Fa(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return b.a.createElement(La,this.props)}}]),n}(v.Component),Ba=Object(O.b)(function(e){return e},function(e){return Object(y.b)({showFlowsLinkedPagePopover:Ta.w,hideFlowsLinkedPagePopover:Ta.j},e)})(Ma);za("body").on("click","#svg-main",function(){x.store.getState().flows.ui.LinkedPagePopover.showing&&x.store.dispatch(Object(Ta.j)())});var Ua=n(379),Wa=(n(143),n(53)),_a=(n(453),n(225));function Va(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Ga(){var e=Object(h.a)(["\n.ant-tree-title {\n    font-weight: 400 !important;\n}\n"]);return Ga=function(){return e},e}var Ha=_a.a.TreeNode,Ya=Object(w.a)(Ha)(Ga()),Xa=function(e){Object(l.a)(n,e);var t=Va(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={treeData:null},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.setState({treeData:Za(this.props)})}},{key:"componentDidUpdate",value:function(e){JSON.stringify(Ka(this.props.sitemap.root))!==JSON.stringify(Ka(e.sitemap.root))&&this.setState({treeData:Za(this.props)})}},{key:"render",value:function(){var e=this.props,t=e.hiddenNavbar,n=e.handlePageChange;return b.a.createElement(Je.Scrollbars,{autoHide:!0,style:{padding:0,height:"calc(100vh - ".concat(t?70:140,"px)")}},this.state.treeData?b.a.createElement(_a.a,{showLine:!0,blockNode:!0,defaultExpandedKeys:["home"],onSelect:n},this.state.treeData):"loading tree")}}]),n}(v.Component),Za=function(e){var t=e.sitemap;return b.a.createElement(Ya,{title:t.root.name,key:t.root.id},Ka(t.root))};function Ka(e){function t(e){if(!e.overflow)return b.a.createElement(Ya,{title:e.name,key:e.id,blockNode:!0},e.children&&We.a.compact(e.children.map(t)),e._children&&We.a.compact(e._children.map(t)))}return e.children.map(function(e){return t(e)})}var Qa=Object(O.b)(function(e){return Object(r.a)({},e)},{})(Xa);function qa(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Ja(){var e=Object(h.a)(["\n&.loading {\n  div:first-of-type {\n    display: flex;\n    margin: auto;\n  }\n}\npadding: 18px;\n"]);return Ja=function(){return e},e}function $a(){var e=Object(h.a)(["\n  border-bottom: 1px solid #eeefef !important;\n  .ant-list-item {\n    margin-bottom: 8px !important;\n    &:hover {\n      cursor: pointer;\n      p {\n        color: #00a7e1;\n      }\n    }\n    img {\n      max-height: 108px;\n      margin-top: 8px;\n      // border: 1px solid #7e8c9b4d;\n      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.1);\n      border-radius: 3px;\n    }\n    p {\n      text-align: center;\n      text-transform: capitalize;\n      width: 106px;\n      font-size: 12px;\n      margin-top: 9px;\n      font-weight: 500;\n      overflow: hidden !important;\n      text-overflow: ellipsis !important;\n      white-space: nowrap !important;\n    }\n  }\n"]);return $a=function(){return e},e}var er=qe.a.Search,tr=Object(w.a)(he.a)($a()),nr=Object(w.a)(Je.Scrollbars)(Ja()),ar=function(e){Object(l.a)(n,e);var t=qa(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searched:null,setDefault:!1},e.handleSearchChange=function(t){var n=t.target.value;e.setState({searched:n})},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=Object(f.a)(m.a.mark(function e(){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({collections:this.props.sitemap.covers.collections,searched:null,setDefault:!1});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.collections,n=e.searched,a=this.props.handleWireframeChange;return b.a.createElement(b.a.Fragment,null,b.a.createElement(er,{placeholder:"Search...",onChange:this.handleSearchChange,style:{marginBottom:18}}),b.a.createElement(nr,{style:{height:"calc(100vh - 100px)",borderTop:"1px solid #eeefef"}},!t&&b.a.createElement("div",{style:{display:"flex",margin:"auto"}},b.a.createElement(o.a,{className:"center",indicator:b.a.createElement(g.a,{type:"loading",style:{width:52,height:52,fontSize:52},spin:!0})})),t&&Object.keys(t).map(function(e){if("header"===e)return null;var r=We()(t[e]).map(function(e){return Object.assign({},e)}).value().filter(function(e){return n?-1!==e.name.toLocaleLowerCase().indexOf(n):e});return n&&0===r.length?null:b.a.createElement("div",{key:e},b.a.createElement("h3",{style:{marginTop:12,textTransform:"capitalize",textAlign:"center"}},e.replace(/-/g," ")),b.a.createElement(tr,{key:e,grid:{gutter:12,column:4},dataSource:r||[],renderItem:function(e){return b.a.createElement(he.a.Item,{onClick:function(){return a(e.key)}},b.a.createElement("img",{alt:e.name,src:"data:image/svg+xml;base64,"+btoa(Object($e.c)(e.key))}),b.a.createElement("p",{style:{}},e.name))}}))})))}}]),n}(v.Component);function rr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function ir(){var e=Object(h.a)(["\n  margin-left: 6px !important;\n  color: #5b666f;\n  .ant-radio-button-wrapper {\n    padding: 0 6px !important;\n    line-height: 32px !important;\n    height: 34px !important;\n    border: 1px solid #f2f2f2 !important;\n    color: #8e959b !important;\n    :not(:last-child) {\n      border-right: none !important;\n    }\n    &:focus-within {\n      outline: none !important;\n    }\n    &:before {\n      display: none !important;\n    }\n    &:hover {\n      color: #00a7e1 !important;\n      background: #f0f8ff !important;\n      g {\n        stroke: #00a7e1 !important;\n      }\n      .strike-through {\n        border-color: #00a7e1 !important;\n      }\n    }\n    .anticon {\n      font-size: 15px;\n    }\n    // border: none !important;\n    // background: transparent !important;\n  }\n  .ant-radio-button-wrapper-checked {\n    color: #00a7e1 !important;\n    // background: #f4f4f4 !important;\n    background: #f0f8ff !important;\n    // border: 1px solid #f1f1f1 !important;\n    // border: none !important;\n    // background: transparent !important;\n    box-shadow: none !important;\n  }\n  .strike-through {\n    height: 20px !important;\n    border: 0.05rem solid white;\n    border-radius: 50px !important;\n    pointer-events: none !important;\n    position: absolute !important;\n    top: 6px !important;\n    right: 13px !important;\n    transform: rotate(-39deg) !important;\n  }\n"]);return ir=function(){return e},e}function or(){var e=Object(h.a)(["\n    .ant-tabs-tab {\n        padding: 14px 16px !important;\n        font-weight: 600 !important;\n    }\n"]);return or=function(){return e},e}function cr(){var e=Object(h.a)(["\n.ant-drawer-content-wrapper {\n    min-width: 540px;\n    max-width: 540px;\n    .ant-drawer-header {\n        display: none !important;\n        padding: 13px 24px;\n    }\n}"]);return cr=function(){return e},e}var sr=i.a.TabPane,lr=Object(w.a)(Ze.a)(cr()),ur=Object(w.a)(i.a)(or()),pr=Object(w.a)(Wa.a.Group)(ir()),dr=function(e){Object(l.a)(n,e);var t=rr(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={tab:"pages"},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.PageDrawer,a=t.handleClose,r=t.device,i=t.handleDeviceChange,o=t.handlePageChange,c=t.handleWireframeChange,s=t.ui.navbar.hidden;return b.a.createElement(lr,{title:"Edit Page",className:"user-flows-edit-page-drawer",style:{top:s?0:63,height:s?"100vh":"calc(100vh - 63px)",overflow:"hidden"},bodyStyle:{paddingTop:0},maskStyle:{transition:"none",animation:"none",opacity:0},placement:"right",closable:!1,onClose:a,visible:n.showing},b.a.createElement(ur,{defaultActiveKey:"pages",animated:!1,onTabClick:function(t){return e.setState({tab:t})},tabBarExtraContent:b.a.createElement(b.a.Fragment,null,"pages"===this.state.tab&&b.a.createElement(b.a.Fragment,null,b.a.createElement("span",{style:{textTransform:"capitalize",marginRight:9,fontWeight:500,color:"#8c8c8c"}},r),b.a.createElement(pr,{value:r,buttonStyle:"solid",onChange:i},b.a.createElement(wt.a,{placement:"bottom",title:"Desktop",align:{offset:[0,6]},mouseEnterDelay:1},b.a.createElement(Wa.a.Button,{value:"desktop"},b.a.createElement(g.a,{type:"desktop"}))),b.a.createElement(wt.a,{placement:"bottom",title:"Tablet",align:{offset:[0,6]},mouseEnterDelay:1},b.a.createElement(Wa.a.Button,{value:"tablet"},b.a.createElement(g.a,{type:"tablet"}))),b.a.createElement(wt.a,{placement:"bottom",title:"Mobile",align:{offset:[0,6]},mouseEnterDelay:1},b.a.createElement(Wa.a.Button,{value:"mobile"},b.a.createElement(g.a,{type:"mobile"}))))))},b.a.createElement(sr,{tab:"Pages",key:"pages"},b.a.createElement(Qa,{hiddenNavbar:s,handlePageChange:function(e){return o(e,!1)}})),b.a.createElement(sr,{tab:"Wireframes",key:"wireframes"},b.a.createElement(ar,{sitemap:this.props.sitemap,handleWireframeChange:c}))))}}]),n}(v.Component);function mr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var fr=function(e){Object(l.a)(n,e);var t=mr(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={device:"desktop"},e.handleDeviceChange=function(t){e.setState({device:t.target.value});var n=e.props.PageDrawer.node;n&&n.page&&n.device&&setTimeout(function(){e.handlePageChange([n.page],!0)},100)},e.handleClose=function(){e.props.hideFlowsPageDrawer()},e.handlePageChange=function(t,n){var a=Object(Ua.a)(t,1)[0],i=e.props.PageDrawer.node;n||e.props.hideFlowsPageDrawer(),a||(a=i.page);var o={page:a,device:e.state.device,wireframe:void 0};e.props.changedSymbol(Object(Y.a)({},i.id,o));var c=[Object(r.a)({action:"page-change",id:i.id},o)],s={id:(new Date).getTime(),data:c},l={action:"page-change",node:i.id,data:{oldPage:{page:i.page,device:i.device,wireframe:i.wireframe},newPage:Object(r.a)({},o)}};setTimeout(function(){e.props.addFlowsChange({change:s,history:l})},500)},e.handleWireframeChange=function(t){if(e.props.canEdit){var n=e.props.PageDrawer.node;e.props.hideFlowsPageDrawer();var a={wireframe:t,page:null};e.props.changedSymbol(Object(Y.a)({},n.id,a));var i=[Object(r.a)({action:"wireframe-change",id:n.id},a)],o={id:(new Date).getTime(),data:i},c={action:"wireframe-change",node:n.id,data:{oldWireframe:{wireframe:n.wireframe,page:n.page,device:n.device},newWireframe:Object(r.a)({},a)}};setTimeout(function(){e.props.addFlowsChange({change:o,history:c})},500)}},e}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props.PageDrawer;t.showing&&!e.PageDrawer.showing&&t.node&&t.node.device&&this.setState({device:t.node.device})}},{key:"render",value:function(){return b.a.createElement(dr,{sitemap:this.props.sitemap,PageDrawer:this.props.PageDrawer,device:this.state.device,handleDeviceChange:this.handleDeviceChange,handlePageChange:this.handlePageChange,handleWireframeChange:this.handleWireframeChange,handleClose:this.handleClose,ui:this.props.ui})}}]),n}(v.Component);var gr=Object(O.b)(function(e){return Object(r.a)({},e,{PageDrawer:e.flows.ui.PageDrawer,canEdit:"full"===e.sitemap.editLevel||"edit"===e.sitemap.editLevel})},{changedSymbol:Ta.d,addFlowsChange:Ta.a,hideFlowsPageDrawer:Ta.l})(fr),hr=n(178),vr=(n(140),n(90));function br(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function yr(){var e=Object(h.a)(["\n.anticon {\n  color: #2ED9C3 !important;\n}\n.ant-result-title {\n  font-weight: 600;\n  font-size: 1.2rem !important;\n  letter-spacing: -.02rem;\n  color: #323E48;\n}\n.ant-result-subtitle {\n  margin-top: 24px;\n  font-weight: 500;\n  font-size: 1rem !important;\n  letter-spacing: -.02rem;\n}\n"]);return yr=function(){return e},e}var Er=Object(w.a)(vr.a)(yr()),Or=function(e){Object(l.a)(n,e);var t=br(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){document.title="Rarchy - Upgrade User Flows Limit"}},{key:"render",value:function(){return b.a.createElement("div",{style:{margin:"auto",maxWidth:600,marginTop:"calc(30vh - 104px)",textAlign:"center",zIndex:9999999999}},b.a.createElement(Er,{title:"You have hit the user flows limit in your free account",subTitle:"Upgrade to an organization account to create more user flows",extra:b.a.createElement($.b,{to:"/organizations/new"},b.a.createElement(Q.a,{type:"primary",size:"large",key:"console",style:{fontWeight:600,fontSize:"1rem",letterSpacing:"-.02rem"}},"View Paid Plans"))}))}}]),n}(v.Component);function wr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function xr(){var e=Object(h.a)(["\n  input {\n    padding-left: 18px !important;\n    border-radius: 2px !important;\n  }\n"]);return xr=function(){return e},e}function jr(){var e=Object(h.a)(["\nlabel {\n    font-weight: 500;\n    font-size: 14px;\n    margin-bottom: 6px;\n}\nbutton {\n    font-size: 14px !important;\n    font-weight: 600 !important;\n    letter-spacing: -.02rem !important;\n}\ninput {\n    background: white !important;\n    &:hover, &:active, &:focus {\n        background: white !important;\n    }\n}\n"]);return jr=function(){return e},e}function Sr(){var e=Object(h.a)(["\nfont-weight: 600;\nmargin-bottom: 0;\ndisplay: inline-block;\nfont-size: 1.4rem !important;\nletter-spacing: -.03em;\nposition: relative;\nbottom: 36px;\n"]);return Sr=function(){return e},e}var Cr=w.a.h2(Sr()),Ar=Object(w.a)(X.a)(jr()),kr=Object(w.a)(qe.a)(xr()),Rr=function(e){Object(l.a)(n,e);var t=wr(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={creating:!1},e.checkName=function(e,t,n){t&&t.length>0&&t.length<50?n():n("validation-error")},e.handleSubmit=function(){e.props.form.validateFields(function(){var t=Object(f.a)(m.a.mark(function t(n,a){var r,i,o,c,s,l,u;return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return");case 2:return r=a.name,i=e.props,o=i.user,c=i.sitemap,s=i.history,e.setState({creating:!0}),t.prev=5,t.next=8,x.store.firestore.doc("/sitemaps/".concat(c.id)).set({flows:x.store.firestore.FieldValue.increment(1)},{merge:!0}).catch(function(e){console.error(e),l=e});case 8:return t.next=10,x.store.firestore.collection("user-flows").add({createdAt:new Date,createdBy:o.id,updatedAt:new Date,lastEdit:o.id,name:r,sitemap:c.id,data:{gkp8rej1fp:{connectors:{right:{karg8vy8uc:{icon:{id:"arrow-right"},position:"left"}}},text:"Drag from markers to create connectors between symbols",type:"startEnd",x:881.25,y:110.41666666666666},h8xb4zmgui:{connectors:{right:{gkp8rej1fp:{icon:{id:"arrow-right"},position:"left"}}},text:"Click on the canvas, drag from the toolbar, or add from existing symbol",type:"action",x:450,y:110.41666666666666},karg8vy8uc:{text:"Click on symbols & connections to show options",type:"inputOutput",x:1278.75,y:110.41666666666666}}}).catch(function(e){console.error(e),l=e});case 10:u=t.sent,window.dataLayer.push({event:"created_user_flow"}),l||s.push("/s/".concat(c.id,"/flows/").concat(u.id)),t.next=19;break;case 15:t.prev=15,t.t0=t.catch(5),console.error(t.t0),e.setState({creating:!1});case 19:case"end":return t.stop()}},t,null,[[5,15]])}));return function(e,n){return t.apply(this,arguments)}}())},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.flows;this.props.location.pathname.includes("flows/new")&&(document.title="New User Flow - Rarchy",e.selected&&this.props.clearSelectedFlow())}},{key:"componentDidUpdate",value:function(e){var t=this.props.flows;this.props.location.pathname.includes("flows/new")&&!e.location.pathname.includes("flows/new")&&(document.title="New User Flow - Rarchy",t.selected&&this.props.clearSelectedFlow())}},{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.flows,a=e.inUserAccount,r=e.form.getFieldDecorator,i=this.state.creating;return this.props.location.pathname.includes("/flows/new")?!t.editLevel||"full"!==t.editLevel&&"edit"!==t.editLevel?null:a&&Object.keys(n.byId).length>0?b.a.createElement(Or,null):b.a.createElement("div",{style:{margin:"auto",maxWidth:500,marginTop:"calc(45vh - 104px)",textAlign:"center"}},b.a.createElement(Cr,null,b.a.createElement(hr.d,{scale:.85,verticalAlign:"-0.25em",margin:"0px 15px 0px 0px"}),We.a.isEmpty(Object.keys(n.byId))?"You don't have any user flows yet...":"New User Flow"),b.a.createElement(Dt.a,{style:{minWidth:500}},b.a.createElement(Ar,null,b.a.createElement(X.a.Item,{help:null,hasFeedback:!0,required:!0,colon:!1,label:null},r("name",{rules:[{validator:this.checkName,required:!0}]})(b.a.createElement(kr,{ref:function(e){return e&&e.focus()},size:"large",placeholder:"Name of your new user flow..."})))),b.a.createElement(Q.a,{type:"primary",size:"large",disabled:i,loading:i,style:{width:"100%",fontWeight:600,letterSpacing:"-.02rem"},onClick:We.a.debounce(this.handleSubmit,5e3,{leading:!0})},i?"Creating User Flow":"Create User Flow"))):null}}]),n}(v.Component);var Dr=Object(E.g)(Object(y.d)(Object(bt.firestoreConnect)(function(e,t){var n=t.getState(),a=n.sitemap,r=n.user;return a.id&&r.id?"full"!==a.editLevel&&"edit"!==a.editLevel?[]:[{collection:"sitemaps",doc:a.id}]:[]}),Object(O.b)(function(e){return Object(r.a)({},e,{inUserAccount:!e.organization.id})},function(e){return Object(y.b)({clearSelectedFlow:Ta.e},e)}))(X.a.create()(Rr)));function Ir(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Tr(){var e=Object(h.a)(["\nmargin: auto;\n.ant-result-subtitle {\n    margin-top: 60px !important;\n    margin-bottom: 36px !important;\n    color: #5B6670 !important;\n    font-size: 1.25rem !important;\n    font-weight: 500 !important;\n    letter-spacing: -.02rem !important;\n  }\n  .anticon-exclamation-circle {\n    color: #E7004C !important;\n  }\n  button {\n    font-weight: 600;\n    letter-spacing: -.02rem;\n  }\n"]);return Tr=function(){return e},e}var Pr=Object(w.a)(vr.a)(Tr()),Nr=function(e){Object(l.a)(n,e);var t=Ir(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.flow;return n&&n.error?b.a.createElement("div",{style:{display:"flex",margin:"auto",zIndex:99999}},Lr(t,n.error)):null}}]),n}(v.Component),Lr=function(e,t){return"not-found"===t?b.a.createElement(Pr,{status:"404",subTitle:"We couldn't find this user flow",extra:b.a.createElement($.b,{to:"/s/".concat(e.id,"/flows/new")},b.a.createElement(Q.a,{size:"large",type:"primary"},"Create a new User Flow"))}):"permission-denied"===t?b.a.createElement(Pr,{status:"403",subTitle:"You don't have permission to access this user flow",extra:b.a.createElement($.b,{to:"/s/".concat(e.id,"/flows/new")},b.a.createElement(Q.a,{size:"large",type:"primary"},"Create a new User Flow"))}):b.a.createElement(Pr,{status:"404",subTitle:"We are having trouble accessing this user flow",extra:b.a.createElement($.b,{to:"/s/".concat(e.id,"/flows/new")},b.a.createElement(Q.a,{size:"large",type:"primary"},"Create a new User Flow"))})};function Fr(e){var t=/[^\/]*$/.exec(e.location.pathname)[0];return 20===t.length?t:null}var zr=Object(E.g)(Object(O.b)(function(e,t){return Object(r.a)({},e,{flowId:Fr(t),flow:e.flows.byId[Fr(t)]})},function(e){return Object(y.b)({},e)})(Nr)),Mr=n(201),Br=n.n(Mr);function Ur(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}var Wr=window.$,_r=function(e){Object(l.a)(n,e);var t=Ur(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.flows,r=t.flowId,i=t.history,o=t.loadedCovers;if(r&&o&&this.props.initUserFlow(r),!this.props.location.pathname.includes("/flows/new")){if(!r&&a.loaded&&!We.a.isEmpty(a.byId)){var c=We.a.sortBy(We()(a.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value(),"updatedAt").reverse();i.push("/s/".concat(n.id,"/flows/").concat(c[0].id))}!r&&a.loaded&&We.a.isEmpty(this.props.flows.byId)&&("full"!==n.editLevel&&"edit"!==n.editLevel||i.push("/s/".concat(n.id,"/flows/new"))),Ia.select("#svg-main").on("mouseenter",function(){r&&Xr(e.props)})}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.sitemap,a=t.flows,r=t.flowId,i=t.history,o=t.location;if(r&&o.pathname!==e.location.pathname&&this.props.initUserFlow(r),a.loaded&&!e.flows.loaded){if(this.props.location.pathname.includes("/flows/new"))return;if(We.a.isEmpty(a.byId))"full"!==n.editLevel&&"edit"!==n.editLevel||i.push("/s/".concat(n.id,"/flows/new"));else{var c=We.a.sortBy(We()(a.byId).map(function(e,t){return Object.assign({},e,{id:t})}).value(),"updatedAt").reverse();i.push("/s/".concat(n.id,"/flows/").concat(c[0].id))}}Hr(this.props,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.sitemap,a=t.flow,r=t.flows,i=t.location;return a&&a.loading?null:We.a.isEmpty(r.byId)&&"full"!==n.editLevel?b.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"calc(100vh - 110px)"}},b.a.createElement("img",{alt:"",src:Br.a,style:{width:250,marginBottom:24}}),b.a.createElement("div",{style:{fontSize:16,color:"#7B868C"}},"This project has no user flows yet")):b.a.createElement("div",{style:{background:"rgb(249 249 249 / 0.5)",position:"fixed",width:"100%",height:"100vh"},id:"div-app"},a&&!a.error&&b.a.createElement("svg",{id:"svg-main"},b.a.createElement("defs",null,b.a.createElement("clipPath",{id:"rect-clip"},b.a.createElement("rect",{id:"node-rect",x:"0",y:"0",width:"225",height:"225"})),b.a.createElement("clipPath",{id:"header-clip"},b.a.createElement("rect",{id:"header-rect",x:"0",y:"0",width:"225",height:"20"}))),b.a.createElement("g",{id:"user-flows-container",onClick:function(){r.ui.FlowsSelect.showing&&e.props.hideFlowsSelect()}}),b.a.createElement(Pa.a,null),b.a.createElement(Ba,null),b.a.createElement(gr,null)),n.loaded&&b.a.createElement(b.a.Fragment,null,i.pathname.includes("/flows/new")&&b.a.createElement(Dr,null),b.a.createElement(zr,null)))}}]),n}(v.Component);Wr(document).on("click","#div-app,.sitemap-navbar,.sitemap-toolbar",function(){x.store.getState().flows.ui.FlowsSelect.showing&&x.store.dispatch(Object(Ta.m)())});function Vr(e){if(e.location.pathname.includes("flows")){var t=/[^\/]*$/.exec(e.location.pathname)[0];if(20===t.length)return t}return null}var Gr=Object(E.g)(Object(y.d)(Object(bt.firestoreConnect)(function(e,t){var n=t.getState(),a=n.sitemap,r=n.user,i=n.flows;return a.id&&r.id?"full"!==a.editLevel&&"edit"!==a.editLevel?[]:i.selected?[{collection:"sitemaps",doc:a.id},{collection:"user-flows",doc:i.selected}]:[]:[]}),Object(O.b)(function(e,t){return Object(r.a)({},e,{inUserSitemap:e.sitemap.id===e.user.id,loadedCovers:e.sitemap.covers.loaded,flowId:Vr(t),flow:e.flows.byId[Vr(t)]})},function(e){return Object(y.b)({initUserFlow:Ta.n,mergeFlowEdits:Ta.p,hideFlowsSelect:Ta.m},e)}))(_r)),Hr=function(){var e=Object(f.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=Yr(t,n)){e.next=3;break}return e.abrupt("return");case 3:t.mergeFlowEdits(a);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Yr=function(e,t){var n=e.user,a=e.flowId,r=e.firestore.data["user-flows"],i=t.firestore.data["user-flows"];if(r&&i&&r[a]&&i[a])return JSON.stringify(r[a].data)!==JSON.stringify(i[a].data)&&r[a].lastEdit!==n.id?r[a].data:void 0},Xr=function(){Ia.select("#options").empty()||Ia.select("#options").remove()};function Zr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(p.a)(e);if(t){var r=Object(p.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(u.a)(this,n)}}function Kr(){var e=Object(h.a)(["\n  font-size: 52px !important;\n  width: 52px !important;\n  height: 52px !important;\n"]);return Kr=function(){return e},e}n.d(t,"b",function(){return qr}),n.d(t,"a",function(){return Jr}),n.d(t,"d",function(){return $r});var Qr=Object(w.a)(g.a)(Kr()),qr=225,Jr=58,$r=20,ei=function(){var e=Object(f.a)(m.a.mark(function e(t){var n,a,r,i,o,c,s;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.sitemap,a=t.inUserSitemap,r=t.firebase,i=r.profile,o=r.auth,n.id&&!a&&n.editLevel&&o.uid){e.next=4;break}return e.abrupt("return");case 4:c=x.store.firebase.database().ref("/sitemaps/".concat(n.id,"/viewing/").concat(o.uid,"/")),s={firstName:i.firstName,lastName:i.lastName,photoURL:i.photoURL?i.photoURL:null,joinedAt:x.store.firebase.database.ServerValue.TIMESTAMP},x.store.firebase.database().ref(".info/connected").on("value",function(e){!1!==e.val()&&c.onDisconnect().remove().then(function(){return c.set(s)})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ti=function(e){Object(l.a)(n,e);var t=Zr(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){ei(this.props),ni(this.props);var e=this.props.sitemap;window.dataLayer.push({event:"viewed_sitemap",sitemap:{format:e.format,show_covers:e.showCovers,pallette:e.pallette.header,covers_device:e.covers.device,number_of_comments:Object.keys(e.comments).length,number_of_collaborators:e.collaborators.length}})}},{key:"componentDidUpdate",value:function(e){var t=this.props.sitemap,n=e.sitemap,a=t.section;if(ai(this.props,e),ri(this.props,e),ii(this.props,e),a||n.section)return(a&&!n.section||a&&n.section&&a.id!==n.section.id)&&(a.children&&a.children.forEach(function(e){return Object(A.a)(e,!0)}),Object(C.a)(),Object(A.k)({noTransition:!0})),!a&&n.section?(Object(C.a)(),Object(A.k)({noTransition:!0})):void 0}},{key:"render",value:function(){var e=this.props,t=e.sitemap,n=e.flows,a=e.ui,r=t.root,c=t.section;return r||c?b.a.createElement(i.a,{activeKey:t.ui.ProductsTab,renderTabBar:function(){return b.a.createElement(b.a.Fragment,null)},style:{background:"rgb(249 249 249 / 0.5)"},animated:!0,destroyInactiveTabPane:!0},b.a.createElement(i.a.TabPane,{tab:"pages",key:"pages",style:{background:"rgb(249 249 249 / 0.5)"}},b.a.createElement(Da,{unsetSection:this.props.unsetSection,sitemap:t,flows:n,ui:a})),b.a.createElement(i.a.TabPane,{tab:"user-flows",key:"user-flows",style:{background:"rgb(249 249 249 / 0.5)",height:"100vh"}},b.a.createElement(Gr,null))):b.a.createElement(b.a.Fragment,null,b.a.createElement("div",{style:{background:"rgb(249 249 249 / 0.5)",width:"100%",height:"100vh",position:"fixed"}}),b.a.createElement(o.a,{className:"center",indicator:b.a.createElement(Qr,{type:"loading",spin:!0})}))}}]),n}(v.PureComponent),ni=(t.c=Object(E.g)(Object(O.b)(function(e,t){return Object(r.a)({},e,{inUserAccount:!e.organization.id,inUserSitemap:e.sitemap.id===e.user.id})},function(e){return Object(y.b)({setRoot:j.M,setSection:j.N,unsetSection:j.hb,mergePagesEdits:j.D,mergeCoversEdits:j.C,mergeCommentsEdits:j.B,switchAccount:S.g},e)})(ti)),function(e){var t,n=e.inUserAccount,r=e.sitemap,i=e.organizations;n&&(We.a.isEmpty(i)||(i.forEach(function(e){We.a.includes(e.teams,r.team)&&(t={id:e.id,name:e.name})}),t&&a.a.open({message:"Are you in the right account?",description:b.a.createElement(b.a.Fragment,null," ",b.a.createElement("div",{style:{marginBottom:9}},"This sitemap belongs to ",b.a.createElement("strong",null,t.name)," but you are viewing it from your personal account."),b.a.createElement("a",{style:{fontSize:15,fontWeight:500},onClick:function(n){n.preventDefault(),e.switchAccount(t.id),a.a.destroy()}},"Switch Account")),placement:"topRight",duration:0})));return!1}),ai=function(){var e=Object(f.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=oi(t,n,"pages")){e.next=3;break}return e.abrupt("return");case 3:t.mergePagesEdits(a);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ri=function(){var e=Object(f.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=oi(t,n,"covers")){e.next=3;break}return e.abrupt("return");case 3:t.mergeCoversEdits(a);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),ii=function(){var e=Object(f.a)(m.a.mark(function e(t,n){var a;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=oi(t,n,"comments")){e.next=3;break}return e.abrupt("return");case 3:t.mergeCommentsEdits(a);case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),oi=function(e,t,n){var a=e.sitemap,r=e.user,i=a.id,o=e.firestore.data.sitemaps,c=t.firestore.data.sitemaps;if(o&&c&&o[i]&&c[i]&&o[i].data&&c[i].data&&o[i].data[n]&&JSON.stringify(o[i].data[n])!==JSON.stringify(c[i].data[n])){if("covers"!==n&&o[i].data[n].lastEdit===r.id)return;return o[i].data[n]}}},,,,function(e,t,n){"use strict";n.d(t,"a",function(){return j}),n.d(t,"k",function(){return S}),n.d(t,"h",function(){return C}),n.d(t,"j",function(){return A}),n.d(t,"b",function(){return k}),n.d(t,"d",function(){return R}),n.d(t,"c",function(){return D}),n.d(t,"l",function(){return I}),n.d(t,"m",function(){return T}),n.d(t,"i",function(){return N}),n.d(t,"g",function(){return L}),n.d(t,"f",function(){return F}),n.d(t,"e",function(){return z});var a=n(2),r=n(23),i=(n(97),n(56)),o=(n(324),n(203)),c=n(0),s=n.n(c),l=n(286),u=n.n(l),p=n(5),d=n.n(p),m=n(20),f=n(14),g=n(39),h=n(18),v=n(21),b=n(51),y=n(183),E=n(355),O=n(955);b.extend(y),b.extend(E),b.extend(O),b.updateLocale("en",{calendar:{sameDay:"[Today at] h:mm A",lastDay:"[YD at] h:mm A",lastWeek:"ll h:mm A",sameElse:"ll h:mm A"}});var w=window.$,x=o.a.Option,j=function(e){return w(e).css({height:"32"}).height(e.scrollHeight)},S=function(e){return w(".textarea-with-mentions textarea").css({height:"32"}).height(32)},C=function(e){return!(!e||!e.includes("@"))},A=function(e){var t=e.$this,n=e.user,a=e.members,r=t.state.mentionsSearch,o=d.a.filter(a,function(e){var t="".concat(e.firstName," ").concat(e.lastName);return e.id!==n.id&&t.toLowerCase().includes(r.toLowerCase())});return d.a.isEmpty(o)?s.a.createElement(x,{key:r,value:r},r):o.map(function(e){var t="".concat(e.firstName," ").concat(e.lastName);return s.a.createElement(x,{key:e.id,value:t},s.a.createElement(s.a.Fragment,null,s.a.createElement(i.a,{className:"avatar-sm",key:e.id,src:Object(g.a)({user:e})}),t))})},k=function(e,t){var n=e.sitemap.members,a={string:"",rendered:""};a.rendered=u()(t,/@(\w+)/g,function(e,t){var a=d.a.find(n,["id",e]);return a?s.a.createElement("a",{key:"".concat(e,"-").concat(t),href:"mailto:".concat(a.email)},"@","".concat(a.firstName," ").concat(a.lastName)):e.match(/\b[a-zA-Z0-9]{28}\b/gi)?"":"@".concat(e)});for(var r,i=/(?:^|\W)@(\w+)(?!\w)/g;r=i.exec(t);){var o=new RegExp(r[1]),c=d.a.find(n,["id",r[1]]);c&&(t=t.replace(o,"".concat(c.firstName," ").concat(c.lastName)))}return a.string=t,a},R=function(e,t,n){if(t===e.user.id)return{id:e.user.id,firstName:e.user.firstName,lastName:e.user.lastName,photoURL:e.user.photoURL};var a=d.a.find(n,function(e){return e.id===t});return a||(a?void 0:{id:"removed",firstName:"Removed",lastName:"User"})},D=function(e){return"".concat(b(parseInt(e)).calendar())},I=function(e){var t=Object(h.a)(e),n=t.x,a=t.y,r=n+225*v.e.k+5,i=a-7.5;f.store.dispatch(Object(m.O)({page:e.id,node:e,offset:[r,i]}))},T=function(e){var t=f.store.getState().sitemap,n=Object(h.a)(e),a=n.x,r=n.y,i=a+225*v.e.k+5,o=r-7.5;t.comments[e.id]&&f.store.dispatch(Object(m.U)({page:e.id,node:e,offset:[i,o]}))},P=function(){f.store.getState().sitemap.ui.PageCommentsPopover.showing&&f.store.dispatch(Object(m.u)())},N=function(){var e=f.store.getState().sitemap.ui,t=e.PageCommentsPopover,n=e.AddPageCommentPopover;t.showing&&P(),n.showing&&f.store.getState().sitemap.ui.AddPageCommentPopover.showing&&f.store.dispatch(Object(m.o)())},L=function(e,t,n,i){e.preventDefault();var o=t.form,c=t.user,s=t.sitemap,l=t.members;if(!o)return u(i);function u(e){C(e)&&l.forEach(function(t){return e=e.replaceAll("@".concat(t.firstName," ").concat(t.lastName),"@".concat(t.id))});var t=Object(r.a)({},(new Date).getTime(),{user:c.id,comment:e}),i={id:(new Date).getTime(),data:[Object(r.a)({},n,t)]},o=Object(r.a)({},n,Object(a.a)({},s.comments[n],t));f.store.dispatch(Object(m.a)({change:i,comment:o}))}o.validateFieldsAndScroll(function(e,t){var n=t.comment;if(!e)return u(n)})},F=function(e,t,n,i,o){e.preventDefault();var c=t.form,s=t.user,l=t.sitemap,u=t.members;if(!c)return p();function p(){C(o)&&u.forEach(function(e){var t=new RegExp("@".concat(e.firstName," ").concat(e.lastName),"g");o=o.replace(t,"@".concat(e.id))});var e=Object(r.a)({},i,{user:s.id,comment:o}),t={id:(new Date).getTime(),data:[Object(r.a)({},n,e)]},c=Object(r.a)({},n,Object(a.a)({},l.comments[n],e));f.store.dispatch(Object(m.a)({change:t,comment:c}))}c.validateFieldsAndScroll(function(e,t){t.comment;if(!e)return p()})},z=function(e,t,n){var a=e.sitemap;if(n.parent){var i={id:(new Date).getTime(),data:[Object(r.a)({},t,Object(r.a)({},n.id,f.store.firestore.FieldValue.delete()))]},o=d.a.cloneDeep(a.comments);delete o[t][n.id],f.store.dispatch(Object(m.a)({change:i,comment:o}))}else{var c={id:(new Date).getTime(),data:[Object(r.a)({},t,f.store.firestore.FieldValue.delete())]};f.store.dispatch(Object(m.a)({change:c,comment:Object(r.a)({},t,void 0)})),P()}}},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return y}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return O});var a,r,i=n(4),o=n.n(i),c=n(15),s=n(14),l=n(11),u=n(149),p=n(21),d=n(28),m=n(29),f=n(85),g=n(115),h=n(18),v=n(5),b=n.n(v),y=[],E=[],O=function(e,t,n){if(e&&(y=e),t&&(E=t),m.e,a=m.g,r=m.h,m.f,"nodes"===s.store.getState().sitemap.format)return Object(g.j)(n);if(n)return w(n,{visibleNodes:y},{pdf:n});for(var i=function(e){var t=s.store.getState().sitemap,n=e.invert([0,0]),a=e.invert([window.innerWidth,window.innerHeight]),r=Math.trunc(n[0]),i=Math.trunc(n[1]),o=Math.trunc(a[0]),c=Math.trunc(a[1]);return r-=225,i-=t.showCovers?265:58,{left:r,top:i,right:o,bottom:c}}(p.e),o=[],c=y.length;c--;){var l=y[c];if(l.parent){var u=j(Object(h.d)(l),Object(h.e)(l),i.left,i.top,i.right,i.bottom);u&&o.push(l),u||!l.searched&&!l.goToComments||o.push(l)}else o.push(l)}w(m.e,{visibleNodes:o},{covers:!0}),w(m.g,{visibleNodes:o},{}),w(m.h,{visibleNodes:o},{hidden:!0}),Object(f.c)()},w=function(){var e=Object(c.a)(o.a.mark(function e(t,n,a){var r,i,l,m,f,g,h,v,O;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.visibleNodes,t){e.next=3;break}return e.abrupt("return");case 3:if(i=s.store.getState(),l=i.sitemap){e.next=6;break}return e.abrupt("return");case 6:m=a.hidden,f=a.covers,g=a.pdf,h=b.a.isEmpty(a),v=null,O=null,t.save(),g||t.clear(),t.translate(p.e.x,p.e.y),t.scale(p.e.k,p.e.k),(h||g)&&Object(u.f)(t,E),y.forEach(function(){var e=Object(c.a)(o.a.mark(function e(n){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.overflow||!b.a.isEmpty(n.overflow)){e.next=2;break}return e.abrupt("return");case 2:n.hideWhileDragging||(a=b.a.find(r,["id",n.id]),h&&l.showCovers&&t.dragging&&t.dragging.id===n.id?Object(u.b)(t,n,a):(f||g)&&l.showCovers&&Object(u.b)(t,n,a));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),r.forEach(function(e,n){e.parent&&!e.parent.children||e.overflow&&b.a.isEmpty(e.overflow)||e.hideWhileDragging||d.d&&e.id===d.d.id||d.d&&"dragging-placeholder"===e.id||(f||(Object(u.g)(t,e,m),Object(u.e)(t,e,m),Object(u.h)(t,e,m,g),g||Object(u.d)(t,e,m)),h&&(e.searched&&(v=e),e.goToComments&&(O=e)))}),t.restore(),v&&Object(p.b)(v),O&&Object(p.c)(O);case 19:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),x=["main-canvas","picker-canvas","covers-canvas","interactions-canvas"];function j(e,t,n,a,r,i){var o=Math.min(n,r),c=Math.max(n,r),s=Math.min(a,i),l=Math.max(a,i);return o<=e&&e<=c&&s<=t&&t<=l}CanvasRenderingContext2D.prototype.clear=CanvasRenderingContext2D.prototype.clear||function(e){e&&(this.save(),this.setTransform(1,0,0,1,0,0)),this.clearRect(0,0,this.canvas.width,this.canvas.height),e&&this.restore()},window.onload=function(){return window.addEventListener("resize",function(){(function(){if(!s.store.getState().sitemap.id)return!1;if(!a)return!1;var e=window.innerHeight,t=window.innerWidth;x.forEach(function(e){var t=document.getElementById(e);t&&(t.width=window.innerWidth,t.style.width=window.innerWidth,t.height=window.innerHeight,t.style.height=window.innerHeight)});var n=l.select("#covers-canvas"),r=l.select("#main-canvas"),i=l.select("#picker-canvas"),o=l.select("#interactions-canvas");return Object(m.i)(n.node(),m.e,t,e),Object(m.i)(r.node(),m.g,t,e),Object(m.i)(i.node(),m.h,t,e),Object(m.i)(o.node(),m.f,t,e),!0})()&&O(y,E)},!1)}},,function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return f});var a,r=n(11),i=n(5),o=n.n(i),c=n(14),s=n(35),l=window.$,u=function(){var e=setInterval(function(){var t=r.select("#svg-main");t.empty()||(t.call(p).on("dblclick.zoom",null),clearInterval(e))},10)},p=r.zoom().scaleExtent([.25,1.25]).on("zoom",function(){r.select("#user-flows-container").attr("transform",r.event.transform),a=r.event.transform.k,l(document).trigger("app:zoom");var e=c.store.getState().flows.ui,t=e.OptionsPopover,n=e.LinkedPagePopover;t.showing&&c.store.dispatch(Object(s.k)()),n.showing&&c.store.dispatch(Object(s.j)())}),d=function(){var e=c.store.getState().flows;r.select("#svg-main").call(p.transform,r.zoomIdentity.translate(window.innerWidth/2,window.innerHeight/2).scale(1));var t=r.select("#user-flows-container");if(!t.empty()){var n=t.node().getBBox(),a=0!==n.width?Math.min(window.innerWidth/n.width*.75,window.innerHeight/n.height*.75):1;if(e.selected){var i=e.byId[e.selected];1===o.a.keys(i.data).length&&(a=1)}var s=r.zoomIdentity;s=(s=(s=s.translate(window.innerWidth/2,window.innerHeight/2.4)).scale(a)).translate(-n.x-n.width/2,-n.y-n.height/2),p.transform(r.select("#svg-main"),s)}},m=function(e){var t=r.select("#svg-main");p.scaleBy(t.transition().duration(250),e&&parseInt(e)?e:1.3)},f=function(e){var t=r.select("#svg-main");p.scaleBy(t.transition().duration(250),1/(e&&parseInt(e)?e:1.3))}},,,,function(e,t,n){"use strict";var a=n(4),r=n.n(a),i=n(15),o=n(83),c=n(145),s=n(176),l=n(296),u=n(95),p=n(5),d=n.n(p),m=function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(u.getFirestore)(),e.next=3,n.doc("organizations/".concat(t)).get().catch(function(e){});case 3:if(!(a=e.sent)||!a.exists){e.next=6;break}return e.abrupt("return",{id:a.id,name:a.data().name,photoURL:a.data().photoURL,domain:a.data().domain,teams:a.data().teams,status:a.data().subscription.status});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),f=n(43),g=n(34),h=n.n(g);n.d(t,"a",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"e",function(){return E}),n.d(t,"c",function(){return O}),n.d(t,"g",function(){return j}),n.d(t,"h",function(){return S}),n.d(t,"d",function(){return C});var v=function(e){return function(t,n,a){var o=a.getFirebase,c=(a.getFirestore,o());t({type:"LOGIN",payload:function(){var t=Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.auth().signInWithEmailAndPassword(e.email,e.password);case 2:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},b=function(e){return function(t,n,a){var o=a.getFirebase,c=a.getFirestore,s=o(),l=c();t({type:"SIGNUP",payload:function(){var t=Object(i.a)(r.a.mark(function t(){var n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.auth().createUserWithEmailAndPassword(e.email,e.password);case 2:return n=t.sent,window.dataLayer.push({event:"new_user_signup"}),t.next=6,l.doc("users/".concat(n.user.uid)).set({firstName:e.firstName,lastName:e.lastName,email:e.email,photoURL:null,organizations:[],refreshToken:!1});case 6:h.a.getInstance().init("329c4d51db9ef6d068d8f9a78d6f94a8"),h.a.getInstance().setUserId(n.user.uid),h.a.getInstance().logEvent("NEW_USER_SIGNUP");case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},y=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"CLEAR_AUTH_ERRORS"})}},E=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"REDIRECT_USER",path:e})}},O=function(e){return function(t,n,a){var o=a.getFirebase,u=a.getFirestore,p=n(),g=p.user,v=p.sitemaps,b=o(),y=u();t({type:"INIT_ACCOUNT",payload:function(){var t=Object(i.a)(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return window.dataLayer.push({event:"initAccount",userId:g.id,user:{id:g.id,email:g.email}}),g.id&&h.a.getInstance().setUserId(g.id),t.next=4,e.getIdTokenResult(!0);case 4:if(n=t.sent,a=n.claims,!g.refreshToken&&void 0!==a.organization){t.next=13;break}return console.log("refresh user token"),t.next=10,b.functions().httpsCallable("auth-initAccount")({}).then(function(){var t=Object(i.a)(r.a.mark(function t(n){var a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.data.success){t.next=3;break}throw new Error("Couldn't init account");case 3:return t.next=5,e.getIdToken(!0);case 5:return t.next=7,y.doc("users/".concat(g.id)).set({refreshToken:!1},{merge:!0}).catch(function(e){return console.error(e)});case 7:return t.next=9,e.getIdTokenResult();case 9:return a=t.sent,t.abrupt("return",{claims:a.claims});case 11:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(e){return console.error(e)});case 10:return t.abrupt("return",t.sent);case 13:return t.abrupt("return",{claims:a});case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(function(){var e=Object(i.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.value.claims,e.next=3,Promise.all([!a.organization&&!v.active.loading&&t(Object(f.s)()),a.organization&&t(Object(l.b)(a)),t(Object(c.d)(a)),!a.organization&&t(Object(s.b)()),t(function(){var e=Object(i.a)(r.a.mark(function e(t,n,a){var o,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.getFirebase,a.getFirestore,o=n(),c=o.user,t({type:"GET_ORGANIZATIONS",payload:function(){var e=Object(i.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.a.isEmpty(c.organizations)){e.next=2;break}return e.abrupt("return",[]);case 2:return e.t0=d.a,e.next=5,Promise.all(c.organizations.map(function(e){return m(e)}));case 5:return e.t1=e.sent,t=e.t0.compact.call(e.t0,e.t1),e.abrupt("return",t);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){console.error(e)});case 4:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}())]);case 3:return a.organization||window.dataLayer.push({event:"start_pw"}),e.next=6,w({user:g,firebase:b});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){return{error:e}})}},w=function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a,i;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,a=t.firebase,e.next=3,x({user:n,firebase:a});case 3:(i=e.sent)&&(window.hsConversationsSettings={identificationEmail:n.email,identificationToken:i},window.HubSpotConversations.widget.load());case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i.a)(r.a.mark(function e(t){var n,a,i,o,c,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s=function(){var e=new Date;return e.setHours(e.getHours()+12),e.getTime()},n=t.user,a=t.firebase,i=localStorage.getItem("hsVisitorIdentificationToken"),!(o=i?JSON.parse(i):null)){e.next=9;break}if(!o.expiry){e.next=8;break}if(!(o.expiry>(new Date).getTime())){e.next=8;break}return e.abrupt("return",o.token);case 8:case 9:return e.next=12,a.functions().httpsCallable("hubspot-visitorIdentification")({email:n.email,firstName:n.firstName,lastName:n.lastName});case 12:if(!(c=e.sent).data){e.next=16;break}return localStorage.setItem("hsVisitorIdentificationToken",JSON.stringify({expiry:s(),token:c.data})),e.abrupt("return",c.data);case 16:case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),j=function(e,t){return function(n,a,s){var u=(0,s.getFirebase)();n(Object(o.e)(!0)),n({type:"SWITCH_ACCOUNT",payload:function(){var a=Object(i.a)(r.a.mark(function a(){var i,o,s,p;return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.functions().httpsCallable("auth-switchAccount")({id:e});case 2:if(i=a.sent,i.data.success){a.next=6;break}throw new Error("Couldn't switch account");case 6:return t&&t.push("/sitemaps"),o=u.auth().currentUser,a.next=10,o.getIdToken(!0);case 10:return a.next=12,o.getIdTokenResult();case 12:return s=a.sent,(p=s.claims).organization&&n(Object(l.b)(p)),n(Object(c.d)(p)),a.abrupt("return",{claims:p});case 17:case"end":return a.stop()}},a)}));return function(){return a.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},S=function(e,t){return function(n,a,o){var c=o.getFirebase,s=(o.getFirestore,c());n({type:"SWITCH_TEAM",payload:function(){var n=Object(i.a)(r.a.mark(function n(){var a,i;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.functions().httpsCallable("auth-switchTeam")({id:e});case 2:return t.push("/sitemaps"),a=s.auth().currentUser,n.next=6,a.getIdToken(!0);case 6:return n.next=8,a.getIdTokenResult();case 8:return i=n.sent,n.abrupt("return",{claims:i.claims});case 10:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},C=function(e){return function(t,n,a){var o=a.getFirebase,c=(a.getFirestore,o());t({type:"LOGOUT",payload:function(){var t=Object(i.a)(r.a.mark(function t(){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.logout();case 2:e.push("/login");case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()})}}},,,,,,,,function(e,t,n){"use strict";n.d(t,"f",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"b",function(){return p});var a=n(11),r=n(173),i=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"TOGGLE_SIDEMENU",collapsed:!t().ui.sideMenu.collapsed})}},o=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;var r=n().ui.sideDrawer;t({type:"TOGGLE_SIDEDRAWER",collapsed:!!e||!r.collapsed})}},c=function(e){return function(t,n,i){i.getFirebase,i.getFirestore;var o=n().ui.navbar,c=!0===e||!o.hidden,s=a.select("#rename-page");s.empty()||s.classed("hidden")||Object(r.b)(),t({type:"TOGGLE_SITEMAPS_NAVBAR",hidden:c})}},s=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SHOW_ORGANIZATION_SETTINGS_MODAL",id:n().organization.id,name:e.name,tab:e.tab?e.tab:"rename",window:e.window?e.window:void 0})}},l=function(){return function(e,t,n){n.getFirestore,n.getFirebase;e({type:"CLEAR_ADD_USER_ERROR"})}},u=function(e){return function(t,n,a){a.getFirebase,a.getFirestore;t({type:"SHOW_EDIT_SITEMAP_MODAL",id:e.id,tab:e.tab?e.tab:null})}},p=function(){return function(e,t,n){n.getFirebase,n.getFirestore;e({type:"HIDE_EDIT_SITEMAP_MODAL"})}}},,function(e,t,n){"use strict";var a=n(8),r=n(9),i=n(10),o=n(12),c=n(3),s=n(0),l=n.n(s),u=n(29),p=n(21),d=n(37),m=n(352),f=n(115),g=function(e,t){if(!f.d){var n=t.children||t._children;e.font="500 12px Inter,sans-serif";var a=e.measureText(t.name).width+20;e.fillStyle="#323e48",function(e,t,n,a,r,i,o,c){"undefined"===typeof i&&(i=5);if("number"===typeof i)i={tl:i,tr:i,br:i,bl:i};else{var s={tl:0,tr:0,br:0,bl:0};for(var l in s)i[l]=i[l]||s[l]}e.beginPath(),e.moveTo(t+i.tl,n),e.lineTo(t+a-i.tr,n),e.quadraticCurveTo(t+a,n,t+a,n+i.tr),e.lineTo(t+a,n+r-i.br),e.quadraticCurveTo(t+a,n+r,t+a-i.br,n+r),e.lineTo(t+i.bl,n+r),e.quadraticCurveTo(t,n+r,t,n+r-i.bl),e.lineTo(t,n+i.tl),e.quadraticCurveTo(t,n,t+i.tl,n),e.closePath(),o&&e.fill()}(e,t.x-a/2,t.y-(n?42:39),a,30,3,!0),e.textAlign="center",e.baseLine="middle",e.fillStyle="white",e.fillText(t.name,t.x,t.y-(n?23:20)),e.textAlign="start",e.baseLine="alphabetical"}};var h,v=n(149),b=n(14),y=n(20),E=n(28),O=n(5),w=n.n(O),x=function(e,t,n){var a=n.truncated&&n.truncated.endsWith("...");if(!f.d&&a){t.font="500 18px Inter,sans-serif";var r=t.measureText(n.name).width+30;t.fillStyle="#323e48",function(e,t,n,a,r,i,o,c){"undefined"===typeof i&&(i=5);if("number"===typeof i)i={tl:i,tr:i,br:i,bl:i};else{var s={tle:0,tr:0,br:0,bl:0};for(var l in s)i[l]=i[l]||s[l]}e.beginPath(),e.moveTo(t+i.tl,n),e.lineTo(t+a-i.tr,n),e.quadraticCurveTo(t+a,n,t+a,n+i.tr),e.lineTo(t+a,n+r-i.br),e.quadraticCurveTo(t+a,n+r,t+a-i.br,n+r),e.lineTo(t+i.bl,n+r),e.quadraticCurveTo(t,n+r,t,n+r-i.bl),e.lineTo(t,n+i.tl),e.quadraticCurveTo(t,n,t+i.tl,n),e.closePath(),o&&e.fill()}(t,j(n,e)+112.5-r/2,S(n,e)+(e.showCovers?177.5:77.5),r,50,3,!0),t.textAlign="center",t.baseLine="middle",t.fillStyle="white",t.fillText(n.name,j(n,e)+112.5,S(n,e)+(e.showCovers?208.5:108.5)),t.textAlign="start",t.baseLine="alphabetical"}},j=function(e,t){return"tree"===t.format?e.y:"tree-vertical"===t.format?e.x:"tree-vertical-matrix"===t.format?e.x:"indent"===t.format?e.y:void 0},S=function(e,t){return"tree"===t.format?e.x:"tree-vertical"===t.format?e.y:"tree-vertical-matrix"===t.format?e.y:"indent"===t.format?e.x:void 0};function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}n.d(t,"b",function(){return h}),n.d(t,"a",function(){return A}),n.d(t,"c",function(){return R});var A=function(e){Object(i.a)(n,e);var t=C(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){h=this.refs.canvas.getContext("2d",{alpha:!0}),Object(u.i)(this.refs.canvas,h,window.innerWidth,window.innerHeight)}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this;return l.a.createElement("canvas",{id:"interactions-canvas",ref:"canvas",style:{width:"100%",height:"100%",position:"absolute",top:0},onClick:function(){return k(e.props)}})}}]),n}(s.Component),k=function(e){e.sitemap.ui.CommentsPopover.showing&&b.store.dispatch(Object(y.Z)(!1))},R=w.a.throttle(function(){if(!h)return;R.cancel(),h.save(),h.clear(),h.translate(p.e.x,p.e.y),h.scale(p.e.k,p.e.k);var e=b.store.getState().sitemap;if("nodes"!==e.format){if(E.d)return Object(v.c)(h,E.d),h.restore();d.a.node&&(Object(m.a)(d.a.node),x(e,h,d.a.node)),d.a.expandCollapse&&Object(v.d)(h,d.a.expandCollapse)}"nodes"===e.format&&d.a.node&&g(h,d.a.node);h.restore()},50)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"i",function(){return r}),n.d(t,"d",function(){return i}),n.d(t,"g",function(){return y}),n.d(t,"j",function(){return E}),n.d(t,"h",function(){return x}),n.d(t,"a",function(){return j}),n.d(t,"f",function(){return S}),n.d(t,"e",function(){return C}),n.d(t,"c",function(){return A}),n.d(t,"b",function(){return k});var a,r,i,o=n(11),c=n(14),s=n(33),l=n(29),u=n(21),p=n(18),d=n(85),m=n(5),f=n.n(m),g=[],h=[],v={},b={},y=function(e,t){var n=(t||{}).noSimulation,a=R(e),i=a.nodes,c=a.links;i&&(g=i),c&&(h=c),n||(r=o.forceSimulation(g)).force("charge",o.forceManyBody().strength(-150)).force("line",o.forceLink(h)).force("x",o.forceX()).force("y",o.forceY()).force("collide",o.forceCollide().radius(5)).on("tick",function(){r.alpha()>.015?E():r.stop()})},E=function(e){"nodes"!==c.store.getState().sitemap.format?r.stop():e?O(e,{pdf:!0}):(O(l.h,{hidden:!0}),O(l.g,{}))};function O(e,t){if(e){var n=c.store.getState().sitemap,a=t.hidden,r=t.pdf;e.save(),r||e.clear(),e.translate(u.e.x,u.e.y),e.scale(u.e.k,u.e.k),a||h.forEach(function(t){t.overflow&&f.a.isEmpty(t.overflow)||(e.beginPath(),e.moveTo(t.source.x,t.source.y),e.lineTo(t.target.x,t.target.y),e.strokeStyle=n.pallette.header,e.stroke())}),g.forEach(function(t,i){var o;t.overflow&&f.a.isEmpty(t.overflow)||(a&&(b[t.id]?o=b[t.id]:(o=Object(p.c)(),b[t.id]=o,v[o]=t)),e.beginPath(),e.arc(t.x,t.y,w(t),0,2*Math.PI,!0),e.strokeStyle=a?o:n.pallette.header,e.lineWidth=r?1:2,e.stroke(),e.fillStyle=a?o:n.pallette.colors[0],e.fill(),!a&&t.parent&&t._children&&(e.beginPath(),e.arc(t.x,t.y,5.5,0,2*Math.PI,!0),e.globalAlpha=.66,e.strokeStyle=n.pallette.header,e.lineWidth=.66,e.stroke(),e.globalAlpha=1,e.fillStyle="transparent",e.fill()))}),e.restore()}}function w(e){return e.overflow?8:e._children||e.children?8:5}var x=function(e){var t=v[e];if(t)return g.find(function(e){return e.id===t.id})};function j(e){!o.event.defaultPrevented&&e.parent&&(e.children?(Object(s.a)(e),r.restart()):e._children&&(Object(s.d)(e),r.restart()))}function S(e){var t,n,r,i=u.e.invertX(e.x),o=u.e.invertY(e.y);for(t=g.length-1;t>=0;--t){n=i-(a=g[t]).x,r=o-a.y;var c=w(a);if(n*n+r*r<c*c)return a.x=u.e.applyX(a.x),a.y=u.e.applyY(a.y),a}}function C(e){i=!0,e.active||r.alphaTarget(.25).restart(),e.subject.fx=u.e.invertX(e.x),e.subject.fy=u.e.invertY(e.y),Object(d.c)()}function A(e){e.subject.fx=u.e.invertX(e.x),e.subject.fy=u.e.invertY(e.y)}function k(e){e.active||r.alphaTarget(0),e.subject.fx=null,e.subject.fy=null,i=!1}var R=function(e){return{nodes:e.descendants(),links:e.links()}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"d",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"a",function(){return f}),n.d(t,"e",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return v});var a=n(2),r=n(4),i=n.n(r),o=n(15),c=n(5),s=n.n(c),l=n(34),u=n.n(l),p=function(e){return function(t,n,a){var r=(0,a.getFirestore)(),c=n().firebase.auth.uid,s=e.organization;t({type:"GET_TEAMS",payload:function(){var e=Object(o.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=9;break}return e.next=3,r.doc("teams/".concat(c)).get();case 3:return t=e.sent,e.next=6,d([t],c);case 6:return e.abrupt("return",e.sent);case 9:return e.next=11,r.collection("teams").where("organization","==",s).where("archived","==",!1).get();case 11:return n=e.sent,e.next=14,d(n.docs,c);case 14:return e.abrupt("return",e.sent);case 15:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){console.error(e)})}},d=function(){var e=Object(o.a)(i.a.mark(function e(t,n){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s.a,e.next=3,Promise.all(t.map(function(){var e=Object(o.a)(i.a.mark(function e(t){var r,o,c,l,u,p;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.id,t.data()){e.next=3;break}return e.abrupt("return");case 3:return o=t.data(),c=o.name,l=o.members,u=o.sitemaps,p=!(l&&!s.a.includes(l,n)),e.abrupt("return",{id:r,name:c,members:l,member:p,sitemaps:Object(a.a)({},u,{active:u&&!s.a.isEmpty(u)&&u.active?u.active:[],archived:u&&!s.a.isEmpty(u)&&u.archived?u.archived:[]})});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:return e.t1=e.sent,e.next=6,e.t0.chain.call(e.t0,e.t1).keyBy("id").mapValues(function(e){return s.a.omit(e,["id"])}).value();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),m=function(e){return function(){var t=Object(o.a)(i.a.mark(function t(n,a,r){var c,s,l,p;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.getFirebase,c=r.getFirestore,s=e.teamId,l=e.newTeamName,p=c(),n({type:"RENAME_TEAM",meta:{teamId:s,newTeamName:l},payload:function(){var e=Object(o.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.doc("teams/".concat(s)).update({name:l});case 2:u.a.getInstance().logEvent("RENAMED_TEAM",{id:s});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(o.a)(i.a.mark(function t(n,a,r){var c,s,l,p;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.getFirebase,c=r.getFirestore,s=c(),l=a(),p=l.user,n({type:"ADD_USER_TO_TEAM",meta:{teamId:p.token.team,uid:e},payload:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.doc("teams/".concat(p.token.team)).update({members:s.FieldValue.arrayUnion(e)});case 2:u.a.getInstance().logEvent("ADDED_USER_TO_TEAM",{id:p.token.team});case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(o.a)(i.a.mark(function t(n,a,r){var c,s,l,p;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.getFirebase,c=r.getFirestore,s=a(),l=s.user,p=c(),n({type:"REMOVE_USER_FROM_TEAM",meta:{teamId:l.token.team,uid:e},payload:function(){var t=Object(o.a)(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.doc("teams/".concat(l.token.team)).update({members:p.FieldValue.arrayRemove(e)});case 2:u.a.getInstance().logEvent("REMOVED_USER_FROM_TEAM",{id:l.token.team});case 3:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(e){console.error(e)});case 4:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(o.a)(i.a.mark(function t(n,a,r){var o,c,s,l,p,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r.getFirebase,o=r.getFirestore,c=o(),s=a(),l=s.user,t.next=5,c.doc("teams/".concat(e)).get();case 5:return p=t.sent,t.next=8,d([p],l.id);case 8:m=t.sent,n({type:"ADDED_TEAM",data:m}),u.a.getInstance().logEvent("CREATED_NEW_TEAM",{id:e});case 11:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(o.a)(i.a.mark(function t(n,a,r){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r.getFirebase,r.getFirestore,n({type:"DELETED_TEAM",teamId:e}),u.a.getInstance().logEvent("DELETED_TEAM",{id:e});case 3:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()}},,,,function(e,t,n){"use strict";var a=n(219),r=n(4),i=n.n(r),o=n(23),c=n(15),s=n(14),l=n(54),u=n(21),p=n(18),d=n(163),m={},f={},g=function(){var e=Object(c.a)(i.a.mark(function e(t,n,a){var r,c,g,E,O,w,x,j,S,C;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.store.getState(),c=r.sitemap,g=c.covers,E=c.pallette,!n.overflow){e.next=4;break}return e.abrupt("return",y(t,n));case 4:if(!Object(p.f)(n,g)){e.next=6;break}return e.abrupt("return",b(t,n));case 6:if(O=Object(p.b)(n,g),w=Object(p.d)(n),x=Object(p.e)(n)-94.5,j=h(n,c),f[j]&&f[j].pallette!==E.header&&delete f[j],!O){e.next=16;break}if(!m["".concat(n.id,"#").concat(O.generation)]||!m["".concat(n.id,"#").concat(O.generation)][g.device]){e.next=14;break}return a&&t.drawImage(m["".concat(n.id,"#").concat(O.generation)][g.device].base_image,w,x,l.b,l.b),e.abrupt("return");case 14:e.next=20;break;case 16:if(!f[j]){e.next=20;break}return x=Object(p.e)(n)-112.5,a&&t.drawImage(f[j].base_image,w,x,l.b,l.b),e.abrupt("return");case 20:if(f[j]&&m["".concat(n.id,"#").concat(O.generation)]){e.next=31;break}if(v(t,n,c),C=new Image,O)S={type:"image",src:O.thumbDownloadURL};else try{S={key:j,type:"wireframe",src:"data:image/svg+xml;base64,"+btoa(Object(d.c)(j))}}catch(i){S={key:g.pages.default,type:"wireframe",src:"data:image/svg+xml;base64,"+btoa(Object(d.c)(g.pages.default))}}return C.src=S.src,e.next=28,C.decode();case 28:if(!n.parent||!n.parent._children){e.next=30;break}return e.abrupt("return");case 30:"wireframe"===S.type?(f[S.key]={key:S.key,type:S.type,base_image:C,pallette:E.header},w=u.e.x+Object(p.d)(n)*u.e.k,x=u.e.y+(Object(p.e)(n)-112.5)*u.e.k,a&&t.drawImage(C,w,x,l.b*u.e.k,l.b*u.e.k)):(m["".concat(n.id,"#").concat(O.generation)]=Object(o.a)({},g.device,{type:S.type,base_image:C}),w=u.e.x+Object(p.d)(n)*u.e.k,x=u.e.y+(Object(p.e)(n)-94.5)*u.e.k,a&&t.drawImage(C,w,x,l.b*u.e.k,l.b*u.e.k));case 31:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),h=function(e,t){var n,a=t.covers;return a.pages[e.id]&&a.pages[e.id].collection&&(n=a.pages[e.id].collection),n||(n=a.pages.default),n};function v(e,t,n){e.fillStyle=n.pallette.colors[0],e.fillRect(Object(p.d)(t),Object(p.e)(t)-112.5,225,225)}var b=function(e,t){var n=s.store.getState().sitemap;v(e,t,n),e.fillStyle=n.pallette.header,e.textAlign="center",e.font="42px FontAwesome",e.fillText("\uf030",Object(p.d)(t)+112,Object(p.e)(t)-0),e.font="500 30px Inter,sans-serif",e.fillText("Capturing",Object(p.d)(t)+112,Object(p.e)(t)+50),e.textAlign="start"},y=function(e,t){var n=s.store.getState().sitemap;v(e,t,n),e.font="500 44px Inter,sans-serif",e.fillStyle=n.pallette.header,e.textAlign="center",e.fillText("+ ".concat(t.overflow.length),Object(p.d)(t)+112,Object(p.e)(t)+25),e.textAlign="start"},E=n(284),O=n(282),w=n(220),x=n(285),j=(n(352),n(69)),S=n(29),C=function(e,t){k(S.f,t),A(e,j.b)},A=function(e,t){switch(s.store.getState().sitemap.format){case"tree":n(1259).spacing(S.h,t);break;case"tree-vertical":n(1260).spacing(S.h,t);break;case"tree-vertical-matrix":n(1261).spacing(S.h,t);break;case"indent":n(1262).spacing(S.h,t)}},k=function(e,t){var n=s.store.getState().sitemap;t.placeholder&&R(e,t),t.over&&(e.globalAlpha=.8),n.showCovers&&g(e,t,!0),Object(a.d)(e,t,!1),Object(x.c)(e,t,!1),Object(E.c)(e,t,!1),e.globalAlpha=1},R=function(e,t){if(t.placeholder){var n=s.store.getState().sitemap;e.lineJoin="round",e.fillStyle=n.pallette.colors[1],e.fillRect(Object(p.d)(t.placeholder),n.showCovers?Object(p.e)(t.placeholder)-112.5:Object(p.e)(t.placeholder),l.b,n.showCovers?265:l.a)}};n.d(t,"g",function(){return a.d}),n.d(t,"b",function(){return g}),n.d(t,"h",function(){return E.c}),n.d(t,"f",function(){return O.b}),n.d(t,"a",function(){return O.a}),n.d(t,"d",function(){return w.c}),n.d(t,"e",function(){return x.c}),n.d(t,"c",function(){return C})},,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return f});var a=n(4),r=n.n(a),i=n(2),o=n(64),c=n(15),s=n(14),l=n(5),u=n.n(l),p=function(e){var t=s.store.getState().sitemap,n=t.covers.collections,a=t.pallette,r=a.baseColors,i=a.colors;if(n){var o=n[e.split("/")[0]][e].svg;return r.forEach(function(e,t){return o=o.replaceAll(e,i[t])}),o}},d=function(){var e=Object(c.a)(r.a.mark(function e(t){var a,s,l,p;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!u.a.isEmpty(t)&&t){e.next=4;break}return e.next=3,m();case 3:return e.abrupt("return",e.sent);case 4:return a=t.default,s=u.a.compact(u.a.map(t,"collection")),l=u.a.compact([a].concat(Object(o.a)(s))),e.t0=i.a,e.t1={},e.next=11,m();case 11:return e.t2=e.sent,p=(0,e.t0)(e.t1,e.t2),e.next=15,Promise.all(u.a.compact(l.map(function(){var e=Object(c.a)(r.a.mark(function e(t){var a,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(444)("./".concat(t,".svg")),i=t.split("/")[0],o=t.split("/")[1],p[i]||(p[i]={}),e.t0="".concat(t),e.t1=o.replace(/-/g," "),e.next=8,fetch(a,{cache:"force-cache"}).then(function(e){return e.text()});case 8:e.t2=e.sent,p[i][t]={key:e.t0,name:e.t1,svg:e.t2};case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 15:return e.abrupt("return",p);case 16:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n(213),e.next=3,fetch(t,{cache:"force-cache"}).then(function(e){return e.text()});case 3:return e.t0=e.sent,e.t1={key:"landing-pages/content-4",name:"content 4",svg:e.t0},e.t2={"landing-pages/content-4":e.t1},e.abrupt("return",{"landing-pages":e.t2});case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark(function e(){var t,a,i,o;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(){return(o=Object(c.a)(r.a.mark(function e(t,n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(u.a.compact(t.map(function(){var e=Object(c.a)(r.a.mark(function e(t){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=/(?:\/.*\/)(.*)/.exec(t)[1].split(".",1)[0],e.t0="".concat(n,"/").concat(a),e.t1=a.replace(/-/g," "),e.next=6,fetch(t,{cache:"force-cache"}).then(function(e){return e.text()});case 6:return e.t2=e.sent,e.abrupt("return",{key:e.t0,name:e.t1,svg:e.t2});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())));case 2:return a=e.sent,e.abrupt("return",u.a.chain(a).keyBy("key").value());case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)},i=function(e,t){return o.apply(this,arguments)},t=function(e){return e.keys().map(e)},e.next=5,i(t(n(1247)),"grids");case 5:return e.t0=e.sent,e.next=8,i(t(n(1248)),"main-pages");case 8:return e.t1=e.sent,e.next=11,i(t(n(1249)),"landing-pages");case 11:return e.t2=e.sent,e.next=14,i(t(n(1250)),"e-commerce");case 14:return e.t3=e.sent,e.next=17,i(t(n(1251)),"charts");case 17:return e.t4=e.sent,e.next=20,i(t(n(1252)),"maps");case 20:return e.t5=e.sent,e.next=23,i(t(n(1253)),"misc");case 23:return e.t6=e.sent,e.next=26,i(t(n(1254)),"multimedia");case 26:return e.t7=e.sent,e.next=29,i(t(n(1255)),"reader");case 29:return e.t8=e.sent,e.next=32,i(t(n(1256)),"social");case 32:return e.t9=e.sent,e.next=35,i(t(n(1257)),"system");case 35:return e.t10=e.sent,e.next=38,i(t(n(1258)),"header");case 38:return e.t11=e.sent,a={grids:e.t0,"main-pages":e.t1,"landing-pages":e.t2,"e-commerce":e.t3,charts:e.t4,maps:e.t5,misc:e.t6,multimedia:e.t7,reader:e.t8,social:e.t9,system:e.t10,header:e.t11},e.abrupt("return",a);case 42:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},function(e,t,n){"use strict";var a=n(64),r=(n(11),n(33)),i=n(249),o=n(14),c=n(20),s=n(221),l=n(34),u=n.n(l),p=function(e,t){var n=o.store.getState();if(Object(s.b)())return o.store.dispatch(Object(c.fb)(!0));var a=e,i=Object(r.j)([{name:"New Page",parent:null}]);i.url=i.data.url,i.name=i.data.name,delete i.data,i.parent=a,i.depth=a.depth+1,i.x0=i.parent.x,i.y0=i.parent.y,i.id=Math.random().toString(36).substr(2,10),a.children?a.children.splice(a.children.length+1,0,i):a._children?(a._children.splice(a._children.length+1,0,i),a.children=a._children,a._children=null,localStorage.setItem("".concat(n.sitemap.id,"#").concat(a.id),!0)):(a.children=[],a.children.push(i),localStorage.setItem("".concat(n.sitemap.id,"#").concat(a.id),!0)),a.children.forEach(function(e,t){e.index=t}),Object(r.k)(),m(i),u.a.getInstance().logEvent("SITEMAP_ADDED_NEW_PAGE",{id:n.sitemap.id})},d=function(e,t){if(Object(s.b)())return o.store.dispatch(Object(c.fb)(!0));var n=o.store.getState().sitemap,i=Object(r.j)([{name:"New Page",parent:null}]);if(i.name=i.data.name,delete i.data,i.id=Math.random().toString(36).substr(2,10),"tree"===n.format){if("above"===t||"below"===t){i.parent=e.parent,i.depth=e.depth,i.x0=i.x,i.y0=i.y;var l="above"===t?e.index:e.index+1;e.parent.children.splice(l,0,i),e.parent.children.forEach(function(e,t){e.index=t})}"right"===t&&(i.parent=e,i.depth=e.depth+1,i.x0=i.x,i.y0=i.y,i.index=0,e.children=[i])}if("tree-vertical"===n.format){if("left"===t||"right"===t){i.parent=e.parent,i.depth=e.depth,i.x0=i.x,i.y0=i.y;var u="left"===t?e.index:e.index+1;e.parent.children.splice(u,0,i)}"below"===t&&(i.parent=e,i.depth=e.depth+1,i.x0=i.x,i.y0=i.y,i.index=0,e.children=[i]),e.parent&&e.parent.children&&e.parent.children.forEach(function(e,t){e.index=t})}if("tree-vertical-matrix"===n.format){if(e.depth<=1){if("left"===t||"right"===t){i.parent=e.parent,i.depth=e.depth,i.x0=i.x,i.y0=i.y;var p="left"===t?e.index:e.index+1;e.parent.children.splice(p,0,i)}"below"===t&&(i.parent=e,i.depth=e.depth+1,i.x0=i.x,i.y0=i.y,i.index=0,e.children?(e.children=[i].concat(Object(a.a)(e.children)),e.children.forEach(function(e,t){e.index=t})):e.children=[i]),e.parent&&e.parent.children&&e.parent.children.forEach(function(e,t){e.index=t})}if(e.depth>1){if("above"===t||"below"===t&&!e.children){i.parent=e.parent,i.depth=e.depth,i.x0=i.x,i.y0=i.y;var d="above"===t?e.index:e.index+1;e.parent.children.splice(d,0,i),e.parent.children.forEach(function(e,t){e.index=t})}("below"===t&&e.children||"right"===t)&&(i.parent=e,i.depth=e.depth+1,i.x0=i.x,i.y0=i.y,i.index=0,e.children?e.children.splice(0,0,i):e.children=[i])}}if("indent"===n.format){if("above"===t||"below"===t&&!e.children){i.parent=e.parent,i.depth=e.depth,i.x0=i.x,i.y0=i.y;var f="above"===t?e.index:e.index+1;e.parent.children.splice(f,0,i),e.parent.children.forEach(function(e,t){e.index=t})}("below"===t&&e.children||"right"===t)&&(i.parent=e,i.depth=e.depth+1,i.x0=i.x,i.y0=i.y,i.index=0,e.children?e.children.splice(0,0,i):e.children=[i])}Object(r.k)(),m(i)},m=function(e){var t=[{action:"add",id:e.id,name:e.name,index:e.index,parent:e.parent.id}],n={id:(new Date).getTime(),data:t},a={action:"add",node:e.id,data:t};setTimeout(function(){o.store.dispatch(Object(c.c)({change:n,history:a}))},500)},f=n(173),g=n(954),h=n.n(g),v=n(5),b=n.n(v),y=function(e,t){if(Object(s.b)())return o.store.dispatch(Object(c.fb)(!0));var n=o.store.getState().sitemap,a={},i=e.parent,l=h()(e);l.parent=i,l.id=E(),l.x0=e.x,l.y0=e.y,i.children.splice(l.index+1,0,l),n.covers.pages[e.id]&&n.covers.pages[e.id].collection&&(a[l.id]={collection:n.covers.pages[e.id].collection},l.cover={collection:n.covers.pages[e.id].collection}),function e(t){var r=t.children?t.children:t._children;var i=r?r.length:0;for(var o=0;o<i;o++){r[o].parent=t;var c=E();n.covers.pages[r[o].id]&&n.covers.pages[r[o].id].collection&&(a[c]={collection:n.covers.pages[r[o].id].collection},r[o].cover={collection:n.covers.pages[r[o].id].collection}),r[o].id=c,e(r[o])}}(l),l.children&&localStorage.setItem("".concat(n.id,"#").concat(l.id),!0),Object(r.k)();var p=b()(Object(r.h)(l,!0)).map(function(e,t){return Object.assign({},e,{id:t})}).value();p.forEach(function(e){a[e.id]&&a[e.id].collection&&(e.cover=a[e.id])});var d={id:(new Date).getTime(),data:p},m={id:(new Date).getTime(),data:[a]};b.a.isEmpty(m.data)||setTimeout(function(){o.store.dispatch(Object(c.b)({change:m,covers:a}))},150);var f={action:"clone",data:p};setTimeout(function(){o.store.dispatch(Object(c.c)({change:d,history:f}))},500),u.a.getInstance().logEvent("SITEMAP_CLONED_PAGE",{id:n.id})},E=function(){return Math.random().toString(36).substr(2,10)};n.d(t,"a",function(){return p}),n.d(t,"b",function(){return d}),n.d(t,"e",function(){return f.c}),n.d(t,"d",function(){return i.a}),n.d(t,"c",function(){return y})},,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",function(){return E}),n.d(t,"b",function(){return w}),n.d(t,"a",function(){return x});var a=n(4),r=n.n(a),i=n(15),o=n(11),c=n(14),s=n(33),l=n(20),u=n(18),p=n(21),d=n(69),m=n(5),f=n.n(m),g=n(34),h=n.n(g),v=window.$,b={},y=o.select("#rename-page"),E=function(e,t){var n=c.store.getState(),a=n.sitemap,r=n.ui;if("full"===a.editLevel||"edit"===a.editLevel){if(e.overflow)return!1;O(e),setTimeout(function(){v("#rename-page").val(b.name).focus().select(),b.renaming=!0,Object(s.k)({renaming:!0})},50);var i=Object(u.a)(b),o=i.x,l=i.y;y.style("left","".concat(o,"px")).style("top",function(){var e=r.navbar.hidden?44.5:106.5;return a.showCovers?"".concat(l+e+225*p.e.k,"px"):"".concat(l+e,"px")}).style("width","".concat(225*p.e.k,"px")).style("height","".concat((40+(a.showCovers?0:36))*p.e.k,"px")).style("font-size","".concat(17*p.e.k,"px")).style("padding-bottom","".concat(1.66*p.e.k,"px")).style("padding-left","".concat(15*p.e.k,"px")).style("padding-right","".concat(15*p.e.k,"px")).classed("hidden",!1)}},O=function(e){y.empty()&&(y=o.select("body").append("input").attr("id","rename-page")),y.classed("hidden")||w(),b=e},w=function(){var e=Object(i.a)(r.a.mark(function e(){var t,n,a,i,o,s;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!y.empty()&&!y.classed("hidden")){e.next=2;break}return e.abrupt("return",!1);case 2:t=v("#rename-page").val(),n=b.name,a=x(n,t),j(),a&&(i=[{action:"rename",id:b.id,name:t}],o={id:(new Date).getTime(),data:i},s={action:"rename",node:b.id,data:{oldName:n,newName:t}},setTimeout(function(){c.store.dispatch(Object(l.c)({change:o,history:s}))},500),h.a.getInstance().logEvent("SITEMAP_RENAMED_PAGE")),delete d.a.renaming,b={};case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=function(e,t,n){return n&&(b=n),!(e===(t=f.a.trim(t))||!t)&&(b.name=t,delete b.truncated,Object(s.k)(),n&&(b=void 0),!0)},j=function(){y.empty()||y.classed("hidden")||(y.attr("class","hidden"),v("#rename-page").val("")),b.renaming=!1,Object(s.k)()};v("body").on("keyup","#rename-page",function(e){13===e.which&&w()}),v("body").on("click","#rename-page",function(e){e.preventDefault(),e.stopPropagation()}),v("body").on("click",function(e){w()})},function(e,t,n){e.exports=n.p+"static/media/logo-full-dark.7d2c4fd9.svg"},,function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"a",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"c",function(){return v});var a=n(23),r=n(4),i=n.n(r),o=n(2),c=n(15),s=n(39),l=n(5),u=n.n(l),p=n(34),d=n.n(p),m=function(){return function(e,t,n){var a=(0,n.getFirestore)(),r=t(),s=r.user,l=r.organization,u=r.firebase;e({type:"GET_USERS",payload:function(){var e=Object(c.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(l.id){e.next=4;break}return e.next=3,f({users:[Object(o.a)({id:s.id},u.profile)]});case 3:return e.abrupt("return",e.sent);case 4:if(!l.id){e.next=11;break}return e.next=7,a.collection("users").where("organizations","array-contains",l.id).get();case 7:return t=e.sent,e.next=10,f({organization:l,users:t.docs});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()})}},f=function(){var e=Object(c.a)(i.a.mark(function e(t){var n,a,r,o,s,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.organization,a=t.users,e.next=3,Promise.all(a.map(function(){var e=Object(c.a)(i.a.mark(function e(t){var a,r,o,c,s,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.id,!n||t.exists){e.next=3;break}return e.abrupt("return",null);case 3:return r=t.firstName?t:t.data(),o=r.firstName,c=r.lastName,s=r.email,l=r.photoURL,e.abrupt("return",{id:a,firstName:o,lastName:c,email:s,photoURL:l,role:n?n.users[a].role:"admin"});case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 3:return r=e.sent,o=Object.keys(n?n.users:[]),s=[],o.forEach(function(e){if(n.users[e].invitedBy){var t=decodeURIComponent(e).replace(/\%2E/g,".");s.push({id:t,firstName:t,email:t,role:n.users[e].role,invited:!0})}}),l=r.reverse().concat(s),e.abrupt("return",u.a.chain(l).keyBy("id").mapValues(function(e){return u.a.omit(e,["id"])}).value());case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),g=function(e){var t=e.user;return function(){var e=Object(c.a)(i.a.mark(function e(n,r,o){var l,p,m,f,g;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=o.getFirebase,p=o.getFirestore,m=r(),f=m.organization,g=p(),n({type:"ADD_NEW_USER_TO_ORGANIZATION",payload:function(){var e=Object(c.a)(i.a.mark(function e(){var n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({firebase:l(),organization:f});case 2:if(e.sent){e.next=4;break}throw new Error("Admin access is required to add users to this organization");case 4:if(Object(s.d)(t.email)){e.next=6;break}throw new Error("That email address is not valid. Please try again.");case 6:if(n=u.a.map(m.users.byId,"email"),!u.a.includes(n,t.email)){e.next=9;break}throw new Error("This person is already a member of this organization.");case 9:return r=encodeURIComponent(t.email).replace(/\./g,"%2E"),e.next=12,g.doc("organizations/".concat(f.id)).set({users:Object(a.a)({},r,{invitedBy:m.user.id,role:t.role})},{merge:!0});case 12:return d.a.getInstance().logEvent("INVITED_USER_TO_ORGANIZATION",{id:f.id}),e.abrupt("return",{user:Object(a.a)({},t.email,{email:t.email,firstName:t.email,lastName:t.email,role:t.role,invited:!0})});case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){return e});case 5:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},h=function(e){var t=e.user,n=e.role;return function(){var e=Object(c.a)(i.a.mark(function e(r,o,s){var l,u,p,d,m;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l=s.getFirebase,u=s.getFirestore,p=o(),d=p.organization,m=u(),r({type:"UPDATE_USER_ORGANIZATION_ROLE",payload:function(){var e=Object(c.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b({firebase:l(),organization:d});case 2:if(e.sent){e.next=4;break}throw new Error("Admin access is required to add users to this organization");case 4:return e.next=6,m.doc("organizations/".concat(d.id)).set({users:Object(a.a)({},t,{role:n})},{merge:!0});case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()}).catch(function(e){return e});case 5:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}()},v=function(e){return function(){var t=Object(c.a)(i.a.mark(function t(n,r,o){var s,l,u,p,m;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=o.getFirebase,l=o.getFirestore,u=r(),p=u.organization,m=l(),n({type:"REMOVE_USER_FROM_ORGANIZATION",payload:function(){var t=Object(c.a)(i.a.mark(function t(){var n;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b({firebase:s(),organization:p});case 2:if(t.sent){t.next=4;break}throw new Error("Admin access is required to remove users from this organization");case 4:return n=encodeURIComponent(e.id).replace(/\./g,"%2E"),t.next=7,m.doc("organizations/".concat(p.id)).set({users:Object(a.a)({},n,m.FieldValue.delete())},{merge:!0});case 7:return d.a.getInstance().logEvent("REMOVED_USER_FROM_ORGANIZATION",{id:p.id}),t.abrupt("return",{userToRemove:e.id});case 9:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).catch(function(e){return e});case 5:case"end":return t.stop()}},t)}));return function(e,n,a){return t.apply(this,arguments)}}()},b=function(){var e=Object(c.a)(i.a.mark(function e(t){var n,a,r,o;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.firebase,a=t.organization,e.next=3,n.auth().currentUser.getIdTokenResult();case 3:if(r=e.sent,"admin"!==(o=r.claims).role||o.organization!==a.id){e.next=7;break}return e.abrupt("return",!0);case 7:return e.abrupt("return",!1);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},,function(e,t,n){"use strict";n.d(t,"a",function(){return h}),n.d(t,"e",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return E}),n.d(t,"d",function(){return O});n(44);var a=n(13),r=n(6),i=n(0),o=n.n(i),c=n(7);function s(){var e=Object(r.a)(["\n  g {\n    stroke: #5b6670 !important;\n  }\n  &.selected, &.mouseover {\n    g {\n      stroke: #00a7e1 !important;\n    }\n  }\n"]);return s=function(){return e},e}var l=Object(c.a)(a.a)(s()),u=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",version:"1.1"},o.a.createElement("g",{id:"tree",stroke:"#444444",strokeWidth:"1.5",fill:"none",fillRule:"evenodd",transform:"translate(12.000000, 12.000000) rotate(-90) translate(-12.000000, -12.000000)"},o.a.createElement("path",{d:"M11.5,5.501 L11.5,18.501",id:"Shape"}),o.a.createElement("rect",{id:"Rectangle-path",x:"9",y:"0.5",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path-1",x:"9.5",y:"18.501",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path-2",x:"0.5",y:"18.501",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path-3",x:"18.5",y:"18.501",width:"5",height:"5"}),o.a.createElement("path",{d:"M20.5,18.501 L20.5,12.501 L3.5,12.501 L3.5,18.501",id:"Shape"})))},p=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",version:"1.1"},o.a.createElement("g",{id:"tree-vertical",stroke:"#444444",strokeWidth:"1.5",fill:"none",fillRule:"evenodd",transform:"translate(12.000000, 12.000000) rotate(0) translate(-12.000000, -12.000000)"},o.a.createElement("path",{d:"M11.5,5.501 L11.5,18.501",id:"Shape"}),o.a.createElement("rect",{id:"Rectangle-path",x:"9",y:"0.5",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path-Copy",x:"9.5",y:"18.501",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path",x:"0.5",y:"18.501",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path",x:"18.5",y:"18.501",width:"5",height:"5"}),o.a.createElement("path",{d:"M20.5,18.501 L20.5,12.501 L3.5,12.501 L3.5,18.501",id:"Shape"})))},d=function(){return o.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1.5",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"matrixIcon",stroke:"#444444"},o.a.createElement("path",{d:"M2.5,5.501 L2.5,12.5",id:"Shape"}),o.a.createElement("path",{d:"M8.5,12 L2.5,11.999",id:"Shape"}),o.a.createElement("path",{d:"M10.5,14.501 L10.5,21",id:"Shape"}),o.a.createElement("path",{d:"M16.5,20.5 L10.5,20.5",id:"Shape"}),o.a.createElement("rect",{id:"Rectangle-path-Copy",x:"9.5",y:"0.501",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path-Copy",x:"8.5",y:"9.5",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path",x:"0.5",y:"0.501",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path",x:"18.5",y:"0.501",width:"5",height:"5"}),o.a.createElement("rect",{id:"Rectangle-path-Copy",x:"16.5",y:"18",width:"5",height:"5"}))))},m=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 122 116",version:"1.1"},o.a.createElement("g",{id:"indent",stroke:"#444444",strokeWidth:"1.5",fill:"none",fillRule:"evenodd",transform:"translate(3.000000, 3.000000)"},o.a.createElement("rect",{id:"Rectangle-9",strokeWidth:"6.5",x:"0",y:"0",width:"90",height:"20"}),o.a.createElement("rect",{id:"Rectangle-9",strokeWidth:"6.5",x:"13",y:"30",width:"90",height:"20"}),o.a.createElement("rect",{id:"Rectangle-9",strokeWidth:"6.5",x:"26",y:"60",width:"90",height:"20"}),o.a.createElement("rect",{id:"Rectangle-9",strokeWidth:"6.5",x:"26",y:"90",width:"90",height:"20"}),o.a.createElement("path",{d:"M2.5,21.5 L2.5,40.5",id:"Line",strokeWidth:"3",strokeLinecap:"square"}),o.a.createElement("path",{d:"M12.5,40.5 L3.5,40.5",id:"Line-Copy",strokeWidth:"3",strokeLinecap:"square"}),o.a.createElement("path",{d:"M15.5,50.5 L15.5,69",id:"Line-Copy-3",strokeWidth:"3",strokeLinecap:"square"}),o.a.createElement("path",{d:"M26.5,70.5 L15.5,70.5",id:"Line-Copy-2",strokeWidth:"3",strokeLinecap:"square"}),o.a.createElement("path",{d:"M15.5,67 L15.5,100",id:"Line-Copy-5",strokeWidth:"3",strokeLinecap:"square"}),o.a.createElement("path",{d:"M25.5,100.5 L15.5,100.5",id:"Line-Copy-4",strokeWidth:"3",strokeLinecap:"square"})))},f=function(){return o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",version:"1.1"},o.a.createElement("g",{stroke:"#444444",strokeWidth:"1.5",fill:"none",fillRule:"evenodd"},o.a.createElement("circle",{id:"Oval",cx:"13.499",cy:"10.501",r:"4"}),o.a.createElement("circle",{id:"Oval",cx:"2",cy:"5.501",r:"1.5"}),o.a.createElement("circle",{id:"Oval",cx:"22",cy:"2.001",r:"1.5"}),o.a.createElement("circle",{id:"Oval",cx:"2",cy:"22.001",r:"1.5"}),o.a.createElement("circle",{id:"Oval",cx:"13.499",cy:"22.001",r:"1.5"}),o.a.createElement("path",{d:"M3.06,20.94 L10.68,13.339",id:"Shape"}),o.a.createElement("path",{d:"M16.333,7.678 L20.938,3.062",id:"Shape"}),o.a.createElement("path",{d:"M3.35,6.151 L9.822,8.926",id:"Shape"}),o.a.createElement("path",{d:"M20.562,14.03 L16.944,12.535",id:"Shape"}),o.a.createElement("path",{d:"M13.499,20.501 L13.499,14.501",id:"Shape"}),o.a.createElement("circle",{id:"Oval",cx:"22",cy:"14.501",r:"1.5"})))},g=function(){return o.a.createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:"1.5",fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Group",stroke:"#444444"},o.a.createElement("rect",{id:"Rectangle",fillOpacity:"0",fill:"#000000",x:"8",y:"0.5",width:"8",height:"4.5",rx:"2"}),o.a.createElement("path",{d:"M16.1196907,12.5 L19.5,12.5",id:"Line",strokeLinecap:"square"}),o.a.createElement("path",{d:"M5,12.5 L7.5,12.5",id:"Line",strokeLinecap:"square"}),o.a.createElement("path",{d:"M20,12.5 L20,18.75",id:"Line",strokeLinecap:"square"}),o.a.createElement("polygon",{id:"Path",fillOpacity:"0",fill:"#FFFFFF",points:"12 9.5 7.5 12.5 12 15.5 16.5 12.5"}),o.a.createElement("polygon",{id:"Path",fillOpacity:"0",fill:"#000000",points:"15.3 23.5 16.3666667 19.5 23.3 19.5 22.2333333 23.5"}),o.a.createElement("path",{d:"M0.5,19.5 L8.5,19.5 L8.5,23.1717205 C4.5,21.6710847 4.5,24.714853 0.5,22.9054907 L0.5,19.5 Z",id:"Path",fillOpacity:"0",fill:"#FFFFFF"}),o.a.createElement("path",{d:"M4.5,12.5 L4.5,18.75",id:"Line",strokeLinecap:"square"}),o.a.createElement("path",{d:"M12,5 L12,9",id:"Line",strokeLinecap:"square"}))))},h=function(e){return o.a.createElement(l,{component:u,style:{float:e.float,padding:e.padding,margin:e.margin,transform:"scale(".concat(e.scale,")")},className:e.className})},v=function(e){return o.a.createElement(l,{component:p,style:{float:e.float,padding:e.padding,margin:e.margin,transform:"scale(".concat(e.scale,")"),verticalAlign:"-0.45em"},className:e.className})},b=function(e){return o.a.createElement(l,{component:d,style:{float:e.float,padding:e.padding,margin:e.margin,transform:"scale(".concat(e.scale,")")},className:e.className})},y=function(e){return o.a.createElement(l,{component:m,style:{float:e.float,padding:e.padding,margin:e.margin,transform:"scale(".concat(e.scale,")")},className:e.className})},E=function(e){return o.a.createElement(l,{component:f,style:{float:e.float,padding:e.padding,margin:e.margin,transform:"scale(".concat(e.scale,")")},className:e.className})},O=function(e){return o.a.createElement(l,{component:g,style:{float:e.float,padding:e.padding,margin:e.margin,transform:"scale(".concat(e.scale,")")},className:e.className})}},,function(e,t,n){"use strict";var a=n(8),r=n(9),i=n(10),o=n(12),c=n(3),s=n(0),l=n.n(s),u=n(32),p=n(17),d=n(14),m=n(2),f=n(23),g=(n(45),n(19)),h=(n(121),n(66)),v=(n(98),n(24)),b=(n(44),n(13)),y=n(6),E=(n(116),n(73)),O=n(294),w=n(295),x=n(372),j=n(35),S=window.$,C=function(e){var t=d.store.getState().flows,n={connectors:Object(f.a)({},e.start.position,Object(f.a)({},e.end.id,void 0))};d.store.dispatch(Object(j.b)(Object(f.a)({},e.start.id,n))),setTimeout(function(){return d.store.dispatch(Object(j.q)())},50);var a=[Object(m.a)({action:"connector-change",id:e.start.id},n)],r={id:(new Date).getTime(),data:a},i={action:"connector-change",node:e.start.id,data:{oldConnector:{connectors:Object(f.a)({},e.start.position,Object(f.a)({},e.end.id,{position:e.end.position,type:e.type,color:e.color,icon:e.icon}))},newConnector:n}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:r,history:i}))},500),t.ui.OptionsPopover.showing&&d.store.dispatch(Object(j.k)())};S(window).keydown(function(e){var t=d.store.getState().flows.utils.mouseoverConnector;t&&(8!==e.keyCode&&46!==e.keyCode||C(t))});var A=n(7),k=n(184);function R(){var e=Object(y.a)(["\n    padding: 0px 8px !important;\n    margin-left: 0px !important;\n    border-radius: 50% !important;\n    border: 8px white solid !important;\n"]);return R=function(){return e},e}function D(){var e=Object(y.a)(["\n    padding: 0px 8px !important;\n    margin-left: 0px !important;\n    border-radius: 50% !important;\n    border: 8px white solid !important;\n"]);return D=function(){return e},e}function I(){var e=Object(y.a)(["\n  font-size: 17px !important;\n  float: left !important;\n  top: 5px !important;\n  position: relative !important;\n\n  &:hover {\n      cursor: pointer !important;\n      color: #00A7E1 !important;\n  }\n"]);return I=function(){return e},e}function T(){var e=Object(y.a)(["\n  font-size: 17px !important;\n  position: absolute !important;\n  top: 5px !important;\n  left: 7px !important;\n"]);return T=function(){return e},e}function P(){var e=Object(y.a)(["\n  width: 32px;\n  stroke: #5c6671 !important; \n  &:hover {\n    stroke: #00a7e1 !important;\n    cursor: pointer;\n  }\n"]);return P=function(){return e},e}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}var L=function(e){Object(i.a)(n,e);var t=N(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={icons:[]},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.flows.ui.OptionsPopover;return l.a.createElement(E.a,{placement:"top",autoAdjustOverflow:!0,popupAlign:{offset:e.offset},destroyPopupOnHide:!0,content:l.a.createElement(B,{OptionsPopover:e}),overlayClassName:"flows-options-popover ".concat(e.iconOptions?"icons":""),visible:e.showing})}}]),n}(s.Component),F=A.a.svg(P()),z=Object(A.a)(b.a)(T()),M=Object(A.a)(b.a)(I()),B=function(e){Object(i.a)(n,e);var t=N(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).state={searched:null,iconsData:[]},e.handleSearchChange=function(t){var n=t.target.value;e.setState({searched:n})},e.newSymbol=function(t){return V(t,e.props)},e.changeSymbol=function(t){var n=t.key;return G(n,e.props)},e.changeSymbolColor=function(t){var n=t.key;return H(n,e.props)},e.deleteSymbol=function(){return Object(x.a)(e.props.OptionsPopover.node)},e.deleteConnector=function(){return C(e.props.OptionsPopover.node)},e.changeConnectorType=function(t){var n=t.key;return Y(n,e.props)},e.changeConnectorColor=function(t){var n=t.key;return X(n,e.props)},e.deleteConnectorIcon=function(){return K(e.props)},e.changeConnectorIcon=function(t){return Z(t,e.props)},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props.OptionsPopover,n=t.node,a=t.newSymbolOptions,r=t.symbolOptions,i=t.connectorOptions;return l.a.createElement(l.a.Fragment,null,a&&l.a.createElement("div",{style:{height:36,paddingTop:4,paddingLeft:3}},l.a.createElement(M,{type:"file-image",onClick:function(){return e.newSymbol("page")}}),l.a.createElement(F,{style:{marginBottom:-4,marginLeft:3},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)",onClick:function(){return e.newSymbol("startEnd")}},U.startEnd),l.a.createElement(F,{style:{marginBottom:-4},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)",onClick:function(){return e.newSymbol("decision")}},U.decision),l.a.createElement(F,{style:{marginBottom:-4,marginRight:1},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)",onClick:function(){return e.newSymbol("action")}},U.action),l.a.createElement(F,{style:{marginBottom:-5,marginRight:1},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)",onClick:function(){return e.newSymbol("document")}},U.document),l.a.createElement(F,{style:{marginBottom:-4,marginRight:3},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)",onClick:function(){return e.newSymbol("inputOutput")}},U.inputOutput)),r&&l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{overlay:l.a.createElement(v.a,{style:{padding:0}},l.a.createElement(v.a.Item,{key:"page",onClick:this.changeSymbol,style:{padding:0,display:"inline-block",marginRight:26}},l.a.createElement(z,{type:"file-image"})),l.a.createElement(v.a.Item,{key:"startEnd",onClick:this.changeSymbol,style:{padding:0,display:"inline-block"}},l.a.createElement(F,{style:{marginBottom:-4,marginLeft:3},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)"},U.startEnd)),l.a.createElement(v.a.Item,{key:"decision",onClick:this.changeSymbol,style:{padding:0,display:"inline-block"}},l.a.createElement(F,{style:{marginBottom:-4},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)"},U.decision)),l.a.createElement(v.a.Item,{key:"action",onClick:this.changeSymbol,style:{padding:0,display:"inline-block"}},l.a.createElement(F,{style:{marginBottom:-4,marginRight:1},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)"},U.action)),l.a.createElement(v.a.Item,{key:"document",onClick:this.changeSymbol,style:{padding:0,display:"inline-block"}},l.a.createElement(F,{style:{marginBottom:-5,marginRight:1},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)"},U.document)),l.a.createElement(v.a.Item,{key:"inputOutput",onClick:this.changeSymbol,style:{padding:0,display:"inline-block"}},l.a.createElement(F,{style:{marginBottom:-4,marginRight:3},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)"},U.inputOutput))),trigger:["click"],placement:"topCenter",overlayClassName:"change-symbol-dropdown"},l.a.createElement(F,{style:{marginBottom:-6},viewBox:"0 0 64 64",strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",fillRule:"evenodd",strokeWidth:3,height:26,transform:"translate(0, 0)"},U[n.type])),l.a.createElement(h.a,{overlay:l.a.createElement(v.a,{style:{padding:0}},"#66BBFF"!==t.node.color&&l.a.createElement(v.a.Item,{key:"#66BBFF",onClick:this.changeSymbolColor,style:{padding:0}},l.a.createElement(_,{style:{background:"#66BBFF"}})),"#2ECC40"!==t.node.color&&l.a.createElement(v.a.Item,{key:"#2ECC40",onClick:this.changeSymbolColor,style:{padding:0}},l.a.createElement(_,{style:{background:"#2ECC40"}})),"#FF4136"!==t.node.color&&l.a.createElement(v.a.Item,{key:"#FF4136",onClick:this.changeSymbolColor,style:{padding:0}},l.a.createElement(_,{style:{background:"#FF4136"}}))),trigger:["click"],placement:"topCenter",overlayClassName:"change-symbol-dropdown"},l.a.createElement(W,{style:{background:t.node.color}})),l.a.createElement(g.a,{className:"no-border",icon:"delete",style:{marginLeft:-4},onClick:this.deleteSymbol})),i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{overlay:l.a.createElement(v.a,{style:{padding:0}},l.a.createElement(v.a.Item,{key:"solid"===t.node.type?"dash":"solid",style:{padding:"0px 4px"},onClick:this.changeConnectorType},l.a.createElement(g.a,{className:"no-border",style:{padding:0,width:26}},"dash"===t.node.type&&l.a.createElement(O.a,{width:25,style:{transform:"rotate(-45deg) scale(0.8)",marginBottom:5},transform:"rotate(-45)"}),"solid"===t.node.type&&l.a.createElement(w.a,{width:25,style:{transform:"rotate(-45deg) scale(0.8)",marginBottom:5},transform:"rotate(-45)"})))),trigger:["click"],placement:"topCenter",overlayClassName:"change-connector-dropdown"},l.a.createElement(g.a,{className:"no-border",style:{padding:0,width:26}},"solid"===t.node.type&&l.a.createElement(O.a,{width:25,style:{transform:"rotate(-45deg) scale(0.8)",marginBottom:5},transform:"rotate(-45)"}),"dash"===t.node.type&&l.a.createElement(w.a,{width:25,style:{transform:"rotate(-45deg) scale(0.8)",marginBottom:5},transform:"rotate(-45)"}))),l.a.createElement(h.a,{overlay:l.a.createElement(v.a,{style:{padding:0}},"#66BBFF"!==t.node.color&&l.a.createElement(v.a.Item,{key:"#66BBFF",onClick:this.changeConnectorColor,style:{padding:0}},l.a.createElement(_,{style:{background:"#66BBFF"}})),"#2ECC40"!==t.node.color&&l.a.createElement(v.a.Item,{key:"#2ECC40",onClick:this.changeConnectorColor,style:{padding:0}},l.a.createElement(_,{style:{background:"#2ECC40"}})),"#FF4136"!==t.node.color&&l.a.createElement(v.a.Item,{key:"#FF4136",onClick:this.changeConnectorColor,style:{padding:0}},l.a.createElement(_,{style:{background:"#FF4136"}}))),trigger:["click"],placement:"topCenter",overlayClassName:"change-connector-dropdown"},l.a.createElement(W,{style:{background:t.node.color}})),l.a.createElement(g.a,{className:"no-border",style:{width:26},icon:"delete",onClick:this.deleteConnector})))}}]),n}(s.Component),U={startEnd:l.a.createElement("rect",{x:"2",y:"18",width:"59",height:"31",rx:"15",style:{fill:"white",strokeWidth:3}}),decision:l.a.createElement("path",{d:"M32.5 15.5l-30 17 30 17 30-17z"}),action:l.a.createElement("path",{fill:"#fff",strokeWidth:3,d:"M5 17.5h55v30h-55z"}),document:l.a.createElement("path",{d:"M1.5 15.5h60v29.376c-30-12.006-30 12.346-60-2.13z",style:{strokeWidth:3,fill:"white"}}),inputOutput:l.a.createElement("path",{d:"M1.5 46.5l8-30h52l-8 30z",style:{strokeWidth:3,fill:"white"}})},W=Object(A.a)(g.a)(D()),_=Object(A.a)(g.a)(R()),V=function(e,t){d.store.dispatch(Object(j.k)());var n=t.OptionsPopover,a=n.newSymbolOptions[0]-110,r=n.newSymbolOptions[1]-130,i=18.75*Math.round(a/18.75),o=Math.round(r/(265/12))*(265/12),c=Object(k.c)(10),s={type:e,x:i,y:o};"page"===e&&(s.text="New Page"),setTimeout(function(){d.store.dispatch(Object(j.o)(Object(f.a)({},c,s)))},100);var l=[Object(m.a)({action:"new-symbol",id:c},s)],u={id:(new Date).getTime(),data:l},p={action:"new-symbol",node:c,data:{newSymbol:s}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:u,history:p}))},500)},G=function(e,t){var n=t.OptionsPopover.node,a=n.type,r={type:e};n.type=e,d.store.dispatch(Object(j.d)(Object(f.a)({},n.id,r)));var i=[Object(m.a)({action:"symbol-change",id:n.id},r)],o={id:(new Date).getTime(),data:i},c={action:"symbol-change",node:n.id,data:{oldSymbol:{type:a},newSymbol:r}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:o,history:c}))},500),d.store.dispatch(Object(j.k)())},H=function(e,t){var n=t.OptionsPopover.node,a=n.color,r={color:e};n.color=e,d.store.dispatch(Object(j.d)(Object(f.a)({},n.id,r)));var i=[Object(m.a)({action:"symbol-change",id:n.id},r)],o={id:(new Date).getTime(),data:i},c={action:"symbol-change",node:n.id,data:{oldSymbol:{color:a},newSymbol:r}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:o,history:c}))},500),d.store.dispatch(Object(j.k)())},Y=function(e,t){var n=t.OptionsPopover.node,a=n.type,r={connectors:Object(f.a)({},n.start.position,Object(f.a)({},n.end.id,{type:e}))};n.type=e,d.store.dispatch(Object(j.b)(Object(f.a)({},n.start.id,r)));var i=[Object(m.a)({action:"connector-change",id:n.start.id},r)],o={id:(new Date).getTime(),data:i},c={action:"connector-change",node:n.start.id,data:{oldConnector:{connectors:Object(f.a)({},n.start.position,Object(f.a)({},n.end.id,{type:a}))},newConnector:r}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:o,history:c}))},500),d.store.dispatch(Object(j.k)())},X=function(e,t){var n=t.OptionsPopover.node,a=n.color,r={connectors:Object(f.a)({},n.start.position,Object(f.a)({},n.end.id,{color:e,icon:n.icon}))};n.color=e,d.store.dispatch(Object(j.b)(Object(f.a)({},n.start.id,r)));var i=[Object(m.a)({action:"connector-change",id:n.start.id},r)],o={id:(new Date).getTime(),data:i},c={action:"connector-change",node:n.start.id,data:{oldConnector:{connectors:Object(f.a)({},n.start.position,Object(f.a)({},n.end.id,{color:a,icon:n.icon}))},newConnector:r}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:o,history:c}))},500),d.store.dispatch(Object(j.k)())},Z=function(e,t){var n=t.OptionsPopover.node,a=n.icon?n.icon:null,r={connectors:Object(f.a)({},n.start.position,Object(f.a)({},n.end.id,{icon:{id:e}}))};n.icon={id:e},d.store.dispatch(Object(j.b)(Object(f.a)({},n.start.id,r)));var i=[Object(m.a)({action:"connector-change",id:n.start.id},r)],o={id:(new Date).getTime(),data:i},c={action:"connector-change",node:n.start.id,data:{oldConnector:{connectors:Object(f.a)({},n.start.position,Object(f.a)({},n.end.id,{icon:a}))},newConnector:r}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:o,history:c}))},500),d.store.dispatch(Object(j.k)())},K=function(e){var t=e.OptionsPopover.node,n=t.icon?t.icon:null,a={connectors:Object(f.a)({},t.start.position,Object(f.a)({},t.end.id,{icon:null}))};t.icon=null,d.store.dispatch(Object(j.b)(Object(f.a)({},t.start.id,a)));var r=[Object(m.a)({action:"connector-change",id:t.start.id},a)],i={id:(new Date).getTime(),data:r},o={action:"connector-change",node:t.start.id,data:{oldConnector:{connectors:Object(f.a)({},t.start.position,Object(f.a)({},t.end.id,{icon:n}))},newConnector:a}};setTimeout(function(){d.store.dispatch(Object(j.a)({change:i,history:o}))},500),d.store.dispatch(Object(j.k)())},Q=n(11),q=n(71);function J(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(c.a)(e);if(t){var r=Object(c.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(o.a)(this,n)}}n.d(t,"b",function(){return ee});var $=function(e){Object(i.a)(n,e);var t=J(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){return l.a.createElement(L,this.props)}}]),n}(s.Component),ee=(t.a=Object(p.b)(function(e){return e},function(e){return Object(u.b)({showFlowsOptionsPopover:j.x,hideFlowsOptionsPopover:j.k},e)})($),function(e,t,n){var a,r=e.symbolOptions,i=e.pageOptions,o=e.connectorOptions,c=e.iconOptions;r?a=Q.select("#node"+e.id).select(".symbol").node().getBoundingClientRect():o?a=Q.select("#line".concat(e.start.id).concat(e.start.position).concat(e.end.id)).node().getBoundingClientRect():c&&(a=Q.select("#user-flow-icon".concat(e.start.id).concat(e.start.position).concat(e.end.id)).node().getBoundingClientRect());var s=t||a.left+a.width/2,l=n||a.top+(r?0:5)*q.b,u=d.store.getState().flows.ui.OptionsPopover;!u.showing||u.node&&e.id!==u.node.id?d.store.dispatch(Object(j.x)({node:e,offset:[s,l],symbolOptions:r,pageOptions:i,connectorOptions:o,iconOptions:c})):d.store.dispatch(Object(j.k)())})},,,,function(e,t,n){"use strict";var a=n(2),r=n(11),i=n(5),o=n.n(i),c=n(4),s=n.n(c),l=n(23),u=n(15),p=n(14),d=n(71),m=n(35),f=n(968),g=n.n(f),h=window.$,v={},b=r.select("#rename-user-flow");function y(e){var t=r.select("#node"+e.id).select(".symbol");if(!t.empty()){var n=t.node().getBoundingClientRect();n&&(r.select("#rename-user-flow").attr("rows",1).style("left","".concat(n.left+function(e){var t=e.node,n=e.currentScale;if("page"===t.type)return 0;if("startEnd"===t.type)return 22*n;if("decision"===t.type)return 48.5*n;if("action"===t.type)return.5*n;if("document"===t.type)return.5*n;if("inputOutput"===t.type)return 16.5*n}({node:e,currentScale:d.b}),"px")).style("top","".concat(n.top+function(e){var t=e.node,n=e.currentScale;if("page"===t.type)return 225*n;if("startEnd"===t.type)return 9*n;if("decision"===t.type)return 14*n;if("action"===t.type)return 1*n;if("document"===t.type)return 1*n;if("inputOutput"===t.type)return 1*n}({node:e,currentScale:d.b}),"px")).style("width","".concat(n.width*function(e){var t=e.node;if("page"===t.type)return 1;if("startEnd"===t.type)return.8;if("decision"===t.type)return.55;if("action"===t.type)return.995;if("document"===t.type)return.995;if("inputOutput"===t.type)return.85}({node:e,currentScale:d.b}),"px")).style("font-size","".concat(function(e){var t=e.node,n=e.currentScale;return"page"===t.type?17*n:15*n}({node:e,currentScale:d.b}),"px")).style("overflow-y","scroll").style("outline","none").style("padding-top","".concat(function(e){var t=e.node,n=e.currentScale;if("startEnd"===t.type){if(1===O)return 25*n;if(2===O)return 16*n;if(3===O)return 6.5*n;if(4===O)return.1*n}if("decision"===t.type){if(1===O)return 20*n;if(2===O)return 11*n;if(3===O)return 3*n}if("action"===t.type){if(1===O)return 33*n;if(2===O)return 24*n;if(3===O)return 15*n;if(4===O)return 7*n}if("document"===t.type){if(1===O)return 31*n;if(2===O)return 22*n;if(3===O)return 12.5*n;if(4===O)return 3.5*n}if("inputOutput"===t.type){if(1===O)return 33*n;if(2===O)return 24*n;if(3===O)return 15*n;if(4===O)return 6*n}return 0}({node:e,currentScale:d.b}),"px")).style("padding-bottom","".concat(function(e){var t=e.node,n=e.currentScale;if("page"===t.type)return 1.66*n;if("startEnd"===t.type)return 1.66*n;if("decision"===t.type)return 1.66*n;if("action"===t.type)return 1.66*n;if("document"===t.type)return 1.66*n;if("inputOutput"===t.type)return 1.66*n}({node:e,currentScale:d.b}),"px")).style("padding-left","".concat(function(e){var t=e.node,n=e.currentScale;if("page"===t.type)return 15*n;if("startEnd"===t.type)return 15.5*n;if("decision"===t.type)return 17.5*n;if("action"===t.type)return 15*n;if("document"===t.type)return 15*n;if("inputOutput"===t.type)return 15*n}({node:e,currentScale:d.b}),"px")).style("padding-right","".concat(function(e){var t=e.node,n=e.currentScale;if("page"===t.type)return 15*n;if("startEnd"===t.type)return 15*n;if("decision"===t.type)return 15*n;if("action"===t.type)return 15*n;if("document"===t.type)return 15*n;if("inputOutput"===t.type)return 15*n}({node:e,currentScale:d.b}),"px")).attr("autocorrect",!1).attr("autocapitalize",!1).attr("spellcheck",!1).classed("hidden",!1),"page"!==v.type&&(r.select("#rename-user-flow").style("max-height","".concat(E({node:e,currentScale:d.b}),"px")),r.select("#rename-user-flow").style("height","".concat(E({node:e,currentScale:d.b}),"px"))),"page"===v.type&&r.select("#rename-user-flow").style("height","".concat(E({node:e,currentScale:d.b}),"px")))}}function E(e){var t=e.node,n=e.currentScale;return"page"===t.type?40*n:"startEnd"===t.type?80*n:"decision"===t.type?60*n:"action"===t.type?80*n:"document"===t.type?80*n:"inputOutput"===t.type?80*n:void 0}var O=1;var w=function(e){if(p.store.getState().flows.ui.OptionsPopover.showing&&p.store.dispatch(Object(m.k)()),(b=r.select("#rename-user-flow")).empty())if("page"===e.type)b=r.select("body").append("input").attr("id","rename-user-flow");else{b=r.select("body").append("textarea").attr("id","rename-user-flow").attr("wrap","hard");var t=document.getElementById("rename-user-flow");t.addEventListener("focus",function(){return g()(t)}),t.addEventListener("autosize:resized",function(){var t=h("#rename-user-flow").height(),n=parseInt(h("#rename-user-flow").css("max-height"));O=Math.ceil(t/n*("decision"!==e.type?4:3))>0?Math.ceil(t/n*("decision"!==e.type?4:3)):1,y(e)})}v=e},x=function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,a,r,i,o,c,u,d;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.empty()&&!b.classed("hidden")){e.next=2;break}return e.abrupt("return",!1);case 2:if(t=h("#rename-user-flow").val(),n=v.text,a=j(v,n,t),S(),!a){e.next=17;break}if(!v.page){e.next=13;break}return r=p.store.getState(),i=r.sitemap,o=r.user,e.next=11,p.store.firestore.doc("sitemaps/".concat(i.id,"/data/pages")).set({pages:Object(l.a)({},v.page,{name:t}),lastEdit:o.id},{merge:!0});case 11:e.next=17;break;case 13:c=[{action:"rename",id:v.id,text:t}],u={id:(new Date).getTime(),data:c},d={action:"rename",node:v.id,data:{oldText:n,newText:t}},setTimeout(function(){p.store.dispatch(Object(m.a)({change:u,history:d}))},500);case 17:v={};case 18:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(e,t,n){return!(t===(n=o.a.trim(n))||!(t&&"==="!==t||""!==n))&&(e.text=n,p.store.dispatch(Object(m.c)(e.page?{text:n}:Object(l.a)({},e.id,{text:n}),e.page)),!0)},S=function(){b.empty()||(b.val=null,b.remove(),b=r.select("#rename-user-flow")),r.select("#node"+v.id).select("text").attr("fill-opacity",1),r.select("#node"+v.id).select(".d3plus-textBox").attr("fill-opacity",1)};h(document).on("app:zoom",function(){x()}),h("body").on("click","#svg-main",function(){x()}),h("body").on("keydown","#rename-user-flow",function(e){9===e.which&&x(),13===e.which&&v&&"page"===v.type&&x()}),n.d(t,"a",function(){return C}),n.d(t,"b",function(){return A}),n.d(t,"c",function(){return k});var C=function(e){var t=r.select("#user-flows-container"),n=o.a.compact(o()(e).map(function(e,t){if(e)return Object(a.a)({id:t},e,{connectors:e.connectors?e.connectors:{},color:e.color?e.color:"#66BBFF"})}).value()),i=n?t.selectAll("g.node").data(n,function(e){return e.id}):{},c=[];n.forEach(function(e){if(!e)return e;var t=e.connectors;t&&Object.keys(t).forEach(function(n){var a=t[n];o.a.isEmpty(a)||o.a.keys(a).forEach(function(t){var r=a[t];if(!o.a.isEmpty(r)){var i={start:{id:e.id,position:n},end:{id:t,position:r.position},color:r.color?r.color:"#66BBFF",type:r.type?r.type:"solid"};r.icon&&(i.icon=r.icon),c.push(i)}})})});var s=c?t.selectAll("path.link").data(c,function(e){return e.start.id}):{};return{nodes:n,links:c,node:i,link:s}},A=function(e,t){!function(e,t){var n=p.store.getState().sitemap;"full"!==n.editLevel&&"edit"!==n.editLevel||(x(),w(e),setTimeout(function(){var t=v.page?n.pages[e.page]?n.pages[e.page].name:"Removed Page":v.text;h("#rename-user-flow").val(t).focus(),r.select("#node"+v.id).select("text").attr("fill-opacity",0),r.select("#node"+v.id).select(".d3plus-textBox").attr("fill-opacity",0)},50),y(v))}(e)},k=function(e,t){t=t||"abcdefghijklmnopqrstuvwxyz0123456789";for(var n="",a=0;a<e;a++){var r=Math.floor(Math.random()*t.length);n+=t.substring(r,r+1)}return n}},,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u});var a=n(14),r=n(20),i=n(11),o=n(37),c=n(85),s=function(){var e=a.store.getState().sitemap,t=o.a.node;t&&("nodes"!==e.format&&(t=e.data.nodes.find(function(e){return e.id===t.id})),o.a.node=null,o.a.options={},Object(c.c)(),l({event:i.event,node:t,trigger:"contextmenu"}))},l=function(e){var t=e.event,n=e.node,i=e.trigger,o=a.store.getState().sitemap;t.preventDefault(),t.stopPropagation(),!n.overflow&&o.editLevel&&a.store.dispatch(Object(r.ab)(!0,{node:n,trigger:i,offset:[t.pageX,t.pageY]}))},u=function(){a.store.dispatch(Object(r.ab)(!1,{}))}},,function(e,t,n){e.exports=n.p+"static/media/no-data.3da2dcac.svg"},,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/content-4.5aaec193.svg"},,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return g});var a=n(14),r=n(54),i=n(18),o=n(69),c=n(28),s=n(37),l=n(85),u=n(20),p={},d={},m=function(e,t,n){var l,u=a.store.getState().sitemap;if(!n&&(t._children||c.d&&c.d.over&&c.d.over.id===t.id)&&function(e,t,n){e.fillStyle=t.showCovers?"aliceblue":"white",e.fillRect(Object(i.d)(n)+(t.showCovers?225:224.5),Object(i.e)(n)-(t.showCovers?106.5:-2),4.5,t.showCovers?263:60),e.fillStyle=t.showCovers?"aliceblue":"white",e.fillRect(Object(i.d)(n)+(t.showCovers?4:3.5),Object(i.e)(n)+(t.showCovers?153.5:57.5),225.5,(t.showCovers,4)),e.beginPath(),e.strokeStyle=t.pallette.header,e.lineWidth=t.showCovers?1.5:1,e.lineJoin="round",e.moveTo(Object(i.d)(n)+4,Object(i.e)(n)+(t.showCovers?150:57.5)),e.lineTo(Object(i.d)(n)+4,Object(i.e)(n)+(t.showCovers?157.5:61.5)),e.lineTo(Object(i.d)(n)+(t.showCovers?230:228.5),Object(i.e)(n)+(t.showCovers?157.5:61.5)),e.lineTo(Object(i.d)(n)+(t.showCovers?230:228.5),Object(i.e)(n)+(t.showCovers?-106.5:2.5)),e.lineTo(Object(i.d)(n)+225,Object(i.e)(n)+(t.showCovers?-106.5:2.5)),e.stroke()}(e,u,t),n&&(d[t.id]?l=d[t.id]:(l=Object(i.c)(),d[t.id]=l,p[l]=t)),e.strokeStyle=n?o.a.dragging&&o.a.dragging.id===t.id?"transparent":l:u.pallette.header,e.lineWidth=u.showCovers?2:1,e.lineJoin="round",e.fillStyle=!n||o.a.dragging&&o.a.dragging.id===t.id?"transparent":l,"picker-canvas"!==e.canvas.id){var m=Object(i.d)(t),f=u.showCovers?Object(i.e)(t)-112.5:Object(i.e)(t);e.strokeRect(m,f,r.b,u.showCovers?265:r.a),e.fillRect(m,f,r.b,u.showCovers?265:r.a)}if("picker-canvas"===e.canvas.id){var g=s.a.node&&s.a.node.id===t.id,h=Object(i.d)(t)-(g?17:0),v=(u.showCovers?Object(i.e)(t)-112.5:Object(i.e)(t))-(g?16:0);e.fillRect(h,v,r.b+(g?34:0),(u.showCovers?265:r.a)+(g?32:0))}};var f=function(e){var t=p[e];if(t){var n=a.store.getState().sitemap;return t=n.data.nodes.find(function(e){return e.id===t.id})}},g=function(e){var t=a.store.getState().sitemap;t.showCovers&&(e.overflow?"full"!==t.editLevel&&"edit"!==t.editLevel&&a.store.dispatch(Object(u.T)(e.parent.id,e.overflow.map(function(t,n){return{key:Math.random().toString(36).substr(2,10),index:e.index+n+1,name:t}}))):a.store.dispatch(Object(u.cb)(e)),s.a.node=null,s.a.options={},Object(l.c)())}},function(e,t,n){"use strict";n.d(t,"c",function(){return p}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return y});var a=n(14),r=n(33),i=n(18),o=n(37),c=n(69),s=n(85),l={},u={},p=function(e,t,n){var r,s=a.store.getState().sitemap;c.a.dragging&&t.id===c.a.dragging.id||t.parent&&(t.children||t._children)&&(n&&(u[t.id]?r=u[t.id]:(r=Object(i.c)(),u[t.id]=r,l[r]=t)),"interactions-canvas"===e.canvas.id&&o.a.expandCollapse&&o.a.expandCollapse.id===t.id&&(e.shadowBlur=t.children?12.5:10,e.shadowColor=s.pallette.colors[4]),e.beginPath(),e.arc(f(t,s),g(t,s),d(s),0,2*Math.PI),e.fillStyle=n?r:t.children?s.pallette.header:"white",e.fill(),e.shadowBlur=0,e.shadowColor="transparent",n||(e.strokeStyle=s.pallette.header,e.lineWidth=s.showCovers?1.4:1.2,e.stroke()),n||(e.font="20px FontAwesome",e.fillStyle=t.children?"white":s.pallette.header,e.fillText(m(t,s),h(t,s),v(t,s))))},d=function(e){return e.showCovers?14:12},m=function(e,t){return"tree"===t.format?e.children?"\uf104":"\uf105":e.children?"\uf106":"\uf107"},f=function(e,t){return"tree"===t.format?e.y+225:"tree-vertical"===t.format?e.x+112.5:"tree-vertical-matrix"===t.format?e.x+20:"indent"===t.format?e.y+20:void 0},g=function(e,t){return"tree"===t.format?e.x+(t.showCovers?12.5:37.5):"tree-vertical"===t.format?e.y+(t.showCovers?155.5:60):"tree-vertical-matrix"===t.format?e.y+(t.showCovers?155.5:60):"indent"===t.format?e.x+(t.showCovers?155.5:60):void 0},h=function(e,t){return"tree"===t.format?e.y+(e.children?221:222.5):"tree-vertical"===t.format?e.x+106.25:"tree-vertical-matrix"===t.format?e.x+13.5:"indent"===t.format?e.y+13.5:void 0},v=function(e,t){return"tree"===t.format?e.x+(t.showCovers?19:44):"tree-vertical"===t.format?e.y+(t.showCovers?e.children?161:162.5:e.children?66:67.5):"tree-vertical-matrix"===t.format?e.y+(t.showCovers?e.children?161:162.5:e.children?66:67.5):"indent"===t.format?e.x+(t.showCovers?e.children?161:162.5:e.children?66:67.5):void 0},b=function(e){var t=a.store.getState().sitemap,n=l[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})},y=function(e){var t=a.store.getState().sitemap,n=l[e];n&&((n=t.data.nodes.find(function(e){return e.id===n.id})).children?Object(r.a)(n):n._children&&Object(r.d)(n),Object(s.c)())}},function(e,t,n){"use strict";n.d(t,"b",function(){return b});n(192);var a=n(78),r=n(8),i=n(9),o=n(10),c=n(12),s=n(3),l=n(0),u=n.n(l),p=n(32),d=n(17),m=n(46),f=n(14),g=n(20);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object(s.a)(e);if(t){var r=Object(s.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(e){Object(o.a)(n,e);var t=h(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;a.a.config({top:120,getContainer:function(){return document.body}}),a.a.info(u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{style:{fontWeight:500,marginTop:6,marginBottom:6}},"You have hit the 50 page limit for this sitemap."),u.a.createElement("a",{style:{fontWeight:500,marginBottom:6},href:"/organizations/new",onClick:function(t){t.preventDefault(),a.a.destroy(),e.props.history.push("/organizations/new"),e.props.toggleSitemapPageLimitMessaging(!1)}},"View Paid Plans")),5,this.props.toggleSitemapPageLimitMessaging(!1))}},{key:"componentWillUnmount",value:function(){a.a.destroy(),this.props.toggleSitemapPageLimitMessaging(!1)}},{key:"render",value:function(){return null}}]),n}(l.Component);t.a=Object(m.g)(Object(d.b)(function(e){return e},function(e){return Object(p.b)({toggleSitemapPageLimitMessaging:g.fb},e)})(v));var b=function(){var e=f.store.getState(),t=e.sitemap,n=e.user;if(t.id===n.id){var a=0;return function e(t){var n=t.children?t.children:t._children,r=n?n.length:0;if(n)for(var i=0;i<r;i++)n[i].children||n[i]._children?e(n[i]):a++}(t.root),a>=50||void 0}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return m});var a=n(23),r=n(33),i=n(11),o=n(5),c=n.n(o),s=n(14),l=n(20),u=n(95),p=n(34),d=n.n(p),m=function(e){if(i.event&&i.event.stopPropagation(),e.parent){var t=s.store.getState().sitemap,n=e.descendants(),a=t.covers.pages,r=!1;if(n.forEach(function(e){c.a.isEmpty(a[e.id])||c.a.isEmpty(a[e.id].devices)||(r=!0)}),r)return s.store.dispatch(Object(l.bb)(!0));f(e)}},f=function(e){!function e(t){i.select("#node"+t.id).remove();t.children&&t.children.forEach(function(t,n){e(t)})}(e);var t=e.parent.children?e.parent.children.indexOf(e):-1;t>-1&&(e.parent.children.splice(t,1),e.parent.children.forEach(function(e,t){e.index=t}),0===e.parent.children.length&&(e.parent.children=null)),Object(r.k)();var n=Object(u.getFirestore)(),o=function(e){var t=s.store.getState().sitemap,n=[];return function e(a){if("home"!==a.id){var r={id:a.id,name:a.name,index:a.index,parent:a.parent?a.parent.id:null,overflow:a.overflow,url:a.url};t.covers.pages[a.id]&&t.covers.pages[a.id].collection&&(r.cover=t.covers.pages[a.id]),t.comments[a.id]&&(r.comments=t.comments[a.id]),n.push(r)}a.children&&a.children.forEach(e),a._children&&a._children.forEach(e)}(e),n}(e),p=[],m=[],f=[];o.forEach(function(e){p.push({action:"remove",id:e.id}),e.cover&&m.push(Object(a.a)({},e.id,n.FieldValue.delete())),e.comments&&f.push(Object(a.a)({},e.id,n.FieldValue.delete()))});var g={id:(new Date).getTime(),data:p},h={id:(new Date).getTime(),data:m},v={id:(new Date).getTime(),data:f},b={action:"remove",data:o};setTimeout(function(){s.store.dispatch(Object(l.c)({change:g,history:b})),c.a.isEmpty(h.data)||s.store.dispatch(Object(l.b)({change:h,covers:Object(a.a)({},e.id,void 0)})),c.a.isEmpty(v.data)||s.store.dispatch(Object(l.a)({change:v}))},500),d.a.getInstance().logEvent("SITEMAP_DELETED_PAGE")}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return f});var a=n(14),r=n(54),i=n(28),o=n(5),c=n.n(o),s=function(e,t){var n=a.store.getState().sitemap;t.forEach(function(t){if((!t.parent||t.parent.children)&&(!t.overflow||!c.a.isEmpty(t.overflow))){if(i.d){if(t.id===i.d.id)return;if(t.parent.id===i.d.id)return;if("dragging-placeholder"===t.id||"dragging-placeholder"===t.parent.id)return;if(t.hideWhileDragging)return}var a;"tree"===n.format&&(a={x:t.x+r.a/2,y:t.y,parent:{x:t.parent.x+r.a/2,y:t.parent.y+r.b}}),"tree-vertical"===n.format&&(a={x:t.x+r.b/2,y:t.y+(n.showCovers?-112.5:0),parent:{x:t.parent.x+r.b/2,y:t.parent.y+(n.showCovers?152.5:r.a)}}),"tree-vertical-matrix"===n.format&&(a={x:t.x+r.b/2,y:t.y+(n.showCovers?-112.5:0),parent:{x:t.parent.x+r.b/2,y:t.parent.y+(n.showCovers?152.5:r.a)}}),"indent"===n.format&&(a=t),l(e,a,t)}})},l=function(e,t,n){var r=a.store.getState().sitemap;e.strokeStyle=r.pallette.header,e.lineWidth=r.showCovers?1.75:1.25,e.beginPath(),"tree"===r.format&&u(e,t,n),"tree-vertical"===r.format&&p(e,t,r),"tree-vertical-matrix"===r.format&&d(e,t,n,r),"indent"===r.format&&m(e,t,n),e.stroke()},u=function(e,t){var n=a.store.getState().sitemap;e.moveTo(t.y,t.x+(n.showCovers?-15.5:8.5)),e.lineTo(t.y+(t.parent.y-t.y)/2,t.x+(n.showCovers?-15.5:8.5)),e.lineTo(t.y+(t.parent.y-t.y)/2,t.parent.x+(n.showCovers?-15.5:8.5)),e.lineTo(t.parent.y,t.parent.x+(n.showCovers?-15.5:8.5))},p=function(e,t){e.moveTo(t.x,t.y),e.lineTo(t.x,(t.y+t.parent.y)/2),e.lineTo(t.parent.x,(t.y+t.parent.y)/2),e.lineTo(t.parent.x,t.parent.y)},d=function(e,t,n,a){if(n&&n.depth>1)return e.moveTo(t.x-112.5,t.y+(a.showCovers?126:37)),e.lineTo(t.x-142.75,t.y+(a.showCovers?126:37)),void e.lineTo(t.x-142.75,t.parent.y);e.moveTo(t.x,t.y),e.lineTo(t.x,(t.y+t.parent.y)/2),e.lineTo(t.parent.x,(t.y+t.parent.y)/2),e.lineTo(t.parent.x,t.parent.y)},m=function(e,t){var n=a.store.getState().sitemap;e.moveTo(t.y,t.x+r.a/2+(n.showCovers?-15.5:8.5)),e.lineTo(t.parent.y+r.a/2-9,t.x+r.a/2+(n.showCovers?-15.5:8.5)),e.lineTo(t.parent.y+r.a/2-9,t.parent.x+(n.showCovers?150:0))},f=function(e,t,n){var r=a.store.getState().sitemap;t.parent&&(i.d&&t.id===i.d.id||(n||(e.strokeStyle=r.pallette.header,e.lineWidth=1,e.fillStyle="white",e.beginPath(),e.arc(h(t,r),v(t,r),7.5,0,2*Math.PI),e.fill(),e.stroke()),n||(e.font="12px FontAwesome",e.fillStyle=r.pallette.header,e.fillText(g(t,r),b(t,r),y(t,r)))))},g=function(e,t){return"tree"===t.format||"indent"===t.format?"\uf105":"tree-vertical"===t.format?"\uf107":"tree-vertical-matrix"===t.format?e.depth>1?"\uf105":"\uf107":void 0},h=function(e,t){return"tree"===t.format?e.y:"tree-vertical"===t.format?e.x+112.5:"tree-vertical-matrix"===t.format?e.depth>1?e.x:e.x+112.5:"indent"===t.format?e.y:void 0},v=function(e,t){return"tree"===t.format?e.x+(t.showCovers?13:37.5):"tree-vertical"===t.format?e.y-(t.showCovers?112.5:0):"tree-vertical-matrix"===t.format?e.depth>1?e.y+(t.showCovers?13:37.5):e.y-(t.showCovers?112.5:0):"indent"===t.format?e.x+(t.showCovers?13:37.5):void 0},b=function(e,t){return"tree"===t.format||"indent"===t.format?e.y-1.5:"tree-vertical"===t.format?e.x+108.75:"tree-vertical-matrix"===t.format?e.depth>1?e.x-1.5:e.x+108.75:void 0},y=function(e,t){return"tree"===t.format?e.x+(t.showCovers?17:41.5):"tree-vertical"===t.format?e.y+(t.showCovers?-108:4.5):"tree-vertical-matrix"===t.format?e.depth>1?e.y+(t.showCovers?17:41.5):e.y+(t.showCovers?-108:4.5):"indent"===t.format?e.x+(t.showCovers?17:41.5):void 0}},,function(e,t,n){"use strict";n.d(t,"c",function(){return h}),n.d(t,"b",function(){return b}),n.d(t,"a",function(){return y});var a=n(11),r=n(14),i=n(54),o=n(18),c=n(149),s=n(164),l=n(69),u=n(37),p=n(28),d=n(20),m={},f={},g="500 17px Inter,sans-serif",h=function(e,t,n,a){var s=r.store.getState().sitemap;if(t.name){var l;if(n&&(f[t.id]?l=f[t.id]:(l=Object(o.c)(),f[t.id]=l,m[l]=t)),e.lineJoin="round",e.fillStyle=n?n?p.d?"transparent":l:void 0:"white",e.fillRect(Object(o.d)(t)+(s.showCovers?1:.4),Object(o.e)(t)+(s.showCovers?111:16.75),i.b-(s.showCovers?2:.9),40.75),s.showCovers&&!n&&(e.beginPath(),e.lineWidth=1,e.strokeStyle=s.pallette.colors[1],e.moveTo(Object(o.d)(t)+1,Object(o.e)(t)+111.5),e.lineTo(Object(o.d)(t)+1+(i.b-2),Object(o.e)(t)+111.5),e.stroke(),e.closePath()),!n&&!t.renaming){var u=function(e,t,n,a){if(e.truncated)return e.truncated;var r="".concat(e.name),i=r.length;for(;v(r,t,a)>n;)--i,r=r.substring(0,i)+"...";return e.truncated=r,r}(t,g,180,e);e.font=g,e.fillStyle="#323e48",e.textAlign="center",e.fillText(t.overflow?"+ ".concat(t.overflow.length):u,Object(o.d)(t)+112,Object(o.e)(t)+(s.showCovers?137.5:43)),e.textAlign="start"}n||t.dragging||Object(c.a)(e,t,a)}};function v(e,t,n){return n.font=t,n.measureText(e).width}var b=function(e){var t=m[e];if(t){var n=r.store.getState().sitemap;return t=n.data.nodes.find(function(e){return e.id===t.id})}},y=function(e){var t=r.store.getState().sitemap,n=m[e];n&&(n.overflow?r.store.dispatch(Object(d.T)(n.parent.id,n.overflow.map(function(e,t){return{key:Math.random().toString(36).substr(2,10),index:n.index+t+1,name:e}}))):(l.a.renaming=m[e]=t.data.nodes.find(function(e){return e.id===n.id}),Object(s.e)(l.a.renaming)),u.a.node=!1,u.a.options={},Object(l.d)(),a.event.preventDefault(),a.event.stopImmediatePropagation())}},function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"b",function(){return m}),n.d(t,"a",function(){return f});var a=n(11),r=n(14),i=n(18),o=n(359),c=n(5),s=n.n(c),l=function(e,t,n){var a=r.store.getState().sitemap;n||(e.fillStyle=function(e,t){return t.pallette.header}(0,a),e.fillRect(Object(i.d)(t)+(a.showCovers?.85:.4),Object(i.e)(t)-(a.showCovers?111.75:-.4),a.showCovers?223.25:224.1,17.5),function(e,t,n){var a=Object(i.e)(n)-(t.showCovers?103.5:-8.5);e.beginPath(),e.arc(Object(i.d)(n)+7,a,3,0,2*Math.PI,!1),e.fillStyle=t.pallette.colors[0],e.fill(),e.beginPath(),e.arc(Object(i.d)(n)+17,a,3,0,2*Math.PI,!1),e.fillStyle=t.pallette.colors[0],e.fill(),e.beginPath(),e.arc(Object(i.d)(n)+27,a,3,0,2*Math.PI,!1),e.fillStyle=t.pallette.colors[0],e.fill()}(e,a,t)),t.dragging||t.overflow||function(e,t,n,a){if(!e.canvas.id)return;var r=s.a.isEmpty(t.comments[n.id])?null:Object.keys(t.comments[n.id]).length;if(!t.editLevel&&!r)return;var o="500 ".concat(t.showCovers?16:14,"px Inter,sans-serif");e.font=o;var c=r?e.measureText(r).width:-4,l=t.showCovers?16:13.5;a||(r&&(e.fillStyle="white",e.fillText(r,Object(i.d)(n)+(t.showCovers?220.5:220)-c,Object(i.e)(n)+(t.showCovers?-98:13))),e.drawImage(d,Object(i.d)(n)+(t.showCovers?200:202.5)-c,Object(i.e)(n)+(t.showCovers?-111.5:1.5),l,l));if(a){var m;p[n.id]?m=p[n.id]:(m=Object(i.c)(),p[n.id]=m,u[m]=n),e.fillStyle=m,e.fillRect(Object(i.d)(n)+(200-c),Object(i.e)(n)+(t.showCovers?-112:1.5),22.5+c,l)}}(e,a,t,n)};var u={},p={},d=new Image;d.src="data:image/svg+xml;base64,PHN2ZyBjbGFzcz0iaWNvbiIgc3R5bGU9IndpZHRoOiAxZW07IGhlaWdodDogMWVtO3ZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ZmlsbDogd2hpdGU7b3ZlcmZsb3c6IGhpZGRlbjsiIHZpZXdCb3g9IjAgMCAxMDI0IDEwMjQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBwLWlkPSIxMTcwIj48cGF0aCBkPSJNMTQ5LjQ4MjY2NyA3NjhDOTAuNTYgNzY4IDQyLjY2NjY2NyA3MjAuMTcwNjY3IDQyLjY2NjY2NyA2NjEuNDE4NjY3VjE5MS45MTQ2NjdBMTA2LjY2NjY2NyAxMDYuNjY2NjY3IDAgMCAxIDE0OS40ODI2NjcgODUuMzMzMzMzaDcyNS4wMzQ2NjZDOTMzLjQ0IDg1LjMzMzMzMyA5ODEuMzMzMzMzIDEzMy4xNjI2NjcgOTgxLjMzMzMzMyAxOTEuOTE0NjY3djQ2OS41MDRBMTA2LjU4MTMzMyAxMDYuNTgxMzMzIDAgMCAxIDg3NC42MjQgNzY4SDgxMC42NjY2Njd2MTI4YzAgMzYuODIxMzMzLTQzLjQ5ODY2NyA1Ni4zNDEzMzMtNzEuMDE4NjY3IDMxLjg5MzMzM0w1NTkuNzg2NjY3IDc2OEgxNDkuNDgyNjY3ek03MjUuMzMzMzMzIDcyNS4zMzMzMzNhNDIuNjY2NjY3IDQyLjY2NjY2NyAwIDAgMSA0Mi42NjY2NjctNDIuNjY2NjY2aDEwNi42MjRBMjEuMjQ4IDIxLjI0OCAwIDAgMCA4OTYgNjYxLjQxODY2N1YxOTEuOTE0NjY3Qzg5NiAxODAuMzMwNjY3IDg4Ni4zMzYgMTcwLjY2NjY2NyA4NzQuNTE3MzMzIDE3MC42NjY2NjdIMTQ5LjQ4MjY2N0EyMS4zMzMzMzMgMjEuMzMzMzMzIDAgMCAwIDEyOCAxOTEuOTE0NjY3djQ2OS41MDRjMCAxMS41ODQgOS42NjQgMjEuMjQ4IDIxLjQ4MjY2NyAyMS4yNDhINTc2YTQyLjY2NjY2NyA0Mi42NjY2NjcgMCAwIDEgMjguMzUyIDEwLjc3MzMzM0w3MjUuMzMzMzMzIDgwMC45ODEzMzNWNzI1LjMzMzMzM3pNMzIwIDM4NGE0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMSAxIDAtODUuMzMzMzMzaDM4NGE0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMSAxIDAgODUuMzMzMzMzSDMyMHogbTAgMTcwLjY2NjY2N2E0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMSAxIDAtODUuMzMzMzM0aDI1NmE0Mi42NjY2NjcgNDIuNjY2NjY3IDAgMSAxIDAgODUuMzMzMzM0SDMyMHoiIGZpbGw9IndoaXRlIiBwLWlkPSIxMTcxIj48L3BhdGg+PC9zdmc+";var m=function(e){var t=r.store.getState().sitemap,n=u[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})},f=function(e){var t=r.store.getState().sitemap,n=u[e];n&&(n=t.data.nodes.find(function(e){return e.id===n.id}),Object(o.a)(n),a.event.preventDefault(),a.event.stopImmediatePropagation())}},,function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return g});var a=n(14),r=n(18),i=n(21),o=n(11),c=n(29),s=n(249),l=n(85),u=n(37),p={},d={},m=function(e,t){if(t.parent&&!t.overflow){var n,o=a.store.getState().sitemap;e.fillStyle=u.a.options.delete?"#e02020":"#6f8090",e.beginPath(),e.arc(Object(r.d)(t),Object(r.e)(t)-(o.showCovers?112.5:0),o.showCovers?11:9,0,2*Math.PI),e.fill(),e.font=o.showCovers?"15px FontAwesome":"13px FontAwesome",e.fillStyle="white",e.fillText("\uf00d",Object(r.d)(t)-(o.showCovers?6.2:5.3),Object(r.e)(t)-(o.showCovers?107.85:-4)),d[t.id]?n=d[t.id]:(n=Object(r.c)(),d[t.id]=n,p[n]=t),c.h.fillStyle=n,c.h.beginPath(),c.h.arc(i.e.applyX(Object(r.d)(t)),i.e.applyY(Object(r.e)(t)-(o.showCovers?112.5:0)),1.1*(o.showCovers?11:9)*i.e.k,0,2*Math.PI),c.h.fill()}},f=function(e){var t=a.store.getState().sitemap,n=p[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})},g=function(e){var t=a.store.getState().sitemap,n=p[e];n&&(n=t.data.nodes.find(function(e){return e.id===n.id}),Object(s.a)(n),u.a.node=null,u.a.options={},Object(l.c)(),o.event.preventDefault(),o.event.stopImmediatePropagation())}},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return g});var a=n(14),r=n(199),i=n(18),o=n(21),c=n(11),s=n(29),l=n(85),u=n(37),p={},d={},m=function(e,t){if(!t.overflow){var n,r=a.store.getState().sitemap;e.fillStyle="white",e.fillRect(Object(i.d)(t)+176,Object(i.e)(t)+(r.showCovers?120:25),36.5,25),e.textAlign="center",e.textBaseline="middle",e.font="".concat(u.a.options.menu?24:22,"px FontAwesome"),e.fillStyle=u.a.options.menu?"#66BBFF":"#6f8090",e.fillText("\uf107",Object(i.d)(t)+(r.showCovers?200:196),Object(i.e)(t)+(r.showCovers?132:37)),e.textAlign="start",e.textBaseline="alphabetic",d[t.id]?n=d[t.id]:(n=Object(i.c)(),d[t.id]=n,p[n]=t),s.h.fillStyle=n,s.h.fillRect(o.e.applyX(Object(i.d)(t)+190),o.e.applyY(Object(i.e)(t)+(r.showCovers?120:25)),25*o.e.k,25*o.e.k)}},f=function(e){var t=a.store.getState().sitemap,n=p[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})},g=function(e){var t=a.store.getState().sitemap,n=p[e];n&&(n=t.data.nodes.find(function(e){return e.id===n.id}),Object(r.c)({event:c.event,node:n,trigger:"contextmenu"}),u.a.node=null,u.a.options={},Object(l.c)(),c.event.preventDefault(),c.event.stopImmediatePropagation())}},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return v});var a=n(14),r=n(18),i=n(21),o=n(11),c=n(29),s=n(164),l=n(85),u=n(37),p={},d={},m=function(e,t){var n,o=a.store.getState().sitemap;t.parent&&!t.overflow&&("interactions-canvas"===e.canvas.id&&u.a.options.clone&&(e.shadowBlur=7.5,e.shadowColor=o.pallette.baseColors[4]),e.fillStyle="white",e.strokeStyle="#66BBFF",e.beginPath(),e.arc(f(t,o),g(t,o),o.showCovers?13.5:9,0,2*Math.PI),e.fill(),e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.font="".concat(13.5,"px FontAwesome"),e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf0c5",f(t,o),g(t,o)-1),e.textAlign="start",e.textBaseline="alphabetic",d[t.id]?n=d[t.id]:(n=Object(r.c)(),d[t.id]=n,p[n]=t),c.h.fillStyle=n,c.h.beginPath(),c.h.arc(i.e.applyX(f(t,o)),i.e.applyY(g(t,o)),11*1.1*i.e.k,0,2*Math.PI),c.h.fill())},f=function(e,t){return Object(r.d)(e)+225},g=function(e,t){return Object(r.e)(e)+102.5},h=function(e){var t=a.store.getState().sitemap,n=p[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})},v=function(e){var t=a.store.getState().sitemap,n=p[e];n&&(n=t.data.nodes.find(function(e){return e.id===n.id}),Object(s.c)(n),u.a.node=null,u.a.options={},Object(l.c)(),o.event.preventDefault(),o.event.stopImmediatePropagation())}},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"a",function(){return g});var a=n(14),r=n(20),i=n(18),o=n(21),c=n(11),s=n(29),l=n(85),u=n(37),p={},d={},m=function(e,t){var n,r=a.store.getState().sitemap;r.showCovers&&(Object(i.b)(t,r.covers)&&(e.font="".concat(u.a.options.fullscreen?22:20,"px FontAwesome"),e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf065",Object(i.d)(t)+207.5,Object(i.e)(t)-80),e.textAlign="start",e.textBaseline="alphabetic",d[t.id]?n=d[t.id]:(n=Object(i.c)(),d[t.id]=n,p[n]=t),s.h.fillStyle=n,s.h.fillRect(o.e.applyX(Object(i.d)(t)+192.5),o.e.applyY(Object(i.e)(t)-94.25),32*o.e.k,32*o.e.k)))},f=function(e){var t=a.store.getState().sitemap,n=p[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})},g=function(e){var t=a.store.getState().sitemap,n=p[e];n&&(n=t.data.nodes.find(function(e){return e.id===n.id}),a.store.dispatch(Object(r.S)(n.id)),u.a.node=null,u.a.options={},Object(l.c)(),c.event.preventDefault(),c.event.stopImmediatePropagation())}},function(e,t,n){"use strict";n.d(t,"b",function(){return m}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return v});var a=n(14),r=n(20),i=n(18),o=n(21),c=n(11),s=n(29),l=n(85),u=n(37),p={},d={},m=function(e,t){var n,r=a.store.getState().sitemap;t.overflow||("interactions-canvas"===e.canvas.id&&u.a.options.goToURL&&(e.shadowBlur=7.5,e.shadowColor=r.pallette.baseColors[4]),e.fillStyle="white",e.strokeStyle="#66BBFF",e.beginPath(),e.arc(f(t,r),g(t,r),r.showCovers?13.5:9,0,2*Math.PI),e.fill(),e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.font="".concat(13.5,"px FontAwesome"),e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf08e",f(t,r)+1,g(t,r)+1),e.textAlign="start",e.textBaseline="alphabetic",d[t.id]?n=d[t.id]:(n=Object(i.c)(),d[t.id]=n,p[n]=t),s.h.fillStyle=n,s.h.beginPath(),s.h.arc(o.e.applyX(f(t,r)),o.e.applyY(g(t,r)),11*1.1*o.e.k,0,2*Math.PI),s.h.fill())},f=function(e,t){return Object(i.d)(e)+225},g=function(e,t){return Object(i.e)(e)+58.5},h=function(e){var t=a.store.getState().sitemap,n=p[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})},v=function(e){var t=a.store.getState().sitemap,n=p[e];if(n){n=t.data.nodes.find(function(e){return e.id===n.id});var i=Object(r.n)(n);window.open(i,"_blank"),u.a.node=null,u.a.options={},Object(l.c)(),c.event.preventDefault(),c.event.stopImmediatePropagation()}}},,,function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(0),r=n.n(a);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var o=r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M1,1 L24,1",id:"Line",stroke:"#5b6670e6",strokeWidth:2})),c=function(e){return r.a.createElement("svg",i({width:"112px",height:"2px",version:1.1,xmlnsXlink:"http://www.w3.org/1999/xlink"},e),o)};n.p},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var a=n(0),r=n.n(a);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}var o=r.a.createElement("g",{id:"Page-1",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",strokeDasharray:"3,3.3",strokeLinecap:"round",strokeLinejoin:"round"},r.a.createElement("path",{d:"M1,1 L111,1",id:"Line",stroke:"#5b6670e6",strokeWidth:2})),c=function(e){return r.a.createElement("svg",i({width:"112px",height:"2px",version:1.1,xmlnsXlink:"http://www.w3.org/1999/xlink"},e),o)};n.p},function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var a=n(4),r=n.n(a),i=n(2),o=n(15),c=n(176),s=function(e){return function(t,n,a){var s=(0,a.getFirestore)();t({type:"SET_ORGANIZATION",payload:function(){var t=Object(o.a)(r.a.mark(function t(){var n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.organization,t.next=3,s.doc("organizations/".concat(n)).get().catch(function(e){});case 3:if(!(a=t.sent)||!a.exists){t.next=7;break}return window.dataLayer.push({event:"start_pw",pw_user_id:a.data().subscription.customer_id}),t.abrupt("return",Object(i.a)({id:n},a.data()));case 7:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()}).then(function(){t(Object(c.b)())}).catch(function(e){return console.error(e),{error:e}})}},l=function(e){return function(t,n,a){a.getFirestore;t({type:"MERGE_ORGANIZATION_DOC_CHANGES",doc:e})}}},,function(e,t,n){"use strict";var a=n(14),r=n(18),i=n(21),o=n(29),c=n(37),s={},l={},u=function(e,t){return Object(r.d)(e)},p=function(e,t){return Object(r.e)(e)+(t.showCovers?12.5:37.5)},d={},m={},f=function(e,t){return"indent"===t.format||"tree-vertical-matrix"===t.format&&e.depth>1?Object(r.d)(e)+20:Object(r.d)(e)+225},g=function(e,t){return"indent"===t.format||"tree-vertical-matrix"===t.format&&e.depth>1?Object(r.e)(e)+(t.showCovers?155.5:60):Object(r.e)(e)+(t.showCovers?12.5:37.5)},h={},v={},b=function(e,t){return Object(r.d)(e)+112.5},y=function(e,t){return Object(r.e)(e)-(t.showCovers?112.5:0)},E={},O={},w=function(e,t){return Object(r.d)(e)+112.5},x=function(e,t){return Object(r.e)(e)+(t.showCovers?153.5:58.5)},j=n(164),S=n(11),C=n(85);n.d(t,"a",function(){return A}),n.d(t,"c",function(){return k}),n.d(t,"d",function(){return P}),n.d(t,"b",function(){return N});var A=9,k=function(e,t){var n=a.store.getState().sitemap;"full"!==n.editLevel&&"edit"!==n.editLevel||(R(e,t,n),D(e,t,n),I(e,t,n),T(e,t,n))},R=function(e,t,n){t.parent&&"tree"!==n.format&&"indent"!==n.format&&("tree-vertical-matrix"===n.format&&t.depth>1||function(e,t){var n,d=a.store.getState().sitemap;"interactions-canvas"===e.canvas.id&&c.a.options.add&&"left"===c.a.options.add.side&&(e.shadowBlur=7.5,e.shadowColor=d.pallette.baseColors[4]),e.fillStyle="white",e.strokeStyle="#66BBFF",e.beginPath(),e.arc(u(t,d),p(t,d),d.showCovers?1.5*A:A,0,2*Math.PI),e.fill(),e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.font="".concat(d.showCovers?1.5*A:A,"px FontAwesome"),e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf067",Object(r.d)(t),Object(r.e)(t)+(d.showCovers?12.5:37.5)),e.textAlign="start",e.textBaseline="alphabetic",l[t.id]?n=l[t.id]:(n=Object(r.c)(),l[t.id]=n,s[n]=t),o.h.fillStyle=n,o.h.beginPath(),o.h.arc(i.e.applyX(u(t)),i.e.applyY(p(t,d)),1.1*(d.showCovers?11:9)*i.e.k,0,2*Math.PI),o.h.fill()}(e,t))},D=function(e,t,n){if(("tree"!==n.format&&"indent"!==n.format||!t.children&&!t._children)&&("tree-vertical"!==n.format||t.parent)){if("tree-vertical-matrix"===n.format)if(t.depth<=1){if(!t.parent)return}else if(t.depth>1&&(t.children||t._children))return;!function(e,t){var n,s=a.store.getState().sitemap;"interactions-canvas"===e.canvas.id&&c.a.options.add&&"right"===c.a.options.add.side&&(e.shadowBlur=7.5,e.shadowColor=s.pallette.baseColors[4]),e.fillStyle="white",e.strokeStyle="#66BBFF",e.beginPath(),e.arc(f(t,s),g(t,s),s.showCovers?1.5*A:A,0,2*Math.PI),e.fill(),e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.font="".concat(s.showCovers?1.5*A:A,"px FontAwesome"),e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf067",f(t,s),g(t,s)),e.textAlign="start",e.textBaseline="alphabetic",m[t.id]?n=m[t.id]:(n=Object(r.c)(),m[t.id]=n,d[n]=t),o.h.fillStyle=n,o.h.beginPath(),o.h.arc(i.e.applyX(f(t,s)),i.e.applyY(g(t,s)),1.1*(s.showCovers?11:9)*i.e.k,0,2*Math.PI),o.h.fill()}(e,t)}},I=function(e,t,n){t.parent&&"tree-vertical"!==n.format&&("tree-vertical-matrix"===n.format&&t.depth<=1||function(e,t){var n,s=a.store.getState().sitemap;"interactions-canvas"===e.canvas.id&&c.a.options.add&&"above"===c.a.options.add.side&&(e.shadowBlur=7.5,e.shadowColor=s.pallette.baseColors[4]),e.fillStyle="white",e.strokeStyle="#66BBFF",e.beginPath(),e.arc(b(t,s),y(t,s),s.showCovers?1.5*A:A,0,2*Math.PI),e.fill(),e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.font="".concat(s.showCovers?1.5*A:A,"px FontAwesome"),e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf067",b(t,s),y(t,s)),e.textAlign="start",e.textBaseline="alphabetic",v[t.id]?n=v[t.id]:(n=Object(r.c)(),v[t.id]=n,h[n]=t),o.h.fillStyle=n,o.h.beginPath(),o.h.arc(i.e.applyX(b(t,s)),i.e.applyY(y(t,s)),1.1*(s.showCovers?11:9)*i.e.k,0,2*Math.PI),o.h.fill()}(e,t))},T=function(e,t,n){if(("tree"!==n.format||t.parent)&&("tree-vertical"!==n.format||!t.children&&!t._children)){if("tree-vertical-matrix"===n.format){if(!t.parent&&(t.children||t._children))return;if(t.depth<=1&&t._children)return}!function(e,t){var n,s=a.store.getState().sitemap;"interactions-canvas"===e.canvas.id&&c.a.options.add&&"below"===c.a.options.add.side&&(e.shadowBlur=7.5,e.shadowColor=s.pallette.baseColors[4]),e.fillStyle="white",e.strokeStyle="#66BBFF",e.beginPath(),e.arc(w(t,s),x(t,s),s.showCovers?1.5*A:A,0,2*Math.PI),e.fill(),e.shadowBlur=0,e.shadowColor="transparent",e.stroke(),e.font="".concat(s.showCovers?1.5*A:A,"px FontAwesome"),e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf067",w(t,s),x(t,s)),e.textAlign="start",e.textBaseline="alphabetic",O[t.id]?n=O[t.id]:(n=Object(r.c)(),O[t.id]=n,E[n]=t),o.h.fillStyle=n,o.h.beginPath(),o.h.arc(i.e.applyX(w(t,s)),i.e.applyY(x(t,s)),1.1*(s.showCovers?11:9)*i.e.k,0,2*Math.PI),o.h.fill()}(e,t)}},P=function(e){var t=function(e){var t=a.store.getState().sitemap,n=s[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})}(e);if(t)return{node:t,side:"left"};var n=function(e){var t=a.store.getState().sitemap,n=d[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})}(e);if(n)return{node:n,side:"right"};var r=function(e){var t=a.store.getState().sitemap,n=h[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})}(e);if(r)return{node:r,side:"above"};var i=function(e){var t=a.store.getState().sitemap,n=E[e];if(n)return n=t.data.nodes.find(function(e){return e.id===n.id})}(e);return i?{node:i,side:"below"}:{node:null}},N=function(e){var t=e.node,n=e.side;t&&Object(j.b)(t,n),c.a.node=null,c.a.options={},Object(C.c)(),S.event.preventDefault(),S.event.stopImmediatePropagation()}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/header.94053631.svg"},,,,,,,,function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},function(e,t){e.exports="data:image/png;base64,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"},,,,,,,,,function(e,t,n){"use strict";var a=n(14),r=n(54),i=n(18),o=n(29),c=n(282),s=n(220),l=n(287),u=n(288),p=n(298),d=n(289),m=n(290),f=n(291);n.d(t,"a",function(){return g});var g=function(e){var t=a.store.getState().sitemap;if(!e.overflow){if(t.showCovers){if(o.f.globalAlpha=.975,o.f.fillStyle="white",o.f.fillRect(Object(i.d)(e)+1,Object(i.e)(e)-94.5,r.b-2,205.5),o.f.globalAlpha=1,("tree"===t.format||"indent"===t.format||"tree-vertical-matrix"===t.format&&e.depth>1)&&Object(c.a)(o.f,e),"tree"!==t.format&&"indent"!==t.format||Object(s.c)(o.f,e),Object(i.b)(e,t.covers)&&(o.f.fillStyle="white",o.f.globalAlpha=.975,o.f.fillRect(Object(i.d)(e)+.75,Object(i.e)(e)-94.25,223.5,30),o.f.globalAlpha=1),function(e,t){e.lineWidth=1,e.font="32px FontAwesome",e.fillStyle="#66BBFF",e.textAlign="center",e.textBaseline="middle",e.fillText("\uf07c",Object(i.d)(t)+114,Object(i.e)(t)+14),e.textAlign="start",e.textBaseline="alphabetic"}(o.f,e),Object(m.b)(o.f,e),Object(f.b)(o.f,e),"full"!==t.editLevel&&"edit"!==t.editLevel)return;Object(d.b)(o.f,e)}"full"!==t.editLevel&&"edit"!==t.editLevel||(Object(l.b)(o.f,e),Object(u.b)(o.f,e),Object(p.c)(o.f,e))}}},,function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return m});var a=n(11),r=n(14),i=n(54),o=n(20),c=n(69),s=n(173),l=n(115),u=n(5),p=n.n(u),d=function(e,t,n){var i=r.store.getState().sitemap;if(i.format){if("nodes"===i.format&&Object(l.g)(i.section?i.section:i.root,n),i.format.includes("tree")&&m(e),e=f(e),n&&!n.renaming){var u=a.select("#rename-page");u.empty()||u.classed("hidden")||Object(s.b)()}r.store.dispatch(Object(o.L)({nodes:e,links:t})),Object(c.d)(e,t)}},m=function(e,t){var n,o=r.store.getState().sitemap;if(t||(t=o.root,n=o.section),"tree"===o.format&&a.tree().size([window.innerHeight,window.innerWidth]).separation(function(e,t){return e.parent===t.parent?1:1.1}).nodeSize([o.showCovers?295:1.4*i.a,i.b*(o.showCovers?1.33:1.2)])(n||t),o.format.startsWith("tree-vertical")&&(a.tree().size([window.innerWidth,window.innerHeight]).separation(function(e,t){return e.parent===t.parent?1:1.1}).nodeSize([o.showCovers?265:1.1*i.b,o.showCovers?330:2*i.a])(n||t),"tree-vertical-matrix"===o.format)){for(var c=[],s=p.a.filter(e,{depth:1}),l=s.length*(o.showCovers?265:247.5),u=-(s.length*(o.showCovers?265:247.5)/2-(o.showCovers?265:247.5)/2),d=function(e){s[e].x=u+e*(o.showCovers?265:247.5),f=[],s[e].children&&s[e].children.forEach(function e(t,n){f.push(t.depth),t.children&&t.children.forEach(e)});var t=p.a.max(f)?50*p.a.max(f):0;c.push(t)},m=0;m<s.length;m++){var f;d(m)}for(var g=s.length*(o.showCovers?265:247.5)+p.a.sum(p.a.take(c,s.length-1)),h=0;h<s.length;h++)s[h].x=s[h].x+p.a.sum(p.a.take(c,h))-(g-l)/2;e.forEach(function(e){if(1===e.depth){var t=e,n=t.parent.y+(o.showCovers?300:82),a=1;!function e(r,i){p.a.isUndefined(i)||a++,r.depth>1&&(r.y=n*a+(r.parent.id===t.id&&0===i?30:o.showCovers?30:26.333),r.x=r.parent.x+50),r.children&&r.children.forEach(e)}(e)}})}},f=function(e){return e.map(function(e){return e.x=Math.round(e.x),e.y=Math.round(e.y),e.x0=e.x,e.y0=e.y,delete e.y1,delete e.x1,e.x=e.x0,e})}},,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n(14),r=n(20),i=n(58),o=function(e){var t=a.store.getState().sitemap,n=t.comments,o=t.ui,c=o.AddPageCommentPopover,s=o.PageCommentsPopover;return n[e.id]?s.showing?a.store.dispatch(Object(r.u)()):Object(i.m)(e):t.editLevel?c.showing?a.store.dispatch(Object(r.o)()):Object(i.l)(e):void 0}},,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n(23),r=n(2),i=n(11),o=n(14),c=n(35),s=n(5),l=n.n(s),u=window.$,p=function(e){var t=d(e),n=t.firestoreData,i=t.oldConnectorsData,s=Object(r.a)(Object(a.a)({},e.id,void 0),n);o.store.dispatch(Object(c.d)(s)),o.store.dispatch(Object(c.r)());var l=[{action:"delete-symbol",id:e.id}];Object.keys(n).forEach(function(e){return l.push(Object(r.a)({action:"delete-connector",id:e},n[e]))});var u={id:(new Date).getTime(),data:l},p={action:"delete-symbol",node:e.id,data:{oldSymbol:e,oldConnectors:i,newSymbol:s}};setTimeout(function(){o.store.dispatch(Object(c.a)({change:u,history:p}))},500),o.store.dispatch(Object(c.k)())},d=function(e){var t={},n={},i=o.store.getState().flows,c=i.byId[i.selected].data;return l.a.compact(l()(c).map(function(e,t){if(e)return Object(r.a)({id:t},e)}).value()).forEach(function(r){if(r){var i=r.connectors;if(i){var o=l.a.keys(i);o&&o.forEach(function(o){var c=i[o];l.a.isEmpty(c)||l.a.keys(c).forEach(function(i){i===e.id&&(t[r.id]={connectors:Object(a.a)({},o,void 0)},n[r.id]={connectors:Object(a.a)({},o,c)})})})}return r}}),{firestoreData:t,oldConnectorsData:n}};u(window).keydown(function(e){if(i.select("#rename-user-flow").empty()){var t=o.store.getState().flows.utils.mouseoverSymbol;if(t&&(8===e.keyCode||46===e.keyCode)){var n=i.select("#node".concat(t)).datum();p(n)}}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a={"./charts/chart-1.svg":631,"./charts/chart-10.svg":632,"./charts/chart-11.svg":633,"./charts/chart-12.svg":634,"./charts/chart-13.svg":635,"./charts/chart-14.svg":636,"./charts/chart-15.svg":637,"./charts/chart-16.svg":638,"./charts/chart-17.svg":639,"./charts/chart-18.svg":640,"./charts/chart-19.svg":641,"./charts/chart-2.svg":642,"./charts/chart-20.svg":643,"./charts/chart-3.svg":644,"./charts/chart-4.svg":645,"./charts/chart-5.svg":646,"./charts/chart-6.svg":647,"./charts/chart-7.svg":648,"./charts/chart-8.svg":649,"./charts/chart-9.svg":650,"./e-commerce/brand-list.svg":651,"./e-commerce/catalog-1.svg":652,"./e-commerce/catalog-2.svg":653,"./e-commerce/catalog-3.svg":654,"./e-commerce/catalog-with-event.svg":655,"./e-commerce/catalog-with-slider.svg":656,"./e-commerce/categories.svg":657,"./e-commerce/checkout.svg":658,"./e-commerce/confirm-order.svg":659,"./e-commerce/order-status.svg":660,"./e-commerce/payment-method.svg":661,"./e-commerce/product-page-1.svg":662,"./e-commerce/product-page-2.svg":663,"./e-commerce/product-page-3.svg":664,"./e-commerce/product-page-4.svg":665,"./e-commerce/product-page-5.svg":666,"./e-commerce/shipping-method.svg":667,"./e-commerce/shopping-cart-1.svg":668,"./e-commerce/shopping-cart-2.svg":669,"./e-commerce/wish-list.svg":670,"./files/archiving.svg":1227,"./files/attention.svg":1228,"./files/audio-file.svg":1229,"./files/download.svg":1230,"./files/error.svg":1231,"./files/file-info.svg":1232,"./files/files-1.svg":1233,"./files/files-2.svg":1234,"./files/folder-content.svg":1235,"./files/folder-info.svg":1236,"./files/folders-1.svg":1237,"./files/folders-2.svg":1238,"./files/image-file.svg":1239,"./files/select-files.svg":1240,"./files/select-folders.svg":1241,"./files/success.svg":1242,"./files/table-file.svg":1243,"./files/text-file.svg":1244,"./files/upload.svg":1245,"./files/video-file.svg":1246,"./grids/1-columns.svg":671,"./grids/2-columns.svg":672,"./grids/2-rows.svg":673,"./grids/3-columns.svg":674,"./grids/3-rows.svg":675,"./grids/4-columns.svg":676,"./grids/4-rows.svg":677,"./grids/5-rows.svg":678,"./grids/6-rows.svg":679,"./grids/large-grid.svg":680,"./grids/mosaic-1.svg":681,"./grids/mosaic-2.svg":682,"./grids/mosaic-3.svg":683,"./grids/mosaic-4.svg":684,"./grids/mosaic-5.svg":685,"./grids/mosaic-6.svg":686,"./grids/mosaic-7.svg":687,"./grids/mosaic-8.svg":688,"./grids/new-screen.svg":689,"./grids/small-grid.svg":690,"./header.svg":330,"./landing-pages/1.svg":691,"./landing-pages/2.svg":692,"./landing-pages/3.svg":693,"./landing-pages/4.svg":694,"./landing-pages/5.svg":695,"./landing-pages/contacts-1.svg":696,"./landing-pages/contacts-2.svg":697,"./landing-pages/contacts-3.svg":698,"./landing-pages/contacts-4.svg":699,"./landing-pages/contacts-5.svg":700,"./landing-pages/content-1.svg":701,"./landing-pages/content-2.svg":702,"./landing-pages/content-3.svg":703,"./landing-pages/content-4.svg":213,"./landing-pages/content-5.svg":704,"./landing-pages/features-1.svg":705,"./landing-pages/features-2.svg":706,"./landing-pages/features-3.svg":707,"./landing-pages/features-4.svg":708,"./landing-pages/features-5.svg":709,"./landing-pages/header-1.svg":710,"./landing-pages/header-2.svg":711,"./landing-pages/header-3.svg":712,"./landing-pages/header-4.svg":713,"./landing-pages/header-5.svg":714,"./landing-pages/pricing-1.svg":715,"./landing-pages/pricing-2.svg":716,"./landing-pages/pricing-3.svg":717,"./landing-pages/pricing-4.svg":718,"./landing-pages/pricing-5.svg":719,"./landing-pages/showcase-1.svg":720,"./landing-pages/showcase-2.svg":721,"./landing-pages/showcase-3.svg":722,"./landing-pages/showcase-4.svg":723,"./landing-pages/showcase-5.svg":724,"./landing-pages/team-1.svg":725,"./landing-pages/team-2.svg":726,"./landing-pages/team-3.svg":727,"./landing-pages/team-4.svg":728,"./landing-pages/team-5.svg":729,"./main-pages/banner.svg":730,"./main-pages/features.svg":731,"./main-pages/form.svg":732,"./main-pages/header-with-features.svg":733,"./main-pages/header-with-image-1.svg":734,"./main-pages/header-with-image-2.svg":735,"./main-pages/header-with-image-3.svg":736,"./main-pages/header-with-slider-1.svg":737,"./main-pages/header-with-slider-2.svg":738,"./main-pages/header-with-slider-3.svg":739,"./main-pages/header-with-slider-4.svg":740,"./main-pages/header-with-slider-5.svg":741,"./main-pages/header-with-slider-6.svg":742,"./main-pages/header-with-slider-7.svg":743,"./main-pages/header-with-video-1.svg":744,"./main-pages/header-with-video-2.svg":745,"./main-pages/header-with-video-3.svg":746,"./main-pages/pop-up-menu.svg":747,"./main-pages/search.svg":748,"./main-pages/user-reviews.svg":749,"./maps/contacts.svg":750,"./maps/directions.svg":751,"./maps/friends-on-map.svg":752,"./maps/map-with-objects-list.svg":753,"./maps/map-with-search.svg":754,"./maps/my-location.svg":755,"./maps/navigator.svg":756,"./maps/objects-on-map.svg":757,"./maps/point-on-map.svg":758,"./maps/point-with-coordinates.svg":759,"./maps/point-with-description.svg":760,"./maps/route-choice.svg":761,"./maps/route-description.svg":762,"./maps/route.svg":763,"./maps/routes-history.svg":764,"./maps/search-of-place.svg":765,"./maps/search-place.svg":766,"./maps/step-by-step-1.svg":767,"./maps/step-by-step-2.svg":768,"./maps/weather-on-map.svg":769,"./misc/coming-soon.svg":770,"./misc/connection.svg":771,"./misc/dashboard.svg":772,"./misc/error-404.svg":773,"./misc/error-500.svg":774,"./misc/faq.svg":775,"./misc/image-slider.svg":776,"./misc/loading.svg":777,"./misc/manual.svg":778,"./misc/message.svg":779,"./misc/new-post-or-message.svg":780,"./misc/portfolio.svg":781,"./misc/rating.svg":782,"./misc/search-results.svg":783,"./misc/sign-in.svg":784,"./misc/sign-up.svg":785,"./misc/sitemap.svg":786,"./misc/timeline-1.svg":787,"./misc/timeline-2.svg":788,"./misc/uploading.svg":789,"./multimedia/album.svg":790,"./multimedia/artist.svg":791,"./multimedia/audio-editor.svg":792,"./multimedia/audio-player.svg":793,"./multimedia/equalizer.svg":794,"./multimedia/genres.svg":795,"./multimedia/image-library.svg":796,"./multimedia/listening.svg":797,"./multimedia/lyrics.svg":798,"./multimedia/media-catalog.svg":799,"./multimedia/media-feed.svg":800,"./multimedia/photo-editor.svg":801,"./multimedia/photo-viewer.svg":802,"./multimedia/playlist.svg":803,"./multimedia/radio.svg":804,"./multimedia/tags.svg":805,"./multimedia/video-conference.svg":806,"./multimedia/video-or-audio-library.svg":807,"./multimedia/video-player.svg":808,"./multimedia/video-with-description.svg":809,"./reader/book's-contents.svg":810,"./reader/book-library.svg":811,"./reader/bookmarks.svg":812,"./reader/bookshelves.svg":813,"./reader/customization.svg":814,"./reader/feed-1.svg":815,"./reader/feed-2.svg":816,"./reader/feed-3.svg":817,"./reader/feed-4.svg":818,"./reader/feed-detailed.svg":819,"./reader/feed-with-hot-news-1.svg":820,"./reader/feed-with-hot-news-2.svg":821,"./reader/feed-with-hot-news-3.svg":822,"./reader/feed-with-hot-news-4.svg":823,"./reader/notes.svg":824,"./reader/page-with-news.svg":825,"./reader/photo-slider.svg":826,"./reader/quotes.svg":827,"./reader/scanner.svg":828,"./reader/text-page.svg":829,"./social/activity.svg":830,"./social/adding-friend.svg":831,"./social/chat-list.svg":832,"./social/chat.svg":833,"./social/comments.svg":834,"./social/create-a-post.svg":835,"./social/feed.svg":836,"./social/friend-list.svg":837,"./social/friend-requests.svg":838,"./social/group-list.svg":839,"./social/post-with-comments.svg":840,"./social/post-with-gallery.svg":841,"./social/post-with-image.svg":842,"./social/post-with-playlist.svg":843,"./social/post-with-song-or-video.svg":844,"./social/post-with-text.svg":845,"./social/profile-page-1.svg":846,"./social/profile-page-2.svg":847,"./social/profile-setting.svg":848,"./social/write-a-comment.svg":849,"./system/alarm-clock.svg":850,"./system/apps.svg":851,"./system/calculator.svg":852,"./system/calendar-day.svg":853,"./system/calendar-month.svg":854,"./system/calendar-year.svg":855,"./system/contact-info.svg":856,"./system/contact-list.svg":857,"./system/email.svg":858,"./system/filter.svg":859,"./system/lock-screen.svg":860,"./system/new-contact.svg":861,"./system/screensaver.svg":862,"./system/settings.svg":863,"./system/stopwatch-or-timer.svg":864,"./system/subscribe.svg":865,"./system/translater-or-converter.svg":866,"./system/wallet.svg":867,"./system/weather-forecast-1.svg":868,"./system/weather-forecast-2.svg":869};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=444},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(562),r=n.n(a);n.d(t,"FolderOpenOutline",function(){return r.a});var i=n(563),o=n.n(i);n.d(t,"BgColorsOutline",function(){return o.a});var c=n(564),s=n.n(c);n.d(t,"NotificationOutline",function(){return s.a});var l=n(565),u=n.n(l);n.d(t,"BellOutline",function(){return u.a});var p=n(566),d=n.n(p);n.d(t,"SortAscending",function(){return d.a});var m=n(567),f=n.n(m);n.d(t,"AppstoreOutline",function(){return f.a});var g=n(568),h=n.n(g);n.d(t,"UnorderedListOutline",function(){return h.a});var v=n(569),b=n.n(v);n.d(t,"ShrinkOutline",function(){return b.a});var y=n(570),E=n.n(y);n.d(t,"ArrowsAltOutline",function(){return E.a});var O=n(571),w=n.n(O);n.d(t,"CopyOutline",function(){return w.a});var x=n(572),j=n.n(x);n.d(t,"MenuOutline",function(){return j.a});var S=n(573),C=n.n(S);n.d(t,"DeleteOutline",function(){return C.a});var A=n(574),k=n.n(A);n.d(t,"MoreOutline",function(){return k.a});var R=n(575),D=n.n(R);n.d(t,"LoadingOutline",function(){return D.a});var I=n(576),T=n.n(I);n.d(t,"EditOutline",function(){return T.a});var P=n(577),N=n.n(P);n.d(t,"InfoCircleOutline",function(){return N.a});var L=n(578),F=n.n(L);n.d(t,"InfoCircleFill",function(){return F.a});var z=n(579),M=n.n(z);n.d(t,"PlusCircleOutline",function(){return M.a});var B=n(580),U=n.n(B);n.d(t,"QuestionCircleOutline",function(){return U.a});var W=n(581),_=n.n(W);n.d(t,"UsergroupAddOutline",function(){return _.a});var V=n(582),G=n.n(V);n.d(t,"LockOutline",function(){return G.a});var H=n(583),Y=n.n(H);n.d(t,"DesktopOutline",function(){return Y.a});var X=n(584),Z=n.n(X);n.d(t,"TabletOutline",function(){return Z.a});var K=n(585),Q=n.n(K);n.d(t,"MobileOutline",function(){return Q.a});var q=n(586),J=n.n(q);n.d(t,"CameraOutline",function(){return J.a});var $=n(587),ee=n.n($);n.d(t,"CloudUploadOutline",function(){return ee.a});var te=n(588),ne=n.n(te);n.d(t,"SearchOutline",function(){return ne.a});var ae=n(589),re=n.n(ae);n.d(t,"LinkOutline",function(){return re.a});var ie=n(590),oe=n.n(ie);n.d(t,"FileOutline",function(){return oe.a});var ce=n(591),se=n.n(ce);n.d(t,"FileImageOutline",function(){return se.a});var le=n(592),ue=n.n(le);n.d(t,"FileExcelOutline",function(){return ue.a});var pe=n(593),de=n.n(pe);n.d(t,"FileTextOutline",function(){return de.a});var me=n(594),fe=n.n(me);n.d(t,"FilePdfOutline",function(){return fe.a});var ge=n(595),he=n.n(ge);n.d(t,"SwitcherOutline",function(){return he.a});var ve=n(596),be=n.n(ve);n.d(t,"MinusSquareOutline",function(){return be.a});var ye=n(597),Ee=n.n(ye);n.d(t,"ClockCircleOutline",function(){return Ee.a});var Oe=n(598),we=n.n(Oe);n.d(t,"ExclamationCircleOutline",function(){return we.a});var xe=n(599),je=n.n(xe);n.d(t,"ExclamationCircleFill",function(){return je.a});var Se=n(600),Ce=n.n(Se);n.d(t,"UpOutline",function(){return Ce.a});var Ae=n(601),ke=n.n(Ae);n.d(t,"DownOutline",function(){return ke.a});var Re=n(602),De=n.n(Re);n.d(t,"PlusOutline",function(){return De.a});var Ie=n(603),Te=n.n(Ie);n.d(t,"MessageOutline",function(){return Te.a});var Pe=n(604),Ne=n.n(Pe);n.d(t,"BoldOutline",function(){return Ne.a});var Le=n(605),Fe=n.n(Le);n.d(t,"MailOutline",function(){return Fe.a});var ze=n(606),Me=n.n(ze);n.d(t,"SettingOutline",function(){return Me.a});var Be=n(607),Ue=n.n(Be);n.d(t,"CheckOutline",function(){return Ue.a});var We=n(608),_e=n.n(We);n.d(t,"UserOutline",function(){return _e.a});var Ve=n(609),Ge=n.n(Ve);n.d(t,"ZoomInOutline",function(){return Ge.a});var He=n(610),Ye=n.n(He);n.d(t,"ZoomOutOutline",function(){return Ye.a});var Xe=n(611),Ze=n.n(Xe);n.d(t,"ExportOutline",function(){return Ze.a});var Ke=n(612),Qe=n.n(Ke);n.d(t,"DownloadOutline",function(){return Qe.a});var qe=n(613),Je=n.n(qe);n.d(t,"CloudDownloadOutline",function(){return Je.a});var $e=n(614),et=n.n($e);n.d(t,"CloseOutline",function(){return et.a});var tt=n(615),nt=n.n(tt);n.d(t,"LeftOutline",function(){return nt.a});var at=n(616),rt=n.n(at);n.d(t,"RightOutline",function(){return rt.a});var it=n(617),ot=n.n(it);n.d(t,"EllipsisOutline",function(){return ot.a});var ct=n(618),st=n.n(ct);n.d(t,"EyeInvisibleOutline",function(){return st.a});var lt=n(619),ut=n.n(lt);n.d(t,"EyeOutline",function(){return ut.a});var pt=n(620),dt=n.n(pt);n.d(t,"SyncOutline",function(){return dt.a});var mt=n(621),ft=n.n(mt);n.d(t,"CheckCircleFill",function(){return ft.a});var gt=n(622),ht=n.n(gt);n.d(t,"CloseCircleFill",function(){return ht.a});var vt=n(623),bt=n.n(vt);n.d(t,"CheckCircleOutline",function(){return bt.a});var yt=n(624),Et=n.n(yt);n.d(t,"HourglassOutline",function(){return Et.a});var Ot=n(625),wt=n.n(Ot);n.d(t,"CloseCircleOutline",function(){return wt.a});var xt=n(626),jt=n.n(xt);n.d(t,"ArrowUpOutline",function(){return jt.a});var St=n(627),Ct=n.n(St);n.d(t,"ArrowDownOutline",function(){return Ct.a});var At=n(628),kt=n.n(At);n.d(t,"ArrowRightOutline",function(){return kt.a});var Rt=n(629),Dt=n.n(Rt);n.d(t,"ArrowLeftOutline",function(){return Dt.a});var It=n(630),Tt=n.n(It);n.d(t,"PlusSquareOutline",function(){return Tt.a})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/chart-1.4cb33cde.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-10.3cffabe9.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-11.c00988f5.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-12.2a89ba76.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-13.f5afd15d.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-14.ba5e5fcd.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-15.328597b7.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-16.d3ede23f.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-17.1a0c6636.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-18.478d6dde.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-19.fc3024f5.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-2.00c051c5.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-20.1d6527f1.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-3.223eb647.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-4.ec3c7734.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-5.bad8387a.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-6.f8c5c9c9.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-7.49084729.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-8.9a6bded3.svg"},function(e,t,n){e.exports=n.p+"static/media/chart-9.3ad7fc6a.svg"},function(e,t,n){e.exports=n.p+"static/media/brand-list.e3b52266.svg"},function(e,t,n){e.exports=n.p+"static/media/catalog-1.f9dd4a11.svg"},function(e,t,n){e.exports=n.p+"static/media/catalog-2.7d1d2607.svg"},function(e,t,n){e.exports=n.p+"static/media/catalog-3.0ca173cf.svg"},function(e,t,n){e.exports=n.p+"static/media/catalog-with-event.addb4240.svg"},function(e,t,n){e.exports=n.p+"static/media/catalog-with-slider.b354c676.svg"},function(e,t,n){e.exports=n.p+"static/media/categories.7b323ccd.svg"},function(e,t,n){e.exports=n.p+"static/media/checkout.5caeb8e2.svg"},function(e,t,n){e.exports=n.p+"static/media/confirm-order.a1c5c6da.svg"},function(e,t,n){e.exports=n.p+"static/media/order-status.28ad7ae7.svg"},function(e,t,n){e.exports=n.p+"static/media/payment-method.e9f652c9.svg"},function(e,t,n){e.exports=n.p+"static/media/product-page-1.de6e20e1.svg"},function(e,t,n){e.exports=n.p+"static/media/product-page-2.07450020.svg"},function(e,t,n){e.exports=n.p+"static/media/product-page-3.b7214a08.svg"},function(e,t,n){e.exports=n.p+"static/media/product-page-4.e920dcb7.svg"},function(e,t,n){e.exports=n.p+"static/media/product-page-5.06e06bb1.svg"},function(e,t,n){e.exports=n.p+"static/media/shipping-method.5a96c02a.svg"},function(e,t,n){e.exports=n.p+"static/media/shopping-cart-1.3139e7d3.svg"},function(e,t,n){e.exports=n.p+"static/media/shopping-cart-2.f5743ffd.svg"},function(e,t,n){e.exports=n.p+"static/media/wish-list.f122ec7c.svg"},function(e,t,n){e.exports=n.p+"static/media/1-columns.06af721d.svg"},function(e,t,n){e.exports=n.p+"static/media/2-columns.fab1754e.svg"},function(e,t,n){e.exports=n.p+"static/media/2-rows.1a6b40ca.svg"},function(e,t,n){e.exports=n.p+"static/media/3-columns.844aef6d.svg"},function(e,t,n){e.exports=n.p+"static/media/3-rows.a1147377.svg"},function(e,t,n){e.exports=n.p+"static/media/4-columns.a37a7445.svg"},function(e,t,n){e.exports=n.p+"static/media/4-rows.6876b4bd.svg"},function(e,t,n){e.exports=n.p+"static/media/5-rows.db78382a.svg"},function(e,t,n){e.exports=n.p+"static/media/6-rows.3442be2a.svg"},function(e,t,n){e.exports=n.p+"static/media/large-grid.bd1e135c.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-1.8a4c2a96.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-2.545e8f2a.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-3.0443967e.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-4.4bb8c382.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-5.c827e413.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-6.fbb1ee31.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-7.f193b94c.svg"},function(e,t,n){e.exports=n.p+"static/media/mosaic-8.73444b9a.svg"},function(e,t,n){e.exports=n.p+"static/media/new-screen.bdc116d2.svg"},function(e,t,n){e.exports=n.p+"static/media/small-grid.4b9f1394.svg"},function(e,t,n){e.exports=n.p+"static/media/1.de5e932d.svg"},function(e,t,n){e.exports=n.p+"static/media/2.d72b68ab.svg"},function(e,t,n){e.exports=n.p+"static/media/3.28ffa8d4.svg"},function(e,t,n){e.exports=n.p+"static/media/4.c6a24ce3.svg"},function(e,t,n){e.exports=n.p+"static/media/5.f4fc809a.svg"},function(e,t,n){e.exports=n.p+"static/media/contacts-1.8e96a2b5.svg"},function(e,t,n){e.exports=n.p+"static/media/contacts-2.d339931f.svg"},function(e,t,n){e.exports=n.p+"static/media/contacts-3.a8343350.svg"},function(e,t,n){e.exports=n.p+"static/media/contacts-4.6f7a6577.svg"},function(e,t,n){e.exports=n.p+"static/media/contacts-5.d41ce8d3.svg"},function(e,t,n){e.exports=n.p+"static/media/content-1.f0a38c65.svg"},function(e,t,n){e.exports=n.p+"static/media/content-2.8943838e.svg"},function(e,t,n){e.exports=n.p+"static/media/content-3.2ad24d02.svg"},function(e,t,n){e.exports=n.p+"static/media/content-5.e4c2a19a.svg"},function(e,t,n){e.exports=n.p+"static/media/features-1.ea0d6fd6.svg"},function(e,t,n){e.exports=n.p+"static/media/features-2.6fb575ff.svg"},function(e,t,n){e.exports=n.p+"static/media/features-3.414736ab.svg"},function(e,t,n){e.exports=n.p+"static/media/features-4.6a404044.svg"},function(e,t,n){e.exports=n.p+"static/media/features-5.abd19a50.svg"},function(e,t,n){e.exports=n.p+"static/media/header-1.73e51a6c.svg"},function(e,t,n){e.exports=n.p+"static/media/header-2.a4f2abb8.svg"},function(e,t,n){e.exports=n.p+"static/media/header-3.2eac3208.svg"},function(e,t,n){e.exports=n.p+"static/media/header-4.b8816738.svg"},function(e,t,n){e.exports=n.p+"static/media/header-5.dbd9eb91.svg"},function(e,t,n){e.exports=n.p+"static/media/pricing-1.82ee2495.svg"},function(e,t,n){e.exports=n.p+"static/media/pricing-2.14e5d7eb.svg"},function(e,t,n){e.exports=n.p+"static/media/pricing-3.8198b508.svg"},function(e,t,n){e.exports=n.p+"static/media/pricing-4.c531245d.svg"},function(e,t,n){e.exports=n.p+"static/media/pricing-5.eefac648.svg"},function(e,t,n){e.exports=n.p+"static/media/showcase-1.6eeaa899.svg"},function(e,t,n){e.exports=n.p+"static/media/showcase-2.4a271936.svg"},function(e,t,n){e.exports=n.p+"static/media/showcase-3.dec34c7e.svg"},function(e,t,n){e.exports=n.p+"static/media/showcase-4.04a4b8c3.svg"},function(e,t,n){e.exports=n.p+"static/media/showcase-5.ef3ec3eb.svg"},function(e,t,n){e.exports=n.p+"static/media/team-1.3476861d.svg"},function(e,t,n){e.exports=n.p+"static/media/team-2.02e19d1e.svg"},function(e,t,n){e.exports=n.p+"static/media/team-3.6a124658.svg"},function(e,t,n){e.exports=n.p+"static/media/team-4.8350983d.svg"},function(e,t,n){e.exports=n.p+"static/media/team-5.2d0cd9a6.svg"},function(e,t,n){e.exports=n.p+"static/media/banner.d7b9a3b1.svg"},function(e,t,n){e.exports=n.p+"static/media/features.f324c8f5.svg"},function(e,t,n){e.exports=n.p+"static/media/form.23e7806c.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-features.4b159ba8.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-image-1.c1812c9b.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-image-2.34c09a57.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-image-3.9aea9bd7.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-slider-1.f5b9da93.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-slider-2.ddc2016a.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-slider-3.3790fbe3.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-slider-4.7a73d744.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-slider-5.1db85e99.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-slider-6.dd54f9a4.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-slider-7.fc75fd7d.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-video-1.4ceded9d.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-video-2.a1816d46.svg"},function(e,t,n){e.exports=n.p+"static/media/header-with-video-3.efc8c5bc.svg"},function(e,t,n){e.exports=n.p+"static/media/pop-up-menu.d9eec6ff.svg"},function(e,t,n){e.exports=n.p+"static/media/search.83e4d586.svg"},function(e,t,n){e.exports=n.p+"static/media/user-reviews.02478814.svg"},function(e,t,n){e.exports=n.p+"static/media/contacts.d129a2e4.svg"},function(e,t,n){e.exports=n.p+"static/media/directions.7591507d.svg"},function(e,t,n){e.exports=n.p+"static/media/friends-on-map.ce043127.svg"},function(e,t,n){e.exports=n.p+"static/media/map-with-objects-list.1c51fc84.svg"},function(e,t,n){e.exports=n.p+"static/media/map-with-search.b12f4b16.svg"},function(e,t,n){e.exports=n.p+"static/media/my-location.de371437.svg"},function(e,t,n){e.exports=n.p+"static/media/navigator.2c1876d7.svg"},function(e,t,n){e.exports=n.p+"static/media/objects-on-map.f2b1e251.svg"},function(e,t,n){e.exports=n.p+"static/media/point-on-map.9d125fdf.svg"},function(e,t,n){e.exports=n.p+"static/media/point-with-coordinates.707a8d15.svg"},function(e,t,n){e.exports=n.p+"static/media/point-with-description.ff936700.svg"},function(e,t,n){e.exports=n.p+"static/media/route-choice.db816879.svg"},function(e,t,n){e.exports=n.p+"static/media/route-description.ef9bc2ff.svg"},function(e,t,n){e.exports=n.p+"static/media/route.3369dfe9.svg"},function(e,t,n){e.exports=n.p+"static/media/routes-history.b0d0fd2d.svg"},function(e,t,n){e.exports=n.p+"static/media/search-of-place.13dffcca.svg"},function(e,t,n){e.exports=n.p+"static/media/search-place.c29be56f.svg"},function(e,t,n){e.exports=n.p+"static/media/step-by-step-1.5da848c5.svg"},function(e,t,n){e.exports=n.p+"static/media/step-by-step-2.a7ac04d9.svg"},function(e,t,n){e.exports=n.p+"static/media/weather-on-map.92d9cd2d.svg"},function(e,t,n){e.exports=n.p+"static/media/coming-soon.e1998442.svg"},function(e,t,n){e.exports=n.p+"static/media/connection.84f9675f.svg"},function(e,t,n){e.exports=n.p+"static/media/dashboard.73ec0186.svg"},function(e,t,n){e.exports=n.p+"static/media/error-404.410099a5.svg"},function(e,t,n){e.exports=n.p+"static/media/error-500.e9043fe7.svg"},function(e,t,n){e.exports=n.p+"static/media/faq.3d46af0e.svg"},function(e,t,n){e.exports=n.p+"static/media/image-slider.60c70197.svg"},function(e,t,n){e.exports=n.p+"static/media/loading.8d38a2a5.svg"},function(e,t,n){e.exports=n.p+"static/media/manual.43d98115.svg"},function(e,t,n){e.exports=n.p+"static/media/message.36257945.svg"},function(e,t,n){e.exports=n.p+"static/media/new-post-or-message.8f91c891.svg"},function(e,t,n){e.exports=n.p+"static/media/portfolio.8dd55739.svg"},function(e,t,n){e.exports=n.p+"static/media/rating.33b34966.svg"},function(e,t,n){e.exports=n.p+"static/media/search-results.f28672d5.svg"},function(e,t,n){e.exports=n.p+"static/media/sign-in.cab558c1.svg"},function(e,t,n){e.exports=n.p+"static/media/sign-up.fb09943e.svg"},function(e,t,n){e.exports=n.p+"static/media/sitemap.7a94a230.svg"},function(e,t,n){e.exports=n.p+"static/media/timeline-1.33459fec.svg"},function(e,t,n){e.exports=n.p+"static/media/timeline-2.dda819e8.svg"},function(e,t,n){e.exports=n.p+"static/media/uploading.e2390228.svg"},function(e,t,n){e.exports=n.p+"static/media/album.878c514b.svg"},function(e,t,n){e.exports=n.p+"static/media/artist.06ea7840.svg"},function(e,t,n){e.exports=n.p+"static/media/audio-editor.561d9ac9.svg"},function(e,t,n){e.exports=n.p+"static/media/audio-player.0c49a3a1.svg"},function(e,t,n){e.exports=n.p+"static/media/equalizer.a458776b.svg"},function(e,t,n){e.exports=n.p+"static/media/genres.deee81d4.svg"},function(e,t,n){e.exports=n.p+"static/media/image-library.6c79d266.svg"},function(e,t,n){e.exports=n.p+"static/media/listening.228c7de3.svg"},function(e,t,n){e.exports=n.p+"static/media/lyrics.79540489.svg"},function(e,t,n){e.exports=n.p+"static/media/media-catalog.af22f893.svg"},function(e,t,n){e.exports=n.p+"static/media/media-feed.4cc063a2.svg"},function(e,t,n){e.exports=n.p+"static/media/photo-editor.04418f2a.svg"},function(e,t,n){e.exports=n.p+"static/media/photo-viewer.e5d1e6de.svg"},function(e,t,n){e.exports=n.p+"static/media/playlist.8bdbec5f.svg"},function(e,t,n){e.exports=n.p+"static/media/radio.60a3682a.svg"},function(e,t,n){e.exports=n.p+"static/media/tags.5c27fc22.svg"},function(e,t,n){e.exports=n.p+"static/media/video-conference.66b0970b.svg"},function(e,t,n){e.exports=n.p+"static/media/video-or-audio-library.15537bbd.svg"},function(e,t,n){e.exports=n.p+"static/media/video-player.9b995e74.svg"},function(e,t,n){e.exports=n.p+"static/media/video-with-description.d13b0676.svg"},function(e,t,n){e.exports=n.p+"static/media/book's-contents.0bddf9f1.svg"},function(e,t,n){e.exports=n.p+"static/media/book-library.a4b095c5.svg"},function(e,t,n){e.exports=n.p+"static/media/bookmarks.fcb147c0.svg"},function(e,t,n){e.exports=n.p+"static/media/bookshelves.f5167fb4.svg"},function(e,t,n){e.exports=n.p+"static/media/customization.4e3d5434.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-1.7e21de97.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-2.fb4d7bb0.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-3.037c7f52.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-4.9fc1771e.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-detailed.d79777f8.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-with-hot-news-1.2e337230.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-with-hot-news-2.3387bd8c.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-with-hot-news-3.e5d64dfa.svg"},function(e,t,n){e.exports=n.p+"static/media/feed-with-hot-news-4.134f3997.svg"},function(e,t,n){e.exports=n.p+"static/media/notes.fc671395.svg"},function(e,t,n){e.exports=n.p+"static/media/page-with-news.4baf1bee.svg"},function(e,t,n){e.exports=n.p+"static/media/photo-slider.43c6a381.svg"},function(e,t,n){e.exports=n.p+"static/media/quotes.97a49544.svg"},function(e,t,n){e.exports=n.p+"static/media/scanner.b4c42982.svg"},function(e,t,n){e.exports=n.p+"static/media/text-page.86a10a30.svg"},function(e,t,n){e.exports=n.p+"static/media/activity.10850056.svg"},function(e,t,n){e.exports=n.p+"static/media/adding-friend.70da6149.svg"},function(e,t,n){e.exports=n.p+"static/media/chat-list.40ce5140.svg"},function(e,t,n){e.exports=n.p+"static/media/chat.18960fc9.svg"},function(e,t,n){e.exports=n.p+"static/media/comments.713ca06d.svg"},function(e,t,n){e.exports=n.p+"static/media/create-a-post.e3107ee7.svg"},function(e,t,n){e.exports=n.p+"static/media/feed.6bc77ca7.svg"},function(e,t,n){e.exports=n.p+"static/media/friend-list.9532a7a8.svg"},function(e,t,n){e.exports=n.p+"static/media/friend-requests.760d86b7.svg"},function(e,t,n){e.exports=n.p+"static/media/group-list.2485fa9f.svg"},function(e,t,n){e.exports=n.p+"static/media/post-with-comments.7b9ac540.svg"},function(e,t,n){e.exports=n.p+"static/media/post-with-gallery.c9bab0db.svg"},function(e,t,n){e.exports=n.p+"static/media/post-with-image.ab1cedac.svg"},function(e,t,n){e.exports=n.p+"static/media/post-with-playlist.33af0668.svg"},function(e,t,n){e.exports=n.p+"static/media/post-with-song-or-video.bf938ae1.svg"},function(e,t,n){e.exports=n.p+"static/media/post-with-text.4e9cacef.svg"},function(e,t,n){e.exports=n.p+"static/media/profile-page-1.dbe7fd1c.svg"},function(e,t,n){e.exports=n.p+"static/media/profile-page-2.73b1fcb6.svg"},function(e,t,n){e.exports=n.p+"static/media/profile-setting.e332140c.svg"},function(e,t,n){e.exports=n.p+"static/media/write-a-comment.f7fa303d.svg"},function(e,t,n){e.exports=n.p+"static/media/alarm-clock.6e9db05b.svg"},function(e,t,n){e.exports=n.p+"static/media/apps.136925d3.svg"},function(e,t,n){e.exports=n.p+"static/media/calculator.6fb06620.svg"},function(e,t,n){e.exports=n.p+"static/media/calendar-day.eefef192.svg"},function(e,t,n){e.exports=n.p+"static/media/calendar-month.4445da3e.svg"},function(e,t,n){e.exports=n.p+"static/media/calendar-year.827dc81f.svg"},function(e,t,n){e.exports=n.p+"static/media/contact-info.361a07db.svg"},function(e,t,n){e.exports=n.p+"static/media/contact-list.2a600ca5.svg"},function(e,t,n){e.exports=n.p+"static/media/email.a18b5440.svg"},function(e,t,n){e.exports=n.p+"static/media/filter.a2f5137f.svg"},function(e,t,n){e.exports=n.p+"static/media/lock-screen.1c9e623d.svg"},function(e,t,n){e.exports=n.p+"static/media/new-contact.01c282c8.svg"},function(e,t,n){e.exports=n.p+"static/media/screensaver.c3ff6888.svg"},function(e,t,n){e.exports=n.p+"static/media/settings.8057580e.svg"},function(e,t,n){e.exports=n.p+"static/media/stopwatch-or-timer.25552d29.svg"},function(e,t,n){e.exports=n.p+"static/media/subscribe.98580539.svg"},function(e,t,n){e.exports=n.p+"static/media/translater-or-converter.9ce282f4.svg"},function(e,t,n){e.exports=n.p+"static/media/wallet.d6b547ca.svg"},function(e,t,n){e.exports=n.p+"static/media/weather-forecast-1.a0fdd46e.svg"},function(e,t,n){e.exports=n.p+"static/media/weather-forecast-2.5170ea54.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var a={"./american express.png":341,"./diners club.png":339,"./discover.png":340,"./jcb.png":338,"./maestro.png":1607,"./mastercard.png":342,"./visa.png":343};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=949},,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/logo-symbol.8da8deaa.svg"},,function(e,t,n){e.exports=n.p+"static/media/404-not-found.aaed23b7.svg"},function(e,t,n){e.exports=n.p+"static/media/credit-card.1787146e.svg"},,function(e,t,n){e.exports=n.p+"static/media/team-spirit.dd4fb96e.svg"},function(e,t,n){e.exports=n.p+"static/media/logo-full-light.9e9e5967.png"},function(e,t,n){e.exports=n.p+"static/media/logo-full-white.b16e857f.svg"},,,function(e,t,n){e.exports=n.p+"static/media/images.f7e04327.svg"},,,,,,,,,,,,,,,function(e,t,n){n(996),e.exports=n(14)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/archiving.b1e2205a.svg"},function(e,t,n){e.exports=n.p+"static/media/attention.8e2f4155.svg"},function(e,t,n){e.exports=n.p+"static/media/audio-file.66e18cf6.svg"},function(e,t,n){e.exports=n.p+"static/media/download.e4138639.svg"},function(e,t,n){e.exports=n.p+"static/media/error.f61bfa09.svg"},function(e,t,n){e.exports=n.p+"static/media/file-info.576823d9.svg"},function(e,t,n){e.exports=n.p+"static/media/files-1.a7ff6db6.svg"},function(e,t,n){e.exports=n.p+"static/media/files-2.a1b17338.svg"},function(e,t,n){e.exports=n.p+"static/media/folder-content.e35b2a48.svg"},function(e,t,n){e.exports=n.p+"static/media/folder-info.6bad01e2.svg"},function(e,t,n){e.exports=n.p+"static/media/folders-1.142ee25b.svg"},function(e,t,n){e.exports=n.p+"static/media/folders-2.bafa7105.svg"},function(e,t,n){e.exports=n.p+"static/media/image-file.721273aa.svg"},function(e,t,n){e.exports=n.p+"static/media/select-files.d2f17100.svg"},function(e,t,n){e.exports=n.p+"static/media/select-folders.028ed6f5.svg"},function(e,t,n){e.exports=n.p+"static/media/success.3612b6ff.svg"},function(e,t,n){e.exports=n.p+"static/media/table-file.7d58765d.svg"},function(e,t,n){e.exports=n.p+"static/media/text-file.b40151be.svg"},function(e,t,n){e.exports=n.p+"static/media/upload.e3957867.svg"},function(e,t,n){e.exports=n.p+"static/media/video-file.1f312501.svg"},function(e,t,n){var a={"./1-columns.svg":671,"./2-columns.svg":672,"./2-rows.svg":673,"./3-columns.svg":674,"./3-rows.svg":675,"./4-columns.svg":676,"./4-rows.svg":677,"./5-rows.svg":678,"./6-rows.svg":679,"./large-grid.svg":680,"./mosaic-1.svg":681,"./mosaic-2.svg":682,"./mosaic-3.svg":683,"./mosaic-4.svg":684,"./mosaic-5.svg":685,"./mosaic-6.svg":686,"./mosaic-7.svg":687,"./mosaic-8.svg":688,"./new-screen.svg":689,"./small-grid.svg":690};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1247},function(e,t,n){var a={"./banner.svg":730,"./features.svg":731,"./form.svg":732,"./header-with-features.svg":733,"./header-with-image-1.svg":734,"./header-with-image-2.svg":735,"./header-with-image-3.svg":736,"./header-with-slider-1.svg":737,"./header-with-slider-2.svg":738,"./header-with-slider-3.svg":739,"./header-with-slider-4.svg":740,"./header-with-slider-5.svg":741,"./header-with-slider-6.svg":742,"./header-with-slider-7.svg":743,"./header-with-video-1.svg":744,"./header-with-video-2.svg":745,"./header-with-video-3.svg":746,"./pop-up-menu.svg":747,"./search.svg":748,"./user-reviews.svg":749};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1248},function(e,t,n){var a={"./1.svg":691,"./2.svg":692,"./3.svg":693,"./4.svg":694,"./5.svg":695,"./contacts-1.svg":696,"./contacts-2.svg":697,"./contacts-3.svg":698,"./contacts-4.svg":699,"./contacts-5.svg":700,"./content-1.svg":701,"./content-2.svg":702,"./content-3.svg":703,"./content-4.svg":213,"./content-5.svg":704,"./features-1.svg":705,"./features-2.svg":706,"./features-3.svg":707,"./features-4.svg":708,"./features-5.svg":709,"./header-1.svg":710,"./header-2.svg":711,"./header-3.svg":712,"./header-4.svg":713,"./header-5.svg":714,"./pricing-1.svg":715,"./pricing-2.svg":716,"./pricing-3.svg":717,"./pricing-4.svg":718,"./pricing-5.svg":719,"./showcase-1.svg":720,"./showcase-2.svg":721,"./showcase-3.svg":722,"./showcase-4.svg":723,"./showcase-5.svg":724,"./team-1.svg":725,"./team-2.svg":726,"./team-3.svg":727,"./team-4.svg":728,"./team-5.svg":729};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1249},function(e,t,n){var a={"./brand-list.svg":651,"./catalog-1.svg":652,"./catalog-2.svg":653,"./catalog-3.svg":654,"./catalog-with-event.svg":655,"./catalog-with-slider.svg":656,"./categories.svg":657,"./checkout.svg":658,"./confirm-order.svg":659,"./order-status.svg":660,"./payment-method.svg":661,"./product-page-1.svg":662,"./product-page-2.svg":663,"./product-page-3.svg":664,"./product-page-4.svg":665,"./product-page-5.svg":666,"./shipping-method.svg":667,"./shopping-cart-1.svg":668,"./shopping-cart-2.svg":669,"./wish-list.svg":670};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1250},function(e,t,n){var a={"./chart-1.svg":631,"./chart-10.svg":632,"./chart-11.svg":633,"./chart-12.svg":634,"./chart-13.svg":635,"./chart-14.svg":636,"./chart-15.svg":637,"./chart-16.svg":638,"./chart-17.svg":639,"./chart-18.svg":640,"./chart-19.svg":641,"./chart-2.svg":642,"./chart-20.svg":643,"./chart-3.svg":644,"./chart-4.svg":645,"./chart-5.svg":646,"./chart-6.svg":647,"./chart-7.svg":648,"./chart-8.svg":649,"./chart-9.svg":650};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1251},function(e,t,n){var a={"./contacts.svg":750,"./directions.svg":751,"./friends-on-map.svg":752,"./map-with-objects-list.svg":753,"./map-with-search.svg":754,"./my-location.svg":755,"./navigator.svg":756,"./objects-on-map.svg":757,"./point-on-map.svg":758,"./point-with-coordinates.svg":759,"./point-with-description.svg":760,"./route-choice.svg":761,"./route-description.svg":762,"./route.svg":763,"./routes-history.svg":764,"./search-of-place.svg":765,"./search-place.svg":766,"./step-by-step-1.svg":767,"./step-by-step-2.svg":768,"./weather-on-map.svg":769};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1252},function(e,t,n){var a={"./coming-soon.svg":770,"./connection.svg":771,"./dashboard.svg":772,"./error-404.svg":773,"./error-500.svg":774,"./faq.svg":775,"./image-slider.svg":776,"./loading.svg":777,"./manual.svg":778,"./message.svg":779,"./new-post-or-message.svg":780,"./portfolio.svg":781,"./rating.svg":782,"./search-results.svg":783,"./sign-in.svg":784,"./sign-up.svg":785,"./sitemap.svg":786,"./timeline-1.svg":787,"./timeline-2.svg":788,"./uploading.svg":789};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1253},function(e,t,n){var a={"./album.svg":790,"./artist.svg":791,"./audio-editor.svg":792,"./audio-player.svg":793,"./equalizer.svg":794,"./genres.svg":795,"./image-library.svg":796,"./listening.svg":797,"./lyrics.svg":798,"./media-catalog.svg":799,"./media-feed.svg":800,"./photo-editor.svg":801,"./photo-viewer.svg":802,"./playlist.svg":803,"./radio.svg":804,"./tags.svg":805,"./video-conference.svg":806,"./video-or-audio-library.svg":807,"./video-player.svg":808,"./video-with-description.svg":809};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1254},function(e,t,n){var a={"./book's-contents.svg":810,"./book-library.svg":811,"./bookmarks.svg":812,"./bookshelves.svg":813,"./customization.svg":814,"./feed-1.svg":815,"./feed-2.svg":816,"./feed-3.svg":817,"./feed-4.svg":818,"./feed-detailed.svg":819,"./feed-with-hot-news-1.svg":820,"./feed-with-hot-news-2.svg":821,"./feed-with-hot-news-3.svg":822,"./feed-with-hot-news-4.svg":823,"./notes.svg":824,"./page-with-news.svg":825,"./photo-slider.svg":826,"./quotes.svg":827,"./scanner.svg":828,"./text-page.svg":829};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1255},function(e,t,n){var a={"./activity.svg":830,"./adding-friend.svg":831,"./chat-list.svg":832,"./chat.svg":833,"./comments.svg":834,"./create-a-post.svg":835,"./feed.svg":836,"./friend-list.svg":837,"./friend-requests.svg":838,"./group-list.svg":839,"./post-with-comments.svg":840,"./post-with-gallery.svg":841,"./post-with-image.svg":842,"./post-with-playlist.svg":843,"./post-with-song-or-video.svg":844,"./post-with-text.svg":845,"./profile-page-1.svg":846,"./profile-page-2.svg":847,"./profile-setting.svg":848,"./write-a-comment.svg":849};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1256},function(e,t,n){var a={"./alarm-clock.svg":850,"./apps.svg":851,"./calculator.svg":852,"./calendar-day.svg":853,"./calendar-month.svg":854,"./calendar-year.svg":855,"./contact-info.svg":856,"./contact-list.svg":857,"./email.svg":858,"./filter.svg":859,"./lock-screen.svg":860,"./new-contact.svg":861,"./screensaver.svg":862,"./settings.svg":863,"./stopwatch-or-timer.svg":864,"./subscribe.svg":865,"./translater-or-converter.svg":866,"./wallet.svg":867,"./weather-forecast-1.svg":868,"./weather-forecast-2.svg":869};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1257},function(e,t,n){var a={"./header.svg":330};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=1258},function(e,t,n){"use strict";n.r(t),n.d(t,"spacing",function(){return p}),n.d(t,"spacingOld",function(){return f});var a,r=n(2),i=n(5),o=n.n(i),c=n(18),s=n(28),l=n(14),u=n(21),p=function(e,t){if(s.d){var n=l.store.getState().sitemap;a=n.showCovers?265:58;var r=t.filter(function(e){return e.id!==s.d.id&&!e.hideWhileDragging});(r=o.a.sortBy(r,["depth","x"])).forEach(function(t,a){if(t&&t.parent){var i=Object(c.d)(t),o=n.showCovers?Object(c.e)(t)-112.5:Object(c.e)(t);"dragging-placeholder"!==t.id&&(d(e,t,i,o,r,a),m(e,t,i,o,r,a))}})}},d=function(e,t,n,i,o,p){var d,m=l.store.getState().sitemap,f=m.showCovers?30:20,g=o[p-1]&&o[p-1].depth===t.depth?o[p-1]:null;if(g){if("dragging-placeholder"===g.id&&g.parent.id===t.parent.id)return;t.x-(g.x+a)<=(m.showCovers?41:23)&&(f=m.showCovers?15:11.5)}!t.overflow&&t.parent&&(s.a[t.id]&&s.a[t.id].above?d=s.a[t.id].above:(d=Object(c.c)(),s.a[t.id]=Object(r.a)({},s.a[t.id],{above:d}),s.b[d]={node:t,side:"above"}),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(u.e.applyX(n),u.e.applyY(i-f),225*u.e.k,f*u.e.k):e.fillRect(n,i-f,225,f))},m=function(e,t,n,i,o,p){var d,m=l.store.getState().sitemap,f=m.showCovers?30:20,g=o[p+1]&&o[p+1].depth===t.depth?o[p+1]:null;if(f=m.showCovers?30:20,g){if("dragging-placeholder"===g.id&&g.parent.id===t.parent.id)return;g.x-(t.x+a)<=(m.showCovers?41:23)&&(f=m.showCovers?15:11.5)}!t.overflow&&t.parent&&(s.a[t.id]&&s.a[t.id].below?d=s.a[t.id].below:(d=Object(c.c)(),s.a[t.id]=Object(r.a)({},s.a[t.id],{below:d}),s.b[d]={node:t,side:"below"}),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(u.e.applyX(n),u.e.applyY(i+a),225*u.e.k,f*u.e.k):e.fillRect(n,i+a,225,f))},f=function(e,t){if(s.d){var n=l.store.getState().sitemap;t.forEach(function(t,a){if(!t.parent||t.parent.children){if(s.d){if(t.id===s.d.id)return;if("dragging-placeholder"===t.id)return;if(t.hideWhileDragging)return}var i,o,l=n.showCovers?265:58,p=n.showCovers?35:20,d=Object(c.d)(t),m=n.showCovers?Object(c.e)(t)-112.5:Object(c.e)(t);if(!t.overflow&&t.parent)s.a[t.id]&&s.a[t.id].above?i=s.a[t.id].above:(i=Object(c.c)(),s.a[t.id]=Object(r.a)({},s.a[t.id],{above:i}),s.b[i]={node:t,side:"above"}),e.fillStyle=i,"picker-canvas"===e.canvas.id?e.fillRect(u.e.applyX(d),u.e.applyY(m-p),225*u.e.k,p*u.e.k):e.fillRect(d,m-p,225,p);if(!t.overflow&&t.parent)s.a[t.id]&&s.a[t.id].below?o=s.a[t.id].below:(o=Object(c.c)(),s.a[t.id]=Object(r.a)({},s.a[t.id],{below:o}),s.b[o]={node:t,side:"below"}),e.fillStyle=o,"picker-canvas"===e.canvas.id?e.fillRect(u.e.applyX(d),u.e.applyY(m+l),225*u.e.k,p*u.e.k):e.fillRect(d,m+l,225,p)}})}}},function(e,t,n){"use strict";n.r(t),n.d(t,"spacing",function(){return p});var a,r=n(2),i=n(5),o=n.n(i),c=n(18),s=n(28),l=n(14),u=n(21),p=function(e,t){if(s.d){var n=l.store.getState().sitemap;a=n.showCovers?265:58;var r=t.filter(function(e){return e.id!==s.d.id&&!e.hideWhileDragging});(r=o.a.sortBy(r,["depth","x"])).forEach(function(t,a){if(t&&t.parent){var i=Object(c.d)(t),o=n.showCovers?Object(c.e)(t)-112.5:Object(c.e)(t);"dragging-placeholder"!==t.id&&(d(e,t,i,o,r,a),m(e,t,i,o,r,a))}})}},d=function(e,t,n,i,o,p){var d,m=l.store.getState().sitemap,f=m.showCovers?30:20,g=o[p-1]&&o[p-1].depth===t.depth?o[p-1]:null;if(g){if("dragging-placeholder"===g.id&&g.parent.id===t.parent.id)return;t.x-(g.x+225)<=(m.showCovers?41:23)&&(f=m.showCovers?20.5:11.5)}s.a[t.id]&&s.a[t.id].left?d=s.a[t.id].left:(d=Object(c.c)(),s.a[t.id]=Object(r.a)({},s.a[t.id],{left:d}),s.b[d]={node:t,side:"left"}),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(u.e.applyX(n-f),u.e.applyY(i),f*u.e.k,(m.showCovers?265:a)*u.e.k):e.fillRect(n-f,i,f,m.showCovers?265:a)},m=function(e,t,n,i,o,p){var d,m=l.store.getState().sitemap,f=m.showCovers?30:20,g=o[p+1]&&o[p+1].depth===t.depth?o[p+1]:null;if(f=m.showCovers?30:20,g){if("dragging-placeholder"===g.id&&g.parent.id===t.parent.id)return;g.x-(t.x+225)<=(m.showCovers?41:23)&&(f=m.showCovers?20.5:11.5)}s.a[t.id]&&s.a[t.id].right?d=s.a[t.id].right:(d=Object(c.c)(),s.a[t.id]=Object(r.a)({},s.a[t.id],{right:d}),s.b[d]={node:t,side:"right"}),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(u.e.applyX(n+225),u.e.applyY(i),f*u.e.k,(m.showCovers?265:a)*u.e.k):e.fillRect(n+225,i,f,m.showCovers?265:a)}},function(e,t,n){"use strict";n.r(t),n.d(t,"spacing",function(){return d});var a,r,i=n(2),o=n(5),c=n.n(o),s=n(18),l=n(28),u=n(14),p=n(21),d=function(e,t){if(l.d){var n=u.store.getState().sitemap;a=n.showCovers?265:58,r=n.showCovers?35:20;var i=t.filter(function(e){return e.id!==l.d.id&&!e.hideWhileDragging});(i=c.a.sortBy(i,["depth","x"])).forEach(function(t,a){if(t&&t.parent){var r=Object(s.d)(t),o=n.showCovers?Object(s.e)(t)-112.5:Object(s.e)(t);"dragging-placeholder"!==t.id&&1===t.depth&&(m(e,t,r,o,i,a),f(e,t,r,o,i,a))}}),(i=c.a.sortBy(i,["y"])).forEach(function(t,a){if(t&&t.parent){var r=Object(s.d)(t),o=n.showCovers?Object(s.e)(t)-112.5:Object(s.e)(t);"dragging-placeholder"!==t.id&&g(e,t,r,o,i,a)}})}},m=function(e,t,n,r,o,c){var d,m=u.store.getState().sitemap,f=m.showCovers?30:20,g=o[c-1]&&t.parent===o[c-1].parent?o[c-1]:null;if(g){if("dragging-placeholder"===g.id&&g.parent.id===t.parent.id)return;t.x-(g.x+225)<=(m.showCovers?41:23)&&(f=m.showCovers?20.5:11.5)}l.a[t.id]&&l.a[t.id].left?d=l.a[t.id].left:(d=Object(s.c)(),l.a[t.id]=Object(i.a)({},l.a[t.id],{left:d}),l.b[d]={node:t,side:"left"}),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(p.e.applyX(n-f),p.e.applyY(r),f*p.e.k,(m.showCovers?265:a)*p.e.k):e.fillRect(n-f,r,f,m.showCovers?265:a)},f=function(e,t,n,r,o,c){var d,m=u.store.getState().sitemap,f=m.showCovers?30:20,g=o[c+1]&&t.parent===o[c+1].parent?o[c+1]:null;if(f=m.showCovers?30:20,g){if("dragging-placeholder"===g.id&&g.parent.id===t.parent.id)return;g.x-(t.x+225)<=(m.showCovers?41:23)&&(f=m.showCovers?20.5:11.5)}l.a[t.id]&&l.a[t.id].right?d=l.a[t.id].right:(d=Object(s.c)(),l.a[t.id]=Object(i.a)({},l.a[t.id],{right:d}),l.b[d]={node:t,side:"right"}),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(p.e.applyX(n+225),p.e.applyY(r),f*p.e.k,(m.showCovers?265:a)*p.e.k):e.fillRect(n+225,r,f,m.showCovers?265:a)},g=function(e,t,n,o,c,u){if(!t.overflow&&(1===t.depth&&t.children||t.depth>1)){var d,m=c[u+1];if(m&&"dragging-placeholder"===m.id)return;l.a[t.id]&&l.a[t.id].below?d=l.a[t.id].below:(d=Object(s.c)(),l.a[t.id]=Object(i.a)({},l.a[t.id],{below:d}),l.b[d]={node:t,side:"below"}),t.children&&(n+=50),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(p.e.applyX(n),p.e.applyY(o+a),225*p.e.k,r*p.e.k):e.fillRect(n,o+a,225,r)}}},function(e,t,n){"use strict";n.r(t),n.d(t,"spacing",function(){return d});var a,r,i=n(2),o=n(5),c=n.n(o),s=n(18),l=n(28),u=n(14),p=n(21),d=function(e,t){if(l.d){var n=u.store.getState().sitemap;a=n.showCovers?265:58,r=n.showCovers?35:20;var i=t.filter(function(e){return e.id!==l.d.id&&!e.hideWhileDragging});(i=c.a.sortBy(i,["depth","x"])).forEach(function(t,a){if(t){var r=Object(s.d)(t),o=n.showCovers?Object(s.e)(t)-112.5:Object(s.e)(t);"dragging-placeholder"!==t.id&&m(e,t,r,o,i,a)}})}},m=function(e,t,n,o,c,u){if(!t.overflow){var d,m=c[u+1];if(m&&"dragging-placeholder"===m.id)return;l.a[t.id]&&l.a[t.id].below?d=l.a[t.id].below:(d=Object(s.c)(),l.a[t.id]=Object(i.a)({},l.a[t.id],{below:d}),l.b[d]={node:t,side:"below"}),t.children&&(n+=50),e.fillStyle=d,"picker-canvas"===e.canvas.id?e.fillRect(p.e.applyX(n),p.e.applyY(o+a),225*p.e.k,r*p.e.k):e.fillRect(n,o+a,225,r)}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t){},,,,,function(e,t){},,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports="data:image/png;base64,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"}],[[995,2,1]]]);