<!DOCTYPE html>
<html lang="en" id="top-of-site">
  <!-- Mirrored from css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Jun 2021 08:22:55 GMT -->
  <!-- Added by HTTrack --><meta
    http-equiv="content-type"
    content="text/html;charset=UTF-8"
  /><!-- /Added by HTTrack -->
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Make Archives.php Include Custom Post Types | CSS-Tricks</title>
    <link rel="icon" href="https://css-tricks.com/favicon.ico" />
    <link
      rel="icon"
      href="https://css-tricks.com/favicon.svg"
      type="image/svg+xml"
    />
    <link
      rel="apple-touch-icon"
      href="https://css-tricks.com/apple-touch-icon.png"
    />
    <link rel="manifest" href="https://css-tricks.com/manifest.webmanifest" />
    <meta name="theme-color" content="#ff7a18" />
    <meta name="monetization" content="$ilp.uphold.com/biyqg2MkQKbe" />
    <link
      rel="search"
      type="application/opensearchdescription+xml"
      href="https://css-tricks.com/opensearch.xml"
      title="CSS-Tricks Search"
    />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="RSS 2.0"
      href="https://css-tricks.com/feed/"
    />
    <link
      rel="stylesheet"
      href="https://cloud.typography.com/610186/6350832/css/fonts.css"
    />
    <link rel="preconnect" href="https://s3.buysellads.com/" />
    <link rel="dns-prefetch" href="https://s3.buysellads.com/" />
    <link rel="preconnect" href="https://srv.buysellads.com/" />
    <link rel="dns-prefetch" href="https://srv.buysellads.com/" />
    <link rel="preconnect" href="https://res.cloudinary.com/" />
    <link rel="dns-prefetch" href="https://res.cloudinary.com/" />
    <link rel="preconnect" href="https://static.codepen.io/" />
    <link rel="dns-prefetch" href="https://static.codepen.io/" />
    <style id="jetpack-boost-critical-css">
      @media all {
        @charset "UTF-8";
        * {
          box-sizing: border-box;
        }
        a {
          text-decoration: none;
        }
        article,
        aside,
        figcaption,
        figure,
        header,
        nav {
          display: block;
        }
        video {
          display: inline-block;
        }
        html {
          -webkit-text-size-adjust: 100%;
          -ms-text-size-adjust: 100%;
          padding: 0;
        }
        body,
        html,
        ul {
          margin: 0;
        }
        ul {
          padding: 0;
        }
        nav ul {
          list-style: none;
          list-style-image: none;
        }
        img {
          border: 0;
          -ms-interpolation-mode: bicubic;
        }
        figure {
          margin: 0;
        }
        input,
        textarea {
          font-size: 100%;
          margin: 0;
          vertical-align: baseline;
        }
        input {
          line-height: normal;
        }
        textarea {
          overflow: auto;
          vertical-align: top;
        }
        @media (prefers-reduced-motion: reduce) {
          * {
            -webkit-animation-duration: NaNs !important;
            animation-duration: NaNs !important;
            -webkit-animation-iteration-count: 1 !important;
            animation-iteration-count: 1 !important;
            scroll-behavior: auto !important;
          }
        }
        html {
          font-family: Sentinel SSm A, Sentinel SSm B, system-ui, -apple-system,
            BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif,
            Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;
          font-size: clamp(12px, calc(0.7rem + 0.25vw), 20px);
          font-weight: 400;
          line-height: 1.7;
        }
        a {
          color: #0089c7;
        }
        .page-title {
          font-size: clamp(1.2rem, calc(1rem + 3.5vw), 4rem);
          text-transform: uppercase;
          text-shadow: 0 3px 3px rgba(0, 0, 0, 0.5);
        }
        .breadcrumbs .breadcrumb_last {
          font-size: clamp(1.2rem, calc(1rem + 3.5vw), 4rem);
          text-shadow: 0 2px 2px rgba(0, 0, 0, 0.5);
        }
        .breadcrumbs .breadcrumb_last,
        h1,
        h3,
        h4 {
          font-weight: 800;
          margin: 0 0 1.5rem;
          line-height: 1.1;
        }
        h3 a {
          color: inherit;
        }
        .breadcrumbs .breadcrumb_last,
        h1 {
          font-family: Gotham Narrow SSm A, Gotham Narrow SSm B, Rubik, Lato,
            Lucida Grande, Lucida Sans Unicode, Tahoma, Sans-Serif;
          font-style: normal;
          font-weight: 800;
          font-size: clamp(2rem, calc(2rem + 1.2vw), 3rem);
          font-weight: 700;
        }
        h3 {
          font-family: Gotham Narrow SSm A, Gotham Narrow SSm B, Rubik, Lato,
            Lucida Grande, Lucida Sans Unicode, Tahoma, Sans-Serif;
          font-style: normal;
          font-size: 2rem;
          letter-spacing: -0.03rem;
          font-weight: 800;
        }
        body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout)
          .article-content
          h3 {
          margin-top: 100px;
        }
        body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout)
          .article-content
          h3
          a {
          color: #0089c7;
        }
        .aal_anchor {
          margin-left: -21px;
          margin-right: 5px;
          position: relative;
          scroll-margin-top: 100px;
        }
        .aal_anchor:before {
          content: "";
          position: absolute;
          width: 100px;
          height: 100px;
          border-radius: 50%;
          left: 50%;
          top: 50%;
          transform: translate(-50%, -50%);
        }
        .aal_anchor svg {
          position: relative;
        }
        @-webkit-keyframes yellowflash-bg {
          0% {
            background: #ff0;
          }
          to {
            background: 0 0;
          }
        }
        h4 {
          font-family: Gotham Narrow SSm A, Gotham Narrow SSm B, Rubik, Lato,
            Lucida Grande, Lucida Sans Unicode, Tahoma, Sans-Serif;
          font-style: normal;
          font-weight: 800;
          font-weight: 700;
          font-size: 1.5rem;
          margin: 0 0 0.8rem;
        }
        h4 {
          line-height: 1.05;
        }
        .article-content li,
        .article-content p {
          max-width: 700px;
        }
        .article-content ul {
          margin: 0 0 1.5rem 1.5rem;
        }
        .article-content ul li > * {
          text-indent: 0;
        }
        .article-content li {
          margin: 0 0 5px;
        }
        strong {
          font-weight: 700;
        }
        blockquote {
          font-size: 1.3rem;
          letter-spacing: -0.02rem;
          margin: 1.5rem 0;
          padding: 0 0 0 3rem;
          position: relative;
          font-style: italic;
        }
        .article-content blockquote > * {
          hanging-punctuation: first;
        }
        .article-content blockquote > :first-child:before {
          content: "\0022";
          width: 100px;
          opacity: 0.15;
          font-size: 100px;
          line-height: 0.85;
          position: absolute;
          left: -1rem;
        }
        @media (max-width: 800px) {
          .article-content blockquote > :first-child:before {
            font-size: 90px;
            left: -1.2rem;
          }
        }
        blockquote {
          max-width: 900px;
        }
        figure,
        p,
        pre {
          margin: 0 0 1.5rem;
        }
        pre {
          font-family: Operator Mono SSm A, Operator Mono SSm B, Source Code Pro,
            Menlo, Consolas, Monaco, monospace;
          clear: both;
          color: #fff;
          background: #1b1b1b;
          padding: 0;
          -moz-tab-size: 2;
          -o-tab-size: 2;
          tab-size: 2;
          -ms-word-break: normal;
          word-break: normal;
          -webkit-hyphens: none;
          -ms-hyphens: none;
          hyphens: none;
          position: relative;
          line-height: 28px;
          border-radius: 8px;
          min-width: 100px;
          width: -webkit-max-content;
          width: -moz-max-content;
          width: max-content;
          max-width: 100%;
          overflow: hidden;
        }
        pre[rel]:not([rel=""]):before {
          font-family: Gotham Narrow SSm A, Gotham Narrow SSm B, Rubik, Lato,
            Lucida Grande, Lucida Sans Unicode, Tahoma, Sans-Serif;
          font-style: normal;
          font-weight: 800;
          font-weight: 700;
          font-size: 0.5rem;
          content: attr(rel);
          color: #fff;
          position: absolute;
          top: -0.2rem;
          right: 0.4rem;
          padding: 0;
          color: #ff7a18 !important;
        }
        pre code {
          scrollbar-color: #666 #201c29;
          background: 0 0;
          white-space: pre;
          -webkit-overflow-scrolling: touch;
          overflow-x: scroll;
          display: block;
          max-width: 100%;
          min-width: 100px;
          font-size: 16px;
          padding: 15px 20px 12px 22px;
          line-height: 1.75;
        }
        pre code::-webkit-scrollbar {
          width: 0.5em;
          height: 0.5em;
        }
        @media (max-width: 800px) {
          pre code {
            font-size: 11px;
            padding: 15px 20px 10px 14px;
          }
        }
        code {
          font-size: inherit;
          font-family: Operator Mono SSm A, Operator Mono SSm B, Source Code Pro,
            Menlo, Consolas, Monaco, monospace;
        }
        li:not(.comment):not([data-category]) > code,
        p > code {
          overflow-wrap: break-word;
          word-wrap: break-word;
          -webkit-box-decoration-break: clone;
          box-decoration-break: clone;
          padding: 0.1rem 0.3rem 0.2rem;
          border-radius: 0.2rem;
          background: #ffeff0;
        }
        small {
          font-size: 75%;
        }
        @keyframes yellowflash-bg {
          0% {
            background: #ff0;
          }
          to {
            background: 0 0;
          }
        }
        .screen-reader-text {
          position: absolute !important;
          clip: rect(1px, 1px, 1px, 1px);
          width: 1px;
          height: 1px;
          overflow: hidden;
        }
        p:empty {
          display: none;
        }
        .language-css {
          color: #f5d67b;
        }
        input[type="text"],
        textarea {
          font-family: Operator Mono SSm A, Operator Mono SSm B, Source Code Pro,
            Menlo, Consolas, Monaco, monospace;
          background: #eaeaea;
          border: 1px solid #d4d4d4 !important;
          padding: 0.5rem;
          border-radius: 4px;
          border: 0;
          width: 100%;
        }
        textarea {
          padding: 1rem;
          display: block;
        }
        html {
          --maxWidth: 1600px;
          --gap: 3rem;
          scrollbar-color: #666 #201c29;
          background: #262626;
          color: #fff;
          overflow-x: hidden;
        }
        html::-webkit-scrollbar {
          width: 16px;
          height: 16px;
        }
        @media (max-width: 1200px) {
          html {
            --gap: 2rem;
          }
        }
        @media (max-width: 800px) {
          html {
            --gap: 1rem;
          }
        }
        #top-of-site-pixel-anchor {
          position: absolute;
          width: 1px;
          height: 1px;
          top: 500px;
          left: 0;
        }
        @media (max-width: 800px) {
          #top-of-site-pixel-anchor {
            top: 46px;
          }
        }
        .mega-header,
        .page-wrap {
          max-width: var(--maxWidth);
          margin: 0 auto;
          padding: 0 var(--gap);
        }
        main {
          position: relative;
          z-index: 1;
        }
        .articles-and-sidebar {
          display: grid;
          grid-template-columns: minmax(0, 1fr) 300px;
          gap: var(--gap);
          margin: 0 auto;
        }
        .articles-and-sidebar > :not(.sidebar) {
          align-self: start;
        }
        @media (max-width: 800px) {
          .articles-and-sidebar {
            display: block;
            padding-top: 0;
          }
        }
        .sidebar {
          position: relative;
          z-index: 1;
        }
        @media (max-width: 800px) {
          .sidebar {
            display: none;
          }
        }
        img {
          max-width: 100%;
        }
        .site-header {
          position: relative;
          z-index: 2;
          display: flex;
          padding: 0 var(--gap);
          margin: 0 0 var(--gap);
        }
        .site-header:after {
          content: "";
          position: absolute;
          top: 100%;
          left: 0;
          width: 100%;
          height: 4px;
          background: linear-gradient(
            130deg,
            #ff7a18,
            #af002d 41.07%,
            #319197 76.05%
          );
        }
        .site-header .logo {
          flex: 0;
          position: relative;
          align-self: stretch;
        }
        .site-header .logo,
        .site-header .logo > a {
          display: flex;
          align-items: center;
        }
        .site-header .icon-logo-star {
          fill: #fff;
          width: 25px;
          height: 25px;
          margin: 0 0.5rem 0 0;
        }
        @-webkit-keyframes spinMe {
          to {
            transform: rotate(2turn);
          }
        }
        @keyframes spinMe {
          to {
            transform: rotate(2turn);
          }
        }
        .site-header .icon-logo-text {
          fill: #fff;
          height: 25px;
          width: 170px;
          margin-right: var(--gap);
        }
        .site-header .header-middle-area {
          flex: 1;
          width: 100%;
        }
        .site-header .main-nav > ul {
          display: flex;
          height: 100%;
        }
        .site-header .main-nav > ul > li > a {
          font-family: Gotham Narrow SSm A, Gotham Narrow SSm B, Rubik, Lato,
            Lucida Grande, Lucida Sans Unicode, Tahoma, Sans-Serif;
          font-style: normal;
          font-weight: 800;
          text-transform: uppercase;
          font-weight: 500;
          font-size: 0.8rem;
          height: 100%;
          color: #fff;
          padding: 1.2rem 1rem;
          position: relative;
          display: flex;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          text-align: center;
          overflow: hidden;
        }
        @media (max-width: 1000px) {
          .site-header {
            padding: 20px 20px 0;
            flex-wrap: wrap;
          }
          .site-header .header-middle-area {
            flex: 0 0 100%;
          }
          .site-header .main-nav {
            padding-top: 10px;
            -webkit-margin-start: -10px;
            margin-inline-start: -10px;
          }
          .site-header .main-nav > ul > li > a {
            padding: 0.6rem 0.8rem;
            border-top-right-radius: 4px;
            border-top-left-radius: 4px;
          }
          .site-header .icon-logo-star {
            width: 18px;
            height: 18px;
          }
          .site-header .icon-logo-text {
            height: 15px;
            width: 116px;
          }
        }
        @media (max-width: 620px) {
          .site-header {
            padding-top: 15px;
          }
          .site-header .main-nav {
            width: calc(100% + var(--gap) * 2);
            overflow: auto;
          }
        }
        .search-and-account {
          position: fixed;
          z-index: 15;
          top: 0.9rem;
          right: var(--gap);
        }
        .search-and-account svg {
          width: 32px;
          height: 32px;
        }
        @media (max-width: 620px) {
          .search-and-account {
            top: 0.95rem;
          }
          .search-and-account svg {
            width: 28px;
            height: 28px;
          }
        }
        .search-and-account a {
          margin-left: 0.5rem;
        }
        .search-and-account a svg {
          -webkit-filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
          filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        }
        .top-of-site-link {
          visibility: hidden;
          opacity: 0;
          position: fixed;
          bottom: 1.2rem;
          right: 1.5rem;
          z-index: 15;
        }
        .top-of-site-link svg {
          -webkit-filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
          filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
        }
        .article-sponsor {
          padding: 1rem 1.5rem calc(1rem + 10px);
          margin-bottom: -10px;
          border-radius: 8px;
          background: rgba(0, 0, 0, 0.2);
        }
        .article-sponsor p {
          margin: 0;
        }
        .article-sponsor a {
          color: #fff;
          font-weight: 700;
          position: relative;
          display: inline-block;
          line-height: 1.2;
        }
        .article-sponsor a:before {
          content: "";
          position: absolute;
          top: 100%;
          width: 100%;
          left: 0;
          height: 3px;
          border-radius: 2px;
          background: linear-gradient(
            130deg,
            #ff7a18,
            #af002d 41.07%,
            #319197 76.05%
          );
        }
        .article-content {
          font-size: 1.2rem;
          background: #fff;
          color: #000;
          overflow-wrap: break-word;
          border-radius: 8px;
          padding: 4rem;
        }
        @media (max-width: 800px) {
          .article-content {
            padding: 1.66rem;
          }
        }
        .article-content a {
          text-decoration: underline;
          -webkit-text-decoration-color: #a2dffb;
          text-decoration-color: #a2dffb;
        }
        .article-content img,
        .article-content video {
          max-width: 100%;
          height: auto !important;
        }
        figure > figcaption {
          font-size: 0.7rem;
          color: #767676;
          display: block;
          width: 80%;
          padding-top: 0.5rem;
        }
        iframe {
          max-width: 100%;
        }
        .mega-header {
          position: relative;
          z-index: 1;
          overflow: hidden;
          padding: 0 0 2rem;
        }
        .mega-header .tags a {
          color: #ffdfc7;
        }
        .mega-header .author-name,
        .mega-header .author-row {
          color: #fff;
        }
        .breadcrumbs .breadcrumb_last {
          color: #fff;
          display: block;
          text-transform: none;
          white-space: normal;
        }
        .author-row {
          -webkit-margin-before: auto;
          margin-block-start: auto;
          display: grid;
          grid-template-columns: 40px 1fr;
          gap: 0.5rem;
          align-items: center;
          color: #565656;
          line-height: 1.3;
          padding-top: 0.5rem;
        }
        .author-row > div > * {
          white-space: nowrap;
        }
        .avatar {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          margin-right: 0.5rem;
        }
        .author-name {
          font-weight: 700;
          color: #000;
        }
        .in-article-card h3 .aal_anchor {
          display: none;
        }
        .in-article-card .avatar {
          width: 25px;
          height: 25px !important;
          display: block;
        }
        .tags {
          line-height: 1;
          margin: 0 0 0.5rem;
        }
        .tags a {
          font-family: Gotham Narrow SSm A, Gotham Narrow SSm B, Rubik, Lato,
            Lucida Grande, Lucida Sans Unicode, Tahoma, Sans-Serif;
          font-style: normal;
          font-weight: 800;
          text-transform: uppercase;
          color: #ff7a18;
          font-size: 0.66rem;
          -webkit-margin-end: 0.66rem;
          margin-inline-end: 0.66rem;
        }
        .CommentForm .comment-wrap .author-avatar,
        .comment ul .comment-wrap .author-avatar,
        .commentlist .comment-wrap .author-avatar {
          margin: 0;
          align-self: start;
          grid-area: auto;
        }
        #commentform label {
          display: block;
        }
        #commentform .comment-notes,
        #commentform .required {
          display: none;
        }
        #commentform p {
          margin-bottom: 0.5rem;
        }
        .breadcrumbs {
          position: relative;
          white-space: nowrap;
          text-transform: uppercase;
          font-family: Gotham Narrow SSm A, Gotham Narrow SSm B, Rubik, Lato,
            Lucida Grande, Lucida Sans Unicode, Tahoma, Sans-Serif;
          font-style: normal;
          font-weight: 800;
          font-weight: 400;
        }
        .breadcrumbs,
        .breadcrumbs a {
          color: #ffdfc7;
        }
        .breadcrumb-separator {
          opacity: 0.5;
        }
        @-webkit-keyframes ad_come_in {
          to {
            opacity: 1;
          }
        }
        @keyframes ad_come_in {
          to {
            opacity: 1;
          }
        }
        #all-modules {
          height: 100%;
        }
        #scroll-ad-position {
          width: 1px;
          height: 1px;
        }
        #sticky-sidebar-stuff {
          position: -webkit-sticky;
          position: sticky;
          top: 2.5rem;
          opacity: 0;
          visibility: hidden;
        }
        @media (max-width: 620px) {
          #sticky-sidebar-stuff {
            top: 89px;
          }
        }
        .fem-ad {
          background: #1f1f1f;
          color: #fff;
          border-radius: 8px;
          position: relative;
        }
        .fem-ad:before {
          content: "";
          background: linear-gradient(
            130deg,
            #ff7a18,
            #af002d 41.07%,
            #319197 76.05%
          );
          position: absolute;
          top: -5px;
          left: -5px;
          width: calc(100% + 10px);
          height: calc(100% + 10px);
          z-index: -1;
          border-radius: 12px;
        }
        .fem-ad h4 {
          font-size: 1.2rem;
        }
        .fem-ad .fem-learning-partner {
          font-size: 0.75rem;
          color: #fff;
          text-transform: uppercase;
          letter-spacing: 0.13rem;
          text-align: center;
          margin: 0 0 0.5rem;
        }
        .fem-ad .fem-header-inner {
          background: rgba(0, 0, 0, 0.7);
          padding: 1rem;
          border-radius: 7px;
        }
        .fem-ad .fem-title {
          text-align: center;
        }
        .fem-ad .fem-logo {
          width: 200px;
          display: block;
          margin: 0 auto;
        }
        .fem-ad .fem-message {
          background: #eaeaea;
          border-bottom-left-radius: 7px;
          border-bottom-right-radius: 7px;
          color: #000;
          padding: 1.5rem;
          font-size: 0.85rem;
        }
        .fem-ad .fem-message p {
          margin: 0;
        }
        .page-header {
          margin: 0 0 var(--gap);
        }
        .single-video-wrapper {
          border-radius: 8px;
          overflow: hidden;
        }
        .download-video {
          background: rgba(255, 122, 24, 0.1);
          border-bottom-left-radius: 8px;
          border-bottom-right-radius: 8px;
          padding: 1rem;
          text-align: center;
          max-width: 100%;
          margin-inline: 1rem;
        }
        .download-video-non-member > a {
          opacity: 0.5;
        }
        .single-almanac-content {
          display: grid;
          grid-template-columns: 150px minmax(0, 1fr) 285px;
          gap: 1rem;
        }
        .single-almanac-content .almanac-sidebar {
          grid-area: 1/1/2/2;
          background: #111;
          border-radius: 8px;
          padding: 1rem;
        }
        .single-almanac-content .article-content-wrap {
          grid-area: 1/2/2/3;
        }
        .single-almanac-content .sidebar {
          grid-area: 1/3/2/4;
        }
        @media (max-width: 1000px) {
          .single-almanac-content {
            grid-template-columns: 125px minmax(0, 1fr);
          }
          .single-almanac-content .sidebar {
            display: none;
          }
        }
        @media (max-width: 650px) {
          .single-almanac-content {
            grid-template-columns: 1fr;
            gap: 1.5rem;
          }
          .single-almanac-content .article-content-wrap {
            grid-area: 1/1/2/2;
            min-width: 0;
          }
          .single-almanac-content .almanac-sidebar {
            grid-area: 2/1/3/2;
          }
        }
        .almanac-sidebar-list {
          font-size: 0.85rem;
          list-style: none;
        }
        .almanac-sidebar-list > li {
          margin-bottom: 2rem;
        }
        .almanac-sidebar-list > li.page-item-13710 > a {
          color: #f44336;
        }
        .almanac-sidebar-list > li.page-item-13708 > a {
          color: #b822ff;
        }
        .almanac-sidebar-list > li > a {
          text-transform: uppercase;
          display: block;
        }
        .almanac-sidebar-list > li > ul {
          list-style: none;
        }
        .almanac-sidebar-list > li > ul > li > a {
          display: block;
          color: #fff;
        }
        .almanac-sidebar-list > li > ul > li > a:before {
          content: ">";
          font-size: 12px;
          vertical-align: middle;
          color: grey;
          margin-right: 0.2rem;
          display: inline-block;
          width: 10px;
          height: 26px;
          position: relative;
          transform-origin: center center;
        }
        .almanac-sidebar-list > li > ul > li > ul {
          display: none;
          font-size: 10px;
        }
        @media (max-width: 650px) {
          .almanac-sidebar-list {
            display: grid;
            grid-template-columns: 1fr 1fr;
            padding: 1rem;
            grid-gap: 0.5rem;
          }
          .almanac-sidebar-list .children li {
            margin: 0 0 0.25rem;
          }
          .almanac-sidebar-list .children a {
            background: #5e5e5e;
            display: block;
            padding: 0 0.25rem;
            border-radius: 4px;
          }
          .almanac-sidebar-list .children li ul {
            margin: 0 0 1rem;
          }
          .almanac-sidebar-list .children li li a {
            padding: 0.35rem 1rem;
          }
          .almanac-sidebar-list .children .children a {
            background: 0 0;
          }
        }
        @media screen and (max-width: 400px) {
          @-ms-viewport {
            width: 320px;
          }
        }
      }
    </style>
    <meta
      name="robots"
      content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1"
    />

    <meta
      name="description"
      content="Archives.php only shows content of type &#039;post&#039;, but you can alter it to include custom post types. Add this filter to your functions.php file: function"
    />
    <link
      rel="canonical"
      href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/"
    />
    <meta property="og:locale" content="en_US" />
    <meta property="og:type" content="article" />
    <meta
      property="og:title"
      content="Make Archives.php Include Custom Post Types"
    />
    <meta
      property="og:description"
      content="Archives.php only shows content of type &#039;post&#039;, but you can alter it to include custom post types. Add this filter to your functions.php file: function"
    />
    <meta
      property="og:url"
      content="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/"
    />
    <meta property="og:site_name" content="CSS-Tricks" />
    <meta
      property="article:publisher"
      content="https://www.facebook.com/CSSTricks"
    />
    <meta
      property="article:modified_time"
      content="2014-08-21T16:22:36+00:00"
    />
    <meta name="twitter:site" content="@CSS" />

    <link rel="dns-prefetch" href="http://stats.wp.com/" />
    <link rel="dns-prefetch" href="http://c0.wp.com/" />
    <link rel="dns-prefetch" href="http://i0.wp.com/" />
    <link rel="dns-prefetch" href="http://i1.wp.com/" />
    <link rel="dns-prefetch" href="http://i2.wp.com/" />
    <link
      rel="alternate"
      type="application/rss+xml"
      title="CSS-Tricks &raquo; Make Archives.php Include Custom Post Types Comments Feed"
      href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/feed/"
    />
    <link
      rel="stylesheet"
      id="css-tricks-style-css"
      href="https://css-tricks.com/wp-content/themes/CSS-Tricks-18/style.css?ver=cache_bust=1623863575646"
      type="text/css"
      media="not all"
      onload="this.media='all'"
    />
    <link
      rel="stylesheet"
      id="wc-blocks-integration-css"
      href="https://css-tricks.com/wp-content/plugins/woocommerce-subscriptions/build/index.css?ver=3.1.3"
      type="text/css"
      media="not all"
      onload="this.media='all'"
    />
    <style id="woocommerce-inline-inline-css" type="text/css">
      .woocommerce form .form-row .required {
        visibility: visible;
      }
    </style>
    <link rel="https://api.w.org/" href="https://css-tricks.com/wp-json/" />
    <link
      rel="alternate"
      type="application/json"
      href="https://css-tricks.com/wp-json/wp/v2/pages/14603"
    />
    <link rel="shortlink" href="https://css-tricks.com/?p=14603" />
    <link
      rel="alternate"
      type="application/json+oembed"
      href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fsnippets%2Fwordpress%2Fmake-archives-php-include-custom-post-types%2F"
    />
    <link
      rel="alternate"
      type="text/xml+oembed"
      href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fsnippets%2Fwordpress%2Fmake-archives-php-include-custom-post-types%2F&amp;format=xml"
    />

    <meta
      property="og:image"
      content="https://css-tricks.com/wp-json/social-image-generator/v1/image/14603"
    />
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta
      name="twitter:image"
      content="https://css-tricks.com/wp-json/social-image-generator/v1/image/14603"
    />
    <meta name="twitter:card" content="summary_large_image" />

    <meta name="jetpack-boost-config-id" content="" />
    <meta name="jetpack-boost-ready" content="true" />
    <style type="text/css">
      img#wpstats {
        display: none;
      }
    </style>
    <noscript
      ><style>
        .woocommerce-product-gallery {
          opacity: 1 !important;
        }
      </style></noscript
    >
    <style type="text/css">
      /* If html does not have either class, do not show lazy loaded images. */
      html:not(.jetpack-lazy-images-js-enabled):not(.js) .jetpack-lazy-image {
        display: none;
      }
    </style>
  </head>
  <body
    class="
      page-template
      page-template-page-snippet
      page-template-page-snippet-php
      page
      page-id-14603
      page-child
      parent-pageid-3229
      theme-CSS-Tricks-18
      woocommerce-no-js
      jps-theme-CSS-Tricks-18
    "
  >
    <div id="top-of-site-pixel-anchor"></div>
    <header class="site-header" id="site-header">
      <a id="skip-nav" class="skip-nav screen-reader-text" href="#maincontent"
        >Skip to main content</a
      >
      <div class="logo">
        <a href="https://css-tricks.com/">
          <div class="screen-reader-text">CSS-Tricks</div>
          <svg
            class="icon-logo-star"
            width="35px"
            height="35px"
            viewBox="0 0 362.62 388.52"
            data-spin-me="false"
          >
            <path
              d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z"
            />
          </svg>
          <svg
            class="icon-logo-text"
            width="214px"
            height="35px"
            viewBox="0 0 474.15 58.26"
          >
            <path
              d="M46 42.57a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.09c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.48 5.03 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.91-3.79-10.62-6.36-19.35-6.36-17 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.54 4.71 4.71 0 0 0-4.68-4.62zm36.86-17.95c-10.86-2.62-13.43-4.5-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.43 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.73 4.58 12.73 8.6v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.94 3.77 35.05 35.05 0 0 0 21.16 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.34-6.11-13.6-18.02-16.5zm49.88 0c-10.86-2.57-13.43-4.51-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.33v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.77 35.05 35.05 0 0 0 21.16 7.08c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.32-6.11-13.58-18.02-16.48zm45.62 3.22h-15.13a4.79 4.79 0 0 0 0 9.58h15.12a4.79 4.79 0 0 0 0-9.58zm45.64-26.84h-37.45a4.59 4.59 0 0 0 0 9.17h13.68v42.62a5 5 0 0 0 10 0v-42.65h13.77a4.59 4.59 0 0 0 0-9.14zm38.86 0h-20.15a4.91 4.91 0 0 0-5 5v46.79a4.95 4.95 0 0 0 9.89 0v-15.13h12.47l13.68 17.46a5.65 5.65 0 0 0 4.83 2.58 4.67 4.67 0 0 0 4.75-4.59 5.74 5.74 0 0 0-1.61-3.78l-10.78-13.6c7.56-2.33 12.79-7.81 12.79-16.82v-.16a17 17 0 0 0-4.66-12.15c-3.62-3.54-9.17-5.6-16.25-5.6zm10.86 18.51c0 5.71-4.51 9.41-11.58 9.41h-14.53v-18.92h14.39c7.32 0 11.67 3.3 11.67 9.33zm27-18.91a4.89 4.89 0 0 0-5 4.91v47.28a4.95 4.95 0 0 0 9.89 0v-47.32a4.88 4.88 0 0 0-4.98-4.91zm62.67 42a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.12c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.44 5.07 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.98-3.83-10.7-6.4-19.38-6.4-17.06 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.58 4.71 4.71 0 0 0-4.7-4.58zm41-16.82l17.54-16.9a4.81 4.81 0 0 0 1.77-3.7 4.53 4.53 0 0 0-4.7-4.62 5.2 5.2 0 0 0-4.1 1.85l-26.66 26.88v-23.82a4.95 4.95 0 0 0-9.9 0v47.32a4.95 4.95 0 0 0 9.9 0v-11.67l9.17-8.85 18.1 23.09a5 5 0 0 0 4.18 2.33 4.83 4.83 0 0 0 5-4.83 5.36 5.36 0 0 0-1.37-3.54zm51.8-1.13c-10.92-2.65-13.49-4.53-13.49-8.88v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.94-5.22c-11.15 0-19.2 6.68-19.2 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.76 35.05 35.05 0 0 0 21.12 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c.04-9.34-6.11-13.6-17.98-16.5z"
            />
          </svg>
        </a>
      </div>
      <div class="header-middle-area">
        <nav class="main-nav" id="main-nav">
          <ul>
            <li class="articles">
              <a href="https://css-tricks.com/archives/">
                <span>Articles</span>
              </a>
            </li>
            <li class="videos">
              <a href="https://css-tricks.com/video-screencasts/">
                <span>Videos</span>
              </a>
            </li>
            <li class="almanac">
              <a href="https://css-tricks.com/almanac/">
                <span>Almanac</span>
              </a>
            </li>
            <li class="newsletter">
              <a href="https://css-tricks.com/newsletters/">
                <span>Newsletter</span>
              </a>
            </li>
            <li class="guides">
              <a href="https://css-tricks.com/guides/">
                <span>Guides</span>
              </a>
            </li>
            <li class="books">
              <a href="https://css-tricks.com/books/">
                <span>Books</span>
              </a>
            </li>
          </ul>
        </nav>
        <div class="search-and-account">
          <a
            href="https://www.google.com/search?q=site:css-tricks.com%20layout"
            class="jetpack-search-filter__link"
          >
            <span class="screen-reader-text">Search</span>
            <svg
              width="32"
              height="32"
              viewBox="0 0 32 32"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M15.0726 10.4326C12.4801 10.4326 10.4 12.5451 10.4 15.1053C10.4 17.6978 12.5125 19.7779 15.0726 19.7779C17.6651 19.7779 19.7453 17.6654 19.7453 15.1053C19.744 12.544 17.664 10.4326 15.0726 10.4326Z"
                fill="white"
              />
              <path
                d="M16.0327 0.447479C7.42401 0.447479 0.447693 7.4238 0.447693 16.0324C0.447693 24.6398 7.42401 31.6161 16.0314 31.6161C24.64 31.6161 31.6163 24.6398 31.6163 16.0324C31.6163 7.4238 24.64 0.447479 16.0327 0.447479ZM23.6163 24.0324C23.3926 24.2562 23.0401 24.385 22.6563 24.385C22.2726 24.385 21.9526 24.2575 21.6963 24.0324L18.7526 21.0887L18.4651 21.2487C17.4088 21.825 16.2576 22.145 15.0724 22.145C11.1998 22.145 8.06509 19.0087 8.06509 15.1376C8.06509 11.265 11.2013 8.13023 15.0724 8.13023C18.9451 8.13023 22.0798 11.2665 22.0798 15.1376C22.0798 16.5138 21.6961 17.8251 20.9273 18.9776L20.7348 19.2976L23.6473 22.2101C23.8711 22.4664 24.0311 22.7864 24.0311 23.1376C23.9998 23.4563 23.8723 23.7763 23.616 24.0326L23.6163 24.0324Z"
                fill="white"
              />
            </svg>
          </a>
          <a href="https://css-tricks.com/product/membership/">
            <span class="screen-reader-text">Account</span>
            <svg
              width="34"
              height="34"
              viewBox="0 0 34 34"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M17 1.7C11.5335 1.7 6.48243 4.61655 3.74917 9.35C1.0172 14.0835 1.0172 19.9165 3.74917 24.65C6.48246 29.3835 11.5335 32.3 17 32.3C20.4918 32.3133 23.8809 31.1193 26.5917 28.9199C29.9014 26.2557 31.9559 22.3365 32.2602 18.0984C32.5657 13.8603 31.0954 9.68748 28.2003 6.57682C25.3063 3.46636 21.249 1.69986 17.0003 1.69986L17 1.7ZM27.9956 24.411C27.2651 22.1412 25.014 20.2514 21.9925 19.2447C20.7069 20.6405 18.8967 21.4361 17 21.4361C15.1021 21.4347 13.292 20.6405 12.0074 19.2447C8.98463 20.2514 6.73335 22.1413 6.00439 24.411C4.20212 21.7388 3.43579 18.5008 3.8475 15.3041C4.25921 12.1073 5.82242 9.17082 8.24234 7.04174C10.6622 4.91276 13.7752 3.7387 16.9987 3.7387C20.2221 3.7387 23.3353 4.91276 25.7564 7.04041C28.1763 9.16939 29.7395 12.1057 30.1513 15.3027C30.563 18.4995 29.7966 21.7376 27.9957 24.411L27.9956 24.411Z"
                fill="white"
              />
              <path
                d="M22.5049 13.6092C22.5049 16.9919 20.0399 19.736 17 19.736C13.9586 19.736 11.4937 16.9921 11.4937 13.6092C11.4937 10.2251 13.9587 7.48236 17 7.48236C20.0401 7.48236 22.5049 10.2249 22.5049 13.6092Z"
                fill="white"
              />
            </svg>
          </a>
        </div>
      </div>
    </header>
    <div class="page-wrap">
      <main id="post-14603">
        <article>
          <header class="mega-header header-breadcrumbs">
            <div class="breadcrumbs">
              <span
                ><span
                  ><span
                    ><a href="https://css-tricks.com/">Home</a>
                    <span class="breadcrumb-separator">/</span>
                    <span
                      ><a href="https://css-tricks.com/snippets/"
                        >Code Snippets</a
                      >
                      <span class="breadcrumb-separator">/</span>
                      <span
                        ><a href="https://css-tricks.com/snippets/wordpress/"
                          >WordPress</a
                        >
                        <span class="breadcrumb-separator">/</span>
                        <span class="breadcrumb_last" aria-current="page"
                          >Make Archives.php Include Custom Post Types</span
                        ></span
                      ></span
                    ></span
                  ></span
                ></span
              >
            </div>
            <h1 class="screen-reader-text">
              Make Archives.php Include Custom Post Types
            </h1>
            <div class="author-row">
              <a
                href="https://css-tricks.com/author/chriscoyier/"
                aria-label="Author page of Chris Coyier"
              >
                <img
                  alt="Avatar of Chris Coyier"
                  src="https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=80&amp;d=retro&amp;r=pg"
                  srcset="
                    https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=160&#038;d=retro&#038;r=pg 2x
                  "
                  class="avatar avatar-80 photo skip-lazy"
                  height="80"
                  width="80"
                  loading="lazy"
                /><noscript
                  ><img
                    alt="Avatar of Chris Coyier"
                    src="https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=80&amp;d=retro&amp;r=pg"
                    srcset="
                      https://secure.gravatar.com/avatar/8081b26e05bb4354f7d65ffc34cbbd67?s=160&#038;d=retro&#038;r=pg 2x
                    "
                    class="avatar avatar-80 photo skip-lazy"
                    height="80"
                    width="80"
                    loading="lazy"
                /></noscript>
              </a>
              <div>
                <a
                  class="author-name"
                  href="https://css-tricks.com/author/chriscoyier/"
                >
                  Chris Coyier
                </a>
                on
                <time datetime=""> Oct 15, 2011 </time>
                (Updated on <time datetime="2014-08-21">Aug 21, 2014</time>)
              </div>
            </div>
          </header>
          <div class="articles-and-sidebar">
            <div class="article-content">
              <p>
                Archives.php only shows content of type &#8216;post&#8217;, but
                you can alter it to include custom post types. Add this filter
                to your functions.php file:
              </p>
              <pre
                rel="PHP"
              ><code>function namespace_add_custom_types( $query ) {
  if( is_category() || is_tag() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {
    $query-&gt;set( 'post_type', array(
     'post', 'nav_menu_item', 'your-custom-post-type-here'
		));
	  return $query;
	}
}
add_filter( 'pre_get_posts', 'namespace_add_custom_types' );</code></pre>
            </div>
            <div class="entry-unrelated sidebar">
              <div id="all-modules">
                <div id="scroll-ad-position"></div>
                <div id="sticky-sidebar-stuff">
                  <div class="fem-conditional-message">
                    <div class="fem-ad fem-sidebar-ad">
                      <div class="fem-header">
                        <div class="fem-header-inner">
                          <div class="fem-learning-partner">
                            Our Learning Partner
                          </div>
                          <a
                            href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            ><img
                              src="https://res.cloudinary.com/css-tricks/image/upload/f_auto,q_auto/v1578251803/FEM-sidebar-Generic_dipjef.png"
                              alt="Frontend Masters logo"
                              class="fem-logo"
                          /></a>
                          <div class="fem-title">Frontend Masters</div>
                        </div>
                      </div>
                      <div class="fem-message">
                        <h4>Need front-end development training?</h4>
                        <p>
                          <a
                            href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            >Frontend Masters</a
                          >
                          is the best place to get it. They have courses on all
                          the most important front-end technologies, from
                          <a
                            href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            >React</a
                          >
                          to
                          <a
                            href="https://frontendmasters.com/learn/css/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            >CSS</a
                          >, from
                          <a
                            href="https://frontendmasters.com/learn/vue/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            >Vue</a
                          >
                          to
                          <a
                            href="https://frontendmasters.com/learn/d3-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            >D3</a
                          >, and beyond with
                          <a
                            href="https://frontendmasters.com/learn/node-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            >Node.js</a
                          >
                          and
                          <a
                            href="https://frontendmasters.com/learn/fullstack/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                            >Full Stack</a
                          >.
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </article>
      </main>
      <div class="related-ads-comments-wrap">
        <div class="related-ads-comments">
          <div class="end-of-article-ads">
            <div class="bsap-doubles side-by-side">
              <div
                id="bsap_1250418"
                class="bsarocks bsap_3469a2a501a9e18091036aa0c89f9dcb"
              ></div>
            </div>
            <div class="fem-conditional-message">
              <div class="fem-ad fem-footer-ad">
                <div class="fem-header">
                  <div class="fem-header-inner">
                    <a
                      href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                      ><img
                        src="https://res.cloudinary.com/css-tricks/image/upload/f_auto,q_auto/v1578251803/FEM-footer-Generic_fgvhuc.png"
                        alt="Frontend Masters logo"
                        class="fem-logo-large"
                    /></a>
                  </div>
                </div>
                <div class="fem-message">
                  <div>
                    <h4>Need front-end development training?</h4>
                    <p>
                      <a
                        href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                        >Frontend Masters</a
                      >
                      is the best place to get it. They have courses on all the
                      most important front-end technologies, from
                      <a
                        href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                        >React</a
                      >
                      to
                      <a
                        href="https://frontendmasters.com/learn/css/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                        >CSS</a
                      >, from
                      <a
                        href="https://frontendmasters.com/learn/vue/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                        >Vue</a
                      >
                      to
                      <a
                        href="https://frontendmasters.com/learn/d3-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                        >D3</a
                      >, and beyond with
                      <a
                        href="https://frontendmasters.com/learn/node-js/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                        >Node.js</a
                      >
                      and
                      <a
                        href="https://frontendmasters.com/learn/fullstack/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"
                        >Full Stack</a
                      >.
                    </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <section class="respond-area">
            <h2 class="comments-title" id="comments">
              <span>Comments</span>
            </h2>
            <ol class="commentlist" id="commentlist">
              <li
                class="comment even thread-even depth-1"
                id="li-comment-115178"
              >
                <div class="comment-wrap" id="comment-115178">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Karim</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-115178"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2011-10-18T02:31:29-07:00"
                        >October 18, 2011</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Can I make the search to include custom posts too in the
                      results?
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-115178"
                        data-commentid="115178"
                        data-postid="14603"
                        data-belowelement="comment-115178"
                        data-respondelement="respond"
                        data-replyto="Reply to Karim"
                        aria-label="Reply to Karim"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment odd alt depth-2" id="li-comment-117928">
                    <div class="comment-wrap" id="comment-117928">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Rui</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-117928"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2011-10-29T14:45:07-07:00"
                            >October 29, 2011</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Yes.</p>
                        <p>Put this in your functions.php</p>
                        <pre><code>// Define what post types to search
function searchAll( $query ) {
	if ( $query-&gt;is_search ) {
		$query-&gt;set( 'post_type', array( 'post', 'page', 'feed', 'custom_post_type1', 'custom_post_type2'));
	}
	return $query;
}

// The hook needed to search ALL content
add_filter( 'the_search_query', 'searchAll' );</code></pre>
                        <p>
                          I also assume you already added
                          &#8216;publicly_queryable&#8217; =&gt; true, to the
                          $args array of your CPT.
                        </p>
                        <p>hope it helps</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-273402">
                    <div class="comment-wrap" id="comment-273402">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Paul</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-273402"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-01-29T20:19:52-08:00"
                            >January 29, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Oh man, I&#8217;ve been hacking at this for two days
                          straight! THANK YOU for this simple to implement
                          solution!
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1585093">
                    <div class="comment-wrap" id="comment-1585093">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Christopher Curtin</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1585093"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-09-08T01:48:43-07:00"
                            >September 8, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>THANK YOU! Couldn&#8217;t figure this one out!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-1611564">
                    <div class="comment-wrap" id="comment-1611564">
                      <div class="comment-author-wrap">
                        <div class="comment-author">james</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1611564"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2017-09-02T09:04:20-07:00"
                            >September 2, 2017</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          I&#8217;m using the CPT UI tool for custom post types.
                          I assign them a category, but the posts won&#8217;t
                          show up.
                        </p>
                        <p>
                          I can&#8217;t figure out how to get this code to work.
                        </p>
                        <p>
                          My custom post type is called Success Stories and the
                          slug is success-stories.
                        </p>
                        <p>Can someone help me?</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-123452"
              >
                <div class="comment-wrap" id="comment-123452">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Mohit Kumar</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-123452"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2011-11-16T07:44:07-08:00"
                        >November 16, 2011</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      I am having issues in using this snippet. It gives me
                      white screen of depth. I tried on wordpress forums too.
                      But cant get to display custom post types in archives
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-123452"
                        data-commentid="123452"
                        data-postid="14603"
                        data-belowelement="comment-123452"
                        data-respondelement="respond"
                        data-replyto="Reply to Mohit Kumar"
                        aria-label="Reply to Mohit Kumar"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-135391"
              >
                <div class="comment-wrap" id="comment-135391">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Jonathan</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-135391"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2011-12-21T06:00:34-08:00"
                        >December 21, 2011</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Thanks for posting this! It worked a treat.</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-135391"
                        data-commentid="135391"
                        data-postid="14603"
                        data-belowelement="comment-135391"
                        data-respondelement="respond"
                        data-replyto="Reply to Jonathan"
                        aria-label="Reply to Jonathan"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-140811"
              >
                <div class="comment-wrap" id="comment-140811">
                  <div class="comment-author-wrap">
                    <div class="comment-author">alamedagraphik</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-140811"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-01-09T08:16:54-08:00"
                        >January 9, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      thanks for this code snippets to archived the custom post
                      type.<br />
                      In the past i used a pluggin (&#8220;Simple custom post
                      type archives&#8221;) to archive the custom post type and
                      in my theme i had to use a file to display all custom
                      posts type archive.<br />
                      but now it&#8217;s more simple!<br />
                      thank you again
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-140811"
                        data-commentid="140811"
                        data-postid="14603"
                        data-belowelement="comment-140811"
                        data-respondelement="respond"
                        data-replyto="Reply to alamedagraphik"
                        aria-label="Reply to alamedagraphik"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-144880"
              >
                <div class="comment-wrap" id="comment-144880">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Cav</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-144880"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-01-23T15:24:58-08:00"
                        >January 23, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Can you give a slight bit more detail like&#8230;</p>
                    <p>
                      How does it know to only do this on the archives page?
                      etc&#8230;.
                    </p>
                    <p>
                      Its a short snippet so I don&#8217;t think it would be
                      much trouble. Thanks in advance.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-144880"
                        data-commentid="144880"
                        data-postid="14603"
                        data-belowelement="comment-144880"
                        data-respondelement="respond"
                        data-replyto="Reply to Cav"
                        aria-label="Reply to Cav"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-146249"
              >
                <div class="comment-wrap" id="comment-146249">
                  <div class="comment-author-wrap">
                    <div class="comment-author">David</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-146249"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-01-30T09:56:56-08:00"
                        >January 30, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Solved that problem &#8211; getting custom post types to
                      display in an archive page &#8211; however mega menu goes
                      blank, some images not displaying on welcome page, welcome
                      page slider menu/nav is not working&#8230;
                    </p>
                    <p>
                      WP3.2.1, Magazinum Theme, Design Chemical Mega Menu,
                      Custom Post Types UI
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-146249"
                        data-commentid="146249"
                        data-postid="14603"
                        data-belowelement="comment-146249"
                        data-respondelement="respond"
                        data-replyto="Reply to David"
                        aria-label="Reply to David"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-149334"
              >
                <div class="comment-wrap" id="comment-149334">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Imran Hunzai</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-149334"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-02-11T09:22:16-08:00"
                        >February 11, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thanks but I don&#8217;t think this addition to
                      functions.php file will really altar to include custom
                      post types. I agree with Cav. There must be a detailed
                      tutorial.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-149334"
                        data-commentid="149334"
                        data-postid="14603"
                        data-belowelement="comment-149334"
                        data-respondelement="respond"
                        data-replyto="Reply to Imran Hunzai"
                        aria-label="Reply to Imran Hunzai"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-149563"
              >
                <div class="comment-wrap" id="comment-149563">
                  <div class="comment-author-wrap">
                    <div class="comment-author">cudjex</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-149563"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-02-12T07:20:18-08:00"
                        >February 12, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>thanks..</p>
                    <p>i did it :)</p>
                    <p>
                      if( is_home() || is_tag() &amp;&amp; empty(
                      $query-&gt;query_vars[&#8216;suppress_filters&#8217;] ) )
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-149563"
                        data-commentid="149563"
                        data-postid="14603"
                        data-belowelement="comment-149563"
                        data-respondelement="respond"
                        data-replyto="Reply to cudjex"
                        aria-label="Reply to cudjex"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-164180"
              >
                <div class="comment-wrap" id="comment-164180">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Jon B</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-164180"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-04-09T12:36:52-07:00"
                        >April 9, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Also include &#8216;nav_menu_item&#8217; if you
                      don&#8217;t want your menus to disappear!
                    </p>
                    <pre><code>function namespace_add_custom_types( $query ) {
  if( is_category() || is_tag() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {
    $query-&gt;set( 'post_type', array(
     'post', 'nav_menu_item', 'your-custom-post-type-here'
		));
	  return $query;
	}
}
add_filter( 'pre_get_posts', 'namespace_add_custom_types' );</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-164180"
                        data-commentid="164180"
                        data-postid="14603"
                        data-belowelement="comment-164180"
                        data-respondelement="respond"
                        data-replyto="Reply to Jon B"
                        aria-label="Reply to Jon B"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment odd alt depth-2" id="li-comment-189702">
                    <div class="comment-wrap" id="comment-189702">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Thomas</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-189702"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2012-09-06T02:48:17-07:00"
                            >September 6, 2012</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Hi and thanks for the code snippet!</p>
                        <p>
                          I have a theme which displays recent posts on the
                          author.php template and unfortunately nav_menu_items
                          are displayed as posts (with empty content). Without
                          nav_menu_item the navigation menu is gone so I&#8217;m
                          looking for something that adds custom post types to
                          my archives without integrating the nav_menu_items
                          anywhere else&#8230;
                        </p>
                        <p>
                          I couldn&#8217;t find any solution so far so any help
                          would be highly appreciated!
                        </p>
                        <p>
                          Cheers,<br />
                          Thomas
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-248276">
                    <div class="comment-wrap" id="comment-248276">
                      <div class="comment-author-wrap">
                        <div class="comment-author">SM</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-248276"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-01-03T15:57:05-08:00"
                            >January 3, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Yes, including &#8220;nav_menu_item&#8221; was the key
                          for me. Thanks so much, John B.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-512514">
                    <div class="comment-wrap" id="comment-512514">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Adam</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-512514"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-08-12T03:22:26-07:00"
                            >August 12, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks Jon. Lifesaver.</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-525701">
                    <div class="comment-wrap" id="comment-525701">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Michael Schofield</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-525701"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-08-26T08:51:40-07:00"
                            >August 26, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Jon, thank you! I used the original snippet, realized
                          my menu had blasted, and couldn&#8217;t understand
                          <em>why</em>. Incredibly little information about
                          this&#8211;although people are having the same
                          problem&#8211;with a cursory Google. I had forgotten
                          where I got the snippet from, happened
                          <em>back</em> on Chris&#8217;s page, was like,
                          &#8220;Wow. It&#8217;s the exact same code. Must be
                          where I ganked it,&#8221; then found your comment.
                        </p>
                        <p>
                          That did the trick. Holy exhausted-but-grateful
                          batman.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-644990">
                    <div class="comment-wrap" id="comment-644990">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Jeremy</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-644990"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-11-08T23:35:15-08:00"
                            >November 8, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Saving grace. Couldn&#8217;t figure out why my nav
                          menu&#8217;s were disappearing. Thanks.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-709379">
                    <div class="comment-wrap" id="comment-709379">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Prasanth</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-709379"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-11-26T00:48:57-08:00"
                            >November 26, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks a ton, Jon. Saved me a lot of time!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1133881">
                    <div class="comment-wrap" id="comment-1133881">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Grant</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1133881"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-02-04T01:42:40-08:00"
                            >February 4, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>you save me me Jon, thanks a lot.</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-1582796">
                    <div class="comment-wrap" id="comment-1582796">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Josh Larson</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1582796"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-06-17T09:50:00-07:00"
                            >June 17, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks, Jon!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1584591">
                    <div class="comment-wrap" id="comment-1584591">
                      <div class="comment-author-wrap">
                        <div class="comment-author">andrew</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1584591"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-08-20T22:29:03-07:00"
                            >August 20, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Thanks for pointing that out Jon B! Chris you should
                          update your snippet to include Jon&#8217;s suggestion.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li
                    class="
                      comment
                      byuser
                      comment-author-chriscoyier
                      bypostauthor
                      even
                      depth-2
                    "
                    id="li-comment-1584600"
                  >
                    <div class="comment-wrap" id="comment-1584600">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Chris Coyier</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1584600"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-08-21T09:52:27-07:00"
                            >August 21, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          I&#8217;ll update the post, since this is so obviously
                          better. =)
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1585436">
                    <div class="comment-wrap" id="comment-1585436">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Tobias</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1585436"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-09-22T00:52:26-07:00"
                            >September 22, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>I think this should be resolved by adding</p>
                        <pre><code>&amp;&amp; $query-&gt;is_main_query()
</code></pre>
                        <p>to your conditions</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-164378"
              >
                <div class="comment-wrap" id="comment-164378">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Marcus J Wilson</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-164378"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-04-10T11:27:35-07:00"
                        >April 10, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thanks for the menu tip, Jon B &#8211; just what I was
                      looking for.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-164378"
                        data-commentid="164378"
                        data-postid="14603"
                        data-belowelement="comment-164378"
                        data-respondelement="respond"
                        data-replyto="Reply to Marcus J Wilson"
                        aria-label="Reply to Marcus J Wilson"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-165440"
              >
                <div class="comment-wrap" id="comment-165440">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Sangsaka</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-165440"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-04-16T08:07:55-07:00"
                        >April 16, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      I have 1 CPT called as &#8220;product&#8221;. This CPT has
                      unique format/design ( not like regular wordpress posts )
                      but has same capability ( tags and categories). How can I
                      separate this custom post type in homepage, archive, etc.
                      ???
                    </p>
                    <p>Thanks, :)</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-165440"
                        data-commentid="165440"
                        data-postid="14603"
                        data-belowelement="comment-165440"
                        data-respondelement="respond"
                        data-replyto="Reply to Sangsaka"
                        aria-label="Reply to Sangsaka"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-167410"
              >
                <div class="comment-wrap" id="comment-167410">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Iryna</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-167410"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-04-26T18:06:47-07:00"
                        >April 26, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Love it! Worked like a charm.<br />
                      Thanks guys!
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-167410"
                        data-commentid="167410"
                        data-postid="14603"
                        data-belowelement="comment-167410"
                        data-respondelement="respond"
                        data-replyto="Reply to Iryna"
                        aria-label="Reply to Iryna"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-168427"
              >
                <div class="comment-wrap" id="comment-168427">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Ana</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-168427"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-05-03T01:57:32-07:00"
                        >May 3, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      with suppress filters you can affect also the attachment
                      pages
                    </p>
                    <p>
                      A possible solution<br />
                      function my_get_posts( $query ) {<br />
                      if(!is_admin() || is_archive()){<br />
                      if (!is_post_type_archive() &amp;&amp;
                      $query-&gt;is_main_query() )<br />
                      $query-&gt;set( &#8216;post_type&#8217;, array(
                      &#8216;post&#8217;, &#8216;page&#8217;,
                      &#8216;post-format&#8217;, &#8216;video&#8217;,
                      &#8216;slideshow&#8217;, &#8216;timeline&#8217; ) );
                    </p>
                    <p>
                      return $query;<br />
                      }<br />
                      }<br />
                      !is_admin &#8211; without this are affected also the
                      searches in admin pages.<br />
                      A demo here:<br />
                      <a href="http://www.zurita-bach.com/" rel="nofollow ugc"
                        >http://www.zurita-bach.com/</a
                      ><br />
                      At this moment I have only timeline as custom post
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-168427"
                        data-commentid="168427"
                        data-postid="14603"
                        data-belowelement="comment-168427"
                        data-respondelement="respond"
                        data-replyto="Reply to Ana"
                        aria-label="Reply to Ana"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-168919"
              >
                <div class="comment-wrap" id="comment-168919">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Ana</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-168919"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-05-05T07:09:22-07:00"
                        >May 5, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Replace $query-&gt;$query-&gt;is_main_query()<br />
                      with $query-&gt;is_archive()
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-168919"
                        data-commentid="168919"
                        data-postid="14603"
                        data-belowelement="comment-168919"
                        data-respondelement="respond"
                        data-replyto="Reply to Ana"
                        aria-label="Reply to Ana"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-168975"
              >
                <div class="comment-wrap" id="comment-168975">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Riss</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-168975"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-05-05T17:04:38-07:00"
                        >May 5, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Thanks Jon B you are the boss!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-168975"
                        data-commentid="168975"
                        data-postid="14603"
                        data-belowelement="comment-168975"
                        data-respondelement="respond"
                        data-replyto="Reply to Riss"
                        aria-label="Reply to Riss"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-169765"
              >
                <div class="comment-wrap" id="comment-169765">
                  <div class="comment-author-wrap">
                    <div class="comment-author">alvar</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-169765"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-05-09T15:35:00-07:00"
                        >May 9, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      I&#8217;ve found that this
                      <strong
                        >creates a problem querying a post_type and a
                        cat</strong
                      >.
                    </p>
                    <p>
                      You can see this in the backend by visiting a category
                      list for a custom post type:<br />
                      Click the Category menu item in a custom type, then click
                      the number to see the posts in that cat.<br />
                      <em
                        >wp-admin/edit.php?category_name=some_cat&amp;post_type=some_type</em
                      >
                    </p>
                    <p>
                      You&#8217;ll see the posts displayed seem to be every type
                      BUT the queried one.<br />
                      Even with Ana&#8217;s solution that is supposedly
                      excluding admin.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-169765"
                        data-commentid="169765"
                        data-postid="14603"
                        data-belowelement="comment-169765"
                        data-respondelement="respond"
                        data-replyto="Reply to alvar"
                        aria-label="Reply to alvar"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-169889"
              >
                <div class="comment-wrap" id="comment-169889">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Ana</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-169889"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-05-10T05:45:57-07:00"
                        >May 10, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Hi alvar my final solution<br />
                      add_filter( &#8216;pre_get_posts&#8217;,
                      &#8216;my_get_posts&#8217; );
                    </p>
                    <p>
                      function my_get_posts( $query ) {<br />
                      if(!is_admin()){<br />
                      if (!is_post_type_archive() &amp;&amp;
                      $query-&gt;is_archive())<br />
                      $query-&gt;set( &#8216;post_type&#8217;, array(
                      &#8216;post&#8217;, &#8216;page&#8217;,
                      &#8216;post-format&#8217;, &#8216;video&#8217;,
                      &#8216;slideshow&#8217;, &#8216;timeline&#8217; ) );
                    </p>
                    <p>
                      return $query;<br />
                      }<br />
                      }
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-169889"
                        data-commentid="169889"
                        data-postid="14603"
                        data-belowelement="comment-169889"
                        data-respondelement="respond"
                        data-replyto="Reply to Ana"
                        aria-label="Reply to Ana"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-1583995">
                    <div class="comment-wrap" id="comment-1583995">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Daline27</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1583995"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-07-23T15:19:54-07:00"
                            >July 23, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          @Ana : Thanks very much, this (&amp;&amp;
                          $query-&gt;is_) solved my problem with recent posts
                          widget (before all type post are shown).
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1585290">
                    <div class="comment-wrap" id="comment-1585290">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Yiorgos</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1585290"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-09-15T11:50:33-07:00"
                            >September 15, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          I tested every piece of code here and this was the
                          only one that worked <strong>perfectly</strong>.
                          Thanks Ana!!!<br />
                          I&#8217;ll just put it in a code block for easy
                          copy/paste:
                        </p>
                        <pre><code>add_filter( 'pre_get_posts', 'my_get_posts' );

function my_get_posts( $query ) {
    if( !is_admin() ) {
        if ( !is_post_type_archive() &amp;&amp; $query-&gt;is_archive() ) {
            $query-&gt;set( 'post_type', array( 'post', 'your_custom_post_type' ) );
        }
        return $query;
    }
}
</code></pre>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-1586362">
                    <div class="comment-wrap" id="comment-1586362">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Michael</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1586362"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-10-31T17:04:19-07:00"
                            >October 31, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Wow. ANA this just saved my butt. This worked for me.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1598073">
                    <div class="comment-wrap" id="comment-1598073">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Elle</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1598073"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2015-11-18T04:33:01-08:00"
                            >November 18, 2015</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks Ana!!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-182157"
              >
                <div class="comment-wrap" id="comment-182157">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Iris</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-182157"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-07-19T12:14:19-07:00"
                        >July 19, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Saved my day. Thanks!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-182157"
                        data-commentid="182157"
                        data-postid="14603"
                        data-belowelement="comment-182157"
                        data-respondelement="respond"
                        data-replyto="Reply to Iris"
                        aria-label="Reply to Iris"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-184168"
              >
                <div class="comment-wrap" id="comment-184168">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Gus</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-184168"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-07-31T23:55:57-07:00"
                        >July 31, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      I think Ana&#8217;s code is getting close to a solution.
                    </p>
                    <p>
                      The problem on my end is that I have widgets that display
                      custom post types. E.g. &#8220;Random Testimonial&#8221;,
                      &#8220;Latest Tip&#8221; etc.
                    </p>
                    <p>
                      On the pages where this function is being used (the
                      category archive for my custom post type), these widgets
                      are getting confused, and show the content of a different
                      post type &#8211; so the random testimonial widget might
                      instead show a random tip.
                    </p>
                    <p>
                      Any idea what I can do, either to this function or to my
                      widgets, to get them to play nice together?
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-184168"
                        data-commentid="184168"
                        data-postid="14603"
                        data-belowelement="comment-184168"
                        data-respondelement="respond"
                        data-replyto="Reply to Gus"
                        aria-label="Reply to Gus"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-185517"
              >
                <div class="comment-wrap" id="comment-185517">
                  <div class="comment-author-wrap">
                    <div class="comment-author">deepak</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-185517"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-08-09T02:28:09-07:00"
                        >August 9, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thanks for the code&#8230;It worked as treat for
                      me&#8230;And it is the same i was looking for:)
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-185517"
                        data-commentid="185517"
                        data-postid="14603"
                        data-belowelement="comment-185517"
                        data-respondelement="respond"
                        data-replyto="Reply to deepak"
                        aria-label="Reply to deepak"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-185676"
              >
                <div class="comment-wrap" id="comment-185676">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Gus</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-185676"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-08-09T19:22:13-07:00"
                        >August 9, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Ok, my problem was that this was making all my widgets
                      (E.g. latest testimonial) pull the wrong post type.
                    </p>
                    <p>Here&#8217;s the code I solved it with.</p>
                    <pre><code>
/* Allow ht_news post type to use category template without affecting widgets
======================================================= */
function my_get_posts( $query ) {
	if(!is_admin()) {
		/*
		if ht_news is already in the $post_types array then this function has probably already been executed
		and we don't want to run it again, because that makes all our widgets display ht_news instead 
		of their own post type
		*/
		$post_types = get_query_var('post_type');
		if(in_array('ht_news',$post_types)) {
	    	$post_type = 'ht_news';
	    }
		if (!is_post_type_archive() &amp;&amp; $query-&gt;is_archive() &amp;&amp; $post_type != 'ht_news') {
			$query-&gt;set('post_type',array('ht_news','nav_menu_item') );
			return $query;
		}
	}
}
add_filter( 'pre_get_posts', 'my_get_posts' );
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-185676"
                        data-commentid="185676"
                        data-postid="14603"
                        data-belowelement="comment-185676"
                        data-respondelement="respond"
                        data-replyto="Reply to Gus"
                        aria-label="Reply to Gus"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-189822"
              >
                <div class="comment-wrap" id="comment-189822">
                  <div class="comment-author-wrap">
                    <div class="comment-author">leandra</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-189822"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-09-06T10:43:32-07:00"
                        >September 6, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      This code snippet saved my bacon&#8230; one
                      question&#8230; how would you include additional arguments
                      like &amp;orderby=title and &amp;order=asc? Thanks!
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-189822"
                        data-commentid="189822"
                        data-postid="14603"
                        data-belowelement="comment-189822"
                        data-respondelement="respond"
                        data-replyto="Reply to leandra"
                        aria-label="Reply to leandra"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-193523"
              >
                <div class="comment-wrap" id="comment-193523">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Daan</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-193523"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-09-25T20:31:54-07:00"
                        >September 25, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>This worked best for me:</p>
                    <pre><code>// Add custom post types to archives
function custom_post_archive($query) {
    if ($query-&gt;is_archive)
        $query-&gt;set( 'post_type', array('your_custom_type_here', 'nav_menu_item', 'post') );
    remove_action( 'pre_get_posts', 'custom_post_archive' );
}
add_action('pre_get_posts', 'custom_post_archive');
</code></pre>
                    <p>
                      It kept the navigation, my widgets and custom query on the
                      home page intact.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-193523"
                        data-commentid="193523"
                        data-postid="14603"
                        data-belowelement="comment-193523"
                        data-respondelement="respond"
                        data-replyto="Reply to Daan"
                        aria-label="Reply to Daan"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-1115833">
                    <div class="comment-wrap" id="comment-1115833">
                      <div class="comment-author-wrap">
                        <div class="comment-author">manmar</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1115833"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-01-26T10:40:40-08:00"
                            >January 26, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks Daan!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li
                    class="comment odd alt depth-2 buried"
                    id="li-comment-1198714"
                  >
                    <div class="comment-wrap" id="comment-1198714">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Iris</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1198714"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-02-25T00:17:23-08:00"
                            >February 25, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>You&#8217;re a genious! Thank you so much!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-1580810">
                    <div class="comment-wrap" id="comment-1580810">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Michelle</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1580810"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-05-06T09:33:04-07:00"
                            >May 6, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks Daan! This was the fix for me too.</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1580811">
                    <div class="comment-wrap" id="comment-1580811">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Michelle</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1580811"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-05-06T09:42:19-07:00"
                            >May 6, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Should have mentioned, I added<br />
                          !is_admin()
                        </p>
                        <pre><code>// Add custom post types to archives
function custom_post_archive($query) {
    if ( !is_admin() &amp;amp;&amp;amp; $query-&amp;gt;is_archive)
        $query-&amp;gt;set( 'post_type', array('your_custom_type_here', 'nav_menu_item', 'post') );
    remove_action( 'pre_get_posts', 'custom_post_archive' );
}
add_action('pre_get_posts', 'custom_post_archive');
</code></pre>
                        <p>
                          to the conditional so that it wouldn&#8217;t pull all
                          my custom post types in the control panel as well as
                          on the archive pages.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-194267"
              >
                <div class="comment-wrap" id="comment-194267">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Elshereef</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-194267"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-09-30T15:04:35-07:00"
                        >September 30, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Daan&#8217;s Solution works perfect.</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-194267"
                        data-commentid="194267"
                        data-postid="14603"
                        data-belowelement="comment-194267"
                        data-respondelement="respond"
                        data-replyto="Reply to Elshereef"
                        aria-label="Reply to Elshereef"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-195461"
              >
                <div class="comment-wrap" id="comment-195461">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Nicola Elvin</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-195461"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2012-10-07T12:31:52-07:00"
                        >October 7, 2012</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Works a treat that last post, thanks! However&#8230;it now
                      means in the wp-admin, in each custom post list ui, all
                      the different custom post types show up apart from just
                      that one we have clicked on
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-195461"
                        data-commentid="195461"
                        data-postid="14603"
                        data-belowelement="comment-195461"
                        data-respondelement="respond"
                        data-replyto="Reply to Nicola Elvin"
                        aria-label="Reply to Nicola Elvin"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-196033">
                    <div class="comment-wrap" id="comment-196033">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Andrew</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-196033"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2012-10-09T11:57:20-07:00"
                            >October 9, 2012</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          This same thing happens for me, as well. I&#8217;m
                          using Daan&#8217;s code and if I can fix this small
                          issue, it&#8217;ll be exactly what I need.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-275262">
                    <div class="comment-wrap" id="comment-275262">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Lindsey</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-275262"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-02-01T16:00:31-08:00"
                            >February 1, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Granted I know this comment is about 4 months old, but
                          I did figure out how to fix this issue.
                        </p>
                        <p>
                          In your functions.php file where you have created your
                          custom post type, change this line:
                        </p>
                        <pre>
FROM:
'has_archive' =&gt; true,

TO:
'has_archive' =&gt; false,
</pre
                        >
                        <p>
                          And that should fix the issue! :) It did on my end
                          anyways, so I hope it helps others!
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-251171"
              >
                <div class="comment-wrap" id="comment-251171">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Xavier</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-251171"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-01-07T16:35:22-08:00"
                        >January 7, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      The code Dann is perfect for troubleshooting with Widgets,
                      but give me a problem when displaying Custom Post Type on
                      the menu if besides &#8220;is_category&#8221; added
                      &#8220;is_tag&#8221; solve it this way:
                    </p>
                    <p>
                      function view_AllCustomPost($query) {<br />
                      if ($query-&gt;is_category) $query-&gt;set(
                      &#8216;post_type&#8217;, array(<br />
                      &#8216;post&#8217;, &#8216;nav_menu_item&#8217;,
                      &#8216;custom_post_type&#8217;)<br />
                      );
                    </p>
                    <pre><code>elseif ($query-&gt;is_tag) $query-&gt;set( 'post_type', array(
        'post', 'nav_menu_item', 'custom_post_type')
);
remove_action( 'pre_get_posts', 'view_AllCustomPost' );
</code></pre>
                    <p>
                      }<br />
                      add_action(&#8216;pre_get_posts&#8217;,
                      &#8216;view_AllCustomPost&#8217;);
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-251171"
                        data-commentid="251171"
                        data-postid="14603"
                        data-belowelement="comment-251171"
                        data-respondelement="respond"
                        data-replyto="Reply to Xavier"
                        aria-label="Reply to Xavier"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-282770"
              >
                <div class="comment-wrap" id="comment-282770">
                  <div class="comment-author-wrap">
                    <div class="comment-author">David</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-282770"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-02-12T09:40:01-08:00"
                        >February 12, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      We were recently tasked with updating a legacy WP site and
                      this thread helped a treat, our navigation items
                      disappeared though so make sure to add
                      &#8220;nav_menu_item&#8221; back in.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-282770"
                        data-commentid="282770"
                        data-postid="14603"
                        data-belowelement="comment-282770"
                        data-respondelement="respond"
                        data-replyto="Reply to David"
                        aria-label="Reply to David"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-315109"
              >
                <div class="comment-wrap" id="comment-315109">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Eric Curtis</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-315109"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-03-24T09:02:46-07:00"
                        >March 24, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>I had better luck modifying the main query.</p>
                    <p>
                      <a
                        href="https://wordpress.stackexchange.com/questions/27104/how-to-display-regular-posts-custom-post-types-that-fall-under-a-category-usin"
                        rel="nofollow ugc"
                        >http://wordpress.stackexchange.com/questions/27104/how-to-display-regular-posts-custom-post-types-that-fall-under-a-category-usin</a
                      >
                    </p>
                    <pre><code>add_action('pre_get_posts', 'add_my_custom_post_type');

/**
 * @param WP_Query $query
 * @return WP_Query
 */
function add_my_custom_post_type($query) {
if(
    empty($query-&gt;query['post_type'])
    or $query-&gt;query['post_type'] === 'post'
){
    $query-&gt;set('post_type', array('post', 'my_custom_type'));
}
}
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-315109"
                        data-commentid="315109"
                        data-postid="14603"
                        data-belowelement="comment-315109"
                        data-respondelement="respond"
                        data-replyto="Reply to Eric Curtis"
                        aria-label="Reply to Eric Curtis"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-315155"
              >
                <div class="comment-wrap" id="comment-315155">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Eric Curtis</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-315155"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-03-24T09:33:01-07:00"
                        >March 24, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Ok my above comment did not work after all. Where I have
                      been running into problems is on an archive page for a
                      custom post type. I was able to get everything working
                      with this:
                    </p>
                    <pre><code>function custom_post_archive($query) {
if(!is_admin()) {
if (!is_post_type_archive() &amp;&amp; $query-&gt;is_archive())
  $query-&gt;set( 'post_type', array('projects', 'nav_menu_item', 'post','team') );
    remove_action( 'pre_get_posts', 'custom_post_archive' );
    }
}
add_action('pre_get_posts', 'custom_post_archive');
</code></pre>
                    <p>
                      Hope this helps someone, because it was a bear to figure
                      out ; )
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-315155"
                        data-commentid="315155"
                        data-postid="14603"
                        data-belowelement="comment-315155"
                        data-respondelement="respond"
                        data-replyto="Reply to Eric Curtis"
                        aria-label="Reply to Eric Curtis"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-1605458">
                    <div class="comment-wrap" id="comment-1605458">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Stephen Fairbanks</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1605458"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2016-12-07T09:30:54-08:00"
                            >December 7, 2016</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks! This worked for me.</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-483687"
              >
                <div class="comment-wrap" id="comment-483687">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Tom</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-483687"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-07-12T02:08:04-07:00"
                        >July 12, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Daan&#8217;s solution worked for me with WooThemes. I just
                      added the function to my custom plugin file.
                    </p>
                    <p>Thanks!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-483687"
                        data-commentid="483687"
                        data-postid="14603"
                        data-belowelement="comment-483687"
                        data-respondelement="respond"
                        data-replyto="Reply to Tom"
                        aria-label="Reply to Tom"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-483705">
                    <div class="comment-wrap" id="comment-483705">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Tom</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-483705"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-07-12T03:01:48-07:00"
                            >July 12, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Actually, Daan&#8217;s code didn&#8217;t work properly
                          with my author archive pages so I had to remove
                          &#8216;nav menu item&#8217; and &#8216;post&#8217;
                          from the array. My final working code is:
                        </p>
                        <pre><code>if ( ! function_exists( 'custom_post_archive' ) ) {
    function custom_post_archive( $query ) {
        if ( $query-&gt;is_archive )
            $query-&gt;set( 'post_type', array( 'villa_listings' ) );
        remove_action( 'pre_get_posts', 'custom_post_archive' );
    }
}
add_action( 'pre_get_posts', 'custom_post_archive' );
</code></pre>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-519158"
              >
                <div class="comment-wrap" id="comment-519158">
                  <div class="comment-author-wrap">
                    <div class="comment-author">JP Lew</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-519158"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-08-19T10:02:26-07:00"
                        >August 19, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Here&#8217;s an example of some alternate syntax—more
                      elegant imo—for adding a custom post type called
                      &#8220;lecture&#8221; to your taxonomy and date archives:
                    </p>
                    <pre><code>function add_lecture_to_archives( $wp_query ) {

    $types_array = array( 'post', 'lecture' );

    if( is_archive() &amp;&amp; is_date() ) {
        set_query_var( 'post_type', $types_array );
    }
}
add_action('pre_get_posts', 'add_lecture_to_archives');
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-519158"
                        data-commentid="519158"
                        data-postid="14603"
                        data-belowelement="comment-519158"
                        data-respondelement="respond"
                        data-replyto="Reply to JP Lew"
                        aria-label="Reply to JP Lew"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-567725"
              >
                <div class="comment-wrap" id="comment-567725">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Alec Rippberger</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-567725"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-09-30T08:56:41-07:00"
                        >September 30, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      If you want to include all post types you could use
                      <code>get_post_types()</code> to pull all custom post
                      types dynamically:
                    </p>
                    <pre><code>function namespace_add_custom_types( $query ) {
    if( is_category() || is_tag() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {
        $post_types = get_post_types( '', 'names' ); 
        $query-&gt;set( 'post_type', $post_types);
        return $query;
    }
}
add_filter( 'pre_get_posts', 'namespace_add_custom_types');
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-567725"
                        data-commentid="567725"
                        data-postid="14603"
                        data-belowelement="comment-567725"
                        data-respondelement="respond"
                        data-replyto="Reply to Alec Rippberger"
                        aria-label="Reply to Alec Rippberger"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment odd alt depth-2" id="li-comment-617945">
                    <div class="comment-wrap" id="comment-617945">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Ben Rosati</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-617945"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2013-10-29T14:20:57-07:00"
                            >October 29, 2013</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Thanks Alec! This article should ABSOLUTELY be updated
                          with your solution.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-1585687">
                    <div class="comment-wrap" id="comment-1585687">
                      <div class="comment-author-wrap">
                        <div class="comment-author">David</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1585687"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-10-03T22:16:32-07:00"
                            >October 3, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>You Sir, are a Rockstar!!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-611382"
              >
                <div class="comment-wrap" id="comment-611382">
                  <div class="comment-author-wrap">
                    <div class="comment-author">selno</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-611382"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-10-25T13:16:48-07:00"
                        >October 25, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>this one helped me</p>
                    <p>
                      `$args = array( &#8216;posts_per_page&#8217; =&gt;
                      10,&#8217;post_type&#8217;=&gt;&#8217;videos_&#8217;,
                      &#8216;category&#8217; =&gt; 3 );
                    </p>
                    <p>
                      $myposts = get_posts( $args );<br />
                      foreach ( $myposts as $post ) : setup_postdata( $post );
                      ?&gt;
                    </p>
                    <p>&lt;a href=&quot;&#8221;&gt;</p>
                    <p>&lt;?php endforeach; `</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-611382"
                        data-commentid="611382"
                        data-postid="14603"
                        data-belowelement="comment-611382"
                        data-respondelement="respond"
                        data-replyto="Reply to selno"
                        aria-label="Reply to selno"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-618603"
              >
                <div class="comment-wrap" id="comment-618603">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Alec Rippberger</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-618603"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-10-29T21:17:04-07:00"
                        >October 29, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Glad you found it helpful Ben!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-618603"
                        data-commentid="618603"
                        data-postid="14603"
                        data-belowelement="comment-618603"
                        data-respondelement="respond"
                        data-replyto="Reply to Alec Rippberger"
                        aria-label="Reply to Alec Rippberger"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-644863"
              >
                <div class="comment-wrap" id="comment-644863">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Jeremy</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-644863"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2013-11-08T22:53:58-08:00"
                        >November 8, 2013</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>This bit of code saved my life. Thanks a million.</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-644863"
                        data-commentid="644863"
                        data-postid="14603"
                        data-belowelement="comment-644863"
                        data-respondelement="respond"
                        data-replyto="Reply to Jeremy"
                        aria-label="Reply to Jeremy"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1076477"
              >
                <div class="comment-wrap" id="comment-1076477">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Lucas</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1076477"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-01-11T10:53:37-08:00"
                        >January 11, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Working on a custom site for the company I work with,
                      using wordpress, but my director wants to have the posts
                      behave like pages, and the pages behave like posts. I have
                      this done so far, but I am [well, if I had hair, I would
                      be&#8230; but I digress] pulling my hair out trying to
                      figure out how to make it so that when you click on the
                      menu item that would normally feed off of the archive.php
                      file, and grab the posts, our content is being hosted in
                      pages, so this is showing nothing matches the
                      search,&#8230; returning no values.
                    </p>
                    <p>
                      I have tried all the snippets listed here, to no avail,
                      and am a beginner at best when it comes to php. All I
                      want, is for pages to present within the archive feature,
                      like posts would!
                    </p>
                    <p>Help!?</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1076477"
                        data-commentid="1076477"
                        data-postid="14603"
                        data-belowelement="comment-1076477"
                        data-respondelement="respond"
                        data-replyto="Reply to Lucas"
                        aria-label="Reply to Lucas"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-1468096"
              >
                <div class="comment-wrap" id="comment-1468096">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Adam</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1468096"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-03-28T10:25:39-07:00"
                        >March 28, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Awesome! Thanks!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1468096"
                        data-commentid="1468096"
                        data-postid="14603"
                        data-belowelement="comment-1468096"
                        data-respondelement="respond"
                        data-replyto="Reply to Adam"
                        aria-label="Reply to Adam"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1581861"
              >
                <div class="comment-wrap" id="comment-1581861">
                  <div class="comment-author-wrap">
                    <div class="comment-author">William Sousa</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1581861"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-05-29T09:53:54-07:00"
                        >May 29, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Hey guys.</p>
                    <p>Good example!</p>
                    <p>
                      It&#8217;s possible make category.php includes custom post
                      type?
                    </p>
                    <p>Hugs!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1581861"
                        data-commentid="1581861"
                        data-postid="14603"
                        data-belowelement="comment-1581861"
                        data-respondelement="respond"
                        data-replyto="Reply to William Sousa"
                        aria-label="Reply to William Sousa"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1 buried"
                id="li-comment-1584084"
              >
                <div class="comment-wrap" id="comment-1584084">
                  <div class="comment-author-wrap">
                    <div class="comment-author">BigLeslieP</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1584084"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-07-27T13:00:46-07:00"
                        >July 27, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Once again, dude. You totally rock.</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1584084"
                        data-commentid="1584084"
                        data-postid="14603"
                        data-belowelement="comment-1584084"
                        data-respondelement="respond"
                        data-replyto="Reply to BigLeslieP"
                        aria-label="Reply to BigLeslieP"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1 buried"
                id="li-comment-1584284"
              >
                <div class="comment-wrap" id="comment-1584284">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Axes</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1584284"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-08-07T23:54:36-07:00"
                        >August 7, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thank you.<br />
                      Nice tip.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1584284"
                        data-commentid="1584284"
                        data-postid="14603"
                        data-belowelement="comment-1584284"
                        data-respondelement="respond"
                        data-replyto="Reply to Axes"
                        aria-label="Reply to Axes"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1 buried"
                id="li-comment-1584443"
              >
                <div class="comment-wrap" id="comment-1584443">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Rohit Tripathi</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1584443"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-08-15T15:50:33-07:00"
                        >August 15, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Pretty Neat Trick. Thanks :)</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1584443"
                        data-commentid="1584443"
                        data-postid="14603"
                        data-belowelement="comment-1584443"
                        data-respondelement="respond"
                        data-replyto="Reply to Rohit Tripathi"
                        aria-label="Reply to Rohit Tripathi"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1584560"
              >
                <div class="comment-wrap" id="comment-1584560">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Ray1618</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1584560"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-08-20T03:20:08-07:00"
                        >August 20, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Jon B&#8217;s &amp; Daans solutions worked both for me,
                      great! Thx!<br />
                      Why doesn&#8217;t this work out of the box?!? Kept me
                      searching for hours :S
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1584560"
                        data-commentid="1584560"
                        data-postid="14603"
                        data-belowelement="comment-1584560"
                        data-respondelement="respond"
                        data-replyto="Reply to Ray1618"
                        aria-label="Reply to Ray1618"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-1584940"
              >
                <div class="comment-wrap" id="comment-1584940">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Bart De Vuyst</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1584940"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-09-03T07:04:55-07:00"
                        >September 3, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      This snippet doesn&#8217;t work with WPML. Does anyone
                      have an idea why it doesn&#8217;t work on multi-language
                      websites?
                    </p>
                    <p>thanks,</p>
                    <p>Bart</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1584940"
                        data-commentid="1584940"
                        data-postid="14603"
                        data-belowelement="comment-1584940"
                        data-respondelement="respond"
                        data-replyto="Reply to Bart De Vuyst"
                        aria-label="Reply to Bart De Vuyst"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-1587095">
                    <div class="comment-wrap" id="comment-1587095">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Emilien</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1587095"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-11-27T14:29:37-08:00"
                            >November 27, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          I have the same problem&#8230; did you come up to a
                          solution? Have you contacted the WPML support team?<br />
                          Is anyone else facing the same issue ? Does anyone
                          have an idea or a solution ?
                        </p>
                        <p>
                          Thank you so much for your help, snippet works great
                          without WPML ;)
                        </p>
                        <p>Emilien</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1587106">
                    <div class="comment-wrap" id="comment-1587106">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Bart De Vuyst</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1587106"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-11-28T00:21:37-08:00"
                            >November 28, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Hi Emilien,</p>
                        <p>
                          I got this fixed. I also reported this to WPML but
                          they kinda ignored the issue&#8230; here&#8217;s the
                          thread and how I fixed it:
                          <a
                            href="https://wpml.org/forums/topic/wpml-breaks-category-archives-for-custom-post-types/"
                            rel="nofollow ugc"
                            >https://wpml.org/forums/topic/wpml-breaks-category-archives-for-custom-post-types/</a
                          >
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment even depth-2" id="li-comment-1587109">
                    <div class="comment-wrap" id="comment-1587109">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Emilien</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1587109"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2014-11-28T03:40:46-08:00"
                            >November 28, 2014</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Hi Bart and thank you for your message,</p>
                        <p>
                          I finally solved this but in a different way than you
                          did. Here is the snippet I came up to.
                        </p>
                        <pre><code>query_vars['suppress_filters'] ) ) {
    $query-&gt;set( 'post_type', array(
     'post', 'nav_menu_item', 'my_custom_post_type', 'my_other_custom_post_type'
        ));
    $query-&gt;set('suppress_filters', true); //wpml filter
      return $query;
    }
}
add_filter( 'pre_get_posts', 'custom_function_add_custom_post_types' );
?&gt;
</code></pre>
                        <p>Thank you again for your help, have a great day!</p>
                        <p>Emilien</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-1585270"
              >
                <div class="comment-wrap" id="comment-1585270">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Mukama Ivan</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1585270"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-09-13T17:12:10-07:00"
                        >September 13, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thanks fro the post. Is it possible to add
                      items/categories from the custom post types to the default
                      WordPress Archive widget? It only shows posts.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1585270"
                        data-commentid="1585270"
                        data-postid="14603"
                        data-belowelement="comment-1585270"
                        data-respondelement="respond"
                        data-replyto="Reply to Mukama Ivan"
                        aria-label="Reply to Mukama Ivan"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-1585318"
              >
                <div class="comment-wrap" id="comment-1585318">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Vlada</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1585318"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-09-16T12:45:52-07:00"
                        >September 16, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thanksfor this post, and see menu ppl solve the problem,
                      but i don&#8217;t :(<br />
                      I making my own theme and i successfully make 2 custom
                      post type and i displaying in my blog. Only problem is my
                      arhive.php shows only regular posts, not showing my custom
                      post typs (same after using this code)<br />
                      can someone tell me where what file i must also check to
                      solve this problem?<br />
                      Thanks..
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1585318"
                        data-commentid="1585318"
                        data-postid="14603"
                        data-belowelement="comment-1585318"
                        data-respondelement="respond"
                        data-replyto="Reply to Vlada"
                        aria-label="Reply to Vlada"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-1586770"
              >
                <div class="comment-wrap" id="comment-1586770">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Develocom</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1586770"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-11-17T16:24:13-08:00"
                        >November 17, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      I agree with Vlada. Does anyone have a solution that works
                      on the Main Blog, Category pages, and Archive pages? If
                      that was posted, my apologies but I can&#8217;t seem to
                      find the solution anywhere.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1586770"
                        data-commentid="1586770"
                        data-postid="14603"
                        data-belowelement="comment-1586770"
                        data-respondelement="respond"
                        data-replyto="Reply to Develocom"
                        aria-label="Reply to Develocom"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-1586777"
              >
                <div class="comment-wrap" id="comment-1586777">
                  <div class="comment-author-wrap">
                    <div class="comment-author">hj</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1586777"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-11-17T23:42:31-08:00"
                        >November 17, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>how to link a custom post page to archive page</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1586777"
                        data-commentid="1586777"
                        data-postid="14603"
                        data-belowelement="comment-1586777"
                        data-respondelement="respond"
                        data-replyto="Reply to hj"
                        aria-label="Reply to hj"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-1586845"
              >
                <div class="comment-wrap" id="comment-1586845">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Develocom</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1586845"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2014-11-20T22:35:59-08:00"
                        >November 20, 2014</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      The problem with any of the solutions above that I
                      didn&#8217;t see mentioned by anyone is the fact that
                      everything works until you get to a custom post type
                      archive. It shows all the posts like a main feed. Here is
                      the final working solution on all WordPress pages. If you
                      see any errors or find something better, let me know :)
                    </p>
                    <pre><code>function some_function( $query ) {
  if(!is_admin()) {

  // For categories, lets add 'nav_menu_item' to the array so we don't break our navigation.//
  if( is_category() || is_tag() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {
    $query-&gt;set( 'post_type', array(
     'post', 'nav_menu_item', 'custom_post_type', 'another_custom_post_type'
    ));
    return $query;
  }
  if( is_archive() &amp;&amp; !is_post_type_archive() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {
    $query-&gt;set( 'post_type', array(
     'post', 'custom_post_type', 'another_custom_post_type'
    ));
    return $query;
  }
  if( is_home() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {
    $query-&gt;set( 'post_type', array(
     'post', 'custom_post_type', 'another_custom_post_type'
    ));
    return $query;
  }
 }
}
add_filter( 'pre_get_posts', 'some_function' );
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1586845"
                        data-commentid="1586845"
                        data-postid="14603"
                        data-belowelement="comment-1586845"
                        data-respondelement="respond"
                        data-replyto="Reply to Develocom"
                        aria-label="Reply to Develocom"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-1593724">
                    <div class="comment-wrap" id="comment-1593724">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Mark</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1593724"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2015-04-07T08:42:08-07:00"
                            >April 7, 2015</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          I was having problems with the original code causing a
                          problem with the filters on regular posts,
                          &#8220;invalid post type&#8221;. However,
                          Develocom&#8217;s updated snippet here works.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                  <li class="comment odd alt depth-2" id="li-comment-1598169">
                    <div class="comment-wrap" id="comment-1598169">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Dale Lature</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1598169"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2015-11-22T12:04:31-08:00"
                            >November 22, 2015</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          Yes!!!!!!!! After a day and a half, FINALLY something
                          that works for me!
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="
                  comment
                  byuser
                  comment-author-adjmedia
                  even
                  thread-even
                  depth-1
                "
                id="li-comment-1587989"
              >
                <div class="comment-wrap" id="comment-1587989">
                  <div class="comment-author-wrap">
                    <div class="comment-author">adjmedia</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1587989"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-01-04T19:32:33-08:00"
                        >January 4, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Hello, I&#8217;m having the same trouble as everyone else
                      here where my nav menus have disappeared. What&#8217;s
                      weird is that everything was fine on my local installation
                      as I was building this theme, but when I installed the
                      theme on a server, that&#8217;s when my menus disappeared.
                      If anyone has any insight, I&#8217;d love it.
                    </p>
                    <p>
                      The
                      <a href="http://www.akilahtzuberi.com/blog" rel="nofollow"
                        >site is here</a
                      >.
                    </p>
                    <p>
                      Here is the code I&#8217;m using, adapted from this
                      thread:
                    </p>
                    <pre><code>&lt;?php add_filter( 'pre_get_posts', 'my_get_posts' );

    function my_get_posts( $query ) {
    if( !is_admin() ) {
        if ( !is_post_type_archive() &amp;&amp; $query-&gt;is_archive() ) {
            $query-&gt;set( 'post_type', array( 'post', 'section-1', 'section-2', 'section-3', 'section-4', 'section-5', 'section-a', 'section-b', 'section-c', 'section-d', 'nav_menu_item' ) );
        }
        return $query;

    }
}

echo '&lt;h2&gt;';
echo the_category();
echo '&lt;/h2&gt;';
?&gt;
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1587989"
                        data-commentid="1587989"
                        data-postid="14603"
                        data-belowelement="comment-1587989"
                        data-respondelement="respond"
                        data-replyto="Reply to adjmedia"
                        aria-label="Reply to adjmedia"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li
                    class="
                      comment
                      byuser
                      comment-author-adjmedia
                      odd
                      alt
                      depth-2
                    "
                    id="li-comment-1587990"
                  >
                    <div class="comment-wrap" id="comment-1587990">
                      <div class="comment-author-wrap">
                        <div class="comment-author">adjmedia</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1587990"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2015-01-04T19:38:17-08:00"
                            >January 4, 2015</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>syntax error elsewhere in my code! Ha!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1591620"
              >
                <div class="comment-wrap" id="comment-1591620">
                  <div class="comment-author-wrap">
                    <div class="comment-author">toiber</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1591620"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-01-13T14:46:01-08:00"
                        >January 13, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Hi,</p>
                    <p>
                      is possible to define or limit a number of posts per page
                      within the same piece of code?
                    </p>
                    <p>Thanks,</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1591620"
                        data-commentid="1591620"
                        data-postid="14603"
                        data-belowelement="comment-1591620"
                        data-respondelement="respond"
                        data-replyto="Reply to toiber"
                        aria-label="Reply to toiber"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-1593304"
              >
                <div class="comment-wrap" id="comment-1593304">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Mark</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1593304"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-03-20T08:34:00-07:00"
                        >March 20, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>This was very helpful, thanks! It worked for me.</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1593304"
                        data-commentid="1593304"
                        data-postid="14603"
                        data-belowelement="comment-1593304"
                        data-respondelement="respond"
                        data-replyto="Reply to Mark"
                        aria-label="Reply to Mark"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1594060"
              >
                <div class="comment-wrap" id="comment-1594060">
                  <div class="comment-author-wrap">
                    <div class="comment-author">amy</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1594060"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-04-24T08:12:40-07:00"
                        >April 24, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      I was trying the different solutions provided and was
                      coming up with some issues, depending on version. The
                      biggest problem was with my masonry layout &#8211; anyway
                      I combined ideas and all my problems were solved &#8211;
                      no nav menu issue, no masonry layout issue weirdness and
                      all appearing where it needed to be sorry this is long I
                      am just so HAPPY. In case it can help someone else &#8211;
                      here it is&#8230;
                    </p>
                    <pre><code>//add custom post types to archives

function add_cpt_to_archives( $wp_query ) {
    $types_array = array( 'post', 'articles','factsheets','questions', 'events' );
    if( is_category() || is_tag() ) {
        set_query_var( 'post_type', $types_array );
    }
}
add_action('pre_get_posts', 'add_cpt_to_archives');
</code></pre>
                    <p>
                      still styling the site a bit but you can see it
                      <a
                        href="http://yourbalconygarden.yoyoro.net/"
                        rel="nofollow"
                        >here</a
                      >
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1594060"
                        data-commentid="1594060"
                        data-postid="14603"
                        data-belowelement="comment-1594060"
                        data-respondelement="respond"
                        data-replyto="Reply to amy"
                        aria-label="Reply to amy"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment odd alt depth-2" id="li-comment-1599264">
                    <div class="comment-wrap" id="comment-1599264">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Julie</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1599264"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2016-01-22T18:12:19-08:00"
                            >January 22, 2016</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          THANK YOU AMY!! I&#8217;ve been working on this for
                          way too long now, and your solution was perfect!! I
                          had trouble in various ways with all the rest of the
                          code snippets above. Thank you again for sharing!
                          You&#8217;re awesome!! :D
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-1594317"
              >
                <div class="comment-wrap" id="comment-1594317">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Betty</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1594317"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-05-07T09:35:06-07:00"
                        >May 7, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Can somebody help me? I am customizing the search &#8211;
                      but my navigation disappears when I do the customization..
                    </p>
                    <pre><code>// Gets all child pages of parent and search in these post parents.
// Only when 'parent' URL param is available.
function parent_search( $query ){
  if(get_query_var('parent')) {
    $pageids = array();
    $childpages = get_pages('child_of='.get_query_var('parent'));
    foreach($childpages as $page) {
      $pageids[] = $page-&gt;ID;
    }
    $query-&gt;set('post_parent__in', $pageids);
    $query-&gt;set('post_type', array('post', 'page', 'nav_menu_item')); // even if I do this, it disappears
  }
  return $query;
}
add_filter( 'pre_get_posts', 'parent_search' );
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1594317"
                        data-commentid="1594317"
                        data-postid="14603"
                        data-belowelement="comment-1594317"
                        data-respondelement="respond"
                        data-replyto="Reply to Betty"
                        aria-label="Reply to Betty"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment odd alt depth-2" id="li-comment-1594328">
                    <div class="comment-wrap" id="comment-1594328">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Betty</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1594328"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2015-05-08T00:17:43-07:00"
                            >May 8, 2015</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          found the solution, had to add
                          <code>$query-&gt;is_main_query()</code> to the if
                          condition, see
                          <a
                            href="https://wordpress.stackexchange.com/a/52530"
                            rel="nofollow ugc"
                            >http://wordpress.stackexchange.com/a/52530</a
                          >
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1595657"
              >
                <div class="comment-wrap" id="comment-1595657">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Ukubi</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1595657"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-07-05T19:30:00-07:00"
                        >July 5, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Hello,</p>
                    <p>
                      Widget-archive and widget-calendar are empty if there are
                      only custom posts type (no blog/default posts). I
                      can&#8217;t see the month in the archives or click on a
                      day in the calendar if there is not at least one blog post
                      for the period. The page archive is ok (show all posts
                      with the same tag or date)
                    </p>
                    <p>
                      Is there a way to use the widgets when there are only
                      custom posts?
                    </p>
                    <p>I try many things.. I use this code :</p>
                    <p>
                      add_filter( &#8216;pre_get_posts&#8217;,
                      &#8216;my_get_posts&#8217;);
                    </p>
                    <p>
                      function my_get_posts( $query ) {<br />
                      if(!is_admin()){<br />
                      if (!is_post_type_archive() &amp;&amp;
                      $query-&gt;is_archive())<br />
                      $query-&gt;set( &#8216;post_type&#8217;, array(
                      &#8216;post&#8217;,&#8217;portfolio&#8217; ) );
                    </p>
                    <p>
                      return $query;<br />
                      }<br />
                      }
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1595657"
                        data-commentid="1595657"
                        data-postid="14603"
                        data-belowelement="comment-1595657"
                        data-respondelement="respond"
                        data-replyto="Reply to Ukubi"
                        aria-label="Reply to Ukubi"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-1597842"
              >
                <div class="comment-wrap" id="comment-1597842">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Ken</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1597842"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-11-05T08:02:59-08:00"
                        >November 5, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thank you for this.<br />
                      To save myself having to manually enter each custom post
                      type, I did the following to automatically add any public
                      post types and it seems to work.
                    </p>
                    <pre><code>[functions.php]

function hmwd_add_custom_post_types_to_query($post_types){
  $added = get_post_types(array( 'public'=&gt;true,'_builtin'=&gt;false));
  foreach($added as $key=&gt;$value){
    $post_types[]=$key;
  }
  return $post_types;
}
function hmwd_modify_archive_query( $query ) {
  if( is_category() || is_tag() || is_date() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) { 
    $post_types = hmwd_add_custom_post_types_to_query(array( 'post', 'nav_menu_item'));
    $query-&gt;set( 'post_type', $post_types);
    return $query;
  }
}
add_filter( 'pre_get_posts', 'hmwd_modify_archive_query' );

</code></pre>
                    <p>
                      Should make themes easier to maintain as future post types
                      are added.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1597842"
                        data-commentid="1597842"
                        data-postid="14603"
                        data-belowelement="comment-1597842"
                        data-respondelement="respond"
                        data-replyto="Reply to Ken"
                        aria-label="Reply to Ken"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1598048"
              >
                <div class="comment-wrap" id="comment-1598048">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Alshe Dupur</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1598048"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2015-11-17T04:03:37-08:00"
                        >November 17, 2015</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      I tried with all of code. After tried several times&#8230;
                      this code is work for me. Here is my code:
                    </p>
                    <pre>
function namespace_add_custom_types( $query ) {
    if( is_category() || is_tag() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {
       $query-&gt;set( 'post_type', array('nav_menu_item', 'post', 'post_type_1', 'post_type_2', 'post_type_3', 'post_type_4', 'post_type_5', 'post_type_6', 'post_type_7') );
       return $query;
    }
}
add_filter( 'pre_get_posts', 'namespace_add_custom_types');
</pre
                    >
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1598048"
                        data-commentid="1598048"
                        data-postid="14603"
                        data-belowelement="comment-1598048"
                        data-respondelement="respond"
                        data-replyto="Reply to Alshe Dupur"
                        aria-label="Reply to Alshe Dupur"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-1598862"
              >
                <div class="comment-wrap" id="comment-1598862">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Paul</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1598862"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2016-01-04T08:18:57-08:00"
                        >January 4, 2016</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>Hello Chris,</p>
                    <p>
                      Here is a plugin I made that can help to create a custom
                      archive of any post_type / taxonomy. You can choose from
                      many base elements like cards, badges, pin-card (Pinterest
                      like layout). Then, you can filter any custom post based
                      on post type, taxonomy, etc. Finally you can make any css
                      changes to your &#8220;elements&#8221;. All changes are
                      shown in a live preview.
                    </p>
                    <p>
                      Here is it:
                      <a
                        href="http://www.pauple.com/elementary/"
                        rel="nofollow ugc"
                        >http://www.pauple.com/elementary/</a
                      >
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1598862"
                        data-commentid="1598862"
                        data-postid="14603"
                        data-belowelement="comment-1598862"
                        data-respondelement="respond"
                        data-replyto="Reply to Paul"
                        aria-label="Reply to Paul"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-odd thread-alt depth-1"
                id="li-comment-1604709"
              >
                <div class="comment-wrap" id="comment-1604709">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Itay Banner</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1604709"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2016-10-25T17:40:57-07:00"
                        >October 25, 2016</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>OMG. If only I Googled it 2 hours ago&#8230;. Thanks!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1604709"
                        data-commentid="1604709"
                        data-postid="14603"
                        data-belowelement="comment-1604709"
                        data-respondelement="respond"
                        data-replyto="Reply to Itay Banner"
                        aria-label="Reply to Itay Banner"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-even depth-1"
                id="li-comment-1611565"
              >
                <div class="comment-wrap" id="comment-1611565">
                  <div class="comment-author-wrap">
                    <div class="comment-author">james</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1611565"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2017-09-02T09:10:00-07:00"
                        >September 2, 2017</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      BTW this code worked for me, didn&#8217;t have to modify
                      it just pasted it in my functions.php and voila!
                    </p>
                    <pre><code>function add_custom_types_to_tax( $query ) {
if( is_category() || is_tag() &amp;&amp; empty( $query-&gt;query_vars['suppress_filters'] ) ) {

// Get all your post types
$post_types = get_post_types();

$query-&gt;set( 'post_type', $post_types );
return $query;
}
}
add_filter( 'pre_get_posts', 'add_custom_types_to_tax' );
</code></pre>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1611565"
                        data-commentid="1611565"
                        data-postid="14603"
                        data-belowelement="comment-1611565"
                        data-respondelement="respond"
                        data-replyto="Reply to james"
                        aria-label="Reply to james"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li class="comment even depth-2" id="li-comment-1652538">
                    <div class="comment-wrap" id="comment-1652538">
                      <div class="comment-author-wrap">
                        <div class="comment-author">janhenrydesign</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1652538"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2018-10-04T16:47:18-07:00"
                            >October 4, 2018</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>Thanks! This code worked for me!</p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-1651980"
              >
                <div class="comment-wrap" id="comment-1651980">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Naveed</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1651980"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2018-09-05T00:05:50-07:00"
                        >September 5, 2018</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>issue fixed, Thank You</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1651980"
                        data-commentid="1651980"
                        data-postid="14603"
                        data-belowelement="comment-1651980"
                        data-respondelement="respond"
                        data-replyto="Reply to Naveed"
                        aria-label="Reply to Naveed"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-1653272"
              >
                <div class="comment-wrap" id="comment-1653272">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Murray Chapman</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1653272"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2018-11-15T19:29:45-08:00"
                        >November 15, 2018</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Okay. This code just saved my sanity. Wow. Cannot believe
                      that I did not know this re: archive not displaying CPT.
                      Thank you. Thank you. Thank you.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1653272"
                        data-commentid="1653272"
                        data-postid="14603"
                        data-belowelement="comment-1653272"
                        data-respondelement="respond"
                        data-replyto="Reply to Murray Chapman"
                        aria-label="Reply to Murray Chapman"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-1681065"
              >
                <div class="comment-wrap" id="comment-1681065">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Dave</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1681065"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2019-03-25T00:24:39-07:00"
                        >March 25, 2019</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thanks for this, but I need to add multiple custom post
                      types, and I can&#8217;t figure out the syntax &#8211; I
                      guess I&#8217;m supposed to add an array of post types?
                    </p>
                    <p>Any help would be most appreciated!</p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1681065"
                        data-commentid="1681065"
                        data-postid="14603"
                        data-belowelement="comment-1681065"
                        data-respondelement="respond"
                        data-replyto="Reply to Dave"
                        aria-label="Reply to Dave"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-1717148"
              >
                <div class="comment-wrap" id="comment-1717148">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Lucas</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1717148"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2019-06-10T08:09:57-07:00"
                        >June 10, 2019</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Thanks so much for these snippets! I knew there was a way
                      to do this, but I had to Bing it to find out. This is
                      still helping folks in 2019.
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1717148"
                        data-commentid="1717148"
                        data-postid="14603"
                        data-belowelement="comment-1717148"
                        data-respondelement="respond"
                        data-replyto="Reply to Lucas"
                        aria-label="Reply to Lucas"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment odd alt thread-odd thread-alt depth-1"
                id="li-comment-1754081"
              >
                <div class="comment-wrap" id="comment-1754081">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Paul Schlereth</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1754081"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2020-02-04T14:17:56-08:00"
                        >February 4, 2020</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      Hey Team &#8211; How do we allow for custom date archive
                      templates for custom post types? Rather than only allot
                      for using date.php, is it possible to prioritize a
                      template like date-mycustomposttype.php?
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1754081"
                        data-commentid="1754081"
                        data-postid="14603"
                        data-belowelement="comment-1754081"
                        data-respondelement="respond"
                        data-replyto="Reply to Paul Schlereth"
                        aria-label="Reply to Paul Schlereth"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
              </li>
              <li
                class="comment even thread-even depth-1"
                id="li-comment-1766176"
              >
                <div class="comment-wrap" id="comment-1766176">
                  <div class="comment-author-wrap">
                    <div class="comment-author">Carl</div>
                    <div class="comment-time">
                      <a
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1766176"
                        ><span class="screen-reader">Permalink to comment</span
                        >#</a
                      >
                      <time datetime="2020-12-17T11:12:00-08:00"
                        >December 17, 2020</time
                      >
                    </div>
                  </div>
                  <div class="comment-content">
                    <p>
                      This no longer seems to work. I had it added to my site
                      using Divi and it worked fine for years. Today I checked
                      and posts are no longer showing in my feeds. Any idea why?
                    </p>
                  </div>
                  <div class="comment-actions">
                    <div class="reply">
                      <a
                        rel="nofollow"
                        class="comment-reply-link"
                        href="#comment-1766176"
                        data-commentid="1766176"
                        data-postid="14603"
                        data-belowelement="comment-1766176"
                        data-respondelement="respond"
                        data-replyto="Reply to Carl"
                        aria-label="Reply to Carl"
                        >Reply</a
                      >
                    </div>
                  </div>
                </div>
                <ul class="children">
                  <li
                    class="
                      comment
                      byuser
                      comment-author-geoffgraham
                      odd
                      alt
                      depth-2
                    "
                    id="li-comment-1766178"
                  >
                    <div class="comment-wrap" id="comment-1766178">
                      <div class="comment-author-wrap">
                        <div class="comment-author">Geoff Graham</div>
                        <div class="comment-time">
                          <a
                            href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#comment-1766178"
                            ><span class="screen-reader"
                              >Permalink to comment</span
                            >#</a
                          >
                          <time datetime="2020-12-17T12:28:27-08:00"
                            >December 17, 2020</time
                          >
                        </div>
                      </div>
                      <div class="comment-content">
                        <p>
                          I&#8217;m not exactly sure why it wouldn&#8217;t still
                          work, but perhaps re-writing the function a bit could
                          help:
                        </p>
                        <pre
                          rel="PHP"
                        ><code class="language-php">function namespace_add_custom_types( $query ) {
  if( is_category() || is_tag() &#038;& empty( $query->query_vars['suppress_filters'] ) ) {
    // Get all your post types
    $post_types = get_post_types();

    $query->set( 'post_type', $post_types );
    return $query;
  }
add_action( 'pre_get_posts', 'namespace_add_custom_types' );</code></pre>
                        <p>
                          Or, if possible, add a
                          <code>archive-$post-type.php</code> file in a child
                          theme and add a loop there.
                        </p>
                      </div>
                      <div class="comment-actions">
                        <div class="reply"></div>
                      </div>
                    </div>
                  </li>
                </ul>
              </li>
            </ol>
            <div class="respond">
              <div class="comment-form-form-area">
                <div id="respond" class="comment-respond">
                  <h3 id="reply-title" class="comment-reply-title">
                    Leave a Reply
                    <small
                      ><a
                        rel="nofollow"
                        id="cancel-comment-reply-link"
                        href="https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#respond"
                        style="display: none"
                        >Cancel reply</a
                      ></small
                    >
                  </h3>
                  <form
                    action="https://css-tricks.com/wp-comments-post.php"
                    method="post"
                    id="commentform"
                    class="comment-form"
                  >
                    <p class="comment-notes">
                      <span id="email-notes"
                        >Your email address will not be published.</span
                      >
                      Required fields are marked <span class="required">*</span>
                    </p>
                    <p class="comment-form-comment">
                      <label for="comment">Comment</label>
                      <textarea
                        id="comment"
                        name="comment"
                        cols="45"
                        rows="8"
                        maxlength="65525"
                        required="required"
                      ></textarea>
                    </p>
                    <p class="comment-form-author">
                      <label for="author"
                        >Name <span class="required">*</span></label
                      >
                      <input
                        id="author"
                        name="author"
                        type="text"
                        value=""
                        size="30"
                        maxlength="245"
                        required="required"
                      />
                    </p>
                    <p class="comment-form-email">
                      <label for="email"
                        >Email <span class="required">*</span></label
                      >
                      <input
                        id="email"
                        name="email"
                        type="email"
                        value=""
                        size="30"
                        maxlength="100"
                        aria-describedby="email-notes"
                        required="required"
                      />
                    </p>
                    <p class="comment-form-url">
                      <label for="url">Website</label>
                      <input
                        id="url"
                        name="url"
                        type="text"
                        value=""
                        size="30"
                        maxlength="200"
                      />
                    </p>
                    <p class="comment-form-cookies-consent">
                      <input
                        id="wp-comment-cookies-consent"
                        name="wp-comment-cookies-consent"
                        type="checkbox"
                        value="yes"
                      />
                      <label for="wp-comment-cookies-consent"
                        >Save my name, email, and website in this browser for
                        the next time I comment.</label
                      >
                    </p>
                    <input
                      type="hidden"
                      name="_mc4wp_subscribe_wp-comment-form"
                      value="0"
                    />
                    <p class="mc4wp-checkbox mc4wp-checkbox-wp-comment-form">
                      <label
                        ><input
                          type="checkbox"
                          name="_mc4wp_subscribe_wp-comment-form"
                          value="1"
                          checked="checked"
                        /><span>Get the CSS-Tricks newsletter</span></label
                      >
                    </p>
                    <p class="form-submit">
                      <input
                        name="submit"
                        type="submit"
                        id="submit"
                        class="submit"
                        value="Post Comment"
                      />
                      <input
                        type="hidden"
                        name="comment_post_ID"
                        value="14603"
                        id="comment_post_ID"
                      />
                      <input
                        type="hidden"
                        name="comment_parent"
                        id="comment_parent"
                        value="0"
                      />
                    </p>
                    <p style="display: none">
                      <input
                        type="hidden"
                        id="akismet_comment_nonce"
                        name="akismet_comment_nonce"
                        value="85c52f85da"
                      />
                    </p>
                    <p
                      class="antispam-group antispam-group-q"
                      style="clear: both"
                    >
                      <label
                        >Copy and paste this code:
                        <strong class="antspmpro-input-a">micuno</strong>
                        <span class="required">*</span></label
                      >
                      <input
                        type="hidden"
                        name="antspmpro-a"
                        class="antispam-control antispam-control-a"
                        value="micuno"
                      />
                      <input
                        type="text"
                        name="antspmpro-q-luwele"
                        class="antispam-control antispam-control-q"
                        value="4.1"
                      />
                    </p>
                    <p
                      class="antispam-group antispam-group-e"
                      style="display: none"
                    >
                      <label>Leave this field empty</label>
                      <input
                        type="text"
                        name="antspmpro-e-email-url-website-luwele"
                        class="antispam-control antispam-control-e"
                        value=""
                      />
                    </p>
                    <input
                      type="hidden"
                      id="ak_js"
                      name="ak_js"
                      value="77"
                    /><textarea
                      name="ak_hp_textarea"
                      cols="45"
                      rows="8"
                      maxlength="100"
                      style="display: none !important"
                    ></textarea>
                  </form>
                </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </div>
    <footer class="site-footer">
      <svg
        class="icon-logo-star"
        width="35px"
        height="35px"
        viewBox="0 0 362.62 388.52"
        data-spin-me="false"
      >
        <path
          d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z"
        />
      </svg>
      <div class="footer-inside">
        <div class="footer-message-and-form">
          <p class="colophon">
            CSS-Tricks is created by
            <a href="https://chriscoyier.net/">Chris</a> and a
            <a href="https://css-tricks.com/about">team</a> of
            swell&nbsp;people.
          </p>
          <div class="footer-form-wrap">
            <form
              action="https://chriscoyier.us2.list-manage.com/subscribe/post?u=155f5a9ccc4e24c318130cace&amp;id=197f127a68"
              method="post"
              id="mc-embedded-subscribe-form"
            >
              <h4>Keep up to date on web dev</h4>
              <p>with our hand-crafted weekly newsletter</p>
              <div class="footer-form">
                <label for="mce-EMAIL" class="screen-reader"
                  >Email Address</label
                >
                <input
                  type="email"
                  name="EMAIL"
                  class="required email mailchimp-email-input"
                  id="mce-EMAIL"
                  placeholder="smart@cookie.com"
                  required=""
                />
                <input
                  type="submit"
                  value="Subscribe"
                  name="Subscribe"
                  id="mc-embedded-subscribe"
                  class="button subscribe-button"
                />
              </div>
            </form>
          </div>
        </div>
        <div class="link-grid">
          <div>
            <div>
              <h5>Tech</h5>
              <ul>
                <li>
                  <a href="https://wordpress.org/">WordPress</a>
                  <span>(CMS)</span>
                </li>
                <li>
                  <a href="https://css-tricks.com/jetpack/">Jetpack</a>
                  <span>(Search, Backup)</span>
                </li>
                <li>
                  <a href="https://woocommerce.com/?aff=8638">WooCommerce</a>
                  <span>(eCommerce)</span>
                </li>
                <li>
                  <a href="https://localwp.com/">Local</a>
                  <span>(Development)</span>
                </li>
              </ul>
            </div>
            <div>
              <h5>Hosting</h5>
              <ul>
                <li><a href="https://share.getf.ly/k96n2f">Flywheel</a></li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <h5>Family</h5>
              <ul>
                <li><a href="https://codepen.io/">CodePen</a></li>
                <li><a href="https://shoptalkshow.com/">ShopTalk Show</a></li>
              </ul>
            </div>
            <div>
              <h5>Minisites</h5>
              <ul>
                <li>
                  <a href="https://serverless.css-tricks.com/"
                    >The Power of Serverless</a
                  >
                </li>
                <li>
                  <a href="https://conferences.css-tricks.com/"
                    >Upcoming Conferences</a
                  >
                </li>
                <li>
                  <a href="https://coding-fonts.css-tricks.com/"
                    >Coding Fonts</a
                  >
                </li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <h5>Contact</h5>
              <ul>
                <li>
                  <a
                    href="https://css-tricks.com/cdn-cgi/l/email-protection#fc88999d91bc9f8f8fd1888e959f978fd29f9391"
                    >Email</a
                  >
                </li>
                <li>
                  <a
                    href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78"
                    >Sponsorship Info</a
                  >
                </li>
                <li>
                  <a href="https://css-tricks.com/guest-posting/"
                    >Guest Writing</a
                  >
                </li>
              </ul>
            </div>
            <div>
              <h5>Buy</h5>
              <ul>
                <li>
                  <a href="https://css-tricks.com/shop/">Posters & Swag</a>
                </li>
                <li>
                  <a href="https://css-tricks.com/product/mvp-supporter/"
                    >Membership</a
                  >
                </li>
              </ul>
            </div>
          </div>
          <div>
            <div>
              <h5>Follow</h5>
              <ul>
                <li><a href="https://twitter.com/css">Twitter</a></li>
                <li>
                  <a href="https://www.instagram.com/real_css_tricks/"
                    >Instagram</a
                  >
                </li>
                <li>
                  <a href="https://www.youtube.com/user/realcsstricks"
                    >YouTube</a
                  >
                </li>
                <li>
                  <a href="https://codepen.io/team/css-tricks">CodePen</a>
                </li>
                <li><a href="https://github.com/CSS-Tricks">GitHub</a></li>
                <li>
                  <a
                    href="https://podcasts.apple.com/us/podcast/css-tricks-screencasts/id273881728"
                    >iTunes</a
                  >
                </li>
                <li><a href="https://css-tricks.com/feed/">RSS</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
      <a href="#top-of-site" class="top-of-site-link" data-visible="false">
        <span class="screen-reader-text">Back to Top</span>
        <svg width="32" height="32" viewBox="0 0 100 100">
          <path
            fill="white"
            d="m50 0c-13.262 0-25.98 5.2695-35.355 14.645s-14.645 22.094-14.645 35.355 5.2695 25.98 14.645 35.355 22.094 14.645 35.355 14.645 25.98-5.2695 35.355-14.645 14.645-22.094 14.645-35.355-5.2695-25.98-14.645-35.355-22.094-14.645-35.355-14.645zm20.832 62.5-20.832-22.457-20.625 22.457c-1.207 0.74219-2.7656 0.57812-3.7891-0.39844-1.0273-0.98047-1.2695-2.5273-0.58594-3.7695l22.918-25c0.60156-0.61328 1.4297-0.96094 2.2891-0.96094 0.86328 0 1.6914 0.34766 2.293 0.96094l22.918 25c0.88672 1.2891 0.6875 3.0352-0.47266 4.0898-1.1562 1.0508-2.9141 1.0859-4.1133 0.078125z"
          />
        </svg>
      </a>
    </footer>
    <div class="jetpack-instant-search__widget-area" style="display: none">
      <div id="media_image-3" class="widget widget_media_image">
        <a href="https://jetpack.com/upgrade/search/?aff=8638"
          ><img
            width="600"
            height="444"
            src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?fit=600%2C444&amp;ssl=1"
            class="
              image
              wp-image-321694
              attachment-full
              size-full
              jetpack-lazy-image
            "
            alt=""
            loading="lazy"
            style="max-width: 100%; height: auto"
            data-lazy-srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?w=600&amp;ssl=1 600w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?resize=300%2C222&amp;ssl=1 300w"
            data-lazy-sizes="(min-width: 735px) 864px, 96vw"
            data-lazy-src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?fit=600%2C444&amp;ssl=1&amp;is-pending-load=1"
            srcset="
              data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7
            "
        /></a>
      </div>
      <div
        id="jetpack-search-filters-5"
        class="widget jetpack-filters widget_search"
      >
        <div
          id="jetpack-search-filters-5-wrapper"
          class="jetpack-instant-search-wrapper"
        ></div>
      </div>
    </div>

    <svg width="0" height="0" class="screen-reader">
      <defs>
        <linearGradient id="orange-to-pink" x1="0" x2="1" y1="0" y2="1">
          <stop offset="0%" stop-color="#ff7a18" />
          <stop offset="40%" stop-color="#af002d" />
          <stop offset="100%" stop-color="#319197" />
        </linearGradient>
        <filter id="duotone_orange_pink">
          <feColorMatrix
            type="matrix"
            result="grayscale"
            values="1 0 0 0 0
                  1 0 0 0 0
                  1 0 0 0 0
                  0 0 0 1 0"
          ></feColorMatrix>
          <feComponentTransfer
            color-interpolation-filters="sRGB"
            result="duotone"
          >
            <feFuncR
              type="table"
              tableValues="0.7411764706 0.9882352941"
            ></feFuncR>
            <feFuncG
              type="table"
              tableValues="0.0431372549 0.7333333333"
            ></feFuncG>
            <feFuncB
              type="table"
              tableValues="0.568627451 0.05098039216"
            ></feFuncB>
            <feFuncA type="table" tableValues="0 1"></feFuncA>
          </feComponentTransfer>
        </filter>
      </defs>
    </svg>
    <script
      data-cfasync="false"
      src="https://css-tricks.com/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
    ></script>
    <script>
      window._wca = window._wca || [];
    </script>
    <script type="application/ld+json" class="yoast-schema-graph">
      {
        "@context": "https://schema.org",
        "@graph": [
          {
            "@type": "Organization",
            "@id": "https://css-tricks.com/#organization",
            "name": "CSS-Tricks",
            "url": "https://css-tricks.com/",
            "sameAs": [
              "https://www.facebook.com/CSSTricks",
              "https://www.instagram.com/real_css_tricks/",
              "https://www.youtube.com/channel/UCADyUOnhyEoQqrw_RrsGleA",
              "https://twitter.com/CSS"
            ],
            "logo": {
              "@type": "ImageObject",
              "@id": "https://css-tricks.com/#logo",
              "inLanguage": "en-US",
              "url": "https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/06/akqRGyta_400x400.jpg?fit=%2C&ssl=1",
              "contentUrl": "https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/06/akqRGyta_400x400.jpg?fit=%2C&ssl=1",
              "caption": "CSS-Tricks"
            },
            "image": { "@id": "https://css-tricks.com/#logo" }
          },
          {
            "@type": "WebSite",
            "@id": "https://css-tricks.com/#website",
            "url": "https://css-tricks.com/",
            "name": "CSS-Tricks",
            "description": "Tips, Tricks, and Techniques on using Cascading Style Sheets.",
            "publisher": { "@id": "https://css-tricks.com/#organization" },
            "potentialAction": [
              {
                "@type": "SearchAction",
                "target": "https://css-tricks.com/?s={search_term_string}",
                "query-input": "required name=search_term_string"
              }
            ],
            "inLanguage": "en-US"
          },
          {
            "@type": "WebPage",
            "@id": "https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#webpage",
            "url": "https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/",
            "name": "Make Archives.php Include Custom Post Types | CSS-Tricks",
            "isPartOf": { "@id": "https://css-tricks.com/#website" },
            "datePublished": "2011-10-15T22:48:18+00:00",
            "dateModified": "2014-08-21T16:22:36+00:00",
            "description": "Archives.php only shows content of type 'post', but you can alter it to include custom post types. Add this filter to your functions.php file: function",
            "breadcrumb": {
              "@id": "https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#breadcrumb"
            },
            "inLanguage": "en-US",
            "potentialAction": [
              {
                "@type": "ReadAction",
                "target": [
                  "https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/"
                ]
              }
            ]
          },
          {
            "@type": "BreadcrumbList",
            "@id": "https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/#breadcrumb",
            "itemListElement": [
              {
                "@type": "ListItem",
                "position": 1,
                "name": "Home",
                "item": "https://css-tricks.com/"
              },
              {
                "@type": "ListItem",
                "position": 2,
                "name": "Code Snippets",
                "item": "https://css-tricks.com/snippets/"
              },
              {
                "@type": "ListItem",
                "position": 3,
                "name": "WordPress",
                "item": "https://css-tricks.com/snippets/wordpress/"
              },
              {
                "@type": "ListItem",
                "position": 4,
                "name": "Make Archives.php Include Custom Post Types"
              }
            ]
          }
        ]
      }
    </script>
    <script
      defer
      src="https://stats.wp.com/s-202126.js"
      id="woocommerce-analytics-js"
    ></script>
    <script>
      document.documentElement.classList.add("jetpack-lazy-images-js-enabled");
    </script>
    <script>
      var articleYear = 2011;
      var articleAuthor = "3";
      var articleType = "snippet";
    </script>
    <script>
      var articleYear = 2011;
    </script>
    <script>
      window.addEventListener("load", function () {
        document.querySelectorAll("link").forEach(function (e) {
          "not all" === e.media && (e.media = "all");
        });
        var e = document.getElementById("jetpack-boost-critical-css");
        e && (e.media = "not all");
      });
    </script>
    <script type="text/javascript">
      (function () {
        var c = document.body.className;
        c = c.replace(/woocommerce-no-js/, "woocommerce-js");
        document.body.className = c;
      })();
    </script>
    <script
      src="https://c0.wp.com/p/jetpack/9.8.1/_inc/build/photon/photon.min.js"
      id="jetpack-photon-js"
    ></script>
    <script
      src="https://css-tricks.com/wp-content/themes/CSS-Tricks-18/js/min/jquery-3.5.1.min.js"
      id="jquery-js"
    ></script>
    <script type="text/javascript" id="antispampro-script-js-extra">
      /* <![CDATA[ */
      var antispampro_vars = { code: "micuno", input_name_suffix: "luwele" };
      /* ]]> */
    </script>
    <script
      src="https://css-tricks.com/wp-content/plugins/anti-spam-pro/js/anti-spam-pro-4.1.js"
      id="antispampro-script-js"
    ></script>
    <script type="text/javascript" id="jetpack-live-comment-markdown-js-extra">
      /* <![CDATA[ */
      var markdownify = {
        ajax_url: "\/wp-admin\/admin-ajax.php",
        nonce: "553f264452",
      };
      /* ]]> */
    </script>
    <script
      src="https://css-tricks.com/wp-content/plugins/jetpack-markdown-live-preview-comments/js/markdownify.js?ver=1"
      id="jetpack-live-comment-markdown-js"
    ></script>
    <script id="jetpack-instant-search-ie11-js-before">
      var JetpackInstantSearchIe11PolyfillPath = decodeURIComponent(
        "https://css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/https%3A%2F%2Fcss-tricks.com%2Fwp-content%2Fplugins%2Fjetpack%2F_inc%2Fbuild%2Finstant-search%2Fjp-search-ie11-polyfill-payload.bundle.js"
      );
    </script>
    <script
      src="https://c0.wp.com/p/jetpack/9.8.1/_inc/build/instant-search/jp-search-ie11-polyfill-loader.bundle.js"
      id="jetpack-instant-search-ie11-js"
    ></script>
    <script
      src="https://c0.wp.com/c/5.7.2/wp-includes/js/dist/vendor/wp-polyfill.min.js"
      id="wp-polyfill-js"
    ></script>
    <script id="wp-polyfill-js-after">
      "fetch" in window ||
        document.write(
          '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-fetch.min.js?ver=3.0.0"></scr' +
            "ipt>"
        );
      document.contains ||
        document.write(
          '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-node-contains.min.js?ver=3.42.0"></scr' +
            "ipt>"
        );
      window.DOMRect ||
        document.write(
          '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-dom-rect.min.js?ver=3.42.0"></scr' +
            "ipt>"
        );
      (window.URL && window.URL.prototype && window.URLSearchParams) ||
        document.write(
          '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-url.min.js?ver=3.6.4"></scr' +
            "ipt>"
        );
      (window.FormData && window.FormData.prototype.keys) ||
        document.write(
          '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-formdata.min.js?ver=3.0.12"></scr' +
            "ipt>"
        );
      (Element.prototype.matches && Element.prototype.closest) ||
        document.write(
          '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-element-closest.min.js?ver=2.0.2"></scr' +
            "ipt>"
        );
      "objectFit" in document.documentElement.style ||
        document.write(
          '<script src="https://css-tricks.com/wp-includes/js/dist/vendor/wp-polyfill-object-fit.min.js?ver=2.3.4"></scr' +
            "ipt>"
        );
    </script>
    <script
      src="https://c0.wp.com/c/5.7.2/wp-includes/js/dist/hooks.min.js"
      id="wp-hooks-js"
    ></script>
    <script
      src="https://c0.wp.com/c/5.7.2/wp-includes/js/dist/i18n.min.js"
      id="wp-i18n-js"
    ></script>
    <script id="wp-i18n-js-after">
      wp.i18n.setLocaleData({ "text direction\u0004ltr": ["ltr"] });
    </script>
    <script id="jetpack-instant-search-js-translations">
      (function (domain, translations) {
        var localeData =
          translations.locale_data[domain] || translations.locale_data.messages;
        localeData[""].domain = domain;
        wp.i18n.setLocaleData(localeData, domain);
      })("jetpack", { locale_data: { messages: { "": {} } } });
    </script>
    <script id="jetpack-instant-search-js-before">
      var JetpackInstantSearchOptions = JSON.parse(
        decodeURIComponent(
          "%7B%22overlayOptions%22%3A%7B%22colorTheme%22%3A%22dark%22%2C%22enableInfScroll%22%3Afalse%2C%22enableSort%22%3Atrue%2C%22highlightColor%22%3A%22%23f4af38%22%2C%22overlayTrigger%22%3A%22results%22%2C%22resultFormat%22%3A%22expanded%22%2C%22showPoweredBy%22%3Atrue%7D%2C%22homeUrl%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%22%2C%22locale%22%3A%22en-US%22%2C%22postsPerPage%22%3A11%2C%22siteId%22%3A45537868%2C%22postTypes%22%3A%7B%22post%22%3A%7B%22singular_name%22%3A%22Post%22%2C%22name%22%3A%22Posts%22%7D%2C%22page%22%3A%7B%22singular_name%22%3A%22Page%22%2C%22name%22%3A%22Pages%22%7D%2C%22attachment%22%3A%7B%22singular_name%22%3A%22Media%22%2C%22name%22%3A%22Media%22%7D%2C%22product%22%3A%7B%22singular_name%22%3A%22Product%22%2C%22name%22%3A%22Products%22%7D%2C%22screenshot%22%3A%7B%22singular_name%22%3A%22Screenshot%22%2C%22name%22%3A%22Screenshots%22%7D%2C%22guides%22%3A%7B%22singular_name%22%3A%22Guide%22%2C%22name%22%3A%22Guides%22%7D%2C%22newsletters%22%3A%7B%22singular_name%22%3A%22Newsletter%22%2C%22name%22%3A%22Newsletters%22%7D%2C%22chapters%22%3A%7B%22singular_name%22%3A%22Chapter%22%2C%22name%22%3A%22Chapters%22%7D%7D%2C%22webpackPublicPath%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-content%5C%2Fplugins%5C%2Fjetpack%5C%2F_inc%5C%2Fbuild%5C%2Finstant-search%5C%2F%22%2C%22isPhotonEnabled%22%3Atrue%2C%22apiRoot%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-json%5C%2F%22%2C%22apiNonce%22%3A%227d67f8056c%22%2C%22isPrivateSite%22%3Afalse%2C%22isWpcom%22%3Afalse%2C%22defaultSort%22%3A%22relevance%22%2C%22excludedPostTypes%22%3A%5B%22attachment%22%2C%22screenshot%22%5D%2C%22hasOverlayWidgets%22%3Atrue%2C%22widgets%22%3A%5B%7B%22filters%22%3A%5B%7B%22name%22%3A%22Post%20Types%22%2C%22type%22%3A%22post_type%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22post_type_1%22%7D%2C%7B%22name%22%3A%22Year%22%2C%22type%22%3A%22date_histogram%22%2C%22count%22%3A1%2C%22field%22%3A%22post_date%22%2C%22interval%22%3A%22year%22%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22date_histogram_2%22%7D%2C%7B%22name%22%3A%22Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22post_tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22taxonomy_3%22%7D%5D%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%7D%5D%2C%22widgetsOutsideOverlay%22%3A%5B%7B%22filters%22%3A%5B%7B%22name%22%3A%22Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22post_tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-3%22%2C%22filter_id%22%3A%22taxonomy_0%22%7D%5D%2C%22widget_id%22%3A%22jetpack-search-filters-3%22%7D%5D%2C%22hasNonSearchWidgets%22%3Atrue%2C%22adminQueryFilter%22%3A%7B%22bool%22%3A%7B%22should%22%3A%5B%7B%22term%22%3A%7B%22post_type%22%3A%22post%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22page%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22newsletters%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22chapters%22%7D%7D%5D%7D%7D%7D"
        )
      );
    </script>
    <script
      src="https://c0.wp.com/p/jetpack/9.8.1/_inc/build/instant-search/jp-search-main.bundle.js"
      id="jetpack-instant-search-js"
    ></script>
    <script
      src="http://stats.wp.com/w.js?ver=202126"
      id="jp-tracks-js"
    ></script>
    <script
      src="https://css-tricks.com/wp-content/themes/CSS-Tricks-18/js/min/comment-reply.min.js?ver=1.1"
      id="my-comment-reply-js"
    ></script>
    <script
      src="https://css-tricks.com/wp-content/plugins/jetpack-boost/vendor/automattic/jetpack-lazy-images/src/js/intersectionobserver-polyfill.min.js?ver=1.1.2"
      id="jetpack-lazy-images-polyfill-intersectionobserver-js"
    ></script>
    <script type="text/javascript" id="jetpack-lazy-images-js-extra">
      /* <![CDATA[ */
      var jetpackLazyImagesL10n = {
        loading_warning:
          "Images are still loading. Please cancel your print and try again.",
      };
      /* ]]> */
    </script>
    <script
      src="https://css-tricks.com/wp-content/plugins/jetpack-boost/vendor/automattic/jetpack-lazy-images/src/js/lazy-images.min.js?ver=1.1.2"
      id="jetpack-lazy-images-js"
    ></script>
    <script
      async="async"
      src="https://css-tricks.com/wp-content/plugins/akismet/_inc/form.js?ver=4.1.9"
      id="akismet-form-js"
    ></script>
    <script type="text/javascript">
      jQuery(function ($) {
        $(
          ".add_to_cart_button:not(.product_type_variable, .product_type_grouped)"
        ).on("click", function () {
          gtag("event", "add_to_cart", {
            event_category: "ecommerce",
            event_label: $(this).data("product_sku")
              ? $(this).data("product_sku")
              : "#" + $(this).data("product_id"),
            items: [
              {
                id: $(this).data("product_sku")
                  ? $(this).data("product_sku")
                  : "#" + $(this).data("product_id"),
                quantity: $(this).data("quantity"),
              },
            ],
          });
        });
      });
    </script>
    <script src="https://stats.wp.com/e-202126.js" defer></script>
    <script>
      _stq = window._stq || [];
      _stq.push([
        "view",
        {
          v: "ext",
          j: "1:9.8.1",
          blog: "45537868",
          post: "14603",
          tz: "-7",
          srv: "css-tricks.com",
        },
      ]);
      _stq.push(["clickTrackerInit", "45537868", "14603"]);
    </script>
    <script>
      window.activeMember = false;
    </script>
    <script src="https://css-tricks.com/wp-content/themes/CSS-Tricks-18/js/min/global-concat.min.js?cache_bust=1620081515705"></script>
    <script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "http://www.google-analytics.com/analytics.js",
        "ga"
      );
      ga("create", "UA-68528-29", "auto");

      if (typeof articleYear !== "undefined") {
        ga("set", "dimension1", articleYear);
      }
      if (typeof articleAuthor !== "undefined") {
        ga("set", "dimension2", articleAuthor);
      }
      if (typeof articleType !== "undefined") {
        ga("set", "dimension3", articleType);
      }

      ga("send", "pageview");
    </script>
    <script async src="https://static.codepen.io/assets/embed/ei.js"></script>
    <script
      src="http://instant.page/5.1.0"
      type="module"
      integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"
    ></script>
    <script
      defer
      src="https://static.cloudflareinsights.com/beacon.min.js"
      data-cf-beacon='{"rayId":"666dba96dc9d175c","token":"2863ac31b15c48f5b94bd8b0c38aba94","version":"2021.6.0","si":10}'
    ></script>
  </body>

  <!-- Mirrored from css-tricks.com/snippets/wordpress/make-archives-php-include-custom-post-types/ by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 29 Jun 2021 08:22:55 GMT -->
</html>
