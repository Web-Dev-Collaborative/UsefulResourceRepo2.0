<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
  <head>
    <meta charset="utf-8" />
    <meta name="generator" content="pandoc" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=yes"
    />
    <title>README</title>
    <style type="text/css">
      code {
        white-space: pre-wrap;
      }
      span.smallcaps {
        font-variant: small-caps;
      }
      span.underline {
        text-decoration: underline;
      }
      div.column {
        display: inline-block;
        vertical-align: top;
        width: 50%;
      }
    </style>
  </head>
  <body>
    <h1 id="firebase-sdk-for-cloud-functions-quickstart---realtime-database">
      Firebase SDK for Cloud Functions Quickstart - Realtime Database
    </h1>
    <p>
      This quickstart demonstrates using
      <strong>Firebase SDK for Cloud Functions</strong> setup with a
      <strong>Firebase database</strong>.
    </p>
    <h2 id="introduction">Introduction</h2>
    <p>This sample app does two things:</p>
    <ul>
      <li>
        Create messages in the Firebase Realtime Database using a simple HTTPS
        request which is handled by an HTTPS Firebase Function. Writing to the
        Realtime Database is done using the Firebase Admin SDK.
      </li>
      <li>
        When a message gets added in the Realtime Database, a Firebase Function
        triggers and automatically makes these messages all uppercase.
      </li>
    </ul>
    <h2 id="deploy-and-try-out">Deploy and try out</h2>
    <p>To deploy and try out the sample:</p>
    <ul>
      <li>
        Create a Firebase project on the
        <a href="https://console.firebase.google.com">Firebase Console</a>
      </li>
      <li>
        Install the required dependencies by running <code>npm install</code> in
        the <code>functions</code> directory
      </li>
      <li>Deploy your project’s code using <code>firebase deploy</code></li>
      <li>
        Create a message by opening the following URL in your browser:
        https://us-central1-[MY_PROJECT].cloudfunctions.net/addMessage?text=uppercaseme
        (Replace [MY_PROJECT] by your project ID and you can change the message
        “uppercaseme”).
      </li>
    </ul>
    <p>
      The function executes and redirects the browser to the Firebase console at
      the database location where the text string was stored. You should see
      your text value displayed in the console and uppercase.
    </p>
    <h2 id="run-unit-tests">Run unit tests</h2>
    <p>
      The test folder has unit tests written with
      <a href="https://github.com/Firebase/firebase-functions-test"
        ><code>firebase-functions-test</code></a
      >. There are 2 sets of tests: online and offline.
    </p>
    <p>
      To run the offline tests: run <code>npm test</code> inside the functions
      folder.
    </p>
    <p>To run the online tests:</p>
    <ul>
      <li>
        Replace the <code>projectConfig</code> variable in
        <code>test/test.online.js</code> with configuration values from your
        project.
      </li>
      <li>
        Download a service account key by opening the
        <a href="https://console.cloud.google.com/iam-admin/serviceaccounts"
          >Service Accounts pane</a
        >
        of the Google Cloud Console.
      </li>
      <li>
        Select the App Engine default service account, and use the options menu
        at right to select Create key.
      </li>
      <li>When prompted, select JSON for the key type, and click Create.</li>
      <li>
        Save the file in the test folder, and name it
        <code>service-account-key.json</code>
      </li>
      <li>Run <code>npm run test-online</code> inside the functions folder.</li>
    </ul>
    <h2 id="contributing">Contributing</h2>
    <p>
      We’d love that you contribute to the project. Before doing so please read
      our <a href="../../CONTRIBUTING.md">Contributor guide</a>.
    </p>
    <h2 id="license">License</h2>
    <p>
      © Google, 2016. Licensed under an
      <a href="../../LICENSE">Apache-2</a> license.
    </p>
  </body>
</html>
